"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/AppLayout */ \"./components/AppLayout.tsx\");\n/* harmony import */ var _mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! @mui/material/Skeleton */ \"./node_modules/@mui/material/esm/Skeleton/index.js\");\n/* harmony import */ var _mui_material_Snackbar__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @mui/material/Snackbar */ \"./node_modules/@mui/material/esm/Snackbar/index.js\");\n/* harmony import */ var _mui_material_Typography__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @mui/material/Typography */ \"./node_modules/@mui/material/esm/Typography/index.js\");\n/* harmony import */ var _mui_material_Box__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @mui/material/Box */ \"./node_modules/@mui/material/esm/Box/index.js\");\n/* harmony import */ var _mui_material_Stack__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @mui/material/Stack */ \"./node_modules/@mui/material/esm/Stack/index.js\");\n/* harmony import */ var _mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @mui/material/FormControl */ \"./node_modules/@mui/material/esm/FormControl/index.js\");\n/* harmony import */ var _mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mui/material/InputLabel */ \"./node_modules/@mui/material/esm/InputLabel/index.js\");\n/* harmony import */ var _mui_material_Select__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @mui/material/Select */ \"./node_modules/@mui/material/esm/Select/index.js\");\n/* harmony import */ var _mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @mui/material/MenuItem */ \"./node_modules/@mui/material/esm/MenuItem/index.js\");\n/* harmony import */ var _mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @mui/material/TextField */ \"./node_modules/@mui/material/esm/TextField/index.js\");\n/* harmony import */ var _mui_material_Button__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @mui/material/Button */ \"./node_modules/@mui/material/esm/Button/index.js\");\n/* harmony import */ var _mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/material/IconButton */ \"./node_modules/@mui/material/esm/IconButton/index.js\");\n/* harmony import */ var _mui_material_Divider__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @mui/material/Divider */ \"./node_modules/@mui/material/esm/Divider/index.js\");\n/* harmony import */ var _mui_material_Paper__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @mui/material/Paper */ \"./node_modules/@mui/material/esm/Paper/index.js\");\n/* harmony import */ var mui_color_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mui-color-input */ \"./node_modules/mui-color-input/dist/mui-color-input.es.js\");\n/* harmony import */ var _mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @mui/material/InputAdornment */ \"./node_modules/@mui/material/esm/InputAdornment/index.js\");\n/* harmony import */ var _mui_icons_material_UploadFile__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @mui/icons-material/UploadFile */ \"./node_modules/@mui/icons-material/esm/UploadFile.js\");\n/* harmony import */ var _data_templates__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data/templates */ \"./data/templates.ts\");\n/* harmony import */ var _data_headerTemplates__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../data/headerTemplates */ \"./data/headerTemplates.ts\");\n/* harmony import */ var _data_footerTemplates__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../data/footerTemplates */ \"./data/footerTemplates.ts\");\n/* harmony import */ var _data_heroTemplates__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/heroTemplates */ \"./data/heroTemplates.ts\");\n/* harmony import */ var _data_bannerTemplates__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../data/bannerTemplates */ \"./data/bannerTemplates.ts\");\n/* harmony import */ var _components_ProductTableModule__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/ProductTableModule */ \"./components/ProductTableModule.tsx\");\n/* harmony import */ var _components_shared_ImageSelector__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/shared/ImageSelector */ \"./components/shared/ImageSelector.tsx\");\n/* harmony import */ var _components_HeroTableModule__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/HeroTableModule */ \"./components/HeroTableModule.tsx\");\n/* harmony import */ var _mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @mui/icons-material/ContentCopy */ \"./node_modules/@mui/icons-material/esm/ContentCopy.js\");\n/* harmony import */ var _mui_icons_material_Code__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! @mui/icons-material/Code */ \"./node_modules/@mui/icons-material/esm/Code.js\");\n/* harmony import */ var _mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @mui/icons-material/Visibility */ \"./node_modules/@mui/icons-material/esm/Visibility.js\");\n/* harmony import */ var _mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @mui/icons-material/Add */ \"./node_modules/@mui/icons-material/esm/Add.js\");\n/* harmony import */ var _mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @mui/icons-material/Close */ \"./node_modules/@mui/icons-material/esm/Close.js\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @mui/icons-material/Save */ \"./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @mui/icons-material/Edit */ \"./node_modules/@mui/icons-material/esm/Edit.js\");\n/* harmony import */ var _mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/icons-material/Delete */ \"./node_modules/@mui/icons-material/esm/Delete.js\");\n/* harmony import */ var _mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/icons-material/ExpandLess */ \"./node_modules/@mui/icons-material/esm/ExpandLess.js\");\n/* harmony import */ var _mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mui/icons-material/ExpandMore */ \"./node_modules/@mui/icons-material/esm/ExpandMore.js\");\n/* harmony import */ var _mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material/DragIndicator */ \"./node_modules/@mui/icons-material/esm/DragIndicator.js\");\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @dnd-kit/core */ \"./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @dnd-kit/sortable */ \"./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var _dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @dnd-kit/modifiers */ \"./node_modules/@dnd-kit/modifiers/dist/modifiers.esm.js\");\n/* harmony import */ var _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @dnd-kit/utilities */ \"./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\");\n/* harmony import */ var _components_shared_HtmlThumbnail__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../components/shared/HtmlThumbnail */ \"./components/shared/HtmlThumbnail.tsx\");\n// ...existing code...\n// ...existing code...\n// ...existing code...\n// ...existing code...\n// Place this after bodySections and generateSection are defined\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Padding toggles removed\n\n\n\n// Removed padding controls\n\n\n\n\n\n\n// Import interactive modules for preview. ProductTableModule renders\n// each product module with inline editing and image selection. The\n// HeroTableModule renders the hero section with image selection.\n\n\n\n// ProductTableModule was used for an interactive preview in earlier versions. When\n// rendering via OptionÂ A the preview uses the compiled HTML directly so we\n// no longer import or use ProductTableModule here.\n// MUI Icons\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Map a body template to its alternating variant. When rendering\n * multiple products from the same template, every other product\n * alternates orientation to provide visual variety. Keys correspond\n * to template IDs defined in data/templates.ts. This constant is\n * defined here to avoid ReferenceError when referenced before its\n * declaration. See code sections where alternateMap is used.\n */ const alternateMap = {\n    \"product-image-left-copy-right\": \"product-copy-left-image-right\",\n    \"product-copy-left-image-right\": \"product-image-left-copy-right\"\n};\nfunction Home() {\n    _s();\n    var _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n    // Universal image selector state: which section and product index is open\n    const [imageSelector, setImageSelector] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    /**\n   * Currently selected module section. Users can switch between\n   * editing the header, body or footer. Default to the body\n   * section as it contains the main product modules.\n   */ // Accordion open section state. Only one section (header, body or\n    // footer) can be expanded at a time. Defaults to body because the\n    // body contains the product list and is the primary focus.\n    // Track which accordion panel is open. Keys include 'header', 'hero',\n    // 'footer' and dynamic body identifiers like 'body-1', 'body-2', etc.\n    const [openSection, setOpenSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"body-1\");\n    /**\n   * Toggle an accordion panel open or closed. When the given\n   * identifier matches the current openSection, the panel is\n   * collapsed. Otherwise it becomes the new open panel. This helper\n   * prevents additional logic from being duplicated on click\n   * handlers throughout the UI.\n   */ const handleAccordionToggle = (id)=>{\n        setOpenSection((prev)=>prev === id ? \"\" : id);\n    };\n    /**\n   * View mode within a module. Users can toggle between a live\n   * preview of the selected module or the generated HTML code. This\n   * toggle is scoped to the preview/edit area and not the module\n   * tabs themselves. Default to preview.\n   */ // View mode toggles between a full email preview and the generated HTML\n    // code for the body modules. This applies to the entire message\n    // (header + body modules + footer) and not individual sections. Default\n    // to preview.\n    const [viewMode, setViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"preview\");\n    /**\n   * Body sections. Each section has its own list of URLs, parsed\n   * products and selected template. Sections are rendered in order and\n   * can be independently generated. A loading flag is stored per\n   * section.\n   */ const [bodySections, setBodySections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Draft URLs per section id; keeps typing local without re-rendering main compose\n    const [draftUrls, setDraftUrls] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const getDraftUrls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((sectionId)=>{\n        const existing = draftUrls[sectionId];\n        if (existing) return existing;\n        const section = bodySections.find((s)=>s.id === sectionId);\n        return section ? section.urls : [];\n    }, [\n        draftUrls,\n        bodySections\n    ]);\n    // Visibility toggles for optional sections\n    const [showHeaderSection, setShowHeaderSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showHeroSection, setShowHeroSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showBannerSection, setShowBannerSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showFooterSection, setShowFooterSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Order of draggable sections including header/footer\n    const [sectionOrder, setSectionOrder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        \"hero\",\n        ...bodySections.map((s)=>\"body-\".concat(s.id)),\n        \"banner\"\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setSectionOrder((prev)=>{\n            const filtered = prev.filter((id)=>{\n                if (id === \"hero\" && !showHeroSection) return false;\n                if (id === \"banner\" && !showBannerSection) return false;\n                if (id.startsWith(\"body-\")) {\n                    return bodySections.some((s)=>\"body-\".concat(s.id) === id);\n                }\n                return true;\n            });\n            const desired = [\n                ...showHeroSection ? [\n                    \"hero\"\n                ] : [],\n                ...bodySections.map((s)=>\"body-\".concat(s.id)),\n                ...showBannerSection ? [\n                    \"banner\"\n                ] : []\n            ];\n            desired.forEach((id)=>{\n                if (!filtered.includes(id)) {\n                    if (id.startsWith(\"body-\") && filtered.includes(\"banner\")) {\n                        filtered.splice(filtered.indexOf(\"banner\"), 0, id);\n                    } else {\n                        filtered.push(id);\n                    }\n                }\n            });\n            return filtered;\n        });\n    }, [\n        bodySections,\n        showHeroSection,\n        showBannerSection\n    ]);\n    // Drag-and-drop sensors and handler for reordering sections\n    const sensors = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.useSensors)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.PointerSensor));\n    const handleSectionDragEnd = (event)=>{\n        const { active, over } = event;\n        if (!over || active.id === over.id) return;\n        setSectionOrder((prev)=>{\n            const oldIndex = prev.indexOf(active.id);\n            const newIndex = prev.indexOf(over.id);\n            return (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.arrayMove)(prev, oldIndex, newIndex);\n        });\n        if (String(active.id).startsWith(\"body-\") && String(over.id).startsWith(\"body-\")) {\n            setBodySections((sections)=>{\n                const oldIndex = sections.findIndex((s)=>\"body-\".concat(s.id) === active.id);\n                const newIndex = sections.findIndex((s)=>\"body-\".concat(s.id) === over.id);\n                return (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.arrayMove)(sections, oldIndex, newIndex);\n            });\n        }\n    };\n    const SortableBodySection = (param)=>{\n        let { section } = param;\n        _s1();\n        const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable)({\n            id: \"body-\".concat(section.id)\n        });\n        const { [\"aria-describedby\"]: _ariaDescribedBy, ...sortableAttributes } = attributes;\n        const style = {\n            transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_16__.CSS.Transform.toString(transform),\n            transition\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"accordion-section\".concat(openSection === \"body-\".concat(section.id) ? \" open\" : \"\"),\n            ref: setNodeRef,\n            style: style,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-header\".concat(openSection === \"body-\".concat(section.id) ? \" open\" : \"\"),\n                    onClick: ()=>handleAccordionToggle(\"body-\".concat(section.id)),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            size: \"medium\",\n                            ...sortableAttributes,\n                            ...listeners,\n                            onClick: (e)=>e.stopPropagation(),\n                            title: \"Reorder section\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                fontSize: \"medium\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 278,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: section.name\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 287,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\",\n                                marginLeft: \"auto\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        removeBodySection(section.id);\n                                    },\n                                    title: \"Remove section\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 297,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 289,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        handleAccordionToggle(\"body-\".concat(section.id));\n                                    },\n                                    title: openSection === \"body-\".concat(section.id) ? \"Collapse section\" : \"Expand section\",\n                                    children: openSection === \"body-\".concat(section.id) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 308,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 310,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 299,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 288,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 277,\n                    columnNumber: 9\n                }, this),\n                openSection === \"body-\".concat(section.id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-content\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"template-row\",\n                            style: {\n                                display: \"flex\",\n                                gap: \"var(--gap-2)\",\n                                alignItems: \"center\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                    fullWidth: true,\n                                    variant: \"outlined\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                            id: \"body-template-\".concat(section.id),\n                                            children: \"Template\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 320,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                            labelId: \"body-template-\".concat(section.id),\n                                            id: \"body-template-select-\".concat(section.id),\n                                            label: \"Template\",\n                                            value: section.selectedBodyId,\n                                            onChange: (e)=>setSectionTemplate(section.id, e.target.value),\n                                            children: bodyTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                    value: tpl.id,\n                                                    children: tpl.name\n                                                }, tpl.id, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 329,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 321,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 319,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setBodyEditMode((v)=>!v),\n                                    title: bodyEditMode ? \"Close editor\" : \"Edit template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 334,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 333,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setShowNewBody((v)=>!v),\n                                    title: showNewBody ? \"Cancel new template\" : \"Add new template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 336,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 318,\n                            columnNumber: 13\n                        }, this),\n                        bodyEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"body-draft-html-\".concat(section.id),\n                                    label: \"Template HTML\",\n                                    value: draftBodyHtml,\n                                    onChange: (e)=>setDraftBodyHtml(e.target.value),\n                                    rows: 8,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 342,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>setBodyEditMode(false),\n                                            title: \"Cancel edit\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 345,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 344,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                saveBodyEdits();\n                                                setBodyEditMode(false);\n                                            },\n                                            title: \"Save edits\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 348,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 347,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 343,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 341,\n                            columnNumber: 15\n                        }, this),\n                        showNewBody && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"new-template-form\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"body-new-name-\".concat(section.id),\n                                    label: \"Template name\",\n                                    type: \"text\",\n                                    value: newBodyName,\n                                    onChange: (e)=>setNewBodyName(e.target.value),\n                                    fullWidth: true,\n                                    sx: {\n                                        mb: 1\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 355,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"body-new-html-\".concat(section.id),\n                                    label: \"Template HTML\",\n                                    value: newBodyHtml,\n                                    onChange: (e)=>setNewBodyHtml(e.target.value),\n                                    rows: 6,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 356,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                setShowNewBody(false);\n                                                setNewBodyName(\"\");\n                                                setNewBodyHtml(\"\");\n                                            },\n                                            title: \"Cancel new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 359,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 358,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                addNewBodyTemplate();\n                                                setShowNewBody(false);\n                                            },\n                                            title: \"Save new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 362,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 361,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 357,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 354,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                    variant: \"subtitle1\",\n                                    sx: {\n                                        fontSize: \"1rem\",\n                                        mb: 1,\n                                        mt: 1\n                                    },\n                                    children: \"Product URLs\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 368,\n                                    columnNumber: 15\n                                }, this),\n                                getDraftUrls(section.id).map((url, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                        sx: {\n                                            mb: 2\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                            id: \"url-\".concat(section.id, \"-\").concat(index),\n                                            type: \"url\",\n                                            label: \"Product URL \".concat(index + 1),\n                                            value: url,\n                                            fullWidth: true,\n                                            onChange: (e)=>{\n                                                const cleaned = sanitizeUrl(e.currentTarget.value);\n                                                handleUrlChange(section.id, index, cleaned);\n                                            },\n                                            onBlur: (e)=>{\n                                                const cleaned = sanitizeUrl(e.currentTarget.value);\n                                                handleUrlChange(section.id, index, cleaned);\n                                            },\n                                            InputProps: {\n                                                endAdornment: getDraftUrls(section.id).length > 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                    position: \"end\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                        onClick: ()=>removeUrlField(section.id, index),\n                                                        title: \"Remove URL\",\n                                                        edge: \"end\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                            fontSize: \"medium\"\n                                                        }, void 0, false, void 0, void 0)\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0) : null\n                                            },\n                                            inputProps: {\n                                                onKeyDown: (e)=>{\n                                                    const curr = e.currentTarget;\n                                                    const value = curr.value.trim();\n                                                    const listLen = getDraftUrls(section.id).length;\n                                                    if (e.key === \"Enter\") {\n                                                        e.preventDefault();\n                                                        if (value && index === listLen - 1) {\n                                                            addUrlField(section.id, index + 1);\n                                                        }\n                                                        curr.blur();\n                                                    } else if (e.key === \"Tab\" && !e.shiftKey && index === listLen - 1) {\n                                                        // Tab on last field: accept value, add new field, and focus it\n                                                        e.preventDefault();\n                                                        const cleaned = sanitizeUrl(value);\n                                                        handleUrlChange(section.id, index, cleaned);\n                                                        addUrlField(section.id, index + 1);\n                                                    }\n                                                }\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 371,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, index, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 370,\n                                        columnNumber: 17\n                                    }, this))\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 367,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginTop: \"1rem\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                    onClick: ()=>{\n                                        if (document.activeElement instanceof HTMLElement) {\n                                            document.activeElement.blur();\n                                        }\n                                        setTimeout(()=>generateSection(section.id), 0);\n                                    },\n                                    disabled: section.loading,\n                                    children: section.loading ? \"Generatingâ¦\" : \"Update\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 419,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                    variant: \"outlined\",\n                                    onClick: ()=>addUrlField(section.id, getDraftUrls(section.id).length),\n                                    children: \"Add URL\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 430,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 418,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 316,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 276,\n            columnNumber: 7\n        }, this);\n    };\n    _s1(SortableBodySection, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function() {\n        return [\n            _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable\n        ];\n    });\n    const SortableHeroSection = ()=>{\n        _s2();\n        const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable)({\n            id: \"hero\"\n        });\n        const { [\"aria-describedby\"]: _ariaDescribedBy, ...sortableAttributes } = attributes;\n        const style = {\n            transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_16__.CSS.Transform.toString(transform),\n            transition\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"accordion-section\".concat(openSection === \"hero\" ? \" open\" : \"\"),\n            ref: setNodeRef,\n            style: style,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-header\".concat(openSection === \"hero\" ? \" open\" : \"\"),\n                    onClick: ()=>handleAccordionToggle(\"hero\"),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            size: \"medium\",\n                            ...sortableAttributes,\n                            ...listeners,\n                            onClick: (e)=>e.stopPropagation(),\n                            title: \"Reorder section\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                fontSize: \"medium\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 456,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 449,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: \"Hero\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 458,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginLeft: \"auto\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        removeHeroSection();\n                                    },\n                                    title: \"Remove section\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 468,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 460,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        handleAccordionToggle(\"hero\");\n                                    },\n                                    title: openSection === \"hero\" ? \"Collapse section\" : \"Expand section\",\n                                    children: openSection === \"hero\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 478,\n                                        columnNumber: 41\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 478,\n                                        columnNumber: 80\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 470,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 459,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 448,\n                    columnNumber: 9\n                }, this),\n                openSection === \"hero\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-content\",\n                    children: [\n                        heroImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: \"0.5rem\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: heroImage,\n                                alt: heroAlt || \"\",\n                                style: {\n                                    width: \"100%\",\n                                    height: \"auto\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 486,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 485,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"No hero image selected.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 489,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"template-row\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                    fullWidth: true,\n                                    variant: \"outlined\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                            id: \"hero-template-label\",\n                                            children: \"Template\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 493,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                            labelId: \"hero-template-label\",\n                                            id: \"hero-template-select\",\n                                            label: \"Template\",\n                                            value: selectedHeroId,\n                                            onChange: (e)=>setSelectedHeroId(e.target.value),\n                                            children: heroTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                    value: tpl.id,\n                                                    children: tpl.name\n                                                }, tpl.id, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 496,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 494,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 492,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setHeroEditMode((v)=>!v),\n                                    title: heroEditMode ? \"Close editor\" : \"Edit template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 501,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 500,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setShowNewHero((v)=>!v),\n                                    title: showNewHero ? \"Cancel new template\" : \"Add new template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 504,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 503,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 491,\n                            columnNumber: 13\n                        }, this),\n                        heroEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"hero-draft-html\",\n                                    label: \"Template HTML\",\n                                    value: draftHeroHtml,\n                                    onChange: (e)=>setDraftHeroHtml(e.target.value),\n                                    rows: 6,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 509,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>setHeroEditMode(false),\n                                            title: \"Cancel edit\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 512,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 511,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                saveHeroEdits();\n                                                setHeroEditMode(false);\n                                            },\n                                            title: \"Save edits\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 515,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 514,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 510,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 508,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                            id: \"hero-href\",\n                            label: \"Hero Link URL\",\n                            defaultValue: heroHref,\n                            onBlur: (e)=>setHeroHref(sanitizeUrl(e.currentTarget.value)),\n                            fullWidth: true,\n                            sx: {\n                                mt: 2\n                            },\n                            inputProps: {\n                                onKeyDown: (e)=>{\n                                    if (e.key === \"Enter\") {\n                                        e.preventDefault();\n                                        e.currentTarget.blur();\n                                    }\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 520,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                            id: \"hero-alt\",\n                            label: \"Hero Alt Text\",\n                            defaultValue: heroAlt,\n                            onBlur: (e)=>setHeroAlt(e.currentTarget.value),\n                            fullWidth: true,\n                            sx: {\n                                mt: 2\n                            },\n                            inputProps: {\n                                onKeyDown: (e)=>{\n                                    if (e.key === \"Enter\") {\n                                        e.preventDefault();\n                                        e.currentTarget.blur();\n                                    }\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 536,\n                            columnNumber: 13\n                        }, this),\n                        showNewHero && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"new-template-form\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"hero-new-name\",\n                                    label: \"Template name\",\n                                    type: \"text\",\n                                    value: newHeroName,\n                                    onChange: (e)=>setNewHeroName(e.target.value),\n                                    fullWidth: true,\n                                    sx: {\n                                        mb: 1\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 554,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"hero-new-html\",\n                                    label: \"Template HTML\",\n                                    value: newHeroHtml,\n                                    onChange: (e)=>setNewHeroHtml(e.target.value),\n                                    rows: 6,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 555,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                setShowNewHero(false);\n                                                setNewHeroName(\"\");\n                                                setNewHeroHtml(\"\");\n                                            },\n                                            title: \"Cancel new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 558,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 557,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                addNewHeroTemplate();\n                                                setShowNewHero(false);\n                                            },\n                                            title: \"Save new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 561,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 560,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 556,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 553,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 483,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 447,\n            columnNumber: 7\n        }, this);\n    };\n    _s2(SortableHeroSection, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function() {\n        return [\n            _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable\n        ];\n    });\n    const SortableBannerSection = ()=>{\n        _s3();\n        const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable)({\n            id: \"banner\"\n        });\n        const { [\"aria-describedby\"]: _ariaDescribedBy, ...sortableAttributes } = attributes;\n        const style = {\n            transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_16__.CSS.Transform.toString(transform),\n            transition\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"accordion-section\".concat(openSection === \"banner\" ? \" open\" : \"\"),\n            ref: setNodeRef,\n            style: style,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-header\".concat(openSection === \"banner\" ? \" open\" : \"\"),\n                    onClick: ()=>handleAccordionToggle(\"banner\"),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            size: \"medium\",\n                            ...sortableAttributes,\n                            ...listeners,\n                            onClick: (e)=>e.stopPropagation(),\n                            title: \"Reorder section\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                fontSize: \"medium\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 587,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 580,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: \"Banner\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 589,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginLeft: \"auto\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        removeBannerSection();\n                                    },\n                                    title: \"Remove section\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 599,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 591,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        handleAccordionToggle(\"banner\");\n                                    },\n                                    title: openSection === \"banner\" ? \"Collapse section\" : \"Expand section\",\n                                    children: openSection === \"banner\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 609,\n                                        columnNumber: 43\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 609,\n                                        columnNumber: 82\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 601,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 590,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 579,\n                    columnNumber: 9\n                }, this),\n                openSection === \"banner\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-content\",\n                    children: [\n                        bannerImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: \"0.5rem\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: bannerImage,\n                                alt: bannerAlt || \"\",\n                                style: {\n                                    width: \"100%\",\n                                    height: \"auto\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 617,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 616,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"No hero image selected.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 620,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"template-row\",\n                            style: {\n                                display: \"flex\",\n                                gap: \"var(--gap-2)\",\n                                alignItems: \"center\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                    fullWidth: true,\n                                    variant: \"outlined\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                            id: \"banner-template-label\",\n                                            children: \"Template\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 624,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                            labelId: \"banner-template-label\",\n                                            id: \"banner-template-select\",\n                                            label: \"Template\",\n                                            value: selectedBannerId,\n                                            onChange: (e)=>setSelectedBannerId(e.target.value),\n                                            children: bannerTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                    value: tpl.id,\n                                                    children: tpl.name\n                                                }, tpl.id, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 627,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 625,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 623,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setBannerEditMode((v)=>!v),\n                                    title: bannerEditMode ? \"Close editor\" : \"Edit template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 632,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 631,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setShowNewBanner((v)=>!v),\n                                    title: showNewBanner ? \"Cancel new template\" : \"Add new template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 635,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 634,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 622,\n                            columnNumber: 15\n                        }, this),\n                        bannerEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"banner-draft-html\",\n                                    label: \"Template HTML\",\n                                    value: draftBannerHtml,\n                                    onChange: (e)=>setDraftBannerHtml(e.target.value),\n                                    rows: 8,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 640,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>setBannerEditMode(false),\n                                            title: \"Cancel edit\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 643,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 642,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                saveBannerEdits();\n                                                setBannerEditMode(false);\n                                            },\n                                            title: \"Save edits\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 646,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 645,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 641,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 639,\n                            columnNumber: 15\n                        }, this),\n                        showNewBanner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"new-template-form\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"banner-new-name\",\n                                    label: \"Template name\",\n                                    type: \"text\",\n                                    value: newBannerName,\n                                    onChange: (e)=>setNewBannerName(e.target.value),\n                                    fullWidth: true,\n                                    sx: {\n                                        mb: 1\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 653,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"banner-new-html\",\n                                    label: \"Template HTML\",\n                                    value: newBannerHtml,\n                                    onChange: (e)=>setNewBannerHtml(e.target.value),\n                                    rows: 6,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 654,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                setShowNewBanner(false);\n                                                setNewBannerName(\"\");\n                                                setNewBannerHtml(\"\");\n                                            },\n                                            title: \"Cancel new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 657,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 656,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                addNewBannerTemplate();\n                                                setShowNewBanner(false);\n                                            },\n                                            title: \"Save new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 660,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 659,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 655,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 652,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                            id: \"banner-href\",\n                            label: \"Banner Link URL\",\n                            defaultValue: bannerHref,\n                            onBlur: (e)=>setBannerHref(sanitizeUrl(e.currentTarget.value)),\n                            fullWidth: true,\n                            sx: {\n                                mt: 2\n                            },\n                            inputProps: {\n                                onKeyDown: (e)=>{\n                                    if (e.key === \"Enter\") {\n                                        e.preventDefault();\n                                        e.currentTarget.blur();\n                                    }\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 665,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                            id: \"banner-alt\",\n                            label: \"Banner Alt Text\",\n                            defaultValue: bannerAlt,\n                            onBlur: (e)=>setBannerAlt(e.currentTarget.value),\n                            fullWidth: true,\n                            sx: {\n                                mt: 2\n                            },\n                            inputProps: {\n                                onKeyDown: (e)=>{\n                                    if (e.key === \"Enter\") {\n                                        e.preventDefault();\n                                        e.currentTarget.blur();\n                                    }\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 681,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 614,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 578,\n            columnNumber: 7\n        }, this);\n    };\n    _s3(SortableBannerSection, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function() {\n        return [\n            _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable\n        ];\n    });\n    /**\n   * Body templates and selection state. Body templates define\n   * modules for each product. They support alternating layout via\n   * alternateMap. Users can select a template, edit it, and add\n   * new ones which are persisted in localStorage.\n   */ const [bodyTemplates, setBodyTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_templates__WEBPACK_IMPORTED_MODULE_5__.defaultTemplates);\n    const [selectedBodyId, setSelectedBodyId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_templates__WEBPACK_IMPORTED_MODULE_5__.defaultTemplates[0].id);\n    const [bodyEditMode, setBodyEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftBodyHtml, setDraftBodyHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newBodyName, setNewBodyName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newBodyHtml, setNewBodyHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Header templates and selection state. Headers render at the top\n   * of the final email. They are static by default but can be\n   * customised through editing and additional templates.\n   */ const [headerTemplates, setHeaderTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_headerTemplates__WEBPACK_IMPORTED_MODULE_6__.defaultHeaderTemplates);\n    const [selectedHeaderId, setSelectedHeaderId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_headerTemplates__WEBPACK_IMPORTED_MODULE_6__.defaultHeaderTemplates[0].id);\n    const [headerEditMode, setHeaderEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftHeaderHtml, setDraftHeaderHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newHeaderName, setNewHeaderName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newHeaderHtml, setNewHeaderHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Footer templates and selection state. Footers render at the\n   * bottom of the final email. Like headers they can be edited and\n   * extended by the user.\n   */ const [footerTemplates, setFooterTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_footerTemplates__WEBPACK_IMPORTED_MODULE_7__.defaultFooterTemplates);\n    const [selectedFooterId, setSelectedFooterId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_footerTemplates__WEBPACK_IMPORTED_MODULE_7__.defaultFooterTemplates[0].id);\n    const [footerEditMode, setFooterEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftFooterHtml, setDraftFooterHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newFooterName, setNewFooterName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newFooterHtml, setNewFooterHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Visibility flags for new template forms. When true, the form\n   * fields for adding a custom template are displayed in the\n   * accordion content. When false, the form is hidden and only the\n   * add icon is visible. Separate flags are used for header, body\n   * and footer sections.\n   */ const [showNewHeader, setShowNewHeader] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showNewBody, setShowNewBody] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showNewFooter, setShowNewFooter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    /**\n   * Final generated HTML pieces. headerHtml/bodyHtml/footerHtml\n   * contain the markup for each section. finalHtml concatenates\n   * them for convenience but is not displayed directly. The code\n   * view uses the individual pieces so that users can copy each\n   * section separately.\n   */ const [headerHtml, setHeaderHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [bodyHtml, setBodyHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [footerHtml, setFooterHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [finalHtml, setFinalHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Bottom padding controls removed\n    const [showAddSectionMenu, setShowAddSectionMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const addSectionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const previewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (e)=>{\n            if (addSectionRef.current && !addSectionRef.current.contains(e.target)) {\n                setShowAddSectionMenu(false);\n            }\n        };\n        if (showAddSectionMenu) {\n            document.addEventListener(\"mousedown\", handleClickOutside);\n        }\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        showAddSectionMenu\n    ]);\n    /** Brand customisation panel visibility. When true a sliding\n   * panel appears allowing the user to customise the default font,\n   * primary/secondary colours, website URL and upload a logo. Settings\n   * are not persisted or applied in this version, but the UI is prepared\n   * for future extension.\n   */ const [showBrandPanel, setShowBrandPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [brandName, setBrandName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Top loading bar (buffer variant)\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [buffer, setBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [brandFont, setBrandFont] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [brandPrimary, setBrandPrimary] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"#d19aa0\");\n    const [brandSecondary, setBrandSecondary] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"#F0C3C7\");\n    const [brandWebsite, setBrandWebsite] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Show a dialog to prompt for a product URL on first load\n    const [showBrandUrlDialog, setShowBrandUrlDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [brandUrlInput, setBrandUrlInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // When the user submits a product URL, initialize the first body section with that URL\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (brandWebsite && bodySections.length === 0 && brandUrlInput) {\n            setBodySections([\n                {\n                    id: 1,\n                    name: \"Body 1\",\n                    urls: [\n                        brandUrlInput\n                    ],\n                    products: [],\n                    selectedBodyId: _data_templates__WEBPACK_IMPORTED_MODULE_5__.defaultTemplates[0].id,\n                    loading: false,\n                    descriptionSource: \"metadata\"\n                }\n            ]);\n        }\n    }, [\n        brandWebsite,\n        brandUrlInput\n    ]);\n    // Helper to extract base domain from a product URL\n    function extractBaseDomain(url) {\n        try {\n            const u = new URL(url);\n            return u.origin;\n        } catch (e) {\n            return \"\";\n        }\n    }\n    // Helper to extract a readable brand name from a domain\n    function extractBrandName(url) {\n        try {\n            const u = new URL(url);\n            const host = u.hostname.replace(/^www\\./, \"\");\n            const parts = host.split(\".\");\n            return parts.length > 1 ? parts[0].replace(/-/g, \" \") : host;\n        } catch (e) {\n            return \"\";\n        }\n    }\n    const [brandLogo, setBrandLogo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    /** Notifications for user feedback. Each notification has a unique id\n   * and a message. Notifications are displayed in a stack in the\n   * topâright corner and fade out after a short delay. */ const [snackbarOpen, setSnackbarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [snackbarMsg, setSnackbarMsg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Track which code blocks are expanded in the rightâpanel accordion. Keys\n   * correspond to the blocks: 'header', 'hero', 'footer' and each\n   * body/product block like 'body-<section>-prod-<index>'. A value\n   * of true means the block is open; false collapses it. Defaults\n   * empty, which is treated as open when first rendered.\n   */ const [openCodeSections, setOpenCodeSections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    /**\n   * Toggle a code block open or closed. When a key is not present\n   * in the state it is treated as open by default. Calling this\n   * toggles the current value.\n   */ const toggleCodeSection = (key)=>{\n        setOpenCodeSections((prev)=>{\n            const isOpen = prev[key] !== false; // default open if not false\n            return {\n                ...prev,\n                [key]: !isOpen\n            };\n        });\n    };\n    /**\n   * Add a notification message. The notification will persist for a\n   * few seconds then automatically disappear. Use this helper after\n   * actions like copying code or generating sections to provide\n   * feedback to the user.\n   */ const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        setSnackbarMsg(message);\n        setSnackbarOpen(true);\n    }, []);\n    /**\n   * Compute a data URI for the uploaded brand logo. When a file is\n   * selected the FileReader API is used to convert it into a base64\n   * string. If no file is selected the data URI is reset to empty.\n   */ // On first load, if no brandWebsite, show dialog\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!brandWebsite) {\n            setShowBrandUrlDialog(true);\n        }\n    }, [\n        brandWebsite\n    ]);\n    // When user submits a URL, set brandWebsite and brandName\n    const handleBrandUrlSubmit = (e)=>{\n        if (e) e.preventDefault();\n        const base = extractBaseDomain(brandUrlInput);\n        if (base) {\n            setBrandWebsite(base);\n            setBrandName(extractBrandName(brandUrlInput));\n            setShowBrandUrlDialog(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (brandLogo) {\n            const reader = new FileReader();\n            reader.onload = (e)=>{\n                var _e_target;\n                setBrandLogoDataUrl((_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.result);\n            };\n            reader.readAsDataURL(brandLogo);\n        } else {\n            setBrandLogoDataUrl(\"\");\n        }\n    }, [\n        brandLogo\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = previewRef.current;\n        if (!el) return;\n        const handleClick = (e)=>{\n            const target = e.target;\n            const anchor = target.closest(\"a\");\n            if (anchor) {\n                e.preventDefault();\n                e.stopPropagation();\n                const href = anchor.getAttribute(\"href\");\n                if (href) {\n                    addNotification(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: [\n                            \"External link: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: href,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                children: href\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 929,\n                                columnNumber: 30\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 928,\n                        columnNumber: 13\n                    }, this));\n                    const sectionEl = anchor.closest(\"[data-section]\");\n                    const sectionId = sectionEl === null || sectionEl === void 0 ? void 0 : sectionEl.getAttribute(\"data-section\");\n                    if (sectionId) {\n                        setOpenSection(sectionId);\n                    }\n                }\n            }\n        };\n        el.addEventListener(\"click\", handleClick);\n        return ()=>{\n            el.removeEventListener(\"click\", handleClick);\n        };\n    }, [\n        viewMode,\n        addNotification,\n        setOpenSection\n    ]);\n    /**\n   * Apply the brand primary and secondary colours and font to a block\n   * of HTML. Occurrences of the default accent colours (#d19aa0 and\n   * #F0C3C7) are replaced with the chosen primary and secondary\n   * colours. The default font stack 'Montserrat', Arial, Helvetica,\n   * sans-serif is replaced with the selected font if provided.\n   */ const applyBrandColoursAndFont = (html)=>{\n        let out = html;\n        if (brandPrimary) {\n            const regex = new RegExp(\"#d19aa0\", \"gi\");\n            out = out.replace(regex, brandPrimary);\n        }\n        if (brandSecondary) {\n            const regex = new RegExp(\"#F0C3C7\", \"gi\");\n            out = out.replace(regex, brandSecondary);\n        }\n        if (brandFont && brandFont.trim()) {\n            // Replace the default font stack. We do a simple replace on the\n            // exact string used in the templates. If more variants are\n            // needed this could be expanded.\n            const regex = new RegExp(\"'Montserrat',Arial,Helvetica,sans-serif\", \"gi\");\n            out = out.replace(regex, brandFont);\n        }\n        return out;\n    };\n    /**\n   * Inject the brand logo into the header. The first <img> tag found\n   * in the header HTML is replaced with one that uses the\n   * brandLogoDataUrl if it is defined. If no logo has been\n   * uploaded the HTML is returned unchanged.\n   */ const applyBrandLogo = (html)=>{\n        if (!brandLogoDataUrl) return html;\n        return html.replace(/<img([^>]+)src=\"[^\">]*\"/, '<img$1src=\"'.concat(brandLogoDataUrl, '\"'));\n    };\n    /**\n   * Hero section state. A hero consists of a single banner image and\n   * optional link/alt text. The hero template can be selected from\n   * defaultHeroTemplates or userâdefined templates. When heroImage is\n   * empty no hero section will be rendered. heroHtml holds the\n   * compiled markup and is updated whenever heroImage or templates\n   * change.\n   */ const [heroTemplates, setHeroTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_heroTemplates__WEBPACK_IMPORTED_MODULE_8__.defaultHeroTemplates);\n    const [selectedHeroId, setSelectedHeroId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_heroTemplates__WEBPACK_IMPORTED_MODULE_8__.defaultHeroTemplates[0].id);\n    const [heroImage, setHeroImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Pre-fill hero alt with brand name (or a sensible default)\n    const [heroAlt, setHeroAlt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(brandName || \"Brand\");\n    const [heroHref, setHeroHref] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [heroHtml, setHeroHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [heroEditMode, setHeroEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftHeroHtml, setDraftHeroHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newHeroName, setNewHeroName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newHeroHtml, setNewHeroHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showNewHero, setShowNewHero] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    /**\n   * List of alternate hero images extracted from the site. When the\n   * hero image is fetched via the API the endpoint returns an array\n   * of image URLs. The first image is used as the default heroImage\n   * and the rest are available for selection in the interactive\n   * preview. When the list is empty no alternative images are\n   * available. heroImages is not persisted across sessions.\n  */ const [heroImages, setHeroImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    /**\n   * Banner section state. The banner is a single image module that appears\n   * above the footer. It reuses the templating/editing behaviour of the\n   * header section but renders with its own template and image. The image\n   * is fetched from the configured brand website by looking for an element\n   * with the class `mobile-banner`.\n   */ const [bannerTemplates, setBannerTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_bannerTemplates__WEBPACK_IMPORTED_MODULE_9__.defaultBannerTemplates);\n    const [selectedBannerId, setSelectedBannerId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_bannerTemplates__WEBPACK_IMPORTED_MODULE_9__.defaultBannerTemplates[0].id);\n    const [bannerImage, setBannerImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Pre-fill banner alt with brand name (or a sensible default)\n    const [bannerAlt, setBannerAlt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(brandName || \"Brand\");\n    const [bannerHref, setBannerHref] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [bannerHtml, setBannerHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [bannerEditMode, setBannerEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftBannerHtml, setDraftBannerHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newBannerName, setNewBannerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newBannerHtml, setNewBannerHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showNewBanner, setShowNewBanner] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fetchHeroForBrand = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!brandWebsite) return;\n        try {\n            const heroRes = await fetch(\"/api/hero?url=\".concat(encodeURIComponent(brandWebsite)));\n            if (heroRes.ok) {\n                const heroData = await heroRes.json();\n                if (heroData.images && Array.isArray(heroData.images) && heroData.images.length > 0) {\n                    setHeroImages(heroData.images);\n                    setHeroImage(heroData.images[0]);\n                    setHeroHref(brandWebsite);\n                    // Prefill alt with brand name so input is not empty/placeholder\n                    setHeroAlt(brandName || \"Brand\");\n                }\n            }\n        } catch (err) {\n            console.warn(\"Failed to fetch hero images\", err);\n        }\n    }, [\n        brandWebsite,\n        brandName\n    ]);\n    const fetchBannerForBrand = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!brandWebsite) return;\n        try {\n            const res = await fetch(\"/api/banner?url=\".concat(encodeURIComponent(brandWebsite)));\n            if (res.ok) {\n                const data = await res.json();\n                if (data.image) {\n                    setBannerImage(data.image);\n                    setBannerHref(brandWebsite);\n                    // Prefill alt with brand name so input is not empty/placeholder\n                    setBannerAlt(brandName || \"Brand\");\n                }\n            }\n        } catch (err) {\n            console.warn(\"Failed to fetch banner image\", err);\n        }\n    }, [\n        brandWebsite,\n        brandName\n    ]);\n    /**\n   * Fetch hero images for the configured brand website. This runs on\n   * initial load, whenever the website URL changes, or when the hero\n   * section is added. The first image returned becomes the default\n   * hero image and link target.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (showHeroSection) {\n            fetchHeroForBrand();\n        }\n    }, [\n        fetchHeroForBrand,\n        showHeroSection\n    ]);\n    // Fetch banner image for the configured brand website. On success the\n    // first image with the class `mobile-banner` is used as the banner\n    // image. Images are fetched on initial load, when the website URL\n    // changes, or when the banner section is added.\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (showBannerSection) {\n            fetchBannerForBrand();\n        }\n    }, [\n        fetchBannerForBrand,\n        showBannerSection\n    ]);\n    /**\n   * Update a hero property. This callback is passed to the\n   * HeroTableModule so edits in the preview propagate to the\n   * underlying state. Supported fields are 'image', 'alt' and\n   * 'href'. The heroHtml string will be recomputed in the\n   * useEffect below when these values change.\n   */ const updateHero = (field, value)=>{\n        if (field === \"image\") setHeroImage(value);\n        else if (field === \"alt\") setHeroAlt(value);\n        else if (field === \"href\") setHeroHref(value);\n    };\n    /**\n   * Brand logo data URI. When a user uploads a logo file the file\n   * contents are converted into a data URI that can be embedded\n   * directly into the HTML. brandLogoDataUrl is empty if no logo\n   * has been selected.\n   */ const [brandLogoDataUrl, setBrandLogoDataUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Helper to add a new body section. When invoked, this creates a\n   * new entry in the bodySections array with its own blank URL list,\n   * empty products and default template selection. The new section\n   * name is autoâincremented (Body 2, Body 3, etc.). After\n   * creation, the newly added section is opened automatically so\n   * users can start editing it.\n   */ const addBodySection = ()=>{\n        // Determine a unique next id based on existing sections\n        const nextId = bodySections.length ? Math.max(...bodySections.map((s)=>s.id)) + 1 : 1;\n        const newSection = {\n            id: nextId,\n            name: \"Body \".concat(nextId),\n            urls: [\n                \"\"\n            ],\n            products: [],\n            selectedBodyId: _data_templates__WEBPACK_IMPORTED_MODULE_5__.defaultTemplates[0].id,\n            loading: false\n        };\n        setBodySections((prev)=>[\n                ...prev,\n                newSection\n            ]);\n        setSectionOrder((prev)=>{\n            const arr = [\n                ...prev\n            ];\n            const newKey = \"body-\".concat(nextId);\n            const bannerIdx = arr.indexOf(\"banner\");\n            if (bannerIdx >= 0) arr.splice(bannerIdx, 0, newKey);\n            else arr.push(newKey);\n            return arr;\n        });\n        setOpenSection(\"body-\".concat(nextId));\n    };\n    const removeHeaderSection = ()=>{\n        setShowHeaderSection(false);\n        setHeaderHtml(\"\");\n        setOpenSection((prev)=>prev === \"header\" ? \"\" : prev);\n    };\n    const removeHeroSection = ()=>{\n        setShowHeroSection(false);\n        setHeroImage(\"\");\n        setHeroAlt(\"\");\n        setHeroHref(\"\");\n        setHeroHtml(\"\");\n        setSectionOrder((prev)=>prev.filter((id)=>id !== \"hero\"));\n        setOpenSection((prev)=>prev === \"hero\" ? \"\" : prev);\n    };\n    const removeBannerSection = ()=>{\n        setShowBannerSection(false);\n        setBannerImage(\"\");\n        setBannerAlt(\"\");\n        setBannerHref(\"\");\n        setBannerHtml(\"\");\n        setSectionOrder((prev)=>prev.filter((id)=>id !== \"banner\"));\n        setOpenSection((prev)=>prev === \"banner\" ? \"\" : prev);\n    };\n    const removeFooterSection = ()=>{\n        setShowFooterSection(false);\n        setFooterHtml(\"\");\n        setOpenSection((prev)=>prev === \"footer\" ? \"\" : prev);\n    };\n    /**\n   * Remove a body section entirely. When invoked, this deletes the\n   * section from the bodySections array. If the removed section is\n   * currently open, the accordion is collapsed. This helper is\n   * triggered by the trash icon in each body section header.\n   */ const removeBodySection = (sectionId)=>{\n        setBodySections((prev)=>prev.filter((section)=>section.id !== sectionId));\n        setSectionOrder((prev)=>prev.filter((id)=>id !== \"body-\".concat(sectionId)));\n        setOpenSection((prev)=>prev === \"body-\".concat(sectionId) ? \"\" : prev);\n    };\n    const addSectionByType = (type)=>{\n        switch(type){\n            case \"header\":\n                setShowHeaderSection(true);\n                setOpenSection(\"header\");\n                break;\n            case \"hero\":\n                setShowHeroSection(true);\n                setSectionOrder((prev)=>prev.includes(\"hero\") ? prev : [\n                        \"hero\",\n                        ...prev\n                    ]);\n                setOpenSection(\"hero\");\n                break;\n            case \"banner\":\n                setShowBannerSection(true);\n                setSectionOrder((prev)=>prev.includes(\"banner\") ? prev : [\n                        ...prev,\n                        \"banner\"\n                    ]);\n                setOpenSection(\"banner\");\n                break;\n            case \"footer\":\n                setShowFooterSection(true);\n                setOpenSection(\"footer\");\n                break;\n            case \"body\":\n            default:\n                addBodySection();\n                break;\n        }\n        setShowAddSectionMenu(false);\n    };\n    /**\n   * Update the selected template for a specific body section. This\n   * updates the sectionâs selectedBodyId and also updates the\n   * global selectedBodyId so that the edit form displays the\n   * correct template source when editing. Without this the edit\n   * textarea would show the wrong HTML if switching between\n   * sections with different templates.\n   */ const setSectionTemplate = (sectionId, templateId)=>{\n        setBodySections((prev)=>prev.map((section)=>section.id === sectionId ? {\n                    ...section,\n                    selectedBodyId: templateId\n                } : section));\n        setSelectedBodyId(templateId);\n    };\n    /**\n   * Save edits to the currently selected hero template. The hero\n   * templateâs HTML is replaced with the contents of draftHeroHtml.\n   * If the template is userâdefined it is persisted back to\n   * localStorage under 'customHeroTemplates'.\n   */ const saveHeroEdits = ()=>{\n        setHeroTemplates((prev)=>prev.map((tpl)=>tpl.id === selectedHeroId ? {\n                    ...tpl,\n                    html: draftHeroHtml\n                } : tpl));\n        setHeroEditMode(false);\n        // Persist edits for custom templates\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customHeroTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                const updated = list.map((tpl)=>tpl.id === selectedHeroId ? {\n                        ...tpl,\n                        html: draftHeroHtml\n                    } : tpl);\n                window.localStorage.setItem(\"customHeroTemplates\", JSON.stringify(updated));\n            }\n        } catch (err) {\n            console.warn(\"Failed to persist hero template edits\", err);\n        }\n    };\n    /**\n   * Add a new hero template. The name and HTML are taken from the\n   * newHeroName and newHeroHtml fields. A unique id is generated\n   * based on the name and timestamp. The new template is stored\n   * alongside existing templates and persisted into localStorage.\n   */ const addNewHeroTemplate = ()=>{\n        const name = newHeroName.trim();\n        const html = newHeroHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTpl = {\n            id,\n            name,\n            html\n        };\n        setHeroTemplates((prev)=>[\n                ...prev,\n                newTpl\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customHeroTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTpl);\n                window.localStorage.setItem(\"customHeroTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom hero template\", err);\n        }\n        setNewHeroName(\"\");\n        setNewHeroHtml(\"\");\n    };\n    /**\n   * Load any custom hero templates from localStorage. This mirrors\n   * the behaviour for body/header/footer templates. Custom hero\n   * templates are stored under the key 'customHeroTemplates'.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) {\n            try {\n                const storedHero = window.localStorage.getItem(\"customHeroTemplates\");\n                if (storedHero) {\n                    const parsed = JSON.parse(storedHero);\n                    if (Array.isArray(parsed) && parsed.length) {\n                        setHeroTemplates((prev)=>[\n                                ...prev,\n                                ...parsed\n                            ]);\n                    }\n                }\n            } catch (err) {\n                console.warn(\"Failed to load custom hero templates\", err);\n            }\n        }\n    }, []);\n    /**\n   * Compose the full email whenever any part of the data changes. This\n   * includes header/footer/hero template selection, body sections,\n   * products, hero image and brand customisations. The composed\n   * HTML uses OptionÂ A semantics: the same HTML string is used for\n   * both preview and code output. Brand colours, fonts and logos\n   * are applied uniformly across all sections.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Compose header\n        let headerStr = \"\";\n        if (showHeaderSection) {\n            const headerTemplate = headerTemplates.find((t)=>t.id === selectedHeaderId);\n            headerStr = headerTemplate ? headerTemplate.html : \"\";\n            headerStr = applyBrandColoursAndFont(headerStr);\n            headerStr = applyBrandLogo(headerStr);\n        }\n        // Compose hero if an image has been set\n        let heroStr = \"\";\n        const heroTemplate = heroTemplates.find((t)=>t.id === selectedHeroId);\n        if (showHeroSection && heroTemplate && heroImage) {\n            const heroData = {\n                heroImage,\n                heroAlt: heroAlt || \"\",\n                heroHref: heroHref || \"\"\n            };\n            if (!heroData.heroAlt && brandName) heroData.heroAlt = brandName;\n            // Render hero using the full template object. Passing the raw\n            // HTML string causes renderTemplate to receive undefined for\n            // template.html and results in runtime errors. See data/templates.ts.\n            heroStr = (0,_data_templates__WEBPACK_IMPORTED_MODULE_5__.renderTemplate)(heroTemplate, heroData);\n            heroStr = applyBrandColoursAndFont(heroStr);\n        }\n        // Compose body across all sections\n        const bodyHtmlMap = {};\n        bodySections.forEach((section)=>{\n            let sectionHtml = \"\";\n            section.products.forEach((prod, idx)=>{\n                // Determine orientation based on index and alternate map\n                let templateIdToUse = section.selectedBodyId;\n                if (idx % 2 === 1 && alternateMap[section.selectedBodyId]) {\n                    templateIdToUse = alternateMap[section.selectedBodyId];\n                }\n                const tpl = bodyTemplates.find((t)=>t.id === templateIdToUse);\n                if (!tpl) return;\n                // Colour swatches removed per refactor\n                // Build price HTML: include a strikeâthrough original price if\n                // provided and different from the sale price. We leave the\n                // currency as provided by the parser. If no original price is\n                // present, show the sale price only. When both values are\n                // empty the priceHtml will be empty as well.\n                const salePrice = prod.price || \"\";\n                const originalPrice = prod.originalPrice;\n                let priceHtml = \"\";\n                if (originalPrice && originalPrice !== salePrice) {\n                    priceHtml = '<span style=\"text-decoration:line-through;color:#888888;margin-right:8px;font-weight:400;\">'.concat(originalPrice, \"</span> \").concat(salePrice);\n                } else {\n                    priceHtml = salePrice;\n                }\n                // Choose description source per section\n                let chosenDescription = prod.description || \"\";\n                if (section.descriptionSource === \"p\" && prod.descriptionP) {\n                    chosenDescription = prod.descriptionP;\n                } else if (section.descriptionSource === \"ul\" && prod.descriptionUl) {\n                    chosenDescription = prod.descriptionUl;\n                }\n                const ds = prod.descSource || \"metadata\";\n                // For UL in code view, use a marker to later swap the paragraph with UL markup\n                const descForTemplate = ds === \"ul\" && prod.descriptionUl ? \"[[DESC_MARKER]]\" : chosenDescription;\n                const productData = {\n                    ...prod,\n                    description: descForTemplate,\n                    ctaLabel: prod.ctaLabel || \"SHOP NOW\",\n                    priceHtml,\n                    ctaBg: brandPrimary\n                };\n                // Render module using the full template. Passing only\n                // tpl.html causes runtime errors because renderTemplate\n                // expects a Template object.\n                let moduleHtml = (0,_data_templates__WEBPACK_IMPORTED_MODULE_5__.renderTemplate)(tpl, productData);\n                if (ds === \"ul\" && prod.descriptionUl) {\n                    const ulHtml = prod.descriptionUl;\n                    moduleHtml = moduleHtml.replace(/<p[^>]*>\\s*\\[\\[DESC_MARKER\\]\\]\\s*<\\/p>/i, ulHtml);\n                }\n                moduleHtml = applyBrandColoursAndFont(moduleHtml);\n                sectionHtml += moduleHtml;\n            });\n            bodyHtmlMap[\"body-\".concat(section.id)] = sectionHtml;\n        });\n        // Compose banner if an image has been fetched\n        let bannerStr = \"\";\n        const bannerTemplate = bannerTemplates.find((t)=>t.id === selectedBannerId);\n        if (showBannerSection && bannerTemplate && bannerImage) {\n            const data = {\n                bannerImage,\n                bannerAlt: bannerAlt || \"\",\n                bannerHref: bannerHref || \"\"\n            };\n            if (!data.bannerAlt && brandName) data.bannerAlt = brandName;\n            bannerStr = (0,_data_templates__WEBPACK_IMPORTED_MODULE_5__.renderTemplate)(bannerTemplate, data);\n            bannerStr = applyBrandColoursAndFont(bannerStr);\n        }\n        // Compose footer\n        let footerStr = \"\";\n        if (showFooterSection) {\n            const footerTemplate = footerTemplates.find((t)=>t.id === selectedFooterId);\n            footerStr = footerTemplate ? footerTemplate.html : \"\";\n            footerStr = applyBrandColoursAndFont(footerStr);\n        }\n        let orderedHtml = \"\";\n        sectionOrder.forEach((id)=>{\n            if (id === \"hero\") orderedHtml += heroStr;\n            else if (id === \"banner\") orderedHtml += bannerStr;\n            else if (id.startsWith(\"body-\")) orderedHtml += bodyHtmlMap[id] || \"\";\n        });\n        setHeaderHtml(headerStr);\n        setHeroHtml(heroStr);\n        setBodyHtml(sectionOrder.filter((id)=>id.startsWith(\"body-\")).map((id)=>bodyHtmlMap[id]).join(\"\"));\n        setBannerHtml(bannerStr);\n        setFooterHtml(footerStr);\n        setFinalHtml(\"\".concat(headerStr).concat(orderedHtml).concat(footerStr));\n    }, [\n        bodySections,\n        selectedBodyId,\n        selectedHeaderId,\n        selectedFooterId,\n        selectedBannerId,\n        bodyTemplates,\n        headerTemplates,\n        footerTemplates,\n        bannerTemplates,\n        brandPrimary,\n        brandSecondary,\n        brandFont,\n        brandLogoDataUrl,\n        heroImage,\n        heroAlt,\n        heroHref,\n        bannerImage,\n        bannerAlt,\n        bannerHref,\n        selectedHeroId,\n        heroTemplates,\n        showHeaderSection,\n        showHeroSection,\n        showBannerSection,\n        showFooterSection,\n        sectionOrder\n    ]);\n    /**\n   * PrismJS reference and load state. We load Prism only on the client. We also load the markup\n   * language component. Once loaded, we update the state to trigger\n   * re-render so syntax highlighting applies. The eslint comment\n   * suppresses warnings about asynchronous functions inside useEffect.\n   */ const prismRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [prismLoaded, setPrismLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Load PrismJS dynamically on the client. We also load the markup\n    // language component. Once loaded, we update the state to trigger\n    // re-render so syntax highlighting applies. The eslint comment\n    // suppresses warnings about asynchronous functions inside useEffect.\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) {\n            (async ()=>{\n                try {\n                    const PrismModule = await __webpack_require__.e(/*! import() */ \"node_modules_prismjs_prism_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! prismjs */ \"./node_modules/prismjs/prism.js\", 23));\n                    await __webpack_require__.e(/*! import() */ \"node_modules_prismjs_components_prism-markup_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! prismjs/components/prism-markup */ \"./node_modules/prismjs/components/prism-markup.js\", 23));\n                    prismRef.current = PrismModule.default;\n                    setPrismLoaded(true);\n                } catch (err) {\n                    console.warn(\"Failed to load PrismJS\", err);\n                }\n            })();\n        }\n    }, []);\n    /**\n   * Compose a list of code sections for the rightâpanel accordion. Each\n   * item contains a unique key, a humanâreadable title and the\n   * corresponding HTML string. The structure mirrors the left side\n  * panels: header, hero, each body section (containing all associated\n  * products) and footer. Colours and prices are computed inline for\n  * each product to match the final output. This list is\n   * recomputed on every render because the dependent data (body\n   * sections, templates, brand customisations, etc.) may change. If\n   * performance becomes an issue use React.useMemo.\n   */ const codeSections = [];\n    // Header section\n    if (headerHtml) {\n        codeSections.push({\n            key: \"header\",\n            title: \"Header\",\n            code: headerHtml\n        });\n    }\n    sectionOrder.forEach((id)=>{\n        if (id === \"hero\" && heroHtml) {\n            codeSections.push({\n                key: \"hero\",\n                title: \"Hero\",\n                code: heroHtml\n            });\n            return;\n        }\n        if (id === \"banner\" && bannerHtml) {\n            codeSections.push({\n                key: \"banner\",\n                title: \"Banner\",\n                code: bannerHtml\n            });\n            return;\n        }\n        if (id.startsWith(\"body-\")) {\n            const section = bodySections.find((s)=>\"body-\".concat(s.id) === id);\n            if (!section) return;\n            let combinedHtml = \"\";\n            section.products.forEach((prod, idx)=>{\n                // Determine which template to use: alternate every other product\n                let templateIdToUse = section.selectedBodyId;\n                if (idx % 2 === 1 && alternateMap[section.selectedBodyId]) {\n                    templateIdToUse = alternateMap[section.selectedBodyId];\n                }\n                const tpl = bodyTemplates.find((t)=>t.id === templateIdToUse);\n                if (!tpl) return;\n                // Colour swatches removed in refactor\n                // Build price HTML: include original price if different\n                const salePrice = prod.price || \"\";\n                const originalPrice = prod.originalPrice;\n                let priceHtml = \"\";\n                if (originalPrice && originalPrice !== salePrice) {\n                    priceHtml = '<span style=\"text-decoration:line-through;color:#888888;margin-right:8px;font-weight:400;\">'.concat(originalPrice, \"</span> \").concat(salePrice);\n                } else {\n                    priceHtml = salePrice;\n                }\n                // Compose data object for templating\n                // Choose description for code view as well\n                let chosenDesc2 = prod.description || \"\";\n                if (section.descriptionSource === \"p\" && prod.descriptionP) {\n                    chosenDesc2 = prod.descriptionP;\n                } else if (section.descriptionSource === \"ul\" && prod.descriptionUl) {\n                    chosenDesc2 = prod.descriptionUl;\n                }\n                const data = {\n                    ...prod,\n                    description: chosenDesc2,\n                    ctaLabel: prod.ctaLabel || \"SHOP NOW\",\n                    priceHtml,\n                    ctaBg: brandPrimary\n                };\n                // Render HTML and apply brand customisations\n                let html = (0,_data_templates__WEBPACK_IMPORTED_MODULE_5__.renderTemplate)(tpl, data);\n                html = applyBrandColoursAndFont(html);\n                combinedHtml += html;\n            });\n            if (combinedHtml) {\n                codeSections.push({\n                    key: id,\n                    title: section.name,\n                    code: combinedHtml\n                });\n            }\n        }\n    });\n    // Footer section\n    if (footerHtml) {\n        codeSections.push({\n            key: \"footer\",\n            title: \"Footer\",\n            code: footerHtml\n        });\n    }\n    // alternateMap is now defined at the top of the file. Duplicate definitions\n    // here have been removed to prevent ReferenceError when used earlier.\n    /**\n   * Load custom templates for body, header and footer from\n   * localStorage. Each collection is stored under its own key. The\n   * try/catch guards against JSON parsing errors and localStorage\n   * access errors (e.g. in serverâside rendering).\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) {\n            try {\n                // Body templates\n                const storedBody = window.localStorage.getItem(\"customTemplates\");\n                if (storedBody) {\n                    const parsedBody = JSON.parse(storedBody);\n                    if (Array.isArray(parsedBody) && parsedBody.length) {\n                        setBodyTemplates((prev)=>[\n                                ...prev,\n                                ...parsedBody\n                            ]);\n                    }\n                }\n                // Header templates\n                const storedHeader = window.localStorage.getItem(\"customHeaderTemplates\");\n                if (storedHeader) {\n                    const parsedHeader = JSON.parse(storedHeader);\n                    if (Array.isArray(parsedHeader) && parsedHeader.length) {\n                        setHeaderTemplates((prev)=>[\n                                ...prev,\n                                ...parsedHeader\n                            ]);\n                    }\n                }\n                // Footer templates\n                const storedFooter = window.localStorage.getItem(\"customFooterTemplates\");\n                if (storedFooter) {\n                    const parsedFooter = JSON.parse(storedFooter);\n                    if (Array.isArray(parsedFooter) && parsedFooter.length) {\n                        setFooterTemplates((prev)=>{\n                            const all = [\n                                ...prev,\n                                ...parsedFooter\n                            ];\n                            const seen = new Set();\n                            return all.filter((tpl)=>{\n                                if (seen.has(tpl.id)) return false;\n                                seen.add(tpl.id);\n                                return true;\n                            });\n                        });\n                    }\n                }\n                // Banner templates\n                const storedBanner = window.localStorage.getItem(\"customBannerTemplates\");\n                if (storedBanner) {\n                    const parsedBanner = JSON.parse(storedBanner);\n                    if (Array.isArray(parsedBanner) && parsedBanner.length) {\n                        setBannerTemplates((prev)=>[\n                                ...prev,\n                                ...parsedBanner\n                            ]);\n                    }\n                }\n            } catch (err) {\n                console.warn(\"Failed to load custom templates from localStorage\", err);\n            }\n        }\n    }, []);\n    /**\n   * Synchronise the draft HTML when the selected template for each\n   * section changes. This allows the editing textareas to display\n   * the current template. We deliberately keep the drafts separate\n   * so that editing one section doesnât override the others.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentBody = bodyTemplates.find((t)=>t.id === selectedBodyId);\n        if (currentBody) {\n            setDraftBodyHtml(currentBody.html);\n        }\n    }, [\n        selectedBodyId,\n        bodyTemplates\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentHeader = headerTemplates.find((t)=>t.id === selectedHeaderId);\n        if (currentHeader) {\n            setDraftHeaderHtml(currentHeader.html);\n        }\n    }, [\n        selectedHeaderId,\n        headerTemplates\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentBanner = bannerTemplates.find((t)=>t.id === selectedBannerId);\n        if (currentBanner) {\n            setDraftBannerHtml(currentBanner.html);\n        }\n    }, [\n        selectedBannerId,\n        bannerTemplates\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentFooter = footerTemplates.find((t)=>t.id === selectedFooterId);\n        if (currentFooter) {\n            setDraftFooterHtml(currentFooter.html);\n        }\n    }, [\n        selectedFooterId,\n        footerTemplates\n    ]);\n    // Synchronise draft hero HTML when the selected hero template changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentHero = heroTemplates.find((t)=>t.id === selectedHeroId);\n        if (currentHero) {\n            setDraftHeroHtml(currentHero.html);\n        }\n    }, [\n        selectedHeroId,\n        heroTemplates\n    ]);\n    /**\n   * Strip any query parameters from a URL, returning the base URL\n   * before the '?' character.\n   */ const sanitizeUrl = (url)=>url.split(\"?\")[0];\n    /**\n   * Update a URL within a body section. Called whenever the user\n   * edits one of the URL inputs. Accepts the section id, the\n   * index of the URL within that section and the new value. State\n   * is updated immutably to ensure React re-renders appropriately.\n   */ const handleUrlChange = (sectionId, index, value)=>{\n        setDraftUrls((prev)=>{\n            var _prev_sectionId;\n            const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n            const next = [\n                ...current\n            ];\n            next[index] = value;\n            return {\n                ...prev,\n                [sectionId]: next\n            };\n        });\n    };\n    // Add a new blank URL input to a section. Optionally focus the newly\n    // created field by passing its index.\n    const addUrlField = (sectionId, focusIndex)=>{\n        setDraftUrls((prev)=>{\n            var _prev_sectionId;\n            const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n            return {\n                ...prev,\n                [sectionId]: [\n                    ...current,\n                    \"\"\n                ]\n            };\n        });\n        if (focusIndex !== undefined) {\n            setTimeout(()=>{\n                const el = document.getElementById(\"url-\".concat(sectionId, \"-\").concat(focusIndex));\n                el === null || el === void 0 ? void 0 : el.focus();\n            }, 0);\n        }\n    };\n    // Remove a URL input from a section at index.\n    const removeUrlField = (sectionId, index)=>{\n        setDraftUrls((prev)=>{\n            var _prev_sectionId;\n            const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n            return {\n                ...prev,\n                [sectionId]: current.filter((_, i)=>i !== index)\n            };\n        });\n    };\n    /**\n   * Toggle edit mode for a given section. When in edit mode a\n   * textarea is displayed allowing the user to modify the raw HTML\n   * template. Saving will update the template collection and exit\n   * edit mode.\n   */ // Legacy toggle handlers removed. Editing modes are now toggled directly via inline callbacks.\n    /**\n   * Save template edits for each section. The modified HTML is\n   * stored back into the appropriate templates array. Edits are\n   * persisted into localStorage if the template is userâcreated (i.e.\n   * not part of the defaults). We do not differentiate here but\n   * simply update the selected template in place.\n   */ const saveBodyEdits = ()=>{\n        setBodyTemplates((prev)=>prev.map((t)=>t.id === selectedBodyId ? {\n                    ...t,\n                    html: draftBodyHtml\n                } : t));\n        setBodyEditMode(false);\n    };\n    const saveHeaderEdits = ()=>{\n        setHeaderTemplates((prev)=>prev.map((t)=>t.id === selectedHeaderId ? {\n                    ...t,\n                    html: draftHeaderHtml\n                } : t));\n        setHeaderEditMode(false);\n    };\n    const saveBannerEdits = ()=>{\n        setBannerTemplates((prev)=>prev.map((t)=>t.id === selectedBannerId ? {\n                    ...t,\n                    html: draftBannerHtml\n                } : t));\n        setBannerEditMode(false);\n    };\n    const saveFooterEdits = ()=>{\n        setFooterTemplates((prev)=>prev.map((t)=>t.id === selectedFooterId ? {\n                    ...t,\n                    html: draftFooterHtml\n                } : t));\n        setFooterEditMode(false);\n    };\n    /**\n   * Add a new custom template to a section. Each template must\n   * provide a unique id. We generate one by slugifying the name\n   * and appending a timestamp. New templates are persisted in\n   * localStorage so they survive page reloads.\n   */ const addNewBodyTemplate = ()=>{\n        const name = newBodyName.trim();\n        const html = newBodyHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setBodyTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom body template\", err);\n        }\n        setNewBodyName(\"\");\n        setNewBodyHtml(\"\");\n    };\n    const addNewHeaderTemplate = ()=>{\n        const name = newHeaderName.trim();\n        const html = newHeaderHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setHeaderTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customHeaderTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customHeaderTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom header template\", err);\n        }\n        setNewHeaderName(\"\");\n        setNewHeaderHtml(\"\");\n    };\n    const addNewBannerTemplate = ()=>{\n        const name = newBannerName.trim();\n        const html = newBannerHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setBannerTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customBannerTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customBannerTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom banner template\", err);\n        }\n        setNewBannerName(\"\");\n        setNewBannerHtml(\"\");\n    };\n    const addNewFooterTemplate = ()=>{\n        const name = newFooterName.trim();\n        const html = newFooterHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setFooterTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customFooterTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customFooterTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom footer template\", err);\n        }\n        setNewFooterName(\"\");\n        setNewFooterHtml(\"\");\n    };\n    /**\n   * Generate EDM: sends the list of product URLs to the API route\n   * which fetches and parses the product details. Returns the raw\n   * HTML (unused here) and a list of product objects. We ignore\n   * the returned HTML and build our own using templates. If the\n   * server responds with an error we alert the user.\n   */ /**\n   * Generate a single body section. Sends the section's product URLs to\n   * the API route which fetches and parses the product details. The\n   * parsed products are stored on the section and the loading flag\n   * cleared. If no URLs are provided an alert is shown. After the\n   * first successful generation the hero image is automatically\n   * fetched based on the origin of the first product URL if no hero\n   * image has been set yet.\n   */ const generateSection = async (sectionId)=>{\n        const section = bodySections.find((s)=>s.id === sectionId);\n        if (!section) return;\n        var _draftUrls_sectionId;\n        // Always use the latest draftUrls for this section\n        const filtered = ((_draftUrls_sectionId = draftUrls[sectionId]) !== null && _draftUrls_sectionId !== void 0 ? _draftUrls_sectionId : section.urls).map((u)=>u.trim()).filter((u)=>u);\n        if (filtered.length === 0) {\n            alert(\"Please provide at least one product URL.\");\n            return;\n        }\n        // Save the latest URLs to the section immediately so preview updates on first click\n        setBodySections((prev)=>prev.map((s)=>s.id === sectionId ? {\n                    ...s,\n                    urls: [\n                        ...filtered\n                    ],\n                    loading: true,\n                    products: []\n                } : s));\n        try {\n            // Start loading bar immediately\n            setLoading(true);\n            setProgress(0);\n            setBuffer(15);\n            const res = await fetch(\"/api/generate\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    urls: filtered,\n                    templateId: section.selectedBodyId\n                })\n            });\n            if (!res.ok) {\n                throw new Error(\"Request failed with status \".concat(res.status));\n            }\n            // Response received\n            setProgress(20);\n            setBuffer(40);\n            const data = await res.json();\n            // Parsed JSON\n            setProgress(30);\n            setBuffer(50);\n            const processed = [];\n            const validUrls = [];\n            const totalItems = Math.max(1, data.products.length || 0);\n            data.products.forEach((p, idx)=>{\n                const hasInfo = Object.keys(p || {}).some((key)=>key !== \"url\" && p[key]);\n                if (!hasInfo) {\n                    const badUrl = filtered[idx] || p.url || \"Unknown URL\";\n                    addNotification(\"Error on fetching data from the url \".concat(badUrl));\n                    return;\n                }\n                validUrls.push(filtered[idx]);\n                processed.push({\n                    url: p.url,\n                    pretitle: p.pretitle || \"\",\n                    title: p.title || \"\",\n                    price: p.price || \"\",\n                    originalPrice: p.originalPrice || undefined,\n                    description: p.description || \"\",\n                    // Additional description sources scraped from .product__description\n                    // (plain text from <p> and joined text from <ul>)\n                    descriptionP: p.descriptionP || \"\",\n                    descriptionUl: p.descriptionUl || \"\",\n                    image: p.image || \"\",\n                    images: Array.isArray(p.images) ? p.images : undefined,\n                    cta: p.cta || p.url,\n                    ctaLabel: p.ctaLabel || \"SHOP NOW\"\n                });\n                // Process items linearly: advance from 30% up to 90%\n                const pct = 30 + Math.round((idx + 1) / totalItems * 60);\n                const prog = Math.min(90, pct);\n                setProgress(prog);\n                setBuffer(Math.min(100, prog + 10));\n            });\n            // Final composition\n            setProgress(95);\n            setBuffer(100);\n            setBodySections((prev)=>prev.map((s)=>s.id === sectionId ? {\n                        ...s,\n                        products: processed,\n                        urls: [\n                            ...validUrls,\n                            \"\"\n                        ],\n                        loading: false\n                    } : s));\n            setDraftUrls((prev)=>({\n                    ...prev,\n                    [sectionId]: [\n                        ...validUrls,\n                        \"\"\n                    ]\n                }));\n            setProgress(100); // complete\n            // Hide after a short delay to avoid flicker, then reset\n            setTimeout(()=>{\n                setLoading(false);\n                setProgress(-1);\n                setBuffer(-1);\n            }, 200);\n        } catch (error) {\n            console.error(\"Generation failed\", error);\n            console.log(\"Failed to generate products: \".concat(error.message));\n            setBodySections((prev)=>prev.map((s)=>s.id === sectionId ? {\n                        ...s,\n                        loading: false\n                    } : s));\n            // Ensure the loading bar hides on error\n            setLoading(false);\n            setProgress(-1);\n            setBuffer(-1);\n        }\n    };\n    // Automatically generate the first body section when it is created (after user submits product URL)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (bodySections.length === 1 && bodySections[0].products.length === 0 && bodySections[0].urls[0] && !bodySections[0].loading) {\n            generateSection(bodySections[0].id);\n        }\n    }, [\n        bodySections\n    ]);\n    // Fetch initial product data for the first body section on page load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        generateSection(1);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    /**\n   * Generate all sections in the EDM. Iterates through each body section\n   * sequentially and triggers its generation. This is invoked by the\n   * universal \"Generate EDM\" button and updates the preview and\n   * code for every module.\n   */ const generateAllSections = async ()=>{\n        // Delegate progress updates to each section's generation to avoid conflicting values\n        for (const section of bodySections){\n            await generateSection(section.id);\n        }\n    };\n    /**\n   * Update a product field in response to edits made in the preview.\n   * This ensures twoâway binding between the editable preview and\n   * the underlying data model. Updating the state triggers the\n   * effect below which recomputes the HTML.\n   */ /**\n   * Update a field within a product inside a specific body section. Edits\n   * made in the preview update the underlying product array which\n   * triggers a reârender of the composed HTML.\n   */ const updateProductInSection = (sectionId, index, field, value)=>{\n        setBodySections((prev)=>prev.map((section)=>{\n                if (section.id !== sectionId) return section;\n                const newProducts = [\n                    ...section.products\n                ];\n                const prod = {\n                    ...newProducts[index]\n                };\n                prod[field] = value;\n                newProducts[index] = prod;\n                return {\n                    ...section,\n                    products: newProducts\n                };\n            }));\n    };\n    /**\n   * Compute the HTML for header, body and footer whenever the data\n   * or selected templates change. Colours are limited to three and\n   * a +n indicator is added if additional colours are available.\n   */ //\n    // The body, header and footer HTML is now computed in a single\n    // useEffect defined earlier (see OptionÂ A implementation). The\n    // following legacy effect has been removed to prevent duplicate\n    // updates and inconsistent output.\n    /**\n   * Copy a given string to the clipboard. Feedback could be added\n   * later (e.g. toast notifications) but is omitted for brevity.\n   */ const copyToClipboard = (text)=>{\n        if (typeof navigator !== \"undefined\" && navigator.clipboard) {\n            navigator.clipboard.writeText(text).then(()=>{\n                addNotification(\"Code copied!\");\n            }).catch((err)=>{\n                console.warn(\"Failed to copy to clipboard\", err);\n            });\n        }\n    };\n    /**\n   * Helper to highlight HTML for code display. Prism returns an\n   * HTML string containing <span> elements with classes for each\n   * token. We set the language to markup since our templates are\n   * HTML.\n   */ const highlight = (code)=>{\n        const Prism = prismRef.current;\n        // If Prism has not loaded yet, return the raw code. This avoids\n        // runtime errors during initial render or serverâside rendering.\n        if (!Prism) return code;\n        return Prism.highlight(code, Prism.languages.markup, \"markup\");\n    };\n    const availableSectionTypes = [\n        ...!showHeaderSection ? [\n            {\n                key: \"header\",\n                label: \"Header\"\n            }\n        ] : [],\n        ...!showHeroSection ? [\n            {\n                key: \"hero\",\n                label: \"Hero\"\n            }\n        ] : [],\n        {\n            key: \"body\",\n            label: \"Body\"\n        },\n        ...!showBannerSection ? [\n            {\n                key: \"banner\",\n                label: \"Banner\"\n            }\n        ] : [],\n        ...!showFooterSection ? [\n            {\n                key: \"footer\",\n                label: \"Footer\"\n            }\n        ] : []\n    ];\n    // Top heading moved into AppBar via AppLayout\n    if (!brandWebsite) {\n        // Show a simple dialog to prompt for a product URL\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100vh\",\n                background: \"#fafbfc\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleBrandUrlSubmit,\n                style: {\n                    background: \"#fff\",\n                    padding: 32,\n                    borderRadius: 8,\n                    boxShadow: \"0 4px 24px rgba(0,0,0,0.08)\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        style: {\n                            marginBottom: 16\n                        },\n                        children: \"Enter a product URL to get started\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2031,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"url\",\n                        value: brandUrlInput,\n                        onChange: (e)=>setBrandUrlInput(e.target.value),\n                        placeholder: \"https://yourstore.com/products/example\",\n                        style: {\n                            width: 360,\n                            padding: 8,\n                            fontSize: 16,\n                            borderRadius: 4,\n                            border: \"1px solid #ccc\",\n                            marginBottom: 16\n                        },\n                        required: true\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2032,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"right\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"submit\",\n                            style: {\n                                padding: \"8px 20px\",\n                                fontSize: 16,\n                                borderRadius: 4,\n                                background: \"#d19aa0\",\n                                color: \"#fff\",\n                                border: \"none\",\n                                cursor: \"pointer\"\n                            },\n                            children: \"Continue\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 2041,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2040,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 2030,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 2029,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"EDM Expresso\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2051,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Build modular EDMs from product pages\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2052,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 2050,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                title: \"EDM Espresso\",\n                left: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-list\".concat(openSection ? \" has-open\" : \"\"),\n                    style: {\n                        height: \"100%\",\n                        display: \"flex\",\n                        flexDirection: \"column\"\n                    },\n                    children: [\n                        showHeaderSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"accordion-section\".concat(openSection === \"header\" ? \" open\" : \"\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"accordion-header\".concat(openSection === \"header\" ? \" open\" : \"\"),\n                                    onClick: ()=>handleAccordionToggle(\"header\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Header\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginLeft: \"auto\",\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: \"var(--gap-2)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        removeHeaderSection();\n                                                    },\n                                                    title: \"Remove section\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        handleAccordionToggle(\"header\");\n                                                    },\n                                                    title: openSection === \"header\" ? \"Collapse section\" : \"Expand section\",\n                                                    children: openSection === \"header\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                openSection === \"header\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"accordion-content\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                display: \"flex\",\n                                                flexWrap: \"wrap\"\n                                            },\n                                            children: (()=>{\n                                                const activeTpl = headerTemplates.find((tpl)=>tpl.id === selectedHeaderId);\n                                                if (!activeTpl) return null;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        flexDirection: \"column\",\n                                                        alignItems: \"center\"\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_HtmlThumbnail__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                        html: activeTpl.html,\n                                                        width: 600,\n                                                        forceAutoHeight: true\n                                                    }, void 0, false, void 0, void 0)\n                                                }, activeTpl.id, false, void 0, void 0);\n                                            })()\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"template-row\",\n                                            style: {\n                                                display: \"flex\",\n                                                gap: \"var(--gap-2)\",\n                                                alignItems: \"center\",\n                                                marginTop: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                    fullWidth: true,\n                                                    variant: \"outlined\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                            id: \"header-template-label\",\n                                                            children: \"Template\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                            labelId: \"header-template-label\",\n                                                            id: \"header-template-select\",\n                                                            label: \"Template\",\n                                                            value: selectedHeaderId,\n                                                            onChange: (e)=>setSelectedHeaderId(e.target.value),\n                                                            children: headerTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                                    value: tpl.id,\n                                                                    children: tpl.name\n                                                                }, tpl.id, false, void 0, void 0))\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: ()=>setHeaderEditMode((v)=>!v),\n                                                    title: headerEditMode ? \"Close editor\" : \"Edit template\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: ()=>setShowNewHeader((v)=>!v),\n                                                    title: showNewHeader ? \"Cancel new template\" : \"Add new template\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        headerEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"header-draft-html\",\n                                                    label: \"Template HTML\",\n                                                    value: draftHeaderHtml,\n                                                    onChange: (e)=>setDraftHeaderHtml(e.target.value),\n                                                    rows: 8,\n                                                    fullWidth: true,\n                                                    multiline: true,\n                                                    sx: {\n                                                        fontFamily: \"monospace\"\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-actions\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        marginTop: \"0.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>setHeaderEditMode(false),\n                                                            title: \"Cancel edit\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                saveHeaderEdits();\n                                                                setHeaderEditMode(false);\n                                                            },\n                                                            title: \"Save edits\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        showNewHeader && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"new-template-form\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"header-new-name\",\n                                                    label: \"Template name\",\n                                                    type: \"text\",\n                                                    value: newHeaderName,\n                                                    onChange: (e)=>setNewHeaderName(e.target.value),\n                                                    fullWidth: true,\n                                                    sx: {\n                                                        mb: 1\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"header-new-html\",\n                                                    label: \"Template HTML\",\n                                                    value: newHeaderHtml,\n                                                    onChange: (e)=>setNewHeaderHtml(e.target.value),\n                                                    rows: 6,\n                                                    fullWidth: true,\n                                                    multiline: true,\n                                                    sx: {\n                                                        fontFamily: \"monospace\"\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-actions\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        marginTop: \"0.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                setShowNewHeader(false);\n                                                                setNewHeaderName(\"\");\n                                                                setNewHeaderHtml(\"\");\n                                                            },\n                                                            title: \"Cancel new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                addNewHeaderTemplate();\n                                                                setShowNewHeader(false);\n                                                            },\n                                                            title: \"Save new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0)\n                            ]\n                        }, void 0, true, void 0, void 0),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.DndContext, {\n                            sensors: sensors,\n                            collisionDetection: _dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.closestCenter,\n                            modifiers: [\n                                _dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_15__.restrictToVerticalAxis\n                            ],\n                            onDragEnd: handleSectionDragEnd,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.SortableContext, {\n                                items: sectionOrder,\n                                strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.verticalListSortingStrategy,\n                                children: sectionOrder.map((id)=>{\n                                    if (id === \"hero\" && showHeroSection) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SortableHeroSection, {}, \"hero\", false, void 0, void 0);\n                                    if (id === \"banner\" && showBannerSection) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SortableBannerSection, {}, \"banner\", false, void 0, void 0);\n                                    if (id.startsWith(\"body-\")) {\n                                        const section = bodySections.find((s)=>\"body-\".concat(s.id) === id);\n                                        return section ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SortableBodySection, {\n                                            section: section\n                                        }, id, false, void 0, void 0) : null;\n                                    }\n                                    return null;\n                                })\n                            }, void 0, false, void 0, void 0)\n                        }, void 0, false, void 0, void 0),\n                        showFooterSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"accordion-section\".concat(openSection === \"footer\" ? \" open\" : \"\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"accordion-header\".concat(openSection === \"footer\" ? \" open\" : \"\"),\n                                    onClick: ()=>handleAccordionToggle(\"footer\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Footer\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginLeft: \"auto\",\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: \"var(--gap-2)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        removeFooterSection();\n                                                    },\n                                                    title: \"Remove section\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        handleAccordionToggle(\"footer\");\n                                                    },\n                                                    title: openSection === \"footer\" ? \"Collapse section\" : \"Expand section\",\n                                                    children: openSection === \"footer\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                openSection === \"footer\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"accordion-content\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                display: \"flex\",\n                                                flexWrap: \"wrap\"\n                                            },\n                                            children: (()=>{\n                                                const activeTpl = footerTemplates.find((tpl)=>tpl.id === selectedFooterId);\n                                                if (!activeTpl) return null;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        flexDirection: \"column\",\n                                                        alignItems: \"center\"\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_HtmlThumbnail__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                        html: activeTpl.html,\n                                                        width: 600,\n                                                        forceAutoHeight: true\n                                                    }, void 0, false, void 0, void 0)\n                                                }, activeTpl.id, false, void 0, void 0);\n                                            })()\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"template-row\",\n                                            style: {\n                                                display: \"flex\",\n                                                gap: \"var(--gap-2)\",\n                                                alignItems: \"center\",\n                                                marginTop: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                    fullWidth: true,\n                                                    variant: \"outlined\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                            id: \"footer-template-label\",\n                                                            children: \"Template\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                            labelId: \"footer-template-label\",\n                                                            id: \"footer-template-select\",\n                                                            label: \"Template\",\n                                                            value: selectedFooterId,\n                                                            onChange: (e)=>setSelectedFooterId(e.target.value),\n                                                            children: footerTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                                    value: tpl.id,\n                                                                    children: tpl.name\n                                                                }, tpl.id, false, void 0, void 0))\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: ()=>setFooterEditMode((v)=>!v),\n                                                    title: footerEditMode ? \"Close editor\" : \"Edit template\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: ()=>setShowNewFooter((v)=>!v),\n                                                    title: showNewFooter ? \"Cancel new template\" : \"Add new template\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        footerEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"footer-draft-html\",\n                                                    label: \"Template HTML\",\n                                                    value: draftFooterHtml,\n                                                    onChange: (e)=>setDraftFooterHtml(e.target.value),\n                                                    rows: 8,\n                                                    fullWidth: true,\n                                                    multiline: true,\n                                                    sx: {\n                                                        fontFamily: \"monospace\"\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-actions\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        marginTop: \"0.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>setFooterEditMode(false),\n                                                            title: \"Cancel edit\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                saveFooterEdits();\n                                                                setFooterEditMode(false);\n                                                            },\n                                                            title: \"Save edits\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        showNewFooter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"new-template-form\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"footer-new-name\",\n                                                    label: \"Template name\",\n                                                    type: \"text\",\n                                                    value: newFooterName,\n                                                    onChange: (e)=>setNewFooterName(e.target.value),\n                                                    fullWidth: true,\n                                                    sx: {\n                                                        mb: 1\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"footer-new-html\",\n                                                    label: \"Template HTML\",\n                                                    value: newFooterHtml,\n                                                    onChange: (e)=>setNewFooterHtml(e.target.value),\n                                                    rows: 6,\n                                                    fullWidth: true,\n                                                    multiline: true,\n                                                    sx: {\n                                                        fontFamily: \"monospace\"\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-actions\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        marginTop: \"0.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                setShowNewFooter(false);\n                                                                setNewFooterName(\"\");\n                                                                setNewFooterHtml(\"\");\n                                                            },\n                                                            title: \"Cancel new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                addNewFooterTemplate();\n                                                                setShowNewFooter(false);\n                                                            },\n                                                            title: \"Save new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0)\n                            ]\n                        }, void 0, true, void 0, void 0),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"flex-start\",\n                                gap: \"var(--gap-2)\",\n                                marginTop: \"1rem\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                    onClick: generateAllSections,\n                                    children: \"Generate EDM\"\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: addSectionRef,\n                                    style: {\n                                        position: \"relative\",\n                                        marginLeft: \"1rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                            onClick: ()=>setShowAddSectionMenu((v)=>!v),\n                                            title: \"Add section\",\n                                            children: [\n                                                \"Add Section \",\n                                                showAddSectionMenu ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                    sx: {\n                                                        ml: 0.5\n                                                    }\n                                                }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                    sx: {\n                                                        ml: 0.5\n                                                    }\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        showAddSectionMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Paper__WEBPACK_IMPORTED_MODULE_36__[\"default\"], {\n                                            elevation: 3,\n                                            sx: {\n                                                position: \"absolute\",\n                                                top: \"100%\",\n                                                left: 0,\n                                                mt: 0.5,\n                                                zIndex: 10,\n                                                minWidth: \"12rem\",\n                                                maxHeight: \"12rem\",\n                                                overflowY: \"auto\"\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                                                children: availableSectionTypes.map((opt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                        onClick: ()=>addSectionByType(opt.key),\n                                                        sx: {\n                                                            justifyContent: \"flex-start\",\n                                                            px: 2\n                                                        },\n                                                        children: opt.label\n                                                    }, opt.key, false, void 0, void 0))\n                                            }, void 0, false, void 0, void 0)\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0)\n                            ]\n                        }, void 0, true, void 0, void 0)\n                    ]\n                }, void 0, true, void 0, void 0),\n                rightOpen: showBrandPanel,\n                onRightClose: ()=>setShowBrandPanel(false),\n                onRightToggle: ()=>setShowBrandPanel((v)=>!v),\n                progress: progress,\n                buffer: buffer,\n                loading: loading,\n                right: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                            sx: {\n                                p: 0\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                variant: \"h6\",\n                                component: \"h2\",\n                                children: \"Brand Customisation\"\n                            }, void 0, false, void 0, void 0)\n                        }, void 0, false, void 0, void 0),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Divider__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                            sx: {\n                                my: 2\n                            }\n                        }, void 0, false, void 0, void 0),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                            spacing: 2,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"brand-name\",\n                                    label: \"Brand Name\",\n                                    value: brandName,\n                                    onChange: (e)=>setBrandName(e.target.value),\n                                    fullWidth: true\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    select: true,\n                                    fullWidth: true,\n                                    label: \"Font\",\n                                    id: \"brand-font\",\n                                    value: brandFont,\n                                    onChange: (e)=>setBrandFont(e.target.value),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"\",\n                                            children: \"Default (Montserrat)\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"Arial, Helvetica, sans-serif\",\n                                            children: \"Arial\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"Georgia, serif\",\n                                            children: \"Georgia\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"Times New Roman, serif\",\n                                            children: \"Times New Roman\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"Courier New, monospace\",\n                                            children: \"Courier New\"\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(mui_color_input__WEBPACK_IMPORTED_MODULE_4__.MuiColorInput, {\n                                    id: \"brand-primary\",\n                                    label: \"Primary Colour\",\n                                    format: \"hex\",\n                                    value: brandPrimary,\n                                    onChange: (value)=>setBrandPrimary(value || brandPrimary),\n                                    size: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(mui_color_input__WEBPACK_IMPORTED_MODULE_4__.MuiColorInput, {\n                                    id: \"brand-secondary\",\n                                    label: \"Secondary Colour\",\n                                    format: \"hex\",\n                                    value: brandSecondary,\n                                    onChange: (value)=>setBrandSecondary(value || brandSecondary),\n                                    size: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"brand-website\",\n                                    label: \"Website URL\",\n                                    type: \"url\",\n                                    value: brandWebsite,\n                                    onChange: (e)=>setBrandWebsite(e.target.value),\n                                    onBlur: (e)=>setBrandWebsite(sanitizeUrl(e.currentTarget.value)),\n                                    placeholder: \"https://example.com\",\n                                    fullWidth: true\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"brand-logo\",\n                                    label: \"Company Logo\",\n                                    placeholder: \"No file chosen\",\n                                    value: brandLogo ? brandLogo.name : \"\",\n                                    fullWidth: true,\n                                    InputProps: {\n                                        readOnly: true,\n                                        endAdornment: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                            position: \"end\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                startIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_UploadFile__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                component: \"label\",\n                                                children: [\n                                                    \"Browse\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"file\",\n                                                        accept: \"image/*\",\n                                                        hidden: true,\n                                                        onChange: (e)=>{\n                                                            const file = e.target.files ? e.target.files[0] : null;\n                                                            setBrandLogo(file);\n                                                        }\n                                                    }, void 0, false, void 0, void 0)\n                                                ]\n                                            }, void 0, true, void 0, void 0)\n                                        }, void 0, false, void 0, void 0)\n                                    }\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                    sx: {\n                                        display: \"flex\",\n                                        gap: 1,\n                                        pt: 1\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                            onClick: ()=>setShowBrandPanel(false),\n                                            children: \"Close\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                            onClick: ()=>setShowBrandPanel(false),\n                                            children: \"Save\"\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0)\n                            ]\n                        }, void 0, true, void 0, void 0)\n                    ]\n                }, void 0, true),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        height: \"calc(100vh - 64px)\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"preview-bar\",\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                    variant: \"h6\",\n                                    sx: {\n                                        flex: 1,\n                                        fontSize: \"0.9rem\",\n                                        fontWeight: 400\n                                    },\n                                    children: viewMode === \"preview\" ? \"Email Preview\" : \"Email Code\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 2384,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"preview-actions\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>setViewMode(viewMode === \"preview\" ? \"code\" : \"preview\"),\n                                            title: viewMode === \"preview\" ? \"Show code\" : \"Show preview\",\n                                            children: viewMode === \"preview\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Code__WEBPACK_IMPORTED_MODULE_40__[\"default\"], {}, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2392,\n                                                columnNumber: 47\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {}, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2392,\n                                                columnNumber: 62\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 2391,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                copyToClipboard(finalHtml);\n                                                addNotification(\"Code copied!\");\n                                            },\n                                            title: \"Copy full email HTML to clipboard\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {}, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2395,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 2394,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 2390,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 2383,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                overflowY: \"auto\",\n                                overflowX: \"hidden\",\n                                padding: \"1rem\",\n                                paddingTop: \"0\",\n                                position: \"relative\"\n                            },\n                            children: viewMode === \"preview\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: previewRef,\n                                \"data-preview-container\": \"true\",\n                                children: [\n                                    showHeaderSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        \"data-section\": \"header\",\n                                        onClick: ()=>setOpenSection(\"header\"),\n                                        dangerouslySetInnerHTML: {\n                                            __html: headerHtml\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 2403,\n                                        columnNumber: 23\n                                    }, this),\n                                    sectionOrder.map((id)=>{\n                                        if (id === \"hero\" && showHeroSection && heroImage) {\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                \"data-section\": \"hero\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_HeroTableModule__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    heroImage: heroImage,\n                                                    heroAlt: heroAlt || brandName,\n                                                    heroHref: heroHref,\n                                                    heroImages: heroImages,\n                                                    updateHero: updateHero,\n                                                    templateId: selectedHeroId,\n                                                    onActivate: ()=>setOpenSection(\"hero\")\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 2409,\n                                                    columnNumber: 30\n                                                }, this)\n                                            }, \"hero\", false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2408,\n                                                columnNumber: 28\n                                            }, this);\n                                        }\n                                        if (id === \"banner\" && showBannerSection && bannerImage) {\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                \"data-section\": \"banner\",\n                                                onClick: ()=>setOpenSection(\"banner\"),\n                                                dangerouslySetInnerHTML: {\n                                                    __html: bannerHtml\n                                                }\n                                            }, \"banner\", false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2423,\n                                                columnNumber: 23\n                                            }, this);\n                                        }\n                                        if (id.startsWith(\"body-\")) {\n                                            const section = bodySections.find((s)=>\"body-\".concat(s.id) === id);\n                                            if (!section) return null;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                \"data-section\": \"body-\".concat(section.id),\n                                                onClick: ()=>setOpenSection(\"body-\".concat(section.id)),\n                                                children: [\n                                                    section.loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: section.urls.filter((u)=>u.trim()).length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                                            variant: \"rectangular\",\n                                                            animation: \"wave\",\n                                                            sx: {\n                                                                mb: 2,\n                                                                width: \"100%\",\n                                                                maxWidth: 600,\n                                                                mx: \"auto\",\n                                                                height: 180,\n                                                                borderRadius: 2,\n                                                                boxShadow: \"var(--shadow-light)\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 2438,\n                                                            columnNumber: 35\n                                                        }, this) : section.urls.filter((u)=>u.trim()).map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                                                variant: \"rectangular\",\n                                                                animation: \"wave\",\n                                                                sx: {\n                                                                    mb: 2,\n                                                                    width: \"100%\",\n                                                                    maxWidth: 600,\n                                                                    mx: \"auto\",\n                                                                    height: 180,\n                                                                    borderRadius: 2,\n                                                                    boxShadow: \"var(--shadow-light)\"\n                                                                }\n                                                            }, i, false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 2453,\n                                                                columnNumber: 37\n                                                            }, this))\n                                                    }, void 0, false),\n                                                    section.selectedBodyId === \"grid\" ? (()=>{\n                                                        const tpl = bodyTemplates.find((t)=>t.id === \"grid\");\n                                                        if (!tpl) return null;\n                                                        // Render grid with clickable images\n                                                        // Use the same table structure as the actual grid template\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                                                    role: \"presentation\",\n                                                                    width: \"100%\",\n                                                                    cellPadding: 0,\n                                                                    cellSpacing: 0,\n                                                                    border: 0,\n                                                                    align: \"center\",\n                                                                    style: {\n                                                                        margin: 0,\n                                                                        padding: 0\n                                                                    },\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                                align: \"center\",\n                                                                                style: {\n                                                                                    margin: 0,\n                                                                                    padding: 0\n                                                                                },\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                                                                    role: \"presentation\",\n                                                                                    width: \"100%\",\n                                                                                    cellPadding: 0,\n                                                                                    cellSpacing: 0,\n                                                                                    border: 0,\n                                                                                    style: {\n                                                                                        maxWidth: 600,\n                                                                                        margin: \"0 auto\",\n                                                                                        background: \"#FFFFFF\"\n                                                                                    },\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                                                style: {\n                                                                                                    padding: 0\n                                                                                                },\n                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                                                                                    role: \"presentation\",\n                                                                                                    width: \"100%\",\n                                                                                                    cellPadding: 0,\n                                                                                                    cellSpacing: 0,\n                                                                                                    border: 0,\n                                                                                                    style: {\n                                                                                                        width: \"100%\",\n                                                                                                        margin: 0,\n                                                                                                        padding: 0\n                                                                                                    },\n                                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                                                                            children: section.products.map((prod, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                                                                    align: \"center\",\n                                                                                                                    valign: \"top\",\n                                                                                                                    style: {\n                                                                                                                        padding: 0,\n                                                                                                                        position: \"relative\",\n                                                                                                                        cursor: \"pointer\",\n                                                                                                                        overflow: \"hidden\"\n                                                                                                                    },\n                                                                                                                    onClick: ()=>setImageSelector({\n                                                                                                                            sectionId: section.id,\n                                                                                                                            productIdx: idx\n                                                                                                                        }),\n                                                                                                                    onMouseEnter: (e)=>{\n                                                                                                                        const img = e.currentTarget.querySelector(\"img\");\n                                                                                                                        const icon = e.currentTarget.querySelector(\".edit-icon\");\n                                                                                                                        if (img) img.style.opacity = \"0.7\";\n                                                                                                                        if (icon) icon.style.transform = \"translateY(-38px)\";\n                                                                                                                    },\n                                                                                                                    onMouseLeave: (e)=>{\n                                                                                                                        const img = e.currentTarget.querySelector(\"img\");\n                                                                                                                        const icon = e.currentTarget.querySelector(\".edit-icon\");\n                                                                                                                        if (img) img.style.opacity = \"1\";\n                                                                                                                        if (icon) icon.style.transform = \"translateY(0)\";\n                                                                                                                    },\n                                                                                                                    children: [\n                                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                                                            src: prod.image,\n                                                                                                                            alt: prod.title || \"\",\n                                                                                                                            style: {\n                                                                                                                                display: \"block\",\n                                                                                                                                width: \"100%\",\n                                                                                                                                height: \"auto\",\n                                                                                                                                border: 0,\n                                                                                                                                outline: 0,\n                                                                                                                                textDecoration: \"none\",\n                                                                                                                                transition: \"opacity 0.2s ease-in-out\"\n                                                                                                                            }\n                                                                                                                        }, void 0, false, {\n                                                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                            lineNumber: 2506,\n                                                                                                                            columnNumber: 63\n                                                                                                                        }, this),\n                                                                                                                        prod.images && prod.images.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                                            className: \"edit-icon\",\n                                                                                                                            style: {\n                                                                                                                                position: \"absolute\",\n                                                                                                                                bottom: -30,\n                                                                                                                                right: 8,\n                                                                                                                                backgroundColor: \"rgba(0,0,0,0.5)\",\n                                                                                                                                color: \"#ffffff\",\n                                                                                                                                borderRadius: \"50%\",\n                                                                                                                                padding: 4,\n                                                                                                                                display: \"flex\",\n                                                                                                                                alignItems: \"center\",\n                                                                                                                                justifyContent: \"center\",\n                                                                                                                                cursor: \"pointer\",\n                                                                                                                                transform: \"translateY(0)\",\n                                                                                                                                transition: \"transform 0.3s ease-in-out\"\n                                                                                                                            },\n                                                                                                                            onClick: (e)=>{\n                                                                                                                                e.stopPropagation();\n                                                                                                                                setImageSelector({\n                                                                                                                                    sectionId: section.id,\n                                                                                                                                    productIdx: idx\n                                                                                                                                });\n                                                                                                                            },\n                                                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                                                                                                style: {\n                                                                                                                                    color: \"#fff\",\n                                                                                                                                    fontSize: 16\n                                                                                                                                }\n                                                                                                                            }, void 0, false, {\n                                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                lineNumber: 2532,\n                                                                                                                                columnNumber: 67\n                                                                                                                            }, this)\n                                                                                                                        }, void 0, false, {\n                                                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                            lineNumber: 2513,\n                                                                                                                            columnNumber: 65\n                                                                                                                        }, this)\n                                                                                                                    ]\n                                                                                                                }, idx, true, {\n                                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                    lineNumber: 2491,\n                                                                                                                    columnNumber: 61\n                                                                                                                }, this))\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                            lineNumber: 2489,\n                                                                                                            columnNumber: 57\n                                                                                                        }, this)\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                        lineNumber: 2488,\n                                                                                                        columnNumber: 55\n                                                                                                    }, this)\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                    lineNumber: 2487,\n                                                                                                    columnNumber: 53\n                                                                                                }, this)\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                lineNumber: 2486,\n                                                                                                columnNumber: 51\n                                                                                            }, this)\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                            lineNumber: 2485,\n                                                                                            columnNumber: 49\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                        lineNumber: 2484,\n                                                                                        columnNumber: 47\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                    lineNumber: 2483,\n                                                                                    columnNumber: 45\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                lineNumber: 2482,\n                                                                                columnNumber: 43\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                            lineNumber: 2481,\n                                                                            columnNumber: 41\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                        lineNumber: 2480,\n                                                                        columnNumber: 39\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 2479,\n                                                                    columnNumber: 37\n                                                                }, this),\n                                                                imageSelector && imageSelector.sectionId === section.id && section.products[imageSelector.productIdx] && (()=>{\n                                                                    // Limit backdrop to main area\n                                                                    const mainPanel =  true ? document.querySelector(\"main\") : 0;\n                                                                    const rect = (mainPanel === null || mainPanel === void 0 ? void 0 : mainPanel.getBoundingClientRect()) || undefined;\n                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_ImageSelector__WEBPACK_IMPORTED_MODULE_11__.ImageSelector, {\n                                                                        images: section.products[imageSelector.productIdx].images || [],\n                                                                        selected: section.products[imageSelector.productIdx].image,\n                                                                        open: true,\n                                                                        onSelect: (img)=>{\n                                                                            updateProductInSection(section.id, imageSelector.productIdx, \"image\", img);\n                                                                            setImageSelector(null);\n                                                                        },\n                                                                        onClose: ()=>setImageSelector(null),\n                                                                        anchorRect: rect\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                        lineNumber: 2554,\n                                                                        columnNumber: 41\n                                                                    }, this);\n                                                                })()\n                                                            ]\n                                                        }, void 0, true);\n                                                    })() : section.products.map((prod, idx)=>{\n                                                        let orientation;\n                                                        if (section.selectedBodyId === \"product-image-left-copy-right\") {\n                                                            orientation = idx % 2 === 0 ? \"left-image\" : \"right-image\";\n                                                        } else {\n                                                            orientation = idx % 2 === 0 ? \"right-image\" : \"left-image\";\n                                                        }\n                                                        // Choose description source for preview (per-product)\n                                                        const dsPrev = prod.descSource || \"metadata\";\n                                                        let chosenDescription = prod.description || \"\";\n                                                        if (dsPrev === \"p\" && prod.descriptionP) {\n                                                            chosenDescription = prod.descriptionP;\n                                                        } else if (dsPrev === \"ul\" && prod.descriptionUl) {\n                                                            chosenDescription = prod.descriptionUl;\n                                                        }\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ProductTableModule__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                            product: {\n                                                                ...prod,\n                                                                description: chosenDescription\n                                                            },\n                                                            index: idx,\n                                                            orientation: orientation,\n                                                            updateProduct: (i, field, value)=>updateProductInSection(section.id, i, field, value),\n                                                            onActivate: ()=>setOpenSection(\"body-\".concat(section.id)),\n                                                            ctaBg: brandPrimary,\n                                                            overlayContainerRef: previewRef,\n                                                            brandName: brandName,\n                                                            descSource: prod.descSource,\n                                                            onChangeDescSource: (src)=>updateProductInSection(section.id, idx, \"descSource\", src)\n                                                        }, \"\".concat(section.id, \"-\").concat(idx), false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 2587,\n                                                            columnNumber: 35\n                                                        }, this);\n                                                    })\n                                                ]\n                                            }, id, true, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2430,\n                                                columnNumber: 27\n                                            }, this);\n                                        }\n                                        return null;\n                                    }),\n                                    showFooterSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        \"data-section\": \"footer\",\n                                        onClick: ()=>setOpenSection(\"footer\"),\n                                        dangerouslySetInnerHTML: {\n                                            __html: footerHtml\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 2609,\n                                        columnNumber: 23\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 2401,\n                                columnNumber: 19\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"code-accordion\",\n                                style: {\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    gap: \"var(--gap-2)\"\n                                },\n                                children: codeSections.map((section)=>{\n                                    const isOpen = openCodeSections[section.key] !== false;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"code-section\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"code-section-header\",\n                                                onClick: ()=>toggleCodeSection(section.key),\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"space-between\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"0.6rem 1rem\",\n                                                    background: \"#f9fafb\",\n                                                    borderBottom: \"1px solid #e5e7eb\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: section.title\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 2623,\n                                                        columnNumber: 29\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"code-actions\",\n                                                        style: {\n                                                            display: \"flex\",\n                                                            alignItems: \"center\",\n                                                            gap: \"var(--gap-2)\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                onClick: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    toggleCodeSection(section.key);\n                                                                },\n                                                                title: isOpen ? \"Collapse section\" : \"Expand section\",\n                                                                children: isOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {}, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 2626,\n                                                                    columnNumber: 43\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {}, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 2626,\n                                                                    columnNumber: 64\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 2625,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                onClick: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    copyToClipboard(section.code);\n                                                                    addNotification(\"Code copied!\");\n                                                                },\n                                                                title: \"Copy code to clipboard\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {}, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 2629,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 2628,\n                                                                columnNumber: 31\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 2624,\n                                                        columnNumber: 29\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2618,\n                                                columnNumber: 27\n                                            }, this),\n                                            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                style: {\n                                                    margin: 0,\n                                                    maxHeight: \"200px\",\n                                                    overflow: \"auto\",\n                                                    background: \"#ffffff\",\n                                                    padding: \"0.5rem 1rem\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                                    dangerouslySetInnerHTML: {\n                                                        __html: highlight(section.code)\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 2635,\n                                                    columnNumber: 31\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2634,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, section.key, true, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 2617,\n                                        columnNumber: 25\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 2613,\n                                columnNumber: 19\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 2399,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 2382,\n                    columnNumber: 13\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 2054,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Snackbar__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                open: snackbarOpen,\n                autoHideDuration: 3000,\n                onClose: ()=>setSnackbarOpen(false),\n                message: snackbarMsg,\n                anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\"\n                }\n            }, void 0, false, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 2647,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(Home, \"2ktug0wMHPo/FESsc/7d2uyb/Uk=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.useSensors\n    ];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b04sU0FBUyxxQkFBcUI7MEVBQ3hIQSx1QkFBUyw4REFBQzFTLHVFQUFjQTs7Ozt5RkFBTSw4REFBQ0MsdUVBQWNBOzs7Ozs7Ozs7OzBFQUVoRCw4REFBQ3pCLGlFQUFVQTtnRUFBQzBHLFNBQVMsQ0FBQ0U7b0VBQVFBLEVBQUVDLGVBQWU7b0VBQUl3WSxnQkFBZ0I1YixRQUFRbVksSUFBSTtvRUFBR3pILGdCQUFnQjtnRUFBaUI7Z0VBQUdyTixPQUFNOzBFQUMxSCw0RUFBQzlGLHdFQUFlQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0Q0FJckJrVCx3QkFDQyw4REFBQ29TO2dEQUFJbGdCLE9BQU87b0RBQUVtZSxRQUFRO29EQUFHckMsV0FBVztvREFBUzBDLFVBQVU7b0RBQVExRSxZQUFZO29EQUFXRyxTQUFTO2dEQUFjOzBEQUMzRyw0RUFBQ3pFO29EQUFLZ0kseUJBQXlCO3dEQUFFQyxRQUFRakUsVUFBVW5jLFFBQVFtWSxJQUFJO29EQUFFOzs7Ozs7Ozs7Ozs7dUNBbEI3RG5ZLFFBQVFnSCxHQUFHOzs7OztnQ0F1QnpCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQU9kLDhEQUFDbkwsK0RBQVFBO2dCQUNQcW1CLE1BQU1oUztnQkFDTjRTLGtCQUFrQjtnQkFDbEJWLFNBQVMsSUFBTWpTLGdCQUFnQjtnQkFDL0JRLFNBQVNQO2dCQUNUMlMsY0FBYztvQkFBRUMsVUFBVTtvQkFBVUMsWUFBWTtnQkFBTzs7Ozs7Ozs7QUFJL0Q7R0ExOEV3QmxrQjs7UUFtR05ULHNEQUFVQTs7O0tBbkdKUyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9pbmRleC50c3g/MDdmZiJdLCJzb3VyY2VzQ29udGVudCI6WyIgIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi5cblxuLy8gLi4uZXhpc3RpbmcgY29kZS4uLlxuLy8gLi4uZXhpc3RpbmcgY29kZS4uLlxuXG4gIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi5cbiAgLy8gUGxhY2UgdGhpcyBhZnRlciBib2R5U2VjdGlvbnMgYW5kIGdlbmVyYXRlU2VjdGlvbiBhcmUgZGVmaW5lZFxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgUmVhY3ROb2RlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgQXBwTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvQXBwTGF5b3V0JztcbmltcG9ydCBTa2VsZXRvbiBmcm9tICdAbXVpL21hdGVyaWFsL1NrZWxldG9uJztcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbXVpL21hdGVyaWFsL1NuYWNrYmFyJztcbi8vIE1VSSBjb21wb25lbnRzIGZvciBCcmFuZCBDdXN0b21pc2F0aW9uIHBhbmVsXG5pbXBvcnQgRHJhd2VyIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRHJhd2VyJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtdWkvbWF0ZXJpYWwvVHlwb2dyYXBoeSc7XG5pbXBvcnQgQm94IGZyb20gJ0BtdWkvbWF0ZXJpYWwvQm94JztcbmltcG9ydCBTdGFjayBmcm9tICdAbXVpL21hdGVyaWFsL1N0YWNrJztcbmltcG9ydCBGb3JtQ29udHJvbCBmcm9tICdAbXVpL21hdGVyaWFsL0Zvcm1Db250cm9sJztcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2cnO1xuaW1wb3J0IERpYWxvZ1RpdGxlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nVGl0bGUnO1xuaW1wb3J0IERpYWxvZ0NvbnRlbnQgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2dDb250ZW50JztcbmltcG9ydCBEaWFsb2dBY3Rpb25zIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nQWN0aW9ucyc7XG5pbXBvcnQgSW5wdXRMYWJlbCBmcm9tICdAbXVpL21hdGVyaWFsL0lucHV0TGFiZWwnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICdAbXVpL21hdGVyaWFsL1NlbGVjdCc7XG5pbXBvcnQgTWVudUl0ZW0gZnJvbSAnQG11aS9tYXRlcmlhbC9NZW51SXRlbSc7XG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ0BtdWkvbWF0ZXJpYWwvVGV4dEZpZWxkJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQG11aS9tYXRlcmlhbC9CdXR0b24nO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG11aS9tYXRlcmlhbC9JY29uQnV0dG9uJztcbmltcG9ydCBEaXZpZGVyIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGl2aWRlcic7XG4vLyBQYWRkaW5nIHRvZ2dsZXMgcmVtb3ZlZFxuaW1wb3J0IFBhcGVyIGZyb20gJ0BtdWkvbWF0ZXJpYWwvUGFwZXInO1xuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Nsb3NlJztcbmltcG9ydCB7IE11aUNvbG9ySW5wdXQgfSBmcm9tICdtdWktY29sb3ItaW5wdXQnO1xuaW1wb3J0IElucHV0QWRvcm5tZW50IGZyb20gJ0BtdWkvbWF0ZXJpYWwvSW5wdXRBZG9ybm1lbnQnO1xuLy8gUmVtb3ZlZCBwYWRkaW5nIGNvbnRyb2xzXG5pbXBvcnQgVXBsb2FkRmlsZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9VcGxvYWRGaWxlJztcbmltcG9ydCBCYWNrZHJvcCBmcm9tICdAbXVpL21hdGVyaWFsL0JhY2tkcm9wJztcbmltcG9ydCB7XG4gIGRlZmF1bHRUZW1wbGF0ZXMgYXMgZGVmYXVsdEJvZHlUZW1wbGF0ZXMsXG4gIFRlbXBsYXRlIGFzIEJvZHlUZW1wbGF0ZSxcbiAgcmVuZGVyVGVtcGxhdGVcbn0gZnJvbSAnLi4vZGF0YS90ZW1wbGF0ZXMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEhlYWRlclRlbXBsYXRlcyxcbiAgSGVhZGVyVGVtcGxhdGVcbn0gZnJvbSAnLi4vZGF0YS9oZWFkZXJUZW1wbGF0ZXMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEZvb3RlclRlbXBsYXRlcyxcbiAgRm9vdGVyVGVtcGxhdGVcbn0gZnJvbSAnLi4vZGF0YS9mb290ZXJUZW1wbGF0ZXMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEhlcm9UZW1wbGF0ZXMsXG4gIEhlcm9UZW1wbGF0ZVxufSBmcm9tICcuLi9kYXRhL2hlcm9UZW1wbGF0ZXMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEJhbm5lclRlbXBsYXRlcyxcbiAgQmFubmVyVGVtcGxhdGVcbn0gZnJvbSAnLi4vZGF0YS9iYW5uZXJUZW1wbGF0ZXMnO1xuaW1wb3J0IHsgUHJvZHVjdERhdGEgfSBmcm9tICcuLi9saWIvdHlwZXMnO1xuLy8gSW1wb3J0IGludGVyYWN0aXZlIG1vZHVsZXMgZm9yIHByZXZpZXcuIFByb2R1Y3RUYWJsZU1vZHVsZSByZW5kZXJzXG4vLyBlYWNoIHByb2R1Y3QgbW9kdWxlIHdpdGggaW5saW5lIGVkaXRpbmcgYW5kIGltYWdlIHNlbGVjdGlvbi4gVGhlXG4vLyBIZXJvVGFibGVNb2R1bGUgcmVuZGVycyB0aGUgaGVybyBzZWN0aW9uIHdpdGggaW1hZ2Ugc2VsZWN0aW9uLlxuaW1wb3J0IFByb2R1Y3RUYWJsZU1vZHVsZSBmcm9tICcuLi9jb21wb25lbnRzL1Byb2R1Y3RUYWJsZU1vZHVsZSc7XG5pbXBvcnQgeyBJbWFnZVNlbGVjdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9zaGFyZWQvSW1hZ2VTZWxlY3Rvcic7XG5pbXBvcnQgSGVyb1RhYmxlTW9kdWxlIGZyb20gJy4uL2NvbXBvbmVudHMvSGVyb1RhYmxlTW9kdWxlJztcbi8vIFByb2R1Y3RUYWJsZU1vZHVsZSB3YXMgdXNlZCBmb3IgYW4gaW50ZXJhY3RpdmUgcHJldmlldyBpbiBlYXJsaWVyIHZlcnNpb25zLiBXaGVuXG4vLyByZW5kZXJpbmcgdmlhIE9wdGlvbsKgQSB0aGUgcHJldmlldyB1c2VzIHRoZSBjb21waWxlZCBIVE1MIGRpcmVjdGx5IHNvIHdlXG4vLyBubyBsb25nZXIgaW1wb3J0IG9yIHVzZSBQcm9kdWN0VGFibGVNb2R1bGUgaGVyZS5cblxuLy8gTVVJIEljb25zXG5pbXBvcnQgQ29udGVudENvcHlJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ29udGVudENvcHknO1xuaW1wb3J0IENvZGVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ29kZSc7XG5pbXBvcnQgVmlzaWJpbGl0eUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9WaXNpYmlsaXR5JztcbmltcG9ydCBBZGRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQWRkJztcbmltcG9ydCBDbG9zZUljb24yIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ2xvc2UnO1xuaW1wb3J0IFNhdmVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU2F2ZSc7XG5pbXBvcnQgRWRpdEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9FZGl0JztcbmltcG9ydCBTZXR0aW5nc0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TZXR0aW5ncyc7XG5pbXBvcnQgRGVsZXRlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0RlbGV0ZSc7XG5pbXBvcnQgRXhwYW5kTGVzc0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9FeHBhbmRMZXNzJztcbmltcG9ydCBFeHBhbmRNb3JlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0V4cGFuZE1vcmUnO1xuaW1wb3J0IERyYWdJbmRpY2F0b3JJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRHJhZ0luZGljYXRvcic7XG5pbXBvcnQge1xuICBEbmRDb250ZXh0LFxuICBjbG9zZXN0Q2VudGVyLFxuICBQb2ludGVyU2Vuc29yLFxuICB1c2VTZW5zb3IsXG4gIHVzZVNlbnNvcnMsXG4gIERyYWdFbmRFdmVudFxufSBmcm9tICdAZG5kLWtpdC9jb3JlJztcbmltcG9ydCB7XG4gIGFycmF5TW92ZSxcbiAgU29ydGFibGVDb250ZXh0LFxuICB2ZXJ0aWNhbExpc3RTb3J0aW5nU3RyYXRlZ3ksXG4gIHVzZVNvcnRhYmxlXG59IGZyb20gJ0BkbmQta2l0L3NvcnRhYmxlJztcbmltcG9ydCB7IHJlc3RyaWN0VG9WZXJ0aWNhbEF4aXMgfSBmcm9tICdAZG5kLWtpdC9tb2RpZmllcnMnO1xuaW1wb3J0IHsgQ1NTIH0gZnJvbSAnQGRuZC1raXQvdXRpbGl0aWVzJztcbmltcG9ydCBIdG1sVGh1bWJuYWlsIGZyb20gJy4uL2NvbXBvbmVudHMvc2hhcmVkL0h0bWxUaHVtYm5haWwnO1xuLy8gUHJpc21KUyBpcyBsb2FkZWQgZHluYW1pY2FsbHkgb24gdGhlIGNsaWVudC4gV2UgYXZvaWQgaW1wb3J0aW5nIGl0IGF0XG4vLyB0aGUgdG9wIGxldmVsIGJlY2F1c2UgdGhhdCBjYW4gY2F1c2UgaXNzdWVzIHdpdGggc2VydmVy4oCRc2lkZVxuLy8gcmVuZGVyaW5nIGluIE5leHQuanMuIEluc3RlYWQgd2UgbG9hZCBpdCBpbiBhIHVzZUVmZmVjdCBob29rIGFuZFxuLy8gc3RvcmUgdGhlIHJlZmVyZW5jZSBpbiBhIHJlZi4gU2VlIHRoZSBoaWdobGlnaHQoKSBoZWxwZXIgYmVsb3cuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4vLyAoUHJpc20gaXMgaW50ZW50aW9uYWxseSBub3QgaW1wb3J0ZWQgaGVyZSlcblxuLy8gRm9udEF3ZXNvbWUgaWNvbnMgZm9yIHRoZSBjb3B5IGJ1dHRvbi4gVGhlIGljb25zIGFyZSBvbmx5XG4vLyBpbXBvcnRlZCB3aGVuIHVzZWQgd2hpY2gga2VlcHMgdGhlIGJ1bmRsZSBzaXplIHNtYWxsLiBJZiB0aGVcbi8vIGltcG9ydCBmYWlscyBncmFjZWZ1bGx5IHRoZSBhcHBsaWNhdGlvbiB3aWxsIHN0aWxsIGZ1bmN0aW9uLlxuXG5pbnRlcmZhY2UgR2VuZXJhdGVSZXNwb25zZSB7XG4gIGh0bWw6IHN0cmluZztcbiAgcHJvZHVjdHM6IGFueVtdO1xufVxuXG4vKipcbiAqIE1hcCBhIGJvZHkgdGVtcGxhdGUgdG8gaXRzIGFsdGVybmF0aW5nIHZhcmlhbnQuIFdoZW4gcmVuZGVyaW5nXG4gKiBtdWx0aXBsZSBwcm9kdWN0cyBmcm9tIHRoZSBzYW1lIHRlbXBsYXRlLCBldmVyeSBvdGhlciBwcm9kdWN0XG4gKiBhbHRlcm5hdGVzIG9yaWVudGF0aW9uIHRvIHByb3ZpZGUgdmlzdWFsIHZhcmlldHkuIEtleXMgY29ycmVzcG9uZFxuICogdG8gdGVtcGxhdGUgSURzIGRlZmluZWQgaW4gZGF0YS90ZW1wbGF0ZXMudHMuIFRoaXMgY29uc3RhbnQgaXNcbiAqIGRlZmluZWQgaGVyZSB0byBhdm9pZCBSZWZlcmVuY2VFcnJvciB3aGVuIHJlZmVyZW5jZWQgYmVmb3JlIGl0c1xuICogZGVjbGFyYXRpb24uIFNlZSBjb2RlIHNlY3Rpb25zIHdoZXJlIGFsdGVybmF0ZU1hcCBpcyB1c2VkLlxuICovXG5jb25zdCBhbHRlcm5hdGVNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICdwcm9kdWN0LWltYWdlLWxlZnQtY29weS1yaWdodCc6ICdwcm9kdWN0LWNvcHktbGVmdC1pbWFnZS1yaWdodCcsXG4gICdwcm9kdWN0LWNvcHktbGVmdC1pbWFnZS1yaWdodCc6ICdwcm9kdWN0LWltYWdlLWxlZnQtY29weS1yaWdodCdcbn07XG5cbi8vIEJvdHRvbSBwYWRkaW5nIGZ1bmN0aW9uYWxpdHkgcmVtb3ZlZFxuXG4vKipcbiAqIEVhY2ggYm9keSBzZWN0aW9uIGNvbnRhaW5zIGl0cyBvd24gbGlzdCBvZiBwcm9kdWN0IFVSTHMsIHBhcnNlZFxuICogcHJvZHVjdCBkYXRhIGFuZCBzZWxlY3RlZCB0ZW1wbGF0ZS4gU2VjdGlvbnMgYXJlIHJlbmRlcmVkIGluIHRoZVxuICogb3JkZXIgZGVmaW5lZCBpbiB0aGUgYXJyYXkuIFdoZW4gZHVwbGljYXRpbmcgYSBib2R5LCBhIG5ld1xuICogc2VjdGlvbiBlbnRyeSBpcyBhZGRlZCB3aXRoIGl0cyBvd24gc3RhdGUuIFRoZSBsb2FkaW5nIGZsYWcgaXNcbiAqIHVzZWQgdG8gZGlzYWJsZSB0aGUgZ2VuZXJhdGUgYnV0dG9uIHdoaWxlIHRoZSBiYWNrZW5kIGNhbGwgaXNcbiAqIGluIHByb2dyZXNzLlxuICovXG5pbnRlcmZhY2UgQm9keVNlY3Rpb24ge1xuICBpZDogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG4gIHVybHM6IHN0cmluZ1tdOyAvLyBjb21taXR0ZWQgVVJMcyB1c2VkIGZvciBnZW5lcmF0aW9uXG4gIHByb2R1Y3RzOiBQcm9kdWN0RGF0YVtdO1xuICBzZWxlY3RlZEJvZHlJZDogc3RyaW5nO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICAvKiogU291cmNlIG9mIGRlc2NyaXB0aW9uIHRvIHVzZSBmb3IgcHJvZHVjdHMgaW4gdGhpcyBzZWN0aW9uICovXG4gIGRlc2NyaXB0aW9uU291cmNlPzogJ21ldGFkYXRhJyB8ICdwJyB8ICd1bCc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIC8vIFVuaXZlcnNhbCBpbWFnZSBzZWxlY3RvciBzdGF0ZTogd2hpY2ggc2VjdGlvbiBhbmQgcHJvZHVjdCBpbmRleCBpcyBvcGVuXG4gIGNvbnN0IFtpbWFnZVNlbGVjdG9yLCBzZXRJbWFnZVNlbGVjdG9yXSA9IHVzZVN0YXRlPHsgc2VjdGlvbklkOiBudW1iZXI7IHByb2R1Y3RJZHg6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XG4gIC8qKlxuICAgKiBDdXJyZW50bHkgc2VsZWN0ZWQgbW9kdWxlIHNlY3Rpb24uIFVzZXJzIGNhbiBzd2l0Y2ggYmV0d2VlblxuICAgKiBlZGl0aW5nIHRoZSBoZWFkZXIsIGJvZHkgb3IgZm9vdGVyLiBEZWZhdWx0IHRvIHRoZSBib2R5XG4gICAqIHNlY3Rpb24gYXMgaXQgY29udGFpbnMgdGhlIG1haW4gcHJvZHVjdCBtb2R1bGVzLlxuICAgKi9cbiAgLy8gQWNjb3JkaW9uIG9wZW4gc2VjdGlvbiBzdGF0ZS4gT25seSBvbmUgc2VjdGlvbiAoaGVhZGVyLCBib2R5IG9yXG4gIC8vIGZvb3RlcikgY2FuIGJlIGV4cGFuZGVkIGF0IGEgdGltZS4gRGVmYXVsdHMgdG8gYm9keSBiZWNhdXNlIHRoZVxuICAvLyBib2R5IGNvbnRhaW5zIHRoZSBwcm9kdWN0IGxpc3QgYW5kIGlzIHRoZSBwcmltYXJ5IGZvY3VzLlxuICAvLyBUcmFjayB3aGljaCBhY2NvcmRpb24gcGFuZWwgaXMgb3Blbi4gS2V5cyBpbmNsdWRlICdoZWFkZXInLCAnaGVybycsXG4gIC8vICdmb290ZXInIGFuZCBkeW5hbWljIGJvZHkgaWRlbnRpZmllcnMgbGlrZSAnYm9keS0xJywgJ2JvZHktMicsIGV0Yy5cbiAgY29uc3QgW29wZW5TZWN0aW9uLCBzZXRPcGVuU2VjdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdib2R5LTEnKTtcblxuICAvKipcbiAgICogVG9nZ2xlIGFuIGFjY29yZGlvbiBwYW5lbCBvcGVuIG9yIGNsb3NlZC4gV2hlbiB0aGUgZ2l2ZW5cbiAgICogaWRlbnRpZmllciBtYXRjaGVzIHRoZSBjdXJyZW50IG9wZW5TZWN0aW9uLCB0aGUgcGFuZWwgaXNcbiAgICogY29sbGFwc2VkLiBPdGhlcndpc2UgaXQgYmVjb21lcyB0aGUgbmV3IG9wZW4gcGFuZWwuIFRoaXMgaGVscGVyXG4gICAqIHByZXZlbnRzIGFkZGl0aW9uYWwgbG9naWMgZnJvbSBiZWluZyBkdXBsaWNhdGVkIG9uIGNsaWNrXG4gICAqIGhhbmRsZXJzIHRocm91Z2hvdXQgdGhlIFVJLlxuICAgKi9cbiAgY29uc3QgaGFuZGxlQWNjb3JkaW9uVG9nZ2xlID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRPcGVuU2VjdGlvbigocHJldikgPT4gKHByZXYgPT09IGlkID8gJycgOiBpZCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaWV3IG1vZGUgd2l0aGluIGEgbW9kdWxlLiBVc2VycyBjYW4gdG9nZ2xlIGJldHdlZW4gYSBsaXZlXG4gICAqIHByZXZpZXcgb2YgdGhlIHNlbGVjdGVkIG1vZHVsZSBvciB0aGUgZ2VuZXJhdGVkIEhUTUwgY29kZS4gVGhpc1xuICAgKiB0b2dnbGUgaXMgc2NvcGVkIHRvIHRoZSBwcmV2aWV3L2VkaXQgYXJlYSBhbmQgbm90IHRoZSBtb2R1bGVcbiAgICogdGFicyB0aGVtc2VsdmVzLiBEZWZhdWx0IHRvIHByZXZpZXcuXG4gICAqL1xuICAvLyBWaWV3IG1vZGUgdG9nZ2xlcyBiZXR3ZWVuIGEgZnVsbCBlbWFpbCBwcmV2aWV3IGFuZCB0aGUgZ2VuZXJhdGVkIEhUTUxcbiAgLy8gY29kZSBmb3IgdGhlIGJvZHkgbW9kdWxlcy4gVGhpcyBhcHBsaWVzIHRvIHRoZSBlbnRpcmUgbWVzc2FnZVxuICAvLyAoaGVhZGVyICsgYm9keSBtb2R1bGVzICsgZm9vdGVyKSBhbmQgbm90IGluZGl2aWR1YWwgc2VjdGlvbnMuIERlZmF1bHRcbiAgLy8gdG8gcHJldmlldy5cbiAgY29uc3QgW3ZpZXdNb2RlLCBzZXRWaWV3TW9kZV0gPSB1c2VTdGF0ZTwncHJldmlldycgfCAnY29kZSc+KCdwcmV2aWV3Jyk7XG4gIC8qKlxuICAgKiBCb2R5IHNlY3Rpb25zLiBFYWNoIHNlY3Rpb24gaGFzIGl0cyBvd24gbGlzdCBvZiBVUkxzLCBwYXJzZWRcbiAgICogcHJvZHVjdHMgYW5kIHNlbGVjdGVkIHRlbXBsYXRlLiBTZWN0aW9ucyBhcmUgcmVuZGVyZWQgaW4gb3JkZXIgYW5kXG4gICAqIGNhbiBiZSBpbmRlcGVuZGVudGx5IGdlbmVyYXRlZC4gQSBsb2FkaW5nIGZsYWcgaXMgc3RvcmVkIHBlclxuICAgKiBzZWN0aW9uLlxuICAgKi9cbiAgY29uc3QgW2JvZHlTZWN0aW9ucywgc2V0Qm9keVNlY3Rpb25zXSA9IHVzZVN0YXRlPEJvZHlTZWN0aW9uW10+KFtdKTtcblxuICAvLyBEcmFmdCBVUkxzIHBlciBzZWN0aW9uIGlkOyBrZWVwcyB0eXBpbmcgbG9jYWwgd2l0aG91dCByZS1yZW5kZXJpbmcgbWFpbiBjb21wb3NlXG4gIGNvbnN0IFtkcmFmdFVybHMsIHNldERyYWZ0VXJsc10gPSB1c2VTdGF0ZTxSZWNvcmQ8bnVtYmVyLCBzdHJpbmdbXT4+KHt9KTtcblxuICBjb25zdCBnZXREcmFmdFVybHMgPSB1c2VDYWxsYmFjayhcbiAgICAoc2VjdGlvbklkOiBudW1iZXIpOiBzdHJpbmdbXSA9PiB7XG4gICAgICBjb25zdCBleGlzdGluZyA9IGRyYWZ0VXJsc1tzZWN0aW9uSWRdO1xuICAgICAgaWYgKGV4aXN0aW5nKSByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICBjb25zdCBzZWN0aW9uID0gYm9keVNlY3Rpb25zLmZpbmQoKHMpID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgICByZXR1cm4gc2VjdGlvbiA/IHNlY3Rpb24udXJscyA6IFtdO1xuICAgIH0sXG4gICAgW2RyYWZ0VXJscywgYm9keVNlY3Rpb25zXVxuICApO1xuXG4gIC8vIFZpc2liaWxpdHkgdG9nZ2xlcyBmb3Igb3B0aW9uYWwgc2VjdGlvbnNcbiAgY29uc3QgW3Nob3dIZWFkZXJTZWN0aW9uLCBzZXRTaG93SGVhZGVyU2VjdGlvbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3Nob3dIZXJvU2VjdGlvbiwgc2V0U2hvd0hlcm9TZWN0aW9uXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd0Jhbm5lclNlY3Rpb24sIHNldFNob3dCYW5uZXJTZWN0aW9uXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd0Zvb3RlclNlY3Rpb24sIHNldFNob3dGb290ZXJTZWN0aW9uXSA9IHVzZVN0YXRlKHRydWUpO1xuICAvLyBPcmRlciBvZiBkcmFnZ2FibGUgc2VjdGlvbnMgaW5jbHVkaW5nIGhlYWRlci9mb290ZXJcbiAgY29uc3QgW3NlY3Rpb25PcmRlciwgc2V0U2VjdGlvbk9yZGVyXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXG4gICAgJ2hlcm8nLFxuICAgIC4uLmJvZHlTZWN0aW9ucy5tYXAoKHMpID0+IGBib2R5LSR7cy5pZH1gKSxcbiAgICAnYmFubmVyJ1xuICBdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4ge1xuICAgICAgY29uc3QgZmlsdGVyZWQgPSBwcmV2LmZpbHRlcigoaWQpID0+IHtcbiAgICAgICAgaWYgKGlkID09PSAnaGVybycgJiYgIXNob3dIZXJvU2VjdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoaWQgPT09ICdiYW5uZXInICYmICFzaG93QmFubmVyU2VjdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoaWQuc3RhcnRzV2l0aCgnYm9keS0nKSkge1xuICAgICAgICAgIHJldHVybiBib2R5U2VjdGlvbnMuc29tZSgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGVzaXJlZCA9IFtcbiAgICAgICAgLi4uKHNob3dIZXJvU2VjdGlvbiA/IFsnaGVybyddIDogW10pLFxuICAgICAgICAuLi5ib2R5U2VjdGlvbnMubWFwKChzKSA9PiBgYm9keS0ke3MuaWR9YCksXG4gICAgICAgIC4uLihzaG93QmFubmVyU2VjdGlvbiA/IFsnYmFubmVyJ10gOiBbXSlcbiAgICAgIF07XG4gICAgICBkZXNpcmVkLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIGlmICghZmlsdGVyZWQuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgaWYgKGlkLnN0YXJ0c1dpdGgoJ2JvZHktJykgJiYgZmlsdGVyZWQuaW5jbHVkZXMoJ2Jhbm5lcicpKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoZmlsdGVyZWQuaW5kZXhPZignYmFubmVyJyksIDAsIGlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsdGVyZWQucHVzaChpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICB9KTtcbiAgfSwgW2JvZHlTZWN0aW9ucywgc2hvd0hlcm9TZWN0aW9uLCBzaG93QmFubmVyU2VjdGlvbl0pO1xuXG4gIC8vIERyYWctYW5kLWRyb3Agc2Vuc29ycyBhbmQgaGFuZGxlciBmb3IgcmVvcmRlcmluZyBzZWN0aW9uc1xuICBjb25zdCBzZW5zb3JzID0gdXNlU2Vuc29ycyh1c2VTZW5zb3IoUG9pbnRlclNlbnNvcikpO1xuXG4gIGNvbnN0IGhhbmRsZVNlY3Rpb25EcmFnRW5kID0gKGV2ZW50OiBEcmFnRW5kRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGFjdGl2ZSwgb3ZlciB9ID0gZXZlbnQ7XG4gICAgaWYgKCFvdmVyIHx8IGFjdGl2ZS5pZCA9PT0gb3Zlci5pZCkgcmV0dXJuO1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4ge1xuICAgICAgY29uc3Qgb2xkSW5kZXggPSBwcmV2LmluZGV4T2YoYWN0aXZlLmlkIGFzIHN0cmluZyk7XG4gICAgICBjb25zdCBuZXdJbmRleCA9IHByZXYuaW5kZXhPZihvdmVyLmlkIGFzIHN0cmluZyk7XG4gICAgICByZXR1cm4gYXJyYXlNb3ZlKHByZXYsIG9sZEluZGV4LCBuZXdJbmRleCk7XG4gICAgfSk7XG4gICAgaWYgKFxuICAgICAgU3RyaW5nKGFjdGl2ZS5pZCkuc3RhcnRzV2l0aCgnYm9keS0nKSAmJlxuICAgICAgU3RyaW5nKG92ZXIuaWQpLnN0YXJ0c1dpdGgoJ2JvZHktJylcbiAgICApIHtcbiAgICAgIHNldEJvZHlTZWN0aW9ucygoc2VjdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkSW5kZXggPSBzZWN0aW9ucy5maW5kSW5kZXgoKHMpID0+IGBib2R5LSR7cy5pZH1gID09PSBhY3RpdmUuaWQpO1xuICAgICAgICBjb25zdCBuZXdJbmRleCA9IHNlY3Rpb25zLmZpbmRJbmRleCgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IG92ZXIuaWQpO1xuICAgICAgICByZXR1cm4gYXJyYXlNb3ZlKHNlY3Rpb25zLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IFNvcnRhYmxlQm9keVNlY3Rpb246IFJlYWN0LkZDPHsgc2VjdGlvbjogQm9keVNlY3Rpb24gfT4gPSAoeyBzZWN0aW9uIH0pID0+IHtcbiAgICBjb25zdCB7IGF0dHJpYnV0ZXMsIGxpc3RlbmVycywgc2V0Tm9kZVJlZiwgdHJhbnNmb3JtLCB0cmFuc2l0aW9uIH0gPSB1c2VTb3J0YWJsZSh7IGlkOiBgYm9keS0ke3NlY3Rpb24uaWR9YCB9KTtcbiAgICBjb25zdCB7IFsnYXJpYS1kZXNjcmliZWRieSddOiBfYXJpYURlc2NyaWJlZEJ5LCAuLi5zb3J0YWJsZUF0dHJpYnV0ZXMgfSA9IGF0dHJpYnV0ZXMgYXMgYW55O1xuICAgIGNvbnN0IHN0eWxlID0geyB0cmFuc2Zvcm06IENTUy5UcmFuc2Zvcm0udG9TdHJpbmcodHJhbnNmb3JtKSwgdHJhbnNpdGlvbiB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLXNlY3Rpb24ke29wZW5TZWN0aW9uID09PSBgYm9keS0ke3NlY3Rpb24uaWR9YCA/ICcgb3BlbicgOiAnJ31gfSByZWY9e3NldE5vZGVSZWZ9IHN0eWxlPXtzdHlsZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLWhlYWRlciR7b3BlblNlY3Rpb24gPT09IGBib2R5LSR7c2VjdGlvbi5pZH1gID8gJyBvcGVuJyA6ICcnfWB9IG9uQ2xpY2s9eygpID0+IGhhbmRsZUFjY29yZGlvblRvZ2dsZShgYm9keS0ke3NlY3Rpb24uaWR9YCl9PlxuICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgIHsuLi5zb3J0YWJsZUF0dHJpYnV0ZXN9XG4gICAgICAgICAgICB7Li4ubGlzdGVuZXJzfVxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgICB0aXRsZT1cIlJlb3JkZXIgc2VjdGlvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPERyYWdJbmRpY2F0b3JJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgPHNwYW4+e3NlY3Rpb24ubmFtZX08L3NwYW4+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5MZWZ0OiAnYXV0bycgfX0+XG4gICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUJvZHlTZWN0aW9uKHNlY3Rpb24uaWQpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT1cIlJlbW92ZSBzZWN0aW9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPERlbGV0ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoYGJvZHktJHtzZWN0aW9uLmlkfWApO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT17b3BlblNlY3Rpb24gPT09IGBib2R5LSR7c2VjdGlvbi5pZH1gID8gJ0NvbGxhcHNlIHNlY3Rpb24nIDogJ0V4cGFuZCBzZWN0aW9uJ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge29wZW5TZWN0aW9uID09PSBgYm9keS0ke3NlY3Rpb24uaWR9YCA/IChcbiAgICAgICAgICAgICAgICA8RXhwYW5kTGVzc0ljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxFeHBhbmRNb3JlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7b3BlblNlY3Rpb24gPT09IGBib2R5LSR7c2VjdGlvbi5pZH1gICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjY29yZGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgICB7LyogTW92ZSBUZW1wbGF0ZSArIERlc2NyaXB0aW9uIFNvdXJjZSBjb250cm9scyBhYm92ZSBVUkxzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZW1wbGF0ZS1yb3dcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxuICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2wgZnVsbFdpZHRoIHZhcmlhbnQ9XCJvdXRsaW5lZFwiPlxuICAgICAgICAgICAgICAgIDxJbnB1dExhYmVsIGlkPXtgYm9keS10ZW1wbGF0ZS0ke3NlY3Rpb24uaWR9YH0+VGVtcGxhdGU8L0lucHV0TGFiZWw+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgbGFiZWxJZD17YGJvZHktdGVtcGxhdGUtJHtzZWN0aW9uLmlkfWB9XG4gICAgICAgICAgICAgICAgICBpZD17YGJvZHktdGVtcGxhdGUtc2VsZWN0LSR7c2VjdGlvbi5pZH1gfVxuICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUZW1wbGF0ZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c2VjdGlvbi5zZWxlY3RlZEJvZHlJZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VjdGlvblRlbXBsYXRlKHNlY3Rpb24uaWQsIGUudGFyZ2V0LnZhbHVlIGFzIHN0cmluZyl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2JvZHlUZW1wbGF0ZXMubWFwKCh0cGwpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGtleT17dHBsLmlkfSB2YWx1ZT17dHBsLmlkfT57dHBsLm5hbWV9PC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRCb2R5RWRpdE1vZGUoKHYpID0+ICF2KX0gdGl0bGU9e2JvZHlFZGl0TW9kZSA/ICdDbG9zZSBlZGl0b3InIDogJ0VkaXQgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICA8RWRpdEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dOZXdCb2R5KCh2KSA9PiAhdil9IHRpdGxlPXtzaG93TmV3Qm9keSA/ICdDYW5jZWwgbmV3IHRlbXBsYXRlJyA6ICdBZGQgbmV3IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgPEFkZEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtib2R5RWRpdE1vZGUgJiYgKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9e2Bib2R5LWRyYWZ0LWh0bWwtJHtzZWN0aW9uLmlkfWB9IGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtkcmFmdEJvZHlIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldERyYWZ0Qm9keUh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs4fSBmdWxsV2lkdGggbXVsdGlsaW5lIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEJvZHlFZGl0TW9kZShmYWxzZSl9IHRpdGxlPVwiQ2FuY2VsIGVkaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzYXZlQm9keUVkaXRzKCk7IHNldEJvZHlFZGl0TW9kZShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7c2hvd05ld0JvZHkgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1mb3JtXCI+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD17YGJvZHktbmV3LW5hbWUtJHtzZWN0aW9uLmlkfWB9IGxhYmVsPVwiVGVtcGxhdGUgbmFtZVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e25ld0JvZHlOYW1lfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0JvZHlOYW1lKGUudGFyZ2V0LnZhbHVlKX0gZnVsbFdpZHRoIHN4PXt7IG1iOiAxIH19IC8+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD17YGJvZHktbmV3LWh0bWwtJHtzZWN0aW9uLmlkfWB9IGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtuZXdCb2R5SHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdCb2R5SHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezZ9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScgfX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTaG93TmV3Qm9keShmYWxzZSk7IHNldE5ld0JvZHlOYW1lKCcnKTsgc2V0TmV3Qm9keUh0bWwoJycpOyB9fSB0aXRsZT1cIkNhbmNlbCBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBhZGROZXdCb2R5VGVtcGxhdGUoKTsgc2V0U2hvd05ld0JvZHkoZmFsc2UpOyB9fSB0aXRsZT1cIlNhdmUgbmV3IHRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJzdWJ0aXRsZTFcIiBzeD17eyBmb250U2l6ZTogJzFyZW0nLCBtYjogMSwgbXQ6IDEgfX0+UHJvZHVjdCBVUkxzPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICB7Z2V0RHJhZnRVcmxzKHNlY3Rpb24uaWQpLm1hcCgodXJsLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxCb3gga2V5PXtpbmRleH0gc3g9e3sgbWI6IDIgfX0+XG4gICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgIGlkPXtgdXJsLSR7c2VjdGlvbi5pZH0tJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidXJsXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2BQcm9kdWN0IFVSTCAke2luZGV4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dXJsfVxuICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IHNhbml0aXplVXJsKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgaGFuZGxlVXJsQ2hhbmdlKHNlY3Rpb24uaWQsIGluZGV4LCBjbGVhbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuZWQgPSBzYW5pdGl6ZVVybChlLmN1cnJlbnRUYXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVVybENoYW5nZShzZWN0aW9uLmlkLCBpbmRleCwgY2xlYW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICAgICAgICBlbmRBZG9ybm1lbnQ6IGdldERyYWZ0VXJscyhzZWN0aW9uLmlkKS5sZW5ndGggPiAxID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0QWRvcm5tZW50IHBvc2l0aW9uPVwiZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHJlbW92ZVVybEZpZWxkKHNlY3Rpb24uaWQsIGluZGV4KX0gdGl0bGU9XCJSZW1vdmUgVVJMXCIgZWRnZT1cImVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JbnB1dEFkb3JubWVudD5cbiAgICAgICAgICAgICAgICAgICAgICApIDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xuICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bjogKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnIgPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3Vyci52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXN0TGVuID0gZ2V0RHJhZnRVcmxzKHNlY3Rpb24uaWQpLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiBpbmRleCA9PT0gbGlzdExlbiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRVcmxGaWVsZChzZWN0aW9uLmlkLCBpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleSA9PT0gJ1RhYicgJiYgIWUuc2hpZnRLZXkgJiYgaW5kZXggPT09IGxpc3RMZW4gLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRhYiBvbiBsYXN0IGZpZWxkOiBhY2NlcHQgdmFsdWUsIGFkZCBuZXcgZmllbGQsIGFuZCBmb2N1cyBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuZWQgPSBzYW5pdGl6ZVVybCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVVybENoYW5nZShzZWN0aW9uLmlkLCBpbmRleCwgY2xlYW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFVybEZpZWxkKHNlY3Rpb24uaWQsIGluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMXJlbScsIGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJ3ZhcigtLWdhcC0yKScgfX0+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBnZW5lcmF0ZVNlY3Rpb24oc2VjdGlvbi5pZCksIDApO1xuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NlY3Rpb24ubG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzZWN0aW9uLmxvYWRpbmcgPyAnR2VuZXJhdGluZ+KApicgOiAnVXBkYXRlJ31cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmVkXCIgb25DbGljaz17KCkgPT4gYWRkVXJsRmllbGQoc2VjdGlvbi5pZCwgZ2V0RHJhZnRVcmxzKHNlY3Rpb24uaWQpLmxlbmd0aCl9PlxuICAgICAgICAgICAgICAgIEFkZCBVUkxcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHsvKiBCb3R0b20gcGFkZGluZyBjb250cm9scyByZW1vdmVkICovfVxuICAgICAgICAgICAgey8qIENUQSBiYWNrZ3JvdW5kIGN1c3RvbWl6YXRpb24gcmVtb3ZlZCAqL31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgU29ydGFibGVIZXJvU2VjdGlvbjogUmVhY3QuRkMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBhdHRyaWJ1dGVzLCBsaXN0ZW5lcnMsIHNldE5vZGVSZWYsIHRyYW5zZm9ybSwgdHJhbnNpdGlvbiB9ID0gdXNlU29ydGFibGUoeyBpZDogJ2hlcm8nIH0pO1xuICAgIGNvbnN0IHsgWydhcmlhLWRlc2NyaWJlZGJ5J106IF9hcmlhRGVzY3JpYmVkQnksIC4uLnNvcnRhYmxlQXR0cmlidXRlcyB9ID0gYXR0cmlidXRlcyBhcyBhbnk7XG4gICAgY29uc3Qgc3R5bGUgPSB7IHRyYW5zZm9ybTogQ1NTLlRyYW5zZm9ybS50b1N0cmluZyh0cmFuc2Zvcm0pLCB0cmFuc2l0aW9uIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcztcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2BhY2NvcmRpb24tc2VjdGlvbiR7b3BlblNlY3Rpb24gPT09ICdoZXJvJyA/ICcgb3BlbicgOiAnJ31gfSByZWY9e3NldE5vZGVSZWZ9IHN0eWxlPXtzdHlsZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLWhlYWRlciR7b3BlblNlY3Rpb24gPT09ICdoZXJvJyA/ICcgb3BlbicgOiAnJ31gfSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoJ2hlcm8nKX0+XG4gICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgIHNpemU9XCJtZWRpdW1cIlxuICAgICAgICAgICAgey4uLnNvcnRhYmxlQXR0cmlidXRlc31cbiAgICAgICAgICAgIHsuLi5saXN0ZW5lcnN9XG4gICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgIHRpdGxlPVwiUmVvcmRlciBzZWN0aW9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8RHJhZ0luZGljYXRvckljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICA8c3Bhbj5IZXJvPC9zcGFuPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luTGVmdDogJ2F1dG8nLCBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1nYXAtMiknIH19PlxuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICByZW1vdmVIZXJvU2VjdGlvbigpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT1cIlJlbW92ZSBzZWN0aW9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPERlbGV0ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoJ2hlcm8nKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgdGl0bGU9e29wZW5TZWN0aW9uID09PSAnaGVybycgPyAnQ29sbGFwc2Ugc2VjdGlvbicgOiAnRXhwYW5kIHNlY3Rpb24nfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7b3BlblNlY3Rpb24gPT09ICdoZXJvJyA/IDxFeHBhbmRMZXNzSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+IDogPEV4cGFuZE1vcmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz59XG4gICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7b3BlblNlY3Rpb24gPT09ICdoZXJvJyAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY2NvcmRpb24tY29udGVudFwiPlxuICAgICAgICAgICAge2hlcm9JbWFnZSA/IChcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtoZXJvSW1hZ2V9IGFsdD17aGVyb0FsdCB8fCAnJ30gc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnYXV0bycgfX0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8cD5ObyBoZXJvIGltYWdlIHNlbGVjdGVkLjwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBsYXRlLXJvd1wiPlxuICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2wgZnVsbFdpZHRoIHZhcmlhbnQ9XCJvdXRsaW5lZFwiPlxuICAgICAgICAgICAgICAgIDxJbnB1dExhYmVsIGlkPVwiaGVyby10ZW1wbGF0ZS1sYWJlbFwiPlRlbXBsYXRlPC9JbnB1dExhYmVsPlxuICAgICAgICAgICAgICAgIDxTZWxlY3QgbGFiZWxJZD1cImhlcm8tdGVtcGxhdGUtbGFiZWxcIiBpZD1cImhlcm8tdGVtcGxhdGUtc2VsZWN0XCIgbGFiZWw9XCJUZW1wbGF0ZVwiIHZhbHVlPXtzZWxlY3RlZEhlcm9JZH0gb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZEhlcm9JZChlLnRhcmdldC52YWx1ZSl9PlxuICAgICAgICAgICAgICAgICAge2hlcm9UZW1wbGF0ZXMubWFwKCh0cGwpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGtleT17dHBsLmlkfSB2YWx1ZT17dHBsLmlkfT57dHBsLm5hbWV9PC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRIZXJvRWRpdE1vZGUoKHYpID0+ICF2KX0gdGl0bGU9e2hlcm9FZGl0TW9kZSA/ICdDbG9zZSBlZGl0b3InIDogJ0VkaXQgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICA8RWRpdEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dOZXdIZXJvKCh2KSA9PiAhdil9IHRpdGxlPXtzaG93TmV3SGVybyA/ICdDYW5jZWwgbmV3IHRlbXBsYXRlJyA6ICdBZGQgbmV3IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgPEFkZEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtoZXJvRWRpdE1vZGUgJiYgKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XCJoZXJvLWRyYWZ0LWh0bWxcIiBsYWJlbD1cIlRlbXBsYXRlIEhUTUxcIiB2YWx1ZT17ZHJhZnRIZXJvSHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXREcmFmdEhlcm9IdG1sKGUudGFyZ2V0LnZhbHVlKX0gcm93cz17Nn0gZnVsbFdpZHRoIG11bHRpbGluZSBzeD17eyBmb250RmFtaWx5OiAnbW9ub3NwYWNlJyB9fSAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LXRlbXBsYXRlLWFjdGlvbnNcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIG1hcmdpblRvcDogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRIZXJvRWRpdE1vZGUoZmFsc2UpfSB0aXRsZT1cIkNhbmNlbCBlZGl0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2F2ZUhlcm9FZGl0cygpOyBzZXRIZXJvRWRpdE1vZGUoZmFsc2UpOyB9fSB0aXRsZT1cIlNhdmUgZWRpdHNcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICBpZD1cImhlcm8taHJlZlwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiSGVybyBMaW5rIFVSTFwiXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17aGVyb0hyZWZ9XG4gICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHNldEhlcm9IcmVmKHNhbml0aXplVXJsKGUuY3VycmVudFRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgc3g9e3sgbXQ6IDIgfX1cbiAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xuICAgICAgICAgICAgICAgIG9uS2V5RG93bjogKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIChlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgIGlkPVwiaGVyby1hbHRcIlxuICAgICAgICAgICAgICBsYWJlbD1cIkhlcm8gQWx0IFRleHRcIlxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2hlcm9BbHR9XG4gICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHNldEhlcm9BbHQoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgIHN4PXt7IG10OiAyIH19XG4gICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICBvbktleURvd246IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAoZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAge3Nob3dOZXdIZXJvICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtZm9ybVwiPlxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XCJoZXJvLW5ldy1uYW1lXCIgbGFiZWw9XCJUZW1wbGF0ZSBuYW1lXCIgdHlwZT1cInRleHRcIiB2YWx1ZT17bmV3SGVyb05hbWV9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3SGVyb05hbWUoZS50YXJnZXQudmFsdWUpfSBmdWxsV2lkdGggc3g9e3sgbWI6IDEgfX0gLz5cbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiaGVyby1uZXctaHRtbFwiIGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtuZXdIZXJvSHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdIZXJvSHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezZ9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScgfX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTaG93TmV3SGVybyhmYWxzZSk7IHNldE5ld0hlcm9OYW1lKCcnKTsgc2V0TmV3SGVyb0h0bWwoJycpOyB9fSB0aXRsZT1cIkNhbmNlbCBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBhZGROZXdIZXJvVGVtcGxhdGUoKTsgc2V0U2hvd05ld0hlcm8oZmFsc2UpOyB9fSB0aXRsZT1cIlNhdmUgbmV3IHRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHsvKiBIZXJvIGJvdHRvbSBwYWRkaW5nIGNvbnRyb2xzIHJlbW92ZWQgKi99XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9O1xuXG4gIGNvbnN0IFNvcnRhYmxlQmFubmVyU2VjdGlvbjogUmVhY3QuRkMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBhdHRyaWJ1dGVzLCBsaXN0ZW5lcnMsIHNldE5vZGVSZWYsIHRyYW5zZm9ybSwgdHJhbnNpdGlvbiB9ID0gdXNlU29ydGFibGUoeyBpZDogJ2Jhbm5lcicgfSk7XG4gICAgY29uc3QgeyBbJ2FyaWEtZGVzY3JpYmVkYnknXTogX2FyaWFEZXNjcmliZWRCeSwgLi4uc29ydGFibGVBdHRyaWJ1dGVzIH0gPSBhdHRyaWJ1dGVzIGFzIGFueTtcbiAgICBjb25zdCBzdHlsZSA9IHsgdHJhbnNmb3JtOiBDU1MuVHJhbnNmb3JtLnRvU3RyaW5nKHRyYW5zZm9ybSksIHRyYW5zaXRpb24gfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjY29yZGlvbi1zZWN0aW9uJHtvcGVuU2VjdGlvbiA9PT0gJ2Jhbm5lcicgPyAnIG9wZW4nIDogJyd9YH0gcmVmPXtzZXROb2RlUmVmfSBzdHlsZT17c3R5bGV9PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjY29yZGlvbi1oZWFkZXIke29wZW5TZWN0aW9uID09PSAnYmFubmVyJyA/ICcgb3BlbicgOiAnJ31gfSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoJ2Jhbm5lcicpfT5cbiAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICB7Li4uc29ydGFibGVBdHRyaWJ1dGVzfVxuICAgICAgICAgICAgey4uLmxpc3RlbmVyc31cbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgICAgdGl0bGU9XCJSZW9yZGVyIHNlY3Rpb25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxEcmFnSW5kaWNhdG9ySWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgIDxzcGFuPkJhbm5lcjwvc3Bhbj5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICdhdXRvJywgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAndmFyKC0tZ2FwLTIpJyB9fT5cbiAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgIHNpemU9XCJtZWRpdW1cIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQmFubmVyU2VjdGlvbigpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT1cIlJlbW92ZSBzZWN0aW9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPERlbGV0ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoJ2Jhbm5lcicpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT17b3BlblNlY3Rpb24gPT09ICdiYW5uZXInID8gJ0NvbGxhcHNlIHNlY3Rpb24nIDogJ0V4cGFuZCBzZWN0aW9uJ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge29wZW5TZWN0aW9uID09PSAnYmFubmVyJyA/IDxFeHBhbmRMZXNzSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+IDogPEV4cGFuZE1vcmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz59XG4gICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7b3BlblNlY3Rpb24gPT09ICdiYW5uZXInICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjY29yZGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgICB7YmFubmVySW1hZ2UgPyAoXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz17YmFubmVySW1hZ2V9IGFsdD17YmFubmVyQWx0IHx8ICcnfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdhdXRvJyB9fSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxwPk5vIGhlcm8gaW1hZ2Ugc2VsZWN0ZWQuPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZW1wbGF0ZS1yb3dcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxuICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2wgZnVsbFdpZHRoIHZhcmlhbnQ9XCJvdXRsaW5lZFwiID5cbiAgICAgICAgICAgICAgICA8SW5wdXRMYWJlbCBpZD1cImJhbm5lci10ZW1wbGF0ZS1sYWJlbFwiPlRlbXBsYXRlPC9JbnB1dExhYmVsPlxuICAgICAgICAgICAgICAgIDxTZWxlY3QgbGFiZWxJZD1cImJhbm5lci10ZW1wbGF0ZS1sYWJlbFwiIGlkPVwiYmFubmVyLXRlbXBsYXRlLXNlbGVjdFwiIGxhYmVsPVwiVGVtcGxhdGVcIiB2YWx1ZT17c2VsZWN0ZWRCYW5uZXJJZH0gb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZEJhbm5lcklkKGUudGFyZ2V0LnZhbHVlKX0+XG4gICAgICAgICAgICAgICAgICB7YmFubmVyVGVtcGxhdGVzLm1hcCgodHBsKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBrZXk9e3RwbC5pZH0gdmFsdWU9e3RwbC5pZH0+e3RwbC5uYW1lfTwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0QmFubmVyRWRpdE1vZGUoKHYpID0+ICF2KX0gdGl0bGU9e2Jhbm5lckVkaXRNb2RlID8gJ0Nsb3NlIGVkaXRvcicgOiAnRWRpdCB0ZW1wbGF0ZSd9PlxuICAgICAgICAgICAgICAgIDxFZGl0SWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd05ld0Jhbm5lcigodikgPT4gIXYpfSB0aXRsZT17c2hvd05ld0Jhbm5lciA/ICdDYW5jZWwgbmV3IHRlbXBsYXRlJyA6ICdBZGQgbmV3IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgPEFkZEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtiYW5uZXJFZGl0TW9kZSAmJiAoXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImJhbm5lci1kcmFmdC1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e2RyYWZ0QmFubmVySHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXREcmFmdEJhbm5lckh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs4fSBmdWxsV2lkdGggbXVsdGlsaW5lIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEJhbm5lckVkaXRNb2RlKGZhbHNlKX0gdGl0bGU9XCJDYW5jZWwgZWRpdFwiPlxuICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uMiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNhdmVCYW5uZXJFZGl0cygpOyBzZXRCYW5uZXJFZGl0TW9kZShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7c2hvd05ld0Jhbm5lciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LXRlbXBsYXRlLWZvcm1cIj5cbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiYmFubmVyLW5ldy1uYW1lXCIgbGFiZWw9XCJUZW1wbGF0ZSBuYW1lXCIgdHlwZT1cInRleHRcIiB2YWx1ZT17bmV3QmFubmVyTmFtZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdCYW5uZXJOYW1lKGUudGFyZ2V0LnZhbHVlKX0gZnVsbFdpZHRoIHN4PXt7IG1iOiAxIH19IC8+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImJhbm5lci1uZXctaHRtbFwiIGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtuZXdCYW5uZXJIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0Jhbm5lckh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs2fSBmdWxsV2lkdGggbXVsdGlsaW5lIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0U2hvd05ld0Jhbm5lcihmYWxzZSk7IHNldE5ld0Jhbm5lck5hbWUoJycpOyBzZXROZXdCYW5uZXJIdG1sKCcnKTsgfX0gdGl0bGU9XCJDYW5jZWwgbmV3IHRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgYWRkTmV3QmFubmVyVGVtcGxhdGUoKTsgc2V0U2hvd05ld0Jhbm5lcihmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICBpZD1cImJhbm5lci1ocmVmXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJCYW5uZXIgTGluayBVUkxcIlxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2Jhbm5lckhyZWZ9XG4gICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHNldEJhbm5lckhyZWYoc2FuaXRpemVVcmwoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICBzeD17eyBtdDogMiB9fVxuICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgb25LZXlEb3duOiAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgKGUuY3VycmVudFRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgaWQ9XCJiYW5uZXItYWx0XCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJCYW5uZXIgQWx0IFRleHRcIlxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2Jhbm5lckFsdH1cbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gc2V0QmFubmVyQWx0KGUuY3VycmVudFRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICBzeD17eyBtdDogMiB9fVxuICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgb25LZXlEb3duOiAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgKGUuY3VycmVudFRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHsvKiBCYW5uZXIgYm90dG9tIHBhZGRpbmcgY29udHJvbHMgcmVtb3ZlZCAqL31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJvZHkgdGVtcGxhdGVzIGFuZCBzZWxlY3Rpb24gc3RhdGUuIEJvZHkgdGVtcGxhdGVzIGRlZmluZVxuICAgKiBtb2R1bGVzIGZvciBlYWNoIHByb2R1Y3QuIFRoZXkgc3VwcG9ydCBhbHRlcm5hdGluZyBsYXlvdXQgdmlhXG4gICAqIGFsdGVybmF0ZU1hcC4gVXNlcnMgY2FuIHNlbGVjdCBhIHRlbXBsYXRlLCBlZGl0IGl0LCBhbmQgYWRkXG4gICAqIG5ldyBvbmVzIHdoaWNoIGFyZSBwZXJzaXN0ZWQgaW4gbG9jYWxTdG9yYWdlLlxuICAgKi9cbiAgY29uc3QgW2JvZHlUZW1wbGF0ZXMsIHNldEJvZHlUZW1wbGF0ZXNdID0gdXNlU3RhdGU8Qm9keVRlbXBsYXRlW10+KGRlZmF1bHRCb2R5VGVtcGxhdGVzKTtcbiAgY29uc3QgW3NlbGVjdGVkQm9keUlkLCBzZXRTZWxlY3RlZEJvZHlJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGRlZmF1bHRCb2R5VGVtcGxhdGVzWzBdLmlkKTtcbiAgY29uc3QgW2JvZHlFZGl0TW9kZSwgc2V0Qm9keUVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0Qm9keUh0bWwsIHNldERyYWZ0Qm9keUh0bWxdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3Qm9keU5hbWUsIHNldE5ld0JvZHlOYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0JvZHlIdG1sLCBzZXROZXdCb2R5SHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLyoqXG4gICAqIEhlYWRlciB0ZW1wbGF0ZXMgYW5kIHNlbGVjdGlvbiBzdGF0ZS4gSGVhZGVycyByZW5kZXIgYXQgdGhlIHRvcFxuICAgKiBvZiB0aGUgZmluYWwgZW1haWwuIFRoZXkgYXJlIHN0YXRpYyBieSBkZWZhdWx0IGJ1dCBjYW4gYmVcbiAgICogY3VzdG9taXNlZCB0aHJvdWdoIGVkaXRpbmcgYW5kIGFkZGl0aW9uYWwgdGVtcGxhdGVzLlxuICAgKi9cbiAgY29uc3QgW2hlYWRlclRlbXBsYXRlcywgc2V0SGVhZGVyVGVtcGxhdGVzXSA9IHVzZVN0YXRlPEhlYWRlclRlbXBsYXRlW10+KGRlZmF1bHRIZWFkZXJUZW1wbGF0ZXMpO1xuICBjb25zdCBbc2VsZWN0ZWRIZWFkZXJJZCwgc2V0U2VsZWN0ZWRIZWFkZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGRlZmF1bHRIZWFkZXJUZW1wbGF0ZXNbMF0uaWQpO1xuICBjb25zdCBbaGVhZGVyRWRpdE1vZGUsIHNldEhlYWRlckVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0SGVhZGVySHRtbCwgc2V0RHJhZnRIZWFkZXJIdG1sXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0hlYWRlck5hbWUsIHNldE5ld0hlYWRlck5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3SGVhZGVySHRtbCwgc2V0TmV3SGVhZGVySHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLyoqXG4gICAqIEZvb3RlciB0ZW1wbGF0ZXMgYW5kIHNlbGVjdGlvbiBzdGF0ZS4gRm9vdGVycyByZW5kZXIgYXQgdGhlXG4gICAqIGJvdHRvbSBvZiB0aGUgZmluYWwgZW1haWwuIExpa2UgaGVhZGVycyB0aGV5IGNhbiBiZSBlZGl0ZWQgYW5kXG4gICAqIGV4dGVuZGVkIGJ5IHRoZSB1c2VyLlxuICAgKi9cbiAgY29uc3QgW2Zvb3RlclRlbXBsYXRlcywgc2V0Rm9vdGVyVGVtcGxhdGVzXSA9IHVzZVN0YXRlPEZvb3RlclRlbXBsYXRlW10+KGRlZmF1bHRGb290ZXJUZW1wbGF0ZXMpO1xuICBjb25zdCBbc2VsZWN0ZWRGb290ZXJJZCwgc2V0U2VsZWN0ZWRGb290ZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGRlZmF1bHRGb290ZXJUZW1wbGF0ZXNbMF0uaWQpO1xuICBjb25zdCBbZm9vdGVyRWRpdE1vZGUsIHNldEZvb3RlckVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0Rm9vdGVySHRtbCwgc2V0RHJhZnRGb290ZXJIdG1sXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0Zvb3Rlck5hbWUsIHNldE5ld0Zvb3Rlck5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3Rm9vdGVySHRtbCwgc2V0TmV3Rm9vdGVySHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLyoqXG4gICAqIFZpc2liaWxpdHkgZmxhZ3MgZm9yIG5ldyB0ZW1wbGF0ZSBmb3Jtcy4gV2hlbiB0cnVlLCB0aGUgZm9ybVxuICAgKiBmaWVsZHMgZm9yIGFkZGluZyBhIGN1c3RvbSB0ZW1wbGF0ZSBhcmUgZGlzcGxheWVkIGluIHRoZVxuICAgKiBhY2NvcmRpb24gY29udGVudC4gV2hlbiBmYWxzZSwgdGhlIGZvcm0gaXMgaGlkZGVuIGFuZCBvbmx5IHRoZVxuICAgKiBhZGQgaWNvbiBpcyB2aXNpYmxlLiBTZXBhcmF0ZSBmbGFncyBhcmUgdXNlZCBmb3IgaGVhZGVyLCBib2R5XG4gICAqIGFuZCBmb290ZXIgc2VjdGlvbnMuXG4gICAqL1xuICBjb25zdCBbc2hvd05ld0hlYWRlciwgc2V0U2hvd05ld0hlYWRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93TmV3Qm9keSwgc2V0U2hvd05ld0JvZHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd05ld0Zvb3Rlciwgc2V0U2hvd05ld0Zvb3Rlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLyoqXG4gICAqIEZpbmFsIGdlbmVyYXRlZCBIVE1MIHBpZWNlcy4gaGVhZGVySHRtbC9ib2R5SHRtbC9mb290ZXJIdG1sXG4gICAqIGNvbnRhaW4gdGhlIG1hcmt1cCBmb3IgZWFjaCBzZWN0aW9uLiBmaW5hbEh0bWwgY29uY2F0ZW5hdGVzXG4gICAqIHRoZW0gZm9yIGNvbnZlbmllbmNlIGJ1dCBpcyBub3QgZGlzcGxheWVkIGRpcmVjdGx5LiBUaGUgY29kZVxuICAgKiB2aWV3IHVzZXMgdGhlIGluZGl2aWR1YWwgcGllY2VzIHNvIHRoYXQgdXNlcnMgY2FuIGNvcHkgZWFjaFxuICAgKiBzZWN0aW9uIHNlcGFyYXRlbHkuXG4gICAqL1xuY29uc3QgW2hlYWRlckh0bWwsIHNldEhlYWRlckh0bWxdID0gdXNlU3RhdGUoJycpO1xuY29uc3QgW2JvZHlIdG1sLCBzZXRCb2R5SHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5jb25zdCBbZm9vdGVySHRtbCwgc2V0Rm9vdGVySHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5jb25zdCBbZmluYWxIdG1sLCBzZXRGaW5hbEh0bWxdID0gdXNlU3RhdGUoJycpO1xuICAvLyBCb3R0b20gcGFkZGluZyBjb250cm9scyByZW1vdmVkXG4gIGNvbnN0IFtzaG93QWRkU2VjdGlvbk1lbnUsIHNldFNob3dBZGRTZWN0aW9uTWVudV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IGFkZFNlY3Rpb25SZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBwcmV2aWV3UmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrT3V0c2lkZSA9IChlOiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoYWRkU2VjdGlvblJlZi5jdXJyZW50ICYmICFhZGRTZWN0aW9uUmVmLmN1cnJlbnQuY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHtcbiAgICAgICAgc2V0U2hvd0FkZFNlY3Rpb25NZW51KGZhbHNlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChzaG93QWRkU2VjdGlvbk1lbnUpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpO1xuICAgIH07XG4gIH0sIFtzaG93QWRkU2VjdGlvbk1lbnVdKTtcblxuICAvKiogQnJhbmQgY3VzdG9taXNhdGlvbiBwYW5lbCB2aXNpYmlsaXR5LiBXaGVuIHRydWUgYSBzbGlkaW5nXG4gICAqIHBhbmVsIGFwcGVhcnMgYWxsb3dpbmcgdGhlIHVzZXIgdG8gY3VzdG9taXNlIHRoZSBkZWZhdWx0IGZvbnQsXG4gICAqIHByaW1hcnkvc2Vjb25kYXJ5IGNvbG91cnMsIHdlYnNpdGUgVVJMIGFuZCB1cGxvYWQgYSBsb2dvLiBTZXR0aW5nc1xuICAgKiBhcmUgbm90IHBlcnNpc3RlZCBvciBhcHBsaWVkIGluIHRoaXMgdmVyc2lvbiwgYnV0IHRoZSBVSSBpcyBwcmVwYXJlZFxuICAgKiBmb3IgZnV0dXJlIGV4dGVuc2lvbi5cbiAgICovXG4gIGNvbnN0IFtzaG93QnJhbmRQYW5lbCwgc2V0U2hvd0JyYW5kUGFuZWxdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYnJhbmROYW1lLCBzZXRCcmFuZE5hbWVdID0gdXNlU3RhdGUoJycpO1xuICAvLyBUb3AgbG9hZGluZyBiYXIgKGJ1ZmZlciB2YXJpYW50KVxuICBjb25zdCBbcHJvZ3Jlc3MsIHNldFByb2dyZXNzXSA9IHVzZVN0YXRlPG51bWJlcj4oLTEpO1xuICBjb25zdCBbYnVmZmVyLCBzZXRCdWZmZXJdID0gdXNlU3RhdGU8bnVtYmVyPigtMSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2JyYW5kRm9udCwgc2V0QnJhbmRGb250XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2JyYW5kUHJpbWFyeSwgc2V0QnJhbmRQcmltYXJ5XSA9IHVzZVN0YXRlKCcjZDE5YWEwJyk7XG4gIGNvbnN0IFticmFuZFNlY29uZGFyeSwgc2V0QnJhbmRTZWNvbmRhcnldID0gdXNlU3RhdGUoJyNGMEMzQzcnKTtcbiAgY29uc3QgW2JyYW5kV2Vic2l0ZSwgc2V0QnJhbmRXZWJzaXRlXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvLyBTaG93IGEgZGlhbG9nIHRvIHByb21wdCBmb3IgYSBwcm9kdWN0IFVSTCBvbiBmaXJzdCBsb2FkXG4gIGNvbnN0IFtzaG93QnJhbmRVcmxEaWFsb2csIHNldFNob3dCcmFuZFVybERpYWxvZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2JyYW5kVXJsSW5wdXQsIHNldEJyYW5kVXJsSW5wdXRdID0gdXNlU3RhdGUoJycpO1xuICAvLyBXaGVuIHRoZSB1c2VyIHN1Ym1pdHMgYSBwcm9kdWN0IFVSTCwgaW5pdGlhbGl6ZSB0aGUgZmlyc3QgYm9keSBzZWN0aW9uIHdpdGggdGhhdCBVUkxcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYnJhbmRXZWJzaXRlICYmIGJvZHlTZWN0aW9ucy5sZW5ndGggPT09IDAgJiYgYnJhbmRVcmxJbnB1dCkge1xuICAgICAgc2V0Qm9keVNlY3Rpb25zKFtcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgIG5hbWU6ICdCb2R5IDEnLFxuICAgICAgICAgIHVybHM6IFticmFuZFVybElucHV0XSxcbiAgICAgICAgICBwcm9kdWN0czogW10sXG4gICAgICAgICAgc2VsZWN0ZWRCb2R5SWQ6IGRlZmF1bHRCb2R5VGVtcGxhdGVzWzBdLmlkLFxuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgIGRlc2NyaXB0aW9uU291cmNlOiAnbWV0YWRhdGEnXG4gICAgICAgIH1cbiAgICAgIF0pO1xuICAgIH1cbiAgfSwgW2JyYW5kV2Vic2l0ZSwgYnJhbmRVcmxJbnB1dF0pO1xuXG4gIC8vIEhlbHBlciB0byBleHRyYWN0IGJhc2UgZG9tYWluIGZyb20gYSBwcm9kdWN0IFVSTFxuICBmdW5jdGlvbiBleHRyYWN0QmFzZURvbWFpbih1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHUgPSBuZXcgVVJMKHVybCk7XG4gICAgICByZXR1cm4gdS5vcmlnaW47XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG5cbiAgLy8gSGVscGVyIHRvIGV4dHJhY3QgYSByZWFkYWJsZSBicmFuZCBuYW1lIGZyb20gYSBkb21haW5cbiAgZnVuY3Rpb24gZXh0cmFjdEJyYW5kTmFtZSh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHUgPSBuZXcgVVJMKHVybCk7XG4gICAgICBjb25zdCBob3N0ID0gdS5ob3N0bmFtZS5yZXBsYWNlKC9ed3d3XFwuLywgJycpO1xuICAgICAgY29uc3QgcGFydHMgPSBob3N0LnNwbGl0KCcuJyk7XG4gICAgICByZXR1cm4gcGFydHMubGVuZ3RoID4gMSA/IHBhcnRzWzBdLnJlcGxhY2UoLy0vZywgJyAnKSA6IGhvc3Q7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9XG4gIGNvbnN0IFticmFuZExvZ28sIHNldEJyYW5kTG9nb10gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7XG5cbiAgLyoqIE5vdGlmaWNhdGlvbnMgZm9yIHVzZXIgZmVlZGJhY2suIEVhY2ggbm90aWZpY2F0aW9uIGhhcyBhIHVuaXF1ZSBpZFxuICAgKiBhbmQgYSBtZXNzYWdlLiBOb3RpZmljYXRpb25zIGFyZSBkaXNwbGF5ZWQgaW4gYSBzdGFjayBpbiB0aGVcbiAgICogdG9w4oCRcmlnaHQgY29ybmVyIGFuZCBmYWRlIG91dCBhZnRlciBhIHNob3J0IGRlbGF5LiAqL1xuICBjb25zdCBbc25hY2tiYXJPcGVuLCBzZXRTbmFja2Jhck9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc25hY2tiYXJNc2csIHNldFNuYWNrYmFyTXNnXSA9IHVzZVN0YXRlPFJlYWN0Tm9kZT4oJycpO1xuXG4gIC8qKlxuICAgKiBUcmFjayB3aGljaCBjb2RlIGJsb2NrcyBhcmUgZXhwYW5kZWQgaW4gdGhlIHJpZ2h04oCRcGFuZWwgYWNjb3JkaW9uLiBLZXlzXG4gICAqIGNvcnJlc3BvbmQgdG8gdGhlIGJsb2NrczogJ2hlYWRlcicsICdoZXJvJywgJ2Zvb3RlcicgYW5kIGVhY2hcbiAgICogYm9keS9wcm9kdWN0IGJsb2NrIGxpa2UgJ2JvZHktPHNlY3Rpb24+LXByb2QtPGluZGV4PicuIEEgdmFsdWVcbiAgICogb2YgdHJ1ZSBtZWFucyB0aGUgYmxvY2sgaXMgb3BlbjsgZmFsc2UgY29sbGFwc2VzIGl0LiBEZWZhdWx0c1xuICAgKiBlbXB0eSwgd2hpY2ggaXMgdHJlYXRlZCBhcyBvcGVuIHdoZW4gZmlyc3QgcmVuZGVyZWQuXG4gICAqL1xuICBjb25zdCBbb3BlbkNvZGVTZWN0aW9ucywgc2V0T3BlbkNvZGVTZWN0aW9uc10gPSB1c2VTdGF0ZTx7IFtrZXk6IHN0cmluZ106IGJvb2xlYW4gfT4oe30pO1xuXG4gIC8qKlxuICAgKiBUb2dnbGUgYSBjb2RlIGJsb2NrIG9wZW4gb3IgY2xvc2VkLiBXaGVuIGEga2V5IGlzIG5vdCBwcmVzZW50XG4gICAqIGluIHRoZSBzdGF0ZSBpdCBpcyB0cmVhdGVkIGFzIG9wZW4gYnkgZGVmYXVsdC4gQ2FsbGluZyB0aGlzXG4gICAqIHRvZ2dsZXMgdGhlIGN1cnJlbnQgdmFsdWUuXG4gICAqL1xuY29uc3QgdG9nZ2xlQ29kZVNlY3Rpb24gPSAoa2V5OiBzdHJpbmcpID0+IHtcbiAgc2V0T3BlbkNvZGVTZWN0aW9ucygocHJldikgPT4ge1xuICAgIGNvbnN0IGlzT3BlbiA9IHByZXZba2V5XSAhPT0gZmFsc2U7IC8vIGRlZmF1bHQgb3BlbiBpZiBub3QgZmFsc2VcbiAgICByZXR1cm4geyAuLi5wcmV2LCBba2V5XTogIWlzT3BlbiB9O1xuICB9KTtcbn07XG5cbiAgLyoqXG4gICAqIEFkZCBhIG5vdGlmaWNhdGlvbiBtZXNzYWdlLiBUaGUgbm90aWZpY2F0aW9uIHdpbGwgcGVyc2lzdCBmb3IgYVxuICAgKiBmZXcgc2Vjb25kcyB0aGVuIGF1dG9tYXRpY2FsbHkgZGlzYXBwZWFyLiBVc2UgdGhpcyBoZWxwZXIgYWZ0ZXJcbiAgICogYWN0aW9ucyBsaWtlIGNvcHlpbmcgY29kZSBvciBnZW5lcmF0aW5nIHNlY3Rpb25zIHRvIHByb3ZpZGVcbiAgICogZmVlZGJhY2sgdG8gdGhlIHVzZXIuXG4gICAqL1xuICBjb25zdCBhZGROb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygobWVzc2FnZTogUmVhY3ROb2RlKSA9PiB7XG4gICAgc2V0U25hY2tiYXJNc2cobWVzc2FnZSk7XG4gICAgc2V0U25hY2tiYXJPcGVuKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgYSBkYXRhIFVSSSBmb3IgdGhlIHVwbG9hZGVkIGJyYW5kIGxvZ28uIFdoZW4gYSBmaWxlIGlzXG4gICAqIHNlbGVjdGVkIHRoZSBGaWxlUmVhZGVyIEFQSSBpcyB1c2VkIHRvIGNvbnZlcnQgaXQgaW50byBhIGJhc2U2NFxuICAgKiBzdHJpbmcuIElmIG5vIGZpbGUgaXMgc2VsZWN0ZWQgdGhlIGRhdGEgVVJJIGlzIHJlc2V0IHRvIGVtcHR5LlxuICAgKi9cblxuICAvLyBPbiBmaXJzdCBsb2FkLCBpZiBubyBicmFuZFdlYnNpdGUsIHNob3cgZGlhbG9nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFicmFuZFdlYnNpdGUpIHtcbiAgICAgIHNldFNob3dCcmFuZFVybERpYWxvZyh0cnVlKTtcbiAgICB9XG4gIH0sIFticmFuZFdlYnNpdGVdKTtcblxuICAvLyBXaGVuIHVzZXIgc3VibWl0cyBhIFVSTCwgc2V0IGJyYW5kV2Vic2l0ZSBhbmQgYnJhbmROYW1lXG4gIGNvbnN0IGhhbmRsZUJyYW5kVXJsU3VibWl0ID0gKGU/OiBSZWFjdC5Gb3JtRXZlbnQpID0+IHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGJhc2UgPSBleHRyYWN0QmFzZURvbWFpbihicmFuZFVybElucHV0KTtcbiAgICBpZiAoYmFzZSkge1xuICAgICAgc2V0QnJhbmRXZWJzaXRlKGJhc2UpO1xuICAgICAgc2V0QnJhbmROYW1lKGV4dHJhY3RCcmFuZE5hbWUoYnJhbmRVcmxJbnB1dCkpO1xuICAgICAgc2V0U2hvd0JyYW5kVXJsRGlhbG9nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYnJhbmRMb2dvKSB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7XG4gICAgICAgIHNldEJyYW5kTG9nb0RhdGFVcmwoZS50YXJnZXQ/LnJlc3VsdCBhcyBzdHJpbmcpO1xuICAgICAgfTtcbiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGJyYW5kTG9nbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEJyYW5kTG9nb0RhdGFVcmwoJycpO1xuICAgIH1cbiAgfSwgW2JyYW5kTG9nb10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZWwgPSBwcmV2aWV3UmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgICAgY29uc3QgYW5jaG9yID0gdGFyZ2V0LmNsb3Nlc3QoJ2EnKTtcbiAgICAgIGlmIChhbmNob3IpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBjb25zdCBocmVmID0gYW5jaG9yLmdldEF0dHJpYnV0ZSgnaHJlZicpO1xuICAgICAgICBpZiAoaHJlZikge1xuICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihcbiAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICBFeHRlcm5hbCBsaW5rOiA8YSBocmVmPXtocmVmfSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+e2hyZWZ9PC9hPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3Qgc2VjdGlvbkVsID0gYW5jaG9yLmNsb3Nlc3QoJ1tkYXRhLXNlY3Rpb25dJyk7XG4gICAgICAgICAgY29uc3Qgc2VjdGlvbklkID0gc2VjdGlvbkVsPy5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2VjdGlvbicpO1xuICAgICAgICAgIGlmIChzZWN0aW9uSWQpIHtcbiAgICAgICAgICAgIHNldE9wZW5TZWN0aW9uKHNlY3Rpb25JZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDbGljayk7XG4gICAgfTtcbiAgfSwgW3ZpZXdNb2RlLCBhZGROb3RpZmljYXRpb24sIHNldE9wZW5TZWN0aW9uXSk7XG5cbiAgLyoqXG4gICAqIEFwcGx5IHRoZSBicmFuZCBwcmltYXJ5IGFuZCBzZWNvbmRhcnkgY29sb3VycyBhbmQgZm9udCB0byBhIGJsb2NrXG4gICAqIG9mIEhUTUwuIE9jY3VycmVuY2VzIG9mIHRoZSBkZWZhdWx0IGFjY2VudCBjb2xvdXJzICgjZDE5YWEwIGFuZFxuICAgKiAjRjBDM0M3KSBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgY2hvc2VuIHByaW1hcnkgYW5kIHNlY29uZGFyeVxuICAgKiBjb2xvdXJzLiBUaGUgZGVmYXVsdCBmb250IHN0YWNrICdNb250c2VycmF0JywgQXJpYWwsIEhlbHZldGljYSxcbiAgICogc2Fucy1zZXJpZiBpcyByZXBsYWNlZCB3aXRoIHRoZSBzZWxlY3RlZCBmb250IGlmIHByb3ZpZGVkLlxuICAgKi9cbiAgY29uc3QgYXBwbHlCcmFuZENvbG91cnNBbmRGb250ID0gKGh0bWw6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgbGV0IG91dCA9IGh0bWw7XG4gICAgaWYgKGJyYW5kUHJpbWFyeSkge1xuICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKCcjZDE5YWEwJywgJ2dpJyk7XG4gICAgICBvdXQgPSBvdXQucmVwbGFjZShyZWdleCwgYnJhbmRQcmltYXJ5KTtcbiAgICB9XG4gICAgaWYgKGJyYW5kU2Vjb25kYXJ5KSB7XG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJyNGMEMzQzcnLCAnZ2knKTtcbiAgICAgIG91dCA9IG91dC5yZXBsYWNlKHJlZ2V4LCBicmFuZFNlY29uZGFyeSk7XG4gICAgfVxuICAgIGlmIChicmFuZEZvbnQgJiYgYnJhbmRGb250LnRyaW0oKSkge1xuICAgICAgLy8gUmVwbGFjZSB0aGUgZGVmYXVsdCBmb250IHN0YWNrLiBXZSBkbyBhIHNpbXBsZSByZXBsYWNlIG9uIHRoZVxuICAgICAgLy8gZXhhY3Qgc3RyaW5nIHVzZWQgaW4gdGhlIHRlbXBsYXRlcy4gSWYgbW9yZSB2YXJpYW50cyBhcmVcbiAgICAgIC8vIG5lZWRlZCB0aGlzIGNvdWxkIGJlIGV4cGFuZGVkLlxuICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKFwiJ01vbnRzZXJyYXQnLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmXCIsICdnaScpO1xuICAgICAgb3V0ID0gb3V0LnJlcGxhY2UocmVnZXgsIGJyYW5kRm9udCk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluamVjdCB0aGUgYnJhbmQgbG9nbyBpbnRvIHRoZSBoZWFkZXIuIFRoZSBmaXJzdCA8aW1nPiB0YWcgZm91bmRcbiAgICogaW4gdGhlIGhlYWRlciBIVE1MIGlzIHJlcGxhY2VkIHdpdGggb25lIHRoYXQgdXNlcyB0aGVcbiAgICogYnJhbmRMb2dvRGF0YVVybCBpZiBpdCBpcyBkZWZpbmVkLiBJZiBubyBsb2dvIGhhcyBiZWVuXG4gICAqIHVwbG9hZGVkIHRoZSBIVE1MIGlzIHJldHVybmVkIHVuY2hhbmdlZC5cbiAgICovXG4gIGNvbnN0IGFwcGx5QnJhbmRMb2dvID0gKGh0bWw6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgaWYgKCFicmFuZExvZ29EYXRhVXJsKSByZXR1cm4gaHRtbDtcbiAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC88aW1nKFtePl0rKXNyYz1cIlteXCI+XSpcIi8sIGA8aW1nJDFzcmM9XCIke2JyYW5kTG9nb0RhdGFVcmx9XCJgKTtcbiAgfTtcblxuICAvKipcbiAgICogSGVybyBzZWN0aW9uIHN0YXRlLiBBIGhlcm8gY29uc2lzdHMgb2YgYSBzaW5nbGUgYmFubmVyIGltYWdlIGFuZFxuICAgKiBvcHRpb25hbCBsaW5rL2FsdCB0ZXh0LiBUaGUgaGVybyB0ZW1wbGF0ZSBjYW4gYmUgc2VsZWN0ZWQgZnJvbVxuICAgKiBkZWZhdWx0SGVyb1RlbXBsYXRlcyBvciB1c2Vy4oCRZGVmaW5lZCB0ZW1wbGF0ZXMuIFdoZW4gaGVyb0ltYWdlIGlzXG4gICAqIGVtcHR5IG5vIGhlcm8gc2VjdGlvbiB3aWxsIGJlIHJlbmRlcmVkLiBoZXJvSHRtbCBob2xkcyB0aGVcbiAgICogY29tcGlsZWQgbWFya3VwIGFuZCBpcyB1cGRhdGVkIHdoZW5ldmVyIGhlcm9JbWFnZSBvciB0ZW1wbGF0ZXNcbiAgICogY2hhbmdlLlxuICAgKi9cbiAgY29uc3QgW2hlcm9UZW1wbGF0ZXMsIHNldEhlcm9UZW1wbGF0ZXNdID0gdXNlU3RhdGU8SGVyb1RlbXBsYXRlW10+KGRlZmF1bHRIZXJvVGVtcGxhdGVzKTtcbiAgY29uc3QgW3NlbGVjdGVkSGVyb0lkLCBzZXRTZWxlY3RlZEhlcm9JZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGRlZmF1bHRIZXJvVGVtcGxhdGVzWzBdLmlkKTtcbiAgY29uc3QgW2hlcm9JbWFnZSwgc2V0SGVyb0ltYWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICAvLyBQcmUtZmlsbCBoZXJvIGFsdCB3aXRoIGJyYW5kIG5hbWUgKG9yIGEgc2Vuc2libGUgZGVmYXVsdClcbiAgY29uc3QgW2hlcm9BbHQsIHNldEhlcm9BbHRdID0gdXNlU3RhdGU8c3RyaW5nPihicmFuZE5hbWUgfHwgJ0JyYW5kJyk7XG4gIGNvbnN0IFtoZXJvSHJlZiwgc2V0SGVyb0hyZWZdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtoZXJvSHRtbCwgc2V0SGVyb0h0bWxdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtoZXJvRWRpdE1vZGUsIHNldEhlcm9FZGl0TW9kZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtkcmFmdEhlcm9IdG1sLCBzZXREcmFmdEhlcm9IdG1sXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbbmV3SGVyb05hbWUsIHNldE5ld0hlcm9OYW1lXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbbmV3SGVyb0h0bWwsIHNldE5ld0hlcm9IdG1sXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbc2hvd05ld0hlcm8sIHNldFNob3dOZXdIZXJvXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcblxuICAvKipcbiAgICogTGlzdCBvZiBhbHRlcm5hdGUgaGVybyBpbWFnZXMgZXh0cmFjdGVkIGZyb20gdGhlIHNpdGUuIFdoZW4gdGhlXG4gICAqIGhlcm8gaW1hZ2UgaXMgZmV0Y2hlZCB2aWEgdGhlIEFQSSB0aGUgZW5kcG9pbnQgcmV0dXJucyBhbiBhcnJheVxuICAgKiBvZiBpbWFnZSBVUkxzLiBUaGUgZmlyc3QgaW1hZ2UgaXMgdXNlZCBhcyB0aGUgZGVmYXVsdCBoZXJvSW1hZ2VcbiAgICogYW5kIHRoZSByZXN0IGFyZSBhdmFpbGFibGUgZm9yIHNlbGVjdGlvbiBpbiB0aGUgaW50ZXJhY3RpdmVcbiAgICogcHJldmlldy4gV2hlbiB0aGUgbGlzdCBpcyBlbXB0eSBubyBhbHRlcm5hdGl2ZSBpbWFnZXMgYXJlXG4gICAqIGF2YWlsYWJsZS4gaGVyb0ltYWdlcyBpcyBub3QgcGVyc2lzdGVkIGFjcm9zcyBzZXNzaW9ucy5cbiAgKi9cbiAgY29uc3QgW2hlcm9JbWFnZXMsIHNldEhlcm9JbWFnZXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcblxuICAvKipcbiAgICogQmFubmVyIHNlY3Rpb24gc3RhdGUuIFRoZSBiYW5uZXIgaXMgYSBzaW5nbGUgaW1hZ2UgbW9kdWxlIHRoYXQgYXBwZWFyc1xuICAgKiBhYm92ZSB0aGUgZm9vdGVyLiBJdCByZXVzZXMgdGhlIHRlbXBsYXRpbmcvZWRpdGluZyBiZWhhdmlvdXIgb2YgdGhlXG4gICAqIGhlYWRlciBzZWN0aW9uIGJ1dCByZW5kZXJzIHdpdGggaXRzIG93biB0ZW1wbGF0ZSBhbmQgaW1hZ2UuIFRoZSBpbWFnZVxuICAgKiBpcyBmZXRjaGVkIGZyb20gdGhlIGNvbmZpZ3VyZWQgYnJhbmQgd2Vic2l0ZSBieSBsb29raW5nIGZvciBhbiBlbGVtZW50XG4gICAqIHdpdGggdGhlIGNsYXNzIGBtb2JpbGUtYmFubmVyYC5cbiAgICovXG4gIGNvbnN0IFtiYW5uZXJUZW1wbGF0ZXMsIHNldEJhbm5lclRlbXBsYXRlc10gPSB1c2VTdGF0ZTxCYW5uZXJUZW1wbGF0ZVtdPihkZWZhdWx0QmFubmVyVGVtcGxhdGVzKTtcbiAgY29uc3QgW3NlbGVjdGVkQmFubmVySWQsIHNldFNlbGVjdGVkQmFubmVySWRdID0gdXNlU3RhdGU8c3RyaW5nPihkZWZhdWx0QmFubmVyVGVtcGxhdGVzWzBdLmlkKTtcbiAgY29uc3QgW2Jhbm5lckltYWdlLCBzZXRCYW5uZXJJbWFnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgLy8gUHJlLWZpbGwgYmFubmVyIGFsdCB3aXRoIGJyYW5kIG5hbWUgKG9yIGEgc2Vuc2libGUgZGVmYXVsdClcbiAgY29uc3QgW2Jhbm5lckFsdCwgc2V0QmFubmVyQWx0XSA9IHVzZVN0YXRlPHN0cmluZz4oYnJhbmROYW1lIHx8ICdCcmFuZCcpO1xuICBjb25zdCBbYmFubmVySHJlZiwgc2V0QmFubmVySHJlZl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2Jhbm5lckh0bWwsIHNldEJhbm5lckh0bWxdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtiYW5uZXJFZGl0TW9kZSwgc2V0QmFubmVyRWRpdE1vZGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbZHJhZnRCYW5uZXJIdG1sLCBzZXREcmFmdEJhbm5lckh0bWxdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtuZXdCYW5uZXJOYW1lLCBzZXROZXdCYW5uZXJOYW1lXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbbmV3QmFubmVySHRtbCwgc2V0TmV3QmFubmVySHRtbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW3Nob3dOZXdCYW5uZXIsIHNldFNob3dOZXdCYW5uZXJdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIGNvbnN0IGZldGNoSGVyb0ZvckJyYW5kID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghYnJhbmRXZWJzaXRlKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGhlcm9SZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9oZXJvP3VybD0ke2VuY29kZVVSSUNvbXBvbmVudChicmFuZFdlYnNpdGUpfWApO1xuICAgICAgaWYgKGhlcm9SZXMub2spIHtcbiAgICAgICAgY29uc3QgaGVyb0RhdGEgPSBhd2FpdCBoZXJvUmVzLmpzb24oKTtcbiAgICAgICAgaWYgKGhlcm9EYXRhLmltYWdlcyAmJiBBcnJheS5pc0FycmF5KGhlcm9EYXRhLmltYWdlcykgJiYgaGVyb0RhdGEuaW1hZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBzZXRIZXJvSW1hZ2VzKGhlcm9EYXRhLmltYWdlcyk7XG4gICAgICAgICAgc2V0SGVyb0ltYWdlKGhlcm9EYXRhLmltYWdlc1swXSk7XG4gICAgICAgICAgc2V0SGVyb0hyZWYoYnJhbmRXZWJzaXRlKTtcbiAgICAgICAgICAvLyBQcmVmaWxsIGFsdCB3aXRoIGJyYW5kIG5hbWUgc28gaW5wdXQgaXMgbm90IGVtcHR5L3BsYWNlaG9sZGVyXG4gICAgICAgICAgc2V0SGVyb0FsdChicmFuZE5hbWUgfHwgJ0JyYW5kJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGZldGNoIGhlcm8gaW1hZ2VzJywgZXJyKTtcbiAgICB9XG4gIH0sIFticmFuZFdlYnNpdGUsIGJyYW5kTmFtZV0pO1xuXG4gIGNvbnN0IGZldGNoQmFubmVyRm9yQnJhbmQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFicmFuZFdlYnNpdGUpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYC9hcGkvYmFubmVyP3VybD0ke2VuY29kZVVSSUNvbXBvbmVudChicmFuZFdlYnNpdGUpfWApO1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgaWYgKGRhdGEuaW1hZ2UpIHtcbiAgICAgICAgICBzZXRCYW5uZXJJbWFnZShkYXRhLmltYWdlKTtcbiAgICAgICAgICBzZXRCYW5uZXJIcmVmKGJyYW5kV2Vic2l0ZSk7XG4gICAgICAgICAgLy8gUHJlZmlsbCBhbHQgd2l0aCBicmFuZCBuYW1lIHNvIGlucHV0IGlzIG5vdCBlbXB0eS9wbGFjZWhvbGRlclxuICAgICAgICAgIHNldEJhbm5lckFsdChicmFuZE5hbWUgfHwgJ0JyYW5kJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGZldGNoIGJhbm5lciBpbWFnZScsIGVycik7XG4gICAgfVxuICB9LCBbYnJhbmRXZWJzaXRlLCBicmFuZE5hbWVdKTtcblxuICAvKipcbiAgICogRmV0Y2ggaGVybyBpbWFnZXMgZm9yIHRoZSBjb25maWd1cmVkIGJyYW5kIHdlYnNpdGUuIFRoaXMgcnVucyBvblxuICAgKiBpbml0aWFsIGxvYWQsIHdoZW5ldmVyIHRoZSB3ZWJzaXRlIFVSTCBjaGFuZ2VzLCBvciB3aGVuIHRoZSBoZXJvXG4gICAqIHNlY3Rpb24gaXMgYWRkZWQuIFRoZSBmaXJzdCBpbWFnZSByZXR1cm5lZCBiZWNvbWVzIHRoZSBkZWZhdWx0XG4gICAqIGhlcm8gaW1hZ2UgYW5kIGxpbmsgdGFyZ2V0LlxuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2hvd0hlcm9TZWN0aW9uKSB7XG4gICAgICBmZXRjaEhlcm9Gb3JCcmFuZCgpO1xuICAgIH1cbiAgfSwgW2ZldGNoSGVyb0ZvckJyYW5kLCBzaG93SGVyb1NlY3Rpb25dKTtcblxuICAvLyBGZXRjaCBiYW5uZXIgaW1hZ2UgZm9yIHRoZSBjb25maWd1cmVkIGJyYW5kIHdlYnNpdGUuIE9uIHN1Y2Nlc3MgdGhlXG4gIC8vIGZpcnN0IGltYWdlIHdpdGggdGhlIGNsYXNzIGBtb2JpbGUtYmFubmVyYCBpcyB1c2VkIGFzIHRoZSBiYW5uZXJcbiAgLy8gaW1hZ2UuIEltYWdlcyBhcmUgZmV0Y2hlZCBvbiBpbml0aWFsIGxvYWQsIHdoZW4gdGhlIHdlYnNpdGUgVVJMXG4gIC8vIGNoYW5nZXMsIG9yIHdoZW4gdGhlIGJhbm5lciBzZWN0aW9uIGlzIGFkZGVkLlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaG93QmFubmVyU2VjdGlvbikge1xuICAgICAgZmV0Y2hCYW5uZXJGb3JCcmFuZCgpO1xuICAgIH1cbiAgfSwgW2ZldGNoQmFubmVyRm9yQnJhbmQsIHNob3dCYW5uZXJTZWN0aW9uXSk7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhIGhlcm8gcHJvcGVydHkuIFRoaXMgY2FsbGJhY2sgaXMgcGFzc2VkIHRvIHRoZVxuICAgKiBIZXJvVGFibGVNb2R1bGUgc28gZWRpdHMgaW4gdGhlIHByZXZpZXcgcHJvcGFnYXRlIHRvIHRoZVxuICAgKiB1bmRlcmx5aW5nIHN0YXRlLiBTdXBwb3J0ZWQgZmllbGRzIGFyZSAnaW1hZ2UnLCAnYWx0JyBhbmRcbiAgICogJ2hyZWYnLiBUaGUgaGVyb0h0bWwgc3RyaW5nIHdpbGwgYmUgcmVjb21wdXRlZCBpbiB0aGVcbiAgICogdXNlRWZmZWN0IGJlbG93IHdoZW4gdGhlc2UgdmFsdWVzIGNoYW5nZS5cbiAgICovXG4gIGNvbnN0IHVwZGF0ZUhlcm8gPSAoZmllbGQ6ICdpbWFnZScgfCAnYWx0JyB8ICdocmVmJywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIGlmIChmaWVsZCA9PT0gJ2ltYWdlJykgc2V0SGVyb0ltYWdlKHZhbHVlKTtcbiAgICBlbHNlIGlmIChmaWVsZCA9PT0gJ2FsdCcpIHNldEhlcm9BbHQodmFsdWUpO1xuICAgIGVsc2UgaWYgKGZpZWxkID09PSAnaHJlZicpIHNldEhlcm9IcmVmKHZhbHVlKTtcbiAgfTtcblxuICAvKipcbiAgICogQnJhbmQgbG9nbyBkYXRhIFVSSS4gV2hlbiBhIHVzZXIgdXBsb2FkcyBhIGxvZ28gZmlsZSB0aGUgZmlsZVxuICAgKiBjb250ZW50cyBhcmUgY29udmVydGVkIGludG8gYSBkYXRhIFVSSSB0aGF0IGNhbiBiZSBlbWJlZGRlZFxuICAgKiBkaXJlY3RseSBpbnRvIHRoZSBIVE1MLiBicmFuZExvZ29EYXRhVXJsIGlzIGVtcHR5IGlmIG5vIGxvZ29cbiAgICogaGFzIGJlZW4gc2VsZWN0ZWQuXG4gICAqL1xuICBjb25zdCBbYnJhbmRMb2dvRGF0YVVybCwgc2V0QnJhbmRMb2dvRGF0YVVybF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBhZGQgYSBuZXcgYm9keSBzZWN0aW9uLiBXaGVuIGludm9rZWQsIHRoaXMgY3JlYXRlcyBhXG4gICAqIG5ldyBlbnRyeSBpbiB0aGUgYm9keVNlY3Rpb25zIGFycmF5IHdpdGggaXRzIG93biBibGFuayBVUkwgbGlzdCxcbiAgICogZW1wdHkgcHJvZHVjdHMgYW5kIGRlZmF1bHQgdGVtcGxhdGUgc2VsZWN0aW9uLiBUaGUgbmV3IHNlY3Rpb25cbiAgICogbmFtZSBpcyBhdXRv4oCRaW5jcmVtZW50ZWQgKEJvZHkgMiwgQm9keSAzLCBldGMuKS4gQWZ0ZXJcbiAgICogY3JlYXRpb24sIHRoZSBuZXdseSBhZGRlZCBzZWN0aW9uIGlzIG9wZW5lZCBhdXRvbWF0aWNhbGx5IHNvXG4gICAqIHVzZXJzIGNhbiBzdGFydCBlZGl0aW5nIGl0LlxuICAgKi9cbiAgY29uc3QgYWRkQm9keVNlY3Rpb24gPSAoKSA9PiB7XG4gICAgLy8gRGV0ZXJtaW5lIGEgdW5pcXVlIG5leHQgaWQgYmFzZWQgb24gZXhpc3Rpbmcgc2VjdGlvbnNcbiAgICBjb25zdCBuZXh0SWQgPSBib2R5U2VjdGlvbnMubGVuZ3RoID8gTWF0aC5tYXgoLi4uYm9keVNlY3Rpb25zLm1hcCgocykgPT4gcy5pZCkpICsgMSA6IDE7XG4gICAgY29uc3QgbmV3U2VjdGlvbjogQm9keVNlY3Rpb24gPSB7XG4gICAgICBpZDogbmV4dElkLFxuICAgICAgbmFtZTogYEJvZHkgJHtuZXh0SWR9YCxcbiAgICAgIHVybHM6IFsnJ10sXG4gICAgICBwcm9kdWN0czogW10sXG4gICAgICBzZWxlY3RlZEJvZHlJZDogZGVmYXVsdEJvZHlUZW1wbGF0ZXNbMF0uaWQsXG4gICAgICBsb2FkaW5nOiBmYWxzZVxuICAgIH07XG4gICAgc2V0Qm9keVNlY3Rpb25zKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3U2VjdGlvbl0pO1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4ge1xuICAgICAgY29uc3QgYXJyID0gWy4uLnByZXZdO1xuICAgICAgY29uc3QgbmV3S2V5ID0gYGJvZHktJHtuZXh0SWR9YDtcbiAgICAgIGNvbnN0IGJhbm5lcklkeCA9IGFyci5pbmRleE9mKCdiYW5uZXInKTtcbiAgICAgIGlmIChiYW5uZXJJZHggPj0gMCkgYXJyLnNwbGljZShiYW5uZXJJZHgsIDAsIG5ld0tleSk7XG4gICAgICBlbHNlIGFyci5wdXNoKG5ld0tleSk7XG4gICAgICByZXR1cm4gYXJyO1xuICAgIH0pO1xuICAgIHNldE9wZW5TZWN0aW9uKGBib2R5LSR7bmV4dElkfWApO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUhlYWRlclNlY3Rpb24gPSAoKSA9PiB7XG4gICAgc2V0U2hvd0hlYWRlclNlY3Rpb24oZmFsc2UpO1xuICAgIHNldEhlYWRlckh0bWwoJycpO1xuICAgIHNldE9wZW5TZWN0aW9uKChwcmV2KSA9PiAocHJldiA9PT0gJ2hlYWRlcicgPyAnJyA6IHByZXYpKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVIZXJvU2VjdGlvbiA9ICgpID0+IHtcbiAgICBzZXRTaG93SGVyb1NlY3Rpb24oZmFsc2UpO1xuICAgIHNldEhlcm9JbWFnZSgnJyk7XG4gICAgc2V0SGVyb0FsdCgnJyk7XG4gICAgc2V0SGVyb0hyZWYoJycpO1xuICAgIHNldEhlcm9IdG1sKCcnKTtcbiAgICBzZXRTZWN0aW9uT3JkZXIoKHByZXYpID0+IHByZXYuZmlsdGVyKChpZCkgPT4gaWQgIT09ICdoZXJvJykpO1xuICAgIHNldE9wZW5TZWN0aW9uKChwcmV2KSA9PiAocHJldiA9PT0gJ2hlcm8nID8gJycgOiBwcmV2KSk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlQmFubmVyU2VjdGlvbiA9ICgpID0+IHtcbiAgICBzZXRTaG93QmFubmVyU2VjdGlvbihmYWxzZSk7XG4gICAgc2V0QmFubmVySW1hZ2UoJycpO1xuICAgIHNldEJhbm5lckFsdCgnJyk7XG4gICAgc2V0QmFubmVySHJlZignJyk7XG4gICAgc2V0QmFubmVySHRtbCgnJyk7XG4gICAgc2V0U2VjdGlvbk9yZGVyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoaWQpID0+IGlkICE9PSAnYmFubmVyJykpO1xuICAgIHNldE9wZW5TZWN0aW9uKChwcmV2KSA9PiAocHJldiA9PT0gJ2Jhbm5lcicgPyAnJyA6IHByZXYpKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVGb290ZXJTZWN0aW9uID0gKCkgPT4ge1xuICAgIHNldFNob3dGb290ZXJTZWN0aW9uKGZhbHNlKTtcbiAgICBzZXRGb290ZXJIdG1sKCcnKTtcbiAgICBzZXRPcGVuU2VjdGlvbigocHJldikgPT4gKHByZXYgPT09ICdmb290ZXInID8gJycgOiBwcmV2KSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBhIGJvZHkgc2VjdGlvbiBlbnRpcmVseS4gV2hlbiBpbnZva2VkLCB0aGlzIGRlbGV0ZXMgdGhlXG4gICAqIHNlY3Rpb24gZnJvbSB0aGUgYm9keVNlY3Rpb25zIGFycmF5LiBJZiB0aGUgcmVtb3ZlZCBzZWN0aW9uIGlzXG4gICAqIGN1cnJlbnRseSBvcGVuLCB0aGUgYWNjb3JkaW9uIGlzIGNvbGxhcHNlZC4gVGhpcyBoZWxwZXIgaXNcbiAgICogdHJpZ2dlcmVkIGJ5IHRoZSB0cmFzaCBpY29uIGluIGVhY2ggYm9keSBzZWN0aW9uIGhlYWRlci5cbiAgICovXG4gIGNvbnN0IHJlbW92ZUJvZHlTZWN0aW9uID0gKHNlY3Rpb25JZDogbnVtYmVyKSA9PiB7XG4gICAgc2V0Qm9keVNlY3Rpb25zKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoc2VjdGlvbikgPT4gc2VjdGlvbi5pZCAhPT0gc2VjdGlvbklkKSk7XG4gICAgc2V0U2VjdGlvbk9yZGVyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoaWQpID0+IGlkICE9PSBgYm9keS0ke3NlY3Rpb25JZH1gKSk7XG4gICAgc2V0T3BlblNlY3Rpb24oKHByZXYpID0+IChwcmV2ID09PSBgYm9keS0ke3NlY3Rpb25JZH1gID8gJycgOiBwcmV2KSk7XG4gIH07XG5cbiAgY29uc3QgYWRkU2VjdGlvbkJ5VHlwZSA9ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2hlYWRlcic6XG4gICAgICAgIHNldFNob3dIZWFkZXJTZWN0aW9uKHRydWUpO1xuICAgICAgICBzZXRPcGVuU2VjdGlvbignaGVhZGVyJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnaGVybyc6XG4gICAgICAgIHNldFNob3dIZXJvU2VjdGlvbih0cnVlKTtcbiAgICAgICAgc2V0U2VjdGlvbk9yZGVyKChwcmV2KSA9PiAocHJldi5pbmNsdWRlcygnaGVybycpID8gcHJldiA6IFsnaGVybycsIC4uLnByZXZdKSk7XG4gICAgICAgIHNldE9wZW5TZWN0aW9uKCdoZXJvJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYmFubmVyJzpcbiAgICAgICAgc2V0U2hvd0Jhbm5lclNlY3Rpb24odHJ1ZSk7XG4gICAgICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4gKHByZXYuaW5jbHVkZXMoJ2Jhbm5lcicpID8gcHJldiA6IFsuLi5wcmV2LCAnYmFubmVyJ10pKTtcbiAgICAgICAgc2V0T3BlblNlY3Rpb24oJ2Jhbm5lcicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Zvb3Rlcic6XG4gICAgICAgIHNldFNob3dGb290ZXJTZWN0aW9uKHRydWUpO1xuICAgICAgICBzZXRPcGVuU2VjdGlvbignZm9vdGVyJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnYm9keSc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhZGRCb2R5U2VjdGlvbigpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgc2V0U2hvd0FkZFNlY3Rpb25NZW51KGZhbHNlKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBzZWxlY3RlZCB0ZW1wbGF0ZSBmb3IgYSBzcGVjaWZpYyBib2R5IHNlY3Rpb24uIFRoaXNcbiAgICogdXBkYXRlcyB0aGUgc2VjdGlvbuKAmXMgc2VsZWN0ZWRCb2R5SWQgYW5kIGFsc28gdXBkYXRlcyB0aGVcbiAgICogZ2xvYmFsIHNlbGVjdGVkQm9keUlkIHNvIHRoYXQgdGhlIGVkaXQgZm9ybSBkaXNwbGF5cyB0aGVcbiAgICogY29ycmVjdCB0ZW1wbGF0ZSBzb3VyY2Ugd2hlbiBlZGl0aW5nLiBXaXRob3V0IHRoaXMgdGhlIGVkaXRcbiAgICogdGV4dGFyZWEgd291bGQgc2hvdyB0aGUgd3JvbmcgSFRNTCBpZiBzd2l0Y2hpbmcgYmV0d2VlblxuICAgKiBzZWN0aW9ucyB3aXRoIGRpZmZlcmVudCB0ZW1wbGF0ZXMuXG4gICAqL1xuICBjb25zdCBzZXRTZWN0aW9uVGVtcGxhdGUgPSAoc2VjdGlvbklkOiBudW1iZXIsIHRlbXBsYXRlSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldEJvZHlTZWN0aW9ucygocHJldikgPT5cbiAgICAgIHByZXYubWFwKChzZWN0aW9uKSA9PlxuICAgICAgICBzZWN0aW9uLmlkID09PSBzZWN0aW9uSWQgPyB7IC4uLnNlY3Rpb24sIHNlbGVjdGVkQm9keUlkOiB0ZW1wbGF0ZUlkIH0gOiBzZWN0aW9uXG4gICAgICApXG4gICAgKTtcbiAgICBzZXRTZWxlY3RlZEJvZHlJZCh0ZW1wbGF0ZUlkKTtcbiAgfTtcblxuICAvKipcbiAgICogU2F2ZSBlZGl0cyB0byB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGhlcm8gdGVtcGxhdGUuIFRoZSBoZXJvXG4gICAqIHRlbXBsYXRl4oCZcyBIVE1MIGlzIHJlcGxhY2VkIHdpdGggdGhlIGNvbnRlbnRzIG9mIGRyYWZ0SGVyb0h0bWwuXG4gICAqIElmIHRoZSB0ZW1wbGF0ZSBpcyB1c2Vy4oCRZGVmaW5lZCBpdCBpcyBwZXJzaXN0ZWQgYmFjayB0b1xuICAgKiBsb2NhbFN0b3JhZ2UgdW5kZXIgJ2N1c3RvbUhlcm9UZW1wbGF0ZXMnLlxuICAgKi9cbiAgY29uc3Qgc2F2ZUhlcm9FZGl0cyA9ICgpID0+IHtcbiAgICBzZXRIZXJvVGVtcGxhdGVzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHRwbCkgPT4gKHRwbC5pZCA9PT0gc2VsZWN0ZWRIZXJvSWQgPyB7IC4uLnRwbCwgaHRtbDogZHJhZnRIZXJvSHRtbCB9IDogdHBsKSlcbiAgICApO1xuICAgIHNldEhlcm9FZGl0TW9kZShmYWxzZSk7XG4gICAgLy8gUGVyc2lzdCBlZGl0cyBmb3IgY3VzdG9tIHRlbXBsYXRlc1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21IZXJvVGVtcGxhdGVzJyk7XG4gICAgICAgIGNvbnN0IGxpc3Q6IEhlcm9UZW1wbGF0ZVtdID0gc3RvcmVkID8gSlNPTi5wYXJzZShzdG9yZWQpIDogW107XG4gICAgICAgIGNvbnN0IHVwZGF0ZWQgPSBsaXN0Lm1hcCgodHBsKSA9PlxuICAgICAgICAgIHRwbC5pZCA9PT0gc2VsZWN0ZWRIZXJvSWQgPyB7IC4uLnRwbCwgaHRtbDogZHJhZnRIZXJvSHRtbCB9IDogdHBsXG4gICAgICAgICk7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VzdG9tSGVyb1RlbXBsYXRlcycsIEpTT04uc3RyaW5naWZ5KHVwZGF0ZWQpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHBlcnNpc3QgaGVybyB0ZW1wbGF0ZSBlZGl0cycsIGVycik7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgaGVybyB0ZW1wbGF0ZS4gVGhlIG5hbWUgYW5kIEhUTUwgYXJlIHRha2VuIGZyb20gdGhlXG4gICAqIG5ld0hlcm9OYW1lIGFuZCBuZXdIZXJvSHRtbCBmaWVsZHMuIEEgdW5pcXVlIGlkIGlzIGdlbmVyYXRlZFxuICAgKiBiYXNlZCBvbiB0aGUgbmFtZSBhbmQgdGltZXN0YW1wLiBUaGUgbmV3IHRlbXBsYXRlIGlzIHN0b3JlZFxuICAgKiBhbG9uZ3NpZGUgZXhpc3RpbmcgdGVtcGxhdGVzIGFuZCBwZXJzaXN0ZWQgaW50byBsb2NhbFN0b3JhZ2UuXG4gICAqL1xuICBjb25zdCBhZGROZXdIZXJvVGVtcGxhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IG5ld0hlcm9OYW1lLnRyaW0oKTtcbiAgICBjb25zdCBodG1sID0gbmV3SGVyb0h0bWwudHJpbSgpO1xuICAgIGlmICghbmFtZSB8fCAhaHRtbCkgcmV0dXJuO1xuICAgIGNvbnN0IGlkID0gYCR7bmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKX0tJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3QgbmV3VHBsOiBIZXJvVGVtcGxhdGUgPSB7IGlkLCBuYW1lLCBodG1sIH07XG4gICAgc2V0SGVyb1RlbXBsYXRlcygocHJldikgPT4gWy4uLnByZXYsIG5ld1RwbF0pO1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21IZXJvVGVtcGxhdGVzJyk7XG4gICAgICAgIGNvbnN0IGxpc3Q6IEhlcm9UZW1wbGF0ZVtdID0gc3RvcmVkID8gSlNPTi5wYXJzZShzdG9yZWQpIDogW107XG4gICAgICAgIGxpc3QucHVzaChuZXdUcGwpO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1c3RvbUhlcm9UZW1wbGF0ZXMnLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIGN1c3RvbSBoZXJvIHRlbXBsYXRlJywgZXJyKTtcbiAgICB9XG4gICAgc2V0TmV3SGVyb05hbWUoJycpO1xuICAgIHNldE5ld0hlcm9IdG1sKCcnKTtcbiAgfTtcblxuICAvKipcbiAgICogTG9hZCBhbnkgY3VzdG9tIGhlcm8gdGVtcGxhdGVzIGZyb20gbG9jYWxTdG9yYWdlLiBUaGlzIG1pcnJvcnNcbiAgICogdGhlIGJlaGF2aW91ciBmb3IgYm9keS9oZWFkZXIvZm9vdGVyIHRlbXBsYXRlcy4gQ3VzdG9tIGhlcm9cbiAgICogdGVtcGxhdGVzIGFyZSBzdG9yZWQgdW5kZXIgdGhlIGtleSAnY3VzdG9tSGVyb1RlbXBsYXRlcycuXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RvcmVkSGVybyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tSGVyb1RlbXBsYXRlcycpO1xuICAgICAgICBpZiAoc3RvcmVkSGVybykge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZDogSGVyb1RlbXBsYXRlW10gPSBKU09OLnBhcnNlKHN0b3JlZEhlcm8pO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZCkgJiYgcGFyc2VkLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0SGVyb1RlbXBsYXRlcygocHJldikgPT4gWy4uLnByZXYsIC4uLnBhcnNlZF0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgY3VzdG9tIGhlcm8gdGVtcGxhdGVzJywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogQ29tcG9zZSB0aGUgZnVsbCBlbWFpbCB3aGVuZXZlciBhbnkgcGFydCBvZiB0aGUgZGF0YSBjaGFuZ2VzLiBUaGlzXG4gICAqIGluY2x1ZGVzIGhlYWRlci9mb290ZXIvaGVybyB0ZW1wbGF0ZSBzZWxlY3Rpb24sIGJvZHkgc2VjdGlvbnMsXG4gICAqIHByb2R1Y3RzLCBoZXJvIGltYWdlIGFuZCBicmFuZCBjdXN0b21pc2F0aW9ucy4gVGhlIGNvbXBvc2VkXG4gICAqIEhUTUwgdXNlcyBPcHRpb27CoEEgc2VtYW50aWNzOiB0aGUgc2FtZSBIVE1MIHN0cmluZyBpcyB1c2VkIGZvclxuICAgKiBib3RoIHByZXZpZXcgYW5kIGNvZGUgb3V0cHV0LiBCcmFuZCBjb2xvdXJzLCBmb250cyBhbmQgbG9nb3NcbiAgICogYXJlIGFwcGxpZWQgdW5pZm9ybWx5IGFjcm9zcyBhbGwgc2VjdGlvbnMuXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIENvbXBvc2UgaGVhZGVyXG4gICAgbGV0IGhlYWRlclN0ciA9ICcnO1xuICAgIGlmIChzaG93SGVhZGVyU2VjdGlvbikge1xuICAgICAgY29uc3QgaGVhZGVyVGVtcGxhdGUgPSBoZWFkZXJUZW1wbGF0ZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gc2VsZWN0ZWRIZWFkZXJJZCk7XG4gICAgICBoZWFkZXJTdHIgPSBoZWFkZXJUZW1wbGF0ZSA/IGhlYWRlclRlbXBsYXRlLmh0bWwgOiAnJztcbiAgICAgIGhlYWRlclN0ciA9IGFwcGx5QnJhbmRDb2xvdXJzQW5kRm9udChoZWFkZXJTdHIpO1xuICAgICAgaGVhZGVyU3RyID0gYXBwbHlCcmFuZExvZ28oaGVhZGVyU3RyKTtcbiAgICB9XG4gICAgLy8gQ29tcG9zZSBoZXJvIGlmIGFuIGltYWdlIGhhcyBiZWVuIHNldFxuICAgIGxldCBoZXJvU3RyID0gJyc7XG4gICAgY29uc3QgaGVyb1RlbXBsYXRlID0gaGVyb1RlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEhlcm9JZCk7XG4gICAgaWYgKHNob3dIZXJvU2VjdGlvbiAmJiBoZXJvVGVtcGxhdGUgJiYgaGVyb0ltYWdlKSB7XG4gICAgICBjb25zdCBoZXJvRGF0YTogYW55ID0ge1xuICAgICAgICBoZXJvSW1hZ2UsXG4gICAgICAgIGhlcm9BbHQ6IGhlcm9BbHQgfHwgJycsXG4gICAgICAgIGhlcm9IcmVmOiBoZXJvSHJlZiB8fCAnJ1xuICAgICAgfTtcbiAgICAgIGlmICghaGVyb0RhdGEuaGVyb0FsdCAmJiBicmFuZE5hbWUpIGhlcm9EYXRhLmhlcm9BbHQgPSBicmFuZE5hbWU7XG4gICAgICAvLyBSZW5kZXIgaGVybyB1c2luZyB0aGUgZnVsbCB0ZW1wbGF0ZSBvYmplY3QuIFBhc3NpbmcgdGhlIHJhd1xuICAgICAgLy8gSFRNTCBzdHJpbmcgY2F1c2VzIHJlbmRlclRlbXBsYXRlIHRvIHJlY2VpdmUgdW5kZWZpbmVkIGZvclxuICAgICAgLy8gdGVtcGxhdGUuaHRtbCBhbmQgcmVzdWx0cyBpbiBydW50aW1lIGVycm9ycy4gU2VlIGRhdGEvdGVtcGxhdGVzLnRzLlxuICAgICAgaGVyb1N0ciA9IHJlbmRlclRlbXBsYXRlKGhlcm9UZW1wbGF0ZSBhcyBhbnksIGhlcm9EYXRhKTtcbiAgICAgIGhlcm9TdHIgPSBhcHBseUJyYW5kQ29sb3Vyc0FuZEZvbnQoaGVyb1N0cik7XG4gICAgfVxuICAgIC8vIENvbXBvc2UgYm9keSBhY3Jvc3MgYWxsIHNlY3Rpb25zXG4gICAgY29uc3QgYm9keUh0bWxNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBib2R5U2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgbGV0IHNlY3Rpb25IdG1sID0gJyc7XG4gICAgICBzZWN0aW9uLnByb2R1Y3RzLmZvckVhY2goKHByb2QsIGlkeCkgPT4ge1xuICAgICAgICAvLyBEZXRlcm1pbmUgb3JpZW50YXRpb24gYmFzZWQgb24gaW5kZXggYW5kIGFsdGVybmF0ZSBtYXBcbiAgICAgICAgbGV0IHRlbXBsYXRlSWRUb1VzZSA9IHNlY3Rpb24uc2VsZWN0ZWRCb2R5SWQ7XG4gICAgICAgIGlmIChpZHggJSAyID09PSAxICYmIGFsdGVybmF0ZU1hcFtzZWN0aW9uLnNlbGVjdGVkQm9keUlkXSkge1xuICAgICAgICAgIHRlbXBsYXRlSWRUb1VzZSA9IGFsdGVybmF0ZU1hcFtzZWN0aW9uLnNlbGVjdGVkQm9keUlkXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0cGwgPSBib2R5VGVtcGxhdGVzLmZpbmQoKHQpID0+IHQuaWQgPT09IHRlbXBsYXRlSWRUb1VzZSk7XG4gICAgICAgIGlmICghdHBsKSByZXR1cm47XG4gICAgICAgIC8vIENvbG91ciBzd2F0Y2hlcyByZW1vdmVkIHBlciByZWZhY3RvclxuICAgICAgICAvLyBCdWlsZCBwcmljZSBIVE1MOiBpbmNsdWRlIGEgc3RyaWtl4oCRdGhyb3VnaCBvcmlnaW5hbCBwcmljZSBpZlxuICAgICAgICAvLyBwcm92aWRlZCBhbmQgZGlmZmVyZW50IGZyb20gdGhlIHNhbGUgcHJpY2UuIFdlIGxlYXZlIHRoZVxuICAgICAgICAvLyBjdXJyZW5jeSBhcyBwcm92aWRlZCBieSB0aGUgcGFyc2VyLiBJZiBubyBvcmlnaW5hbCBwcmljZSBpc1xuICAgICAgICAvLyBwcmVzZW50LCBzaG93IHRoZSBzYWxlIHByaWNlIG9ubHkuIFdoZW4gYm90aCB2YWx1ZXMgYXJlXG4gICAgICAgIC8vIGVtcHR5IHRoZSBwcmljZUh0bWwgd2lsbCBiZSBlbXB0eSBhcyB3ZWxsLlxuICAgICAgICBjb25zdCBzYWxlUHJpY2UgPSAocHJvZCBhcyBhbnkpLnByaWNlIHx8ICcnO1xuICAgICAgICBjb25zdCBvcmlnaW5hbFByaWNlID0gKHByb2QgYXMgYW55KS5vcmlnaW5hbFByaWNlO1xuICAgICAgICBsZXQgcHJpY2VIdG1sID0gJyc7XG4gICAgICAgIGlmIChvcmlnaW5hbFByaWNlICYmIG9yaWdpbmFsUHJpY2UgIT09IHNhbGVQcmljZSkge1xuICAgICAgICAgIHByaWNlSHRtbCA9IGA8c3BhbiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjpsaW5lLXRocm91Z2g7Y29sb3I6Izg4ODg4ODttYXJnaW4tcmlnaHQ6OHB4O2ZvbnQtd2VpZ2h0OjQwMDtcIj4ke29yaWdpbmFsUHJpY2V9PC9zcGFuPiAke3NhbGVQcmljZX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByaWNlSHRtbCA9IHNhbGVQcmljZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaG9vc2UgZGVzY3JpcHRpb24gc291cmNlIHBlciBzZWN0aW9uXG4gICAgICAgIGxldCBjaG9zZW5EZXNjcmlwdGlvbiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIGlmIChzZWN0aW9uLmRlc2NyaXB0aW9uU291cmNlID09PSAncCcgJiYgKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblApIHtcbiAgICAgICAgICBjaG9zZW5EZXNjcmlwdGlvbiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25QO1xuICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb24uZGVzY3JpcHRpb25Tb3VyY2UgPT09ICd1bCcgJiYgKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblVsKSB7XG4gICAgICAgICAgY2hvc2VuRGVzY3JpcHRpb24gPSAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHMgPSAocHJvZCBhcyBhbnkpLmRlc2NTb3VyY2UgfHwgJ21ldGFkYXRhJztcbiAgICAgICAgLy8gRm9yIFVMIGluIGNvZGUgdmlldywgdXNlIGEgbWFya2VyIHRvIGxhdGVyIHN3YXAgdGhlIHBhcmFncmFwaCB3aXRoIFVMIG1hcmt1cFxuICAgICAgICBjb25zdCBkZXNjRm9yVGVtcGxhdGUgPSBkcyA9PT0gJ3VsJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWwgPyAnW1tERVNDX01BUktFUl1dJyA6IGNob3NlbkRlc2NyaXB0aW9uO1xuICAgICAgICBjb25zdCBwcm9kdWN0RGF0YTogYW55ID0ge1xuICAgICAgICAgIC4uLnByb2QsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGRlc2NGb3JUZW1wbGF0ZSxcbiAgICAgICAgICBjdGFMYWJlbDogKHByb2QgYXMgYW55KS5jdGFMYWJlbCB8fCAnU0hPUCBOT1cnLFxuICAgICAgICAgIHByaWNlSHRtbCxcbiAgICAgICAgICBjdGFCZzogYnJhbmRQcmltYXJ5XG4gICAgICAgIH07XG4gICAgICAgIC8vIFJlbmRlciBtb2R1bGUgdXNpbmcgdGhlIGZ1bGwgdGVtcGxhdGUuIFBhc3Npbmcgb25seVxuICAgICAgICAvLyB0cGwuaHRtbCBjYXVzZXMgcnVudGltZSBlcnJvcnMgYmVjYXVzZSByZW5kZXJUZW1wbGF0ZVxuICAgICAgICAvLyBleHBlY3RzIGEgVGVtcGxhdGUgb2JqZWN0LlxuICAgICAgICBsZXQgbW9kdWxlSHRtbCA9IHJlbmRlclRlbXBsYXRlKHRwbCBhcyBhbnksIHByb2R1Y3REYXRhKTtcbiAgICAgICAgaWYgKGRzID09PSAndWwnICYmIChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCkge1xuICAgICAgICAgIGNvbnN0IHVsSHRtbCA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCBhcyBzdHJpbmc7XG4gICAgICAgICAgbW9kdWxlSHRtbCA9IG1vZHVsZUh0bWwucmVwbGFjZSgvPHBbXj5dKj5cXHMqXFxbXFxbREVTQ19NQVJLRVJcXF1cXF1cXHMqPFxcL3A+L2ksIHVsSHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgbW9kdWxlSHRtbCA9IGFwcGx5QnJhbmRDb2xvdXJzQW5kRm9udChtb2R1bGVIdG1sKTtcbiAgICAgICAgc2VjdGlvbkh0bWwgKz0gbW9kdWxlSHRtbDtcbiAgICAgIH0pO1xuICAgICAgYm9keUh0bWxNYXBbYGJvZHktJHtzZWN0aW9uLmlkfWBdID0gc2VjdGlvbkh0bWw7XG4gICAgfSk7XG4gICAgLy8gQ29tcG9zZSBiYW5uZXIgaWYgYW4gaW1hZ2UgaGFzIGJlZW4gZmV0Y2hlZFxuICAgIGxldCBiYW5uZXJTdHIgPSAnJztcbiAgICBjb25zdCBiYW5uZXJUZW1wbGF0ZSA9IGJhbm5lclRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEJhbm5lcklkKTtcbiAgICBpZiAoc2hvd0Jhbm5lclNlY3Rpb24gJiYgYmFubmVyVGVtcGxhdGUgJiYgYmFubmVySW1hZ2UpIHtcbiAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHtcbiAgICAgICAgYmFubmVySW1hZ2UsXG4gICAgICAgIGJhbm5lckFsdDogYmFubmVyQWx0IHx8ICcnLFxuICAgICAgICBiYW5uZXJIcmVmOiBiYW5uZXJIcmVmIHx8ICcnXG4gICAgICB9O1xuICAgICAgaWYgKCFkYXRhLmJhbm5lckFsdCAmJiBicmFuZE5hbWUpIGRhdGEuYmFubmVyQWx0ID0gYnJhbmROYW1lO1xuICAgICAgYmFubmVyU3RyID0gcmVuZGVyVGVtcGxhdGUoYmFubmVyVGVtcGxhdGUgYXMgYW55LCBkYXRhKTtcbiAgICAgIGJhbm5lclN0ciA9IGFwcGx5QnJhbmRDb2xvdXJzQW5kRm9udChiYW5uZXJTdHIpO1xuICAgIH1cbiAgICAvLyBDb21wb3NlIGZvb3RlclxuICAgIGxldCBmb290ZXJTdHIgPSAnJztcbiAgICBpZiAoc2hvd0Zvb3RlclNlY3Rpb24pIHtcbiAgICAgIGNvbnN0IGZvb3RlclRlbXBsYXRlID0gZm9vdGVyVGVtcGxhdGVzLmZpbmQoKHQpID0+IHQuaWQgPT09IHNlbGVjdGVkRm9vdGVySWQpO1xuICAgICAgZm9vdGVyU3RyID0gZm9vdGVyVGVtcGxhdGUgPyBmb290ZXJUZW1wbGF0ZS5odG1sIDogJyc7XG4gICAgICBmb290ZXJTdHIgPSBhcHBseUJyYW5kQ29sb3Vyc0FuZEZvbnQoZm9vdGVyU3RyKTtcbiAgICB9XG4gICAgbGV0IG9yZGVyZWRIdG1sID0gJyc7XG4gICAgc2VjdGlvbk9yZGVyLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICBpZiAoaWQgPT09ICdoZXJvJykgb3JkZXJlZEh0bWwgKz0gaGVyb1N0cjtcbiAgICAgIGVsc2UgaWYgKGlkID09PSAnYmFubmVyJykgb3JkZXJlZEh0bWwgKz0gYmFubmVyU3RyO1xuICAgICAgZWxzZSBpZiAoaWQuc3RhcnRzV2l0aCgnYm9keS0nKSkgb3JkZXJlZEh0bWwgKz0gYm9keUh0bWxNYXBbaWRdIHx8ICcnO1xuICAgIH0pO1xuXG4gICAgc2V0SGVhZGVySHRtbChoZWFkZXJTdHIpO1xuICAgIHNldEhlcm9IdG1sKGhlcm9TdHIpO1xuICAgIHNldEJvZHlIdG1sKHNlY3Rpb25PcmRlci5maWx0ZXIoKGlkKSA9PiBpZC5zdGFydHNXaXRoKCdib2R5LScpKS5tYXAoKGlkKSA9PiBib2R5SHRtbE1hcFtpZF0pLmpvaW4oJycpKTtcbiAgICBzZXRCYW5uZXJIdG1sKGJhbm5lclN0cik7XG4gICAgc2V0Rm9vdGVySHRtbChmb290ZXJTdHIpO1xuICAgIHNldEZpbmFsSHRtbChgJHtoZWFkZXJTdHJ9JHtvcmRlcmVkSHRtbH0ke2Zvb3RlclN0cn1gKTtcbiAgfSwgW2JvZHlTZWN0aW9ucywgc2VsZWN0ZWRCb2R5SWQsIHNlbGVjdGVkSGVhZGVySWQsIHNlbGVjdGVkRm9vdGVySWQsIHNlbGVjdGVkQmFubmVySWQsIGJvZHlUZW1wbGF0ZXMsIGhlYWRlclRlbXBsYXRlcywgZm9vdGVyVGVtcGxhdGVzLCBiYW5uZXJUZW1wbGF0ZXMsIGJyYW5kUHJpbWFyeSwgYnJhbmRTZWNvbmRhcnksIGJyYW5kRm9udCwgYnJhbmRMb2dvRGF0YVVybCwgaGVyb0ltYWdlLCBoZXJvQWx0LCBoZXJvSHJlZiwgYmFubmVySW1hZ2UsIGJhbm5lckFsdCwgYmFubmVySHJlZiwgc2VsZWN0ZWRIZXJvSWQsIGhlcm9UZW1wbGF0ZXMsIHNob3dIZWFkZXJTZWN0aW9uLCBzaG93SGVyb1NlY3Rpb24sIHNob3dCYW5uZXJTZWN0aW9uLCBzaG93Rm9vdGVyU2VjdGlvbiwgc2VjdGlvbk9yZGVyXSk7XG5cbiAgLyoqXG4gICAqIFByaXNtSlMgcmVmZXJlbmNlIGFuZCBsb2FkIHN0YXRlLiBXZSBsb2FkIFByaXNtIG9ubHkgb24gdGhlIGNsaWVudC4gV2UgYWxzbyBsb2FkIHRoZSBtYXJrdXBcbiAgICogbGFuZ3VhZ2UgY29tcG9uZW50LiBPbmNlIGxvYWRlZCwgd2UgdXBkYXRlIHRoZSBzdGF0ZSB0byB0cmlnZ2VyXG4gICAqIHJlLXJlbmRlciBzbyBzeW50YXggaGlnaGxpZ2h0aW5nIGFwcGxpZXMuIFRoZSBlc2xpbnQgY29tbWVudFxuICAgKiBzdXBwcmVzc2VzIHdhcm5pbmdzIGFib3V0IGFzeW5jaHJvbm91cyBmdW5jdGlvbnMgaW5zaWRlIHVzZUVmZmVjdC5cbiAgICovXG4gIGNvbnN0IHByaXNtUmVmID0gdXNlUmVmPGFueT4obnVsbCk7XG4gIGNvbnN0IFtwcmlzbUxvYWRlZCwgc2V0UHJpc21Mb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIExvYWQgUHJpc21KUyBkeW5hbWljYWxseSBvbiB0aGUgY2xpZW50LiBXZSBhbHNvIGxvYWQgdGhlIG1hcmt1cFxuICAvLyBsYW5ndWFnZSBjb21wb25lbnQuIE9uY2UgbG9hZGVkLCB3ZSB1cGRhdGUgdGhlIHN0YXRlIHRvIHRyaWdnZXJcbiAgLy8gcmUtcmVuZGVyIHNvIHN5bnRheCBoaWdobGlnaHRpbmcgYXBwbGllcy4gVGhlIGVzbGludCBjb21tZW50XG4gIC8vIHN1cHByZXNzZXMgd2FybmluZ3MgYWJvdXQgYXN5bmNocm9ub3VzIGZ1bmN0aW9ucyBpbnNpZGUgdXNlRWZmZWN0LlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBQcmlzbU1vZHVsZSA9IGF3YWl0IGltcG9ydCgncHJpc21qcycpO1xuICAgICAgICAgIGF3YWl0IGltcG9ydCgncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLW1hcmt1cCcpO1xuICAgICAgICAgIHByaXNtUmVmLmN1cnJlbnQgPSBQcmlzbU1vZHVsZS5kZWZhdWx0O1xuICAgICAgICAgIHNldFByaXNtTG9hZGVkKHRydWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIFByaXNtSlMnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBDb21wb3NlIGEgbGlzdCBvZiBjb2RlIHNlY3Rpb25zIGZvciB0aGUgcmlnaHTigJFwYW5lbCBhY2NvcmRpb24uIEVhY2hcbiAgICogaXRlbSBjb250YWlucyBhIHVuaXF1ZSBrZXksIGEgaHVtYW7igJFyZWFkYWJsZSB0aXRsZSBhbmQgdGhlXG4gICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBzdHJpbmcuIFRoZSBzdHJ1Y3R1cmUgbWlycm9ycyB0aGUgbGVmdCBzaWRlXG4gICogcGFuZWxzOiBoZWFkZXIsIGhlcm8sIGVhY2ggYm9keSBzZWN0aW9uIChjb250YWluaW5nIGFsbCBhc3NvY2lhdGVkXG4gICogcHJvZHVjdHMpIGFuZCBmb290ZXIuIENvbG91cnMgYW5kIHByaWNlcyBhcmUgY29tcHV0ZWQgaW5saW5lIGZvclxuICAqIGVhY2ggcHJvZHVjdCB0byBtYXRjaCB0aGUgZmluYWwgb3V0cHV0LiBUaGlzIGxpc3QgaXNcbiAgICogcmVjb21wdXRlZCBvbiBldmVyeSByZW5kZXIgYmVjYXVzZSB0aGUgZGVwZW5kZW50IGRhdGEgKGJvZHlcbiAgICogc2VjdGlvbnMsIHRlbXBsYXRlcywgYnJhbmQgY3VzdG9taXNhdGlvbnMsIGV0Yy4pIG1heSBjaGFuZ2UuIElmXG4gICAqIHBlcmZvcm1hbmNlIGJlY29tZXMgYW4gaXNzdWUgdXNlIFJlYWN0LnVzZU1lbW8uXG4gICAqL1xuICBjb25zdCBjb2RlU2VjdGlvbnM6IHsga2V5OiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IGNvZGU6IHN0cmluZyB9W10gPSBbXTtcbiAgLy8gSGVhZGVyIHNlY3Rpb25cbiAgaWYgKGhlYWRlckh0bWwpIHtcbiAgICBjb2RlU2VjdGlvbnMucHVzaCh7IGtleTogJ2hlYWRlcicsIHRpdGxlOiAnSGVhZGVyJywgY29kZTogaGVhZGVySHRtbCB9KTtcbiAgfVxuICBzZWN0aW9uT3JkZXIuZm9yRWFjaCgoaWQpID0+IHtcbiAgICBpZiAoaWQgPT09ICdoZXJvJyAmJiBoZXJvSHRtbCkge1xuICAgICAgY29kZVNlY3Rpb25zLnB1c2goeyBrZXk6ICdoZXJvJywgdGl0bGU6ICdIZXJvJywgY29kZTogaGVyb0h0bWwgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpZCA9PT0gJ2Jhbm5lcicgJiYgYmFubmVySHRtbCkge1xuICAgICAgY29kZVNlY3Rpb25zLnB1c2goeyBrZXk6ICdiYW5uZXInLCB0aXRsZTogJ0Jhbm5lcicsIGNvZGU6IGJhbm5lckh0bWwgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpZC5zdGFydHNXaXRoKCdib2R5LScpKSB7XG4gICAgICBjb25zdCBzZWN0aW9uID0gYm9keVNlY3Rpb25zLmZpbmQoKHMpID0+IGBib2R5LSR7cy5pZH1gID09PSBpZCk7XG4gICAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcbiAgICAgIGxldCBjb21iaW5lZEh0bWwgPSAnJztcbiAgICAgIHNlY3Rpb24ucHJvZHVjdHMuZm9yRWFjaCgocHJvZCwgaWR4KSA9PiB7XG4gICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggdGVtcGxhdGUgdG8gdXNlOiBhbHRlcm5hdGUgZXZlcnkgb3RoZXIgcHJvZHVjdFxuICAgICAgbGV0IHRlbXBsYXRlSWRUb1VzZSA9IHNlY3Rpb24uc2VsZWN0ZWRCb2R5SWQ7XG4gICAgICBpZiAoaWR4ICUgMiA9PT0gMSAmJiBhbHRlcm5hdGVNYXBbc2VjdGlvbi5zZWxlY3RlZEJvZHlJZF0pIHtcbiAgICAgICAgdGVtcGxhdGVJZFRvVXNlID0gYWx0ZXJuYXRlTWFwW3NlY3Rpb24uc2VsZWN0ZWRCb2R5SWRdO1xuICAgICAgfVxuICAgICAgY29uc3QgdHBsID0gYm9keVRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSB0ZW1wbGF0ZUlkVG9Vc2UpO1xuICAgICAgaWYgKCF0cGwpIHJldHVybjtcbiAgICAgIC8vIENvbG91ciBzd2F0Y2hlcyByZW1vdmVkIGluIHJlZmFjdG9yXG4gICAgICAvLyBCdWlsZCBwcmljZSBIVE1MOiBpbmNsdWRlIG9yaWdpbmFsIHByaWNlIGlmIGRpZmZlcmVudFxuICAgICAgY29uc3Qgc2FsZVByaWNlID0gKHByb2QgYXMgYW55KS5wcmljZSB8fCAnJztcbiAgICAgIGNvbnN0IG9yaWdpbmFsUHJpY2UgPSAocHJvZCBhcyBhbnkpLm9yaWdpbmFsUHJpY2U7XG4gICAgICBsZXQgcHJpY2VIdG1sID0gJyc7XG4gICAgICBpZiAob3JpZ2luYWxQcmljZSAmJiBvcmlnaW5hbFByaWNlICE9PSBzYWxlUHJpY2UpIHtcbiAgICAgICAgcHJpY2VIdG1sID0gYDxzcGFuIHN0eWxlPVwidGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaDtjb2xvcjojODg4ODg4O21hcmdpbi1yaWdodDo4cHg7Zm9udC13ZWlnaHQ6NDAwO1wiPiR7b3JpZ2luYWxQcmljZX08L3NwYW4+ICR7c2FsZVByaWNlfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmljZUh0bWwgPSBzYWxlUHJpY2U7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIGRhdGEgb2JqZWN0IGZvciB0ZW1wbGF0aW5nXG4gICAgICAgIC8vIENob29zZSBkZXNjcmlwdGlvbiBmb3IgY29kZSB2aWV3IGFzIHdlbGxcbiAgICAgICAgbGV0IGNob3NlbkRlc2MyID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgaWYgKHNlY3Rpb24uZGVzY3JpcHRpb25Tb3VyY2UgPT09ICdwJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uUCkge1xuICAgICAgICAgIGNob3NlbkRlc2MyID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblAgYXMgc3RyaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHNlY3Rpb24uZGVzY3JpcHRpb25Tb3VyY2UgPT09ICd1bCcgJiYgKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblVsKSB7XG4gICAgICAgICAgY2hvc2VuRGVzYzIgPSAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWwgYXMgc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHtcbiAgICAgICAgICAuLi5wcm9kLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBjaG9zZW5EZXNjMixcbiAgICAgICAgICBjdGFMYWJlbDogKHByb2QgYXMgYW55KS5jdGFMYWJlbCB8fCAnU0hPUCBOT1cnLFxuICAgICAgICAgIHByaWNlSHRtbCxcbiAgICAgICAgICBjdGFCZzogYnJhbmRQcmltYXJ5XG4gICAgICB9O1xuICAgICAgLy8gUmVuZGVyIEhUTUwgYW5kIGFwcGx5IGJyYW5kIGN1c3RvbWlzYXRpb25zXG4gICAgICBsZXQgaHRtbCA9IHJlbmRlclRlbXBsYXRlKHRwbCBhcyBhbnksIGRhdGEpO1xuICAgICAgaHRtbCA9IGFwcGx5QnJhbmRDb2xvdXJzQW5kRm9udChodG1sKTtcbiAgICAgIGNvbWJpbmVkSHRtbCArPSBodG1sO1xuICAgIH0pO1xuICAgICAgaWYgKGNvbWJpbmVkSHRtbCkge1xuICAgICAgICBjb2RlU2VjdGlvbnMucHVzaCh7IGtleTogaWQsIHRpdGxlOiBzZWN0aW9uLm5hbWUsIGNvZGU6IGNvbWJpbmVkSHRtbCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvLyBGb290ZXIgc2VjdGlvblxuICBpZiAoZm9vdGVySHRtbCkge1xuICAgIGNvZGVTZWN0aW9ucy5wdXNoKHsga2V5OiAnZm9vdGVyJywgdGl0bGU6ICdGb290ZXInLCBjb2RlOiBmb290ZXJIdG1sIH0pO1xuICB9XG5cbiAgLy8gYWx0ZXJuYXRlTWFwIGlzIG5vdyBkZWZpbmVkIGF0IHRoZSB0b3Agb2YgdGhlIGZpbGUuIER1cGxpY2F0ZSBkZWZpbml0aW9uc1xuICAvLyBoZXJlIGhhdmUgYmVlbiByZW1vdmVkIHRvIHByZXZlbnQgUmVmZXJlbmNlRXJyb3Igd2hlbiB1c2VkIGVhcmxpZXIuXG5cbiAgLyoqXG4gICAqIExvYWQgY3VzdG9tIHRlbXBsYXRlcyBmb3IgYm9keSwgaGVhZGVyIGFuZCBmb290ZXIgZnJvbVxuICAgKiBsb2NhbFN0b3JhZ2UuIEVhY2ggY29sbGVjdGlvbiBpcyBzdG9yZWQgdW5kZXIgaXRzIG93biBrZXkuIFRoZVxuICAgKiB0cnkvY2F0Y2ggZ3VhcmRzIGFnYWluc3QgSlNPTiBwYXJzaW5nIGVycm9ycyBhbmQgbG9jYWxTdG9yYWdlXG4gICAqIGFjY2VzcyBlcnJvcnMgKGUuZy4gaW4gc2VydmVy4oCRc2lkZSByZW5kZXJpbmcpLlxuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEJvZHkgdGVtcGxhdGVzXG4gICAgICAgIGNvbnN0IHN0b3JlZEJvZHkgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbVRlbXBsYXRlcycpO1xuICAgICAgICBpZiAoc3RvcmVkQm9keSkge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHk6IEJvZHlUZW1wbGF0ZVtdID0gSlNPTi5wYXJzZShzdG9yZWRCb2R5KTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWRCb2R5KSAmJiBwYXJzZWRCb2R5Lmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0Qm9keVRlbXBsYXRlcygocHJldikgPT4gWy4uLnByZXYsIC4uLnBhcnNlZEJvZHldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSGVhZGVyIHRlbXBsYXRlc1xuICAgICAgICBjb25zdCBzdG9yZWRIZWFkZXIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUhlYWRlclRlbXBsYXRlcycpO1xuICAgICAgICBpZiAoc3RvcmVkSGVhZGVyKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkSGVhZGVyOiBIZWFkZXJUZW1wbGF0ZVtdID0gSlNPTi5wYXJzZShzdG9yZWRIZWFkZXIpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZEhlYWRlcikgJiYgcGFyc2VkSGVhZGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0SGVhZGVyVGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgLi4ucGFyc2VkSGVhZGVyXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEZvb3RlciB0ZW1wbGF0ZXNcbiAgICAgICAgY29uc3Qgc3RvcmVkRm9vdGVyID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21Gb290ZXJUZW1wbGF0ZXMnKTtcbiAgICAgICAgaWYgKHN0b3JlZEZvb3Rlcikge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZEZvb3RlcjogRm9vdGVyVGVtcGxhdGVbXSA9IEpTT04ucGFyc2Uoc3RvcmVkRm9vdGVyKTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWRGb290ZXIpICYmIHBhcnNlZEZvb3Rlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldEZvb3RlclRlbXBsYXRlcygocHJldikgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBhbGwgPSBbLi4ucHJldiwgLi4ucGFyc2VkRm9vdGVyXTtcbiAgICAgICAgICAgICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGFsbC5maWx0ZXIodHBsID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2Vlbi5oYXModHBsLmlkKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIHNlZW4uYWRkKHRwbC5pZCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEJhbm5lciB0ZW1wbGF0ZXNcbiAgICAgICAgY29uc3Qgc3RvcmVkQmFubmVyID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21CYW5uZXJUZW1wbGF0ZXMnKTtcbiAgICAgICAgaWYgKHN0b3JlZEJhbm5lcikge1xuICAgICAgICAgIGNvbnN0IHBhcnNlZEJhbm5lcjogQmFubmVyVGVtcGxhdGVbXSA9IEpTT04ucGFyc2Uoc3RvcmVkQmFubmVyKTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWRCYW5uZXIpICYmIHBhcnNlZEJhbm5lci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldEJhbm5lclRlbXBsYXRlcygocHJldikgPT4gWy4uLnByZXYsIC4uLnBhcnNlZEJhbm5lcl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgY3VzdG9tIHRlbXBsYXRlcyBmcm9tIGxvY2FsU3RvcmFnZScsIGVycik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIFN5bmNocm9uaXNlIHRoZSBkcmFmdCBIVE1MIHdoZW4gdGhlIHNlbGVjdGVkIHRlbXBsYXRlIGZvciBlYWNoXG4gICAqIHNlY3Rpb24gY2hhbmdlcy4gVGhpcyBhbGxvd3MgdGhlIGVkaXRpbmcgdGV4dGFyZWFzIHRvIGRpc3BsYXlcbiAgICogdGhlIGN1cnJlbnQgdGVtcGxhdGUuIFdlIGRlbGliZXJhdGVseSBrZWVwIHRoZSBkcmFmdHMgc2VwYXJhdGVcbiAgICogc28gdGhhdCBlZGl0aW5nIG9uZSBzZWN0aW9uIGRvZXNu4oCZdCBvdmVycmlkZSB0aGUgb3RoZXJzLlxuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Qm9keSA9IGJvZHlUZW1wbGF0ZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gc2VsZWN0ZWRCb2R5SWQpO1xuICAgIGlmIChjdXJyZW50Qm9keSkge1xuICAgICAgc2V0RHJhZnRCb2R5SHRtbChjdXJyZW50Qm9keS5odG1sKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZEJvZHlJZCwgYm9keVRlbXBsYXRlc10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRIZWFkZXIgPSBoZWFkZXJUZW1wbGF0ZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gc2VsZWN0ZWRIZWFkZXJJZCk7XG4gICAgaWYgKGN1cnJlbnRIZWFkZXIpIHtcbiAgICAgIHNldERyYWZ0SGVhZGVySHRtbChjdXJyZW50SGVhZGVyLmh0bWwpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkSGVhZGVySWQsIGhlYWRlclRlbXBsYXRlc10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRCYW5uZXIgPSBiYW5uZXJUZW1wbGF0ZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gc2VsZWN0ZWRCYW5uZXJJZCk7XG4gICAgaWYgKGN1cnJlbnRCYW5uZXIpIHtcbiAgICAgIHNldERyYWZ0QmFubmVySHRtbChjdXJyZW50QmFubmVyLmh0bWwpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkQmFubmVySWQsIGJhbm5lclRlbXBsYXRlc10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRGb290ZXIgPSBmb290ZXJUZW1wbGF0ZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gc2VsZWN0ZWRGb290ZXJJZCk7XG4gICAgaWYgKGN1cnJlbnRGb290ZXIpIHtcbiAgICAgIHNldERyYWZ0Rm9vdGVySHRtbChjdXJyZW50Rm9vdGVyLmh0bWwpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkRm9vdGVySWQsIGZvb3RlclRlbXBsYXRlc10pO1xuXG4gIC8vIFN5bmNocm9uaXNlIGRyYWZ0IGhlcm8gSFRNTCB3aGVuIHRoZSBzZWxlY3RlZCBoZXJvIHRlbXBsYXRlIGNoYW5nZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50SGVybyA9IGhlcm9UZW1wbGF0ZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gc2VsZWN0ZWRIZXJvSWQpO1xuICAgIGlmIChjdXJyZW50SGVybykge1xuICAgICAgc2V0RHJhZnRIZXJvSHRtbChjdXJyZW50SGVyby5odG1sKTtcbiAgICB9XG4gIH0sIFtzZWxlY3RlZEhlcm9JZCwgaGVyb1RlbXBsYXRlc10pO1xuXG4gIC8qKlxuICAgKiBTdHJpcCBhbnkgcXVlcnkgcGFyYW1ldGVycyBmcm9tIGEgVVJMLCByZXR1cm5pbmcgdGhlIGJhc2UgVVJMXG4gICAqIGJlZm9yZSB0aGUgJz8nIGNoYXJhY3Rlci5cbiAgICovXG4gIGNvbnN0IHNhbml0aXplVXJsID0gKHVybDogc3RyaW5nKSA9PiB1cmwuc3BsaXQoJz8nKVswXTtcblxuICAvKipcbiAgICogVXBkYXRlIGEgVVJMIHdpdGhpbiBhIGJvZHkgc2VjdGlvbi4gQ2FsbGVkIHdoZW5ldmVyIHRoZSB1c2VyXG4gICAqIGVkaXRzIG9uZSBvZiB0aGUgVVJMIGlucHV0cy4gQWNjZXB0cyB0aGUgc2VjdGlvbiBpZCwgdGhlXG4gICAqIGluZGV4IG9mIHRoZSBVUkwgd2l0aGluIHRoYXQgc2VjdGlvbiBhbmQgdGhlIG5ldyB2YWx1ZS4gU3RhdGVcbiAgICogaXMgdXBkYXRlZCBpbW11dGFibHkgdG8gZW5zdXJlIFJlYWN0IHJlLXJlbmRlcnMgYXBwcm9wcmlhdGVseS5cbiAgICovXG4gIGNvbnN0IGhhbmRsZVVybENoYW5nZSA9IChzZWN0aW9uSWQ6IG51bWJlciwgaW5kZXg6IG51bWJlciwgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldERyYWZ0VXJscygocHJldikgPT4ge1xuICAgICAgY29uc3QgY3VycmVudCA9IHByZXZbc2VjdGlvbklkXSA/PyBnZXREcmFmdFVybHMoc2VjdGlvbklkKTtcbiAgICAgIGNvbnN0IG5leHQgPSBbLi4uY3VycmVudF07XG4gICAgICBuZXh0W2luZGV4XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHsgLi4ucHJldiwgW3NlY3Rpb25JZF06IG5leHQgfTtcbiAgICB9KTtcbiAgfTtcbiAgLy8gQWRkIGEgbmV3IGJsYW5rIFVSTCBpbnB1dCB0byBhIHNlY3Rpb24uIE9wdGlvbmFsbHkgZm9jdXMgdGhlIG5ld2x5XG4gIC8vIGNyZWF0ZWQgZmllbGQgYnkgcGFzc2luZyBpdHMgaW5kZXguXG4gIGNvbnN0IGFkZFVybEZpZWxkID0gKHNlY3Rpb25JZDogbnVtYmVyLCBmb2N1c0luZGV4PzogbnVtYmVyKSA9PiB7XG4gICAgc2V0RHJhZnRVcmxzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcHJldltzZWN0aW9uSWRdID8/IGdldERyYWZ0VXJscyhzZWN0aW9uSWQpO1xuICAgICAgcmV0dXJuIHsgLi4ucHJldiwgW3NlY3Rpb25JZF06IFsuLi5jdXJyZW50LCAnJ10gfTtcbiAgICB9KTtcbiAgICBpZiAoZm9jdXNJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdXJsLSR7c2VjdGlvbklkfS0ke2ZvY3VzSW5kZXh9YCkgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgICAgIGVsPy5mb2N1cygpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9O1xuICAvLyBSZW1vdmUgYSBVUkwgaW5wdXQgZnJvbSBhIHNlY3Rpb24gYXQgaW5kZXguXG4gIGNvbnN0IHJlbW92ZVVybEZpZWxkID0gKHNlY3Rpb25JZDogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgc2V0RHJhZnRVcmxzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcHJldltzZWN0aW9uSWRdID8/IGdldERyYWZ0VXJscyhzZWN0aW9uSWQpO1xuICAgICAgcmV0dXJuIHsgLi4ucHJldiwgW3NlY3Rpb25JZF06IGN1cnJlbnQuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCkgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVG9nZ2xlIGVkaXQgbW9kZSBmb3IgYSBnaXZlbiBzZWN0aW9uLiBXaGVuIGluIGVkaXQgbW9kZSBhXG4gICAqIHRleHRhcmVhIGlzIGRpc3BsYXllZCBhbGxvd2luZyB0aGUgdXNlciB0byBtb2RpZnkgdGhlIHJhdyBIVE1MXG4gICAqIHRlbXBsYXRlLiBTYXZpbmcgd2lsbCB1cGRhdGUgdGhlIHRlbXBsYXRlIGNvbGxlY3Rpb24gYW5kIGV4aXRcbiAgICogZWRpdCBtb2RlLlxuICAgKi9cbiAgLy8gTGVnYWN5IHRvZ2dsZSBoYW5kbGVycyByZW1vdmVkLiBFZGl0aW5nIG1vZGVzIGFyZSBub3cgdG9nZ2xlZCBkaXJlY3RseSB2aWEgaW5saW5lIGNhbGxiYWNrcy5cblxuICAvKipcbiAgICogU2F2ZSB0ZW1wbGF0ZSBlZGl0cyBmb3IgZWFjaCBzZWN0aW9uLiBUaGUgbW9kaWZpZWQgSFRNTCBpc1xuICAgKiBzdG9yZWQgYmFjayBpbnRvIHRoZSBhcHByb3ByaWF0ZSB0ZW1wbGF0ZXMgYXJyYXkuIEVkaXRzIGFyZVxuICAgKiBwZXJzaXN0ZWQgaW50byBsb2NhbFN0b3JhZ2UgaWYgdGhlIHRlbXBsYXRlIGlzIHVzZXLigJFjcmVhdGVkIChpLmUuXG4gICAqIG5vdCBwYXJ0IG9mIHRoZSBkZWZhdWx0cykuIFdlIGRvIG5vdCBkaWZmZXJlbnRpYXRlIGhlcmUgYnV0XG4gICAqIHNpbXBseSB1cGRhdGUgdGhlIHNlbGVjdGVkIHRlbXBsYXRlIGluIHBsYWNlLlxuICAgKi9cbiAgY29uc3Qgc2F2ZUJvZHlFZGl0cyA9ICgpID0+IHtcbiAgICBzZXRCb2R5VGVtcGxhdGVzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHQpID0+ICh0LmlkID09PSBzZWxlY3RlZEJvZHlJZCA/IHsgLi4udCwgaHRtbDogZHJhZnRCb2R5SHRtbCB9IDogdCkpXG4gICAgKTtcbiAgICBzZXRCb2R5RWRpdE1vZGUoZmFsc2UpO1xuICB9O1xuICBjb25zdCBzYXZlSGVhZGVyRWRpdHMgPSAoKSA9PiB7XG4gICAgc2V0SGVhZGVyVGVtcGxhdGVzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHQpID0+ICh0LmlkID09PSBzZWxlY3RlZEhlYWRlcklkID8geyAuLi50LCBodG1sOiBkcmFmdEhlYWRlckh0bWwgfSA6IHQpKVxuICAgICk7XG4gICAgc2V0SGVhZGVyRWRpdE1vZGUoZmFsc2UpO1xuICB9O1xuICBjb25zdCBzYXZlQmFubmVyRWRpdHMgPSAoKSA9PiB7XG4gICAgc2V0QmFubmVyVGVtcGxhdGVzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHQpID0+ICh0LmlkID09PSBzZWxlY3RlZEJhbm5lcklkID8geyAuLi50LCBodG1sOiBkcmFmdEJhbm5lckh0bWwgfSA6IHQpKVxuICAgICk7XG4gICAgc2V0QmFubmVyRWRpdE1vZGUoZmFsc2UpO1xuICB9O1xuICBjb25zdCBzYXZlRm9vdGVyRWRpdHMgPSAoKSA9PiB7XG4gICAgc2V0Rm9vdGVyVGVtcGxhdGVzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHQpID0+ICh0LmlkID09PSBzZWxlY3RlZEZvb3RlcklkID8geyAuLi50LCBodG1sOiBkcmFmdEZvb3Rlckh0bWwgfSA6IHQpKVxuICAgICk7XG4gICAgc2V0Rm9vdGVyRWRpdE1vZGUoZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgY3VzdG9tIHRlbXBsYXRlIHRvIGEgc2VjdGlvbi4gRWFjaCB0ZW1wbGF0ZSBtdXN0XG4gICAqIHByb3ZpZGUgYSB1bmlxdWUgaWQuIFdlIGdlbmVyYXRlIG9uZSBieSBzbHVnaWZ5aW5nIHRoZSBuYW1lXG4gICAqIGFuZCBhcHBlbmRpbmcgYSB0aW1lc3RhbXAuIE5ldyB0ZW1wbGF0ZXMgYXJlIHBlcnNpc3RlZCBpblxuICAgKiBsb2NhbFN0b3JhZ2Ugc28gdGhleSBzdXJ2aXZlIHBhZ2UgcmVsb2Fkcy5cbiAgICovXG4gIGNvbnN0IGFkZE5ld0JvZHlUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gbmV3Qm9keU5hbWUudHJpbSgpO1xuICAgIGNvbnN0IGh0bWwgPSBuZXdCb2R5SHRtbC50cmltKCk7XG4gICAgaWYgKCFuYW1lIHx8ICFodG1sKSByZXR1cm47XG4gICAgY29uc3QgaWQgPSBgJHtuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpfS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBuZXdUZW1wbGF0ZTogQm9keVRlbXBsYXRlID0geyBpZCwgbmFtZSwgaHRtbCB9O1xuICAgIHNldEJvZHlUZW1wbGF0ZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdUZW1wbGF0ZV0pO1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21UZW1wbGF0ZXMnKTtcbiAgICAgICAgY29uc3QgbGlzdDogQm9keVRlbXBsYXRlW10gPSBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgICAgICAgbGlzdC5wdXNoKG5ld1RlbXBsYXRlKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXN0b21UZW1wbGF0ZXMnLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIGN1c3RvbSBib2R5IHRlbXBsYXRlJywgZXJyKTtcbiAgICB9XG4gICAgc2V0TmV3Qm9keU5hbWUoJycpO1xuICAgIHNldE5ld0JvZHlIdG1sKCcnKTtcbiAgfTtcbiAgY29uc3QgYWRkTmV3SGVhZGVyVGVtcGxhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IG5ld0hlYWRlck5hbWUudHJpbSgpO1xuICAgIGNvbnN0IGh0bWwgPSBuZXdIZWFkZXJIdG1sLnRyaW0oKTtcbiAgICBpZiAoIW5hbWUgfHwgIWh0bWwpIHJldHVybjtcbiAgICBjb25zdCBpZCA9IGAke25hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9LSR7RGF0ZS5ub3coKX1gO1xuICAgIGNvbnN0IG5ld1RlbXBsYXRlOiBIZWFkZXJUZW1wbGF0ZSA9IHsgaWQsIG5hbWUsIGh0bWwgfTtcbiAgICBzZXRIZWFkZXJUZW1wbGF0ZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdUZW1wbGF0ZV0pO1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21IZWFkZXJUZW1wbGF0ZXMnKTtcbiAgICAgICAgY29uc3QgbGlzdDogSGVhZGVyVGVtcGxhdGVbXSA9IHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IFtdO1xuICAgICAgICBsaXN0LnB1c2gobmV3VGVtcGxhdGUpO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1c3RvbUhlYWRlclRlbXBsYXRlcycsIEpTT04uc3RyaW5naWZ5KGxpc3QpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgY3VzdG9tIGhlYWRlciB0ZW1wbGF0ZScsIGVycik7XG4gICAgfVxuICAgIHNldE5ld0hlYWRlck5hbWUoJycpO1xuICAgIHNldE5ld0hlYWRlckh0bWwoJycpO1xuICB9O1xuICBjb25zdCBhZGROZXdCYW5uZXJUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gbmV3QmFubmVyTmFtZS50cmltKCk7XG4gICAgY29uc3QgaHRtbCA9IG5ld0Jhbm5lckh0bWwudHJpbSgpO1xuICAgIGlmICghbmFtZSB8fCAhaHRtbCkgcmV0dXJuO1xuICAgIGNvbnN0IGlkID0gYCR7bmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKX0tJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3QgbmV3VGVtcGxhdGU6IEJhbm5lclRlbXBsYXRlID0geyBpZCwgbmFtZSwgaHRtbCB9O1xuICAgIHNldEJhbm5lclRlbXBsYXRlcygocHJldikgPT4gWy4uLnByZXYsIG5ld1RlbXBsYXRlXSk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUJhbm5lclRlbXBsYXRlcycpO1xuICAgICAgICBjb25zdCBsaXN0OiBCYW5uZXJUZW1wbGF0ZVtdID0gc3RvcmVkID8gSlNPTi5wYXJzZShzdG9yZWQpIDogW107XG4gICAgICAgIGxpc3QucHVzaChuZXdUZW1wbGF0ZSk7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VzdG9tQmFubmVyVGVtcGxhdGVzJywgSlNPTi5zdHJpbmdpZnkobGlzdCkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc2F2ZSBjdXN0b20gYmFubmVyIHRlbXBsYXRlJywgZXJyKTtcbiAgICB9XG4gICAgc2V0TmV3QmFubmVyTmFtZSgnJyk7XG4gICAgc2V0TmV3QmFubmVySHRtbCgnJyk7XG4gIH07XG4gIGNvbnN0IGFkZE5ld0Zvb3RlclRlbXBsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBuZXdGb290ZXJOYW1lLnRyaW0oKTtcbiAgICBjb25zdCBodG1sID0gbmV3Rm9vdGVySHRtbC50cmltKCk7XG4gICAgaWYgKCFuYW1lIHx8ICFodG1sKSByZXR1cm47XG4gICAgY29uc3QgaWQgPSBgJHtuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpfS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBuZXdUZW1wbGF0ZTogRm9vdGVyVGVtcGxhdGUgPSB7IGlkLCBuYW1lLCBodG1sIH07XG4gICAgc2V0Rm9vdGVyVGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3VGVtcGxhdGVdKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tRm9vdGVyVGVtcGxhdGVzJyk7XG4gICAgICAgIGNvbnN0IGxpc3Q6IEZvb3RlclRlbXBsYXRlW10gPSBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgICAgICAgbGlzdC5wdXNoKG5ld1RlbXBsYXRlKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXN0b21Gb290ZXJUZW1wbGF0ZXMnLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIGN1c3RvbSBmb290ZXIgdGVtcGxhdGUnLCBlcnIpO1xuICAgIH1cbiAgICBzZXROZXdGb290ZXJOYW1lKCcnKTtcbiAgICBzZXROZXdGb290ZXJIdG1sKCcnKTtcbiAgfTtcblxuICAvKipcbiAgICogR2VuZXJhdGUgRURNOiBzZW5kcyB0aGUgbGlzdCBvZiBwcm9kdWN0IFVSTHMgdG8gdGhlIEFQSSByb3V0ZVxuICAgKiB3aGljaCBmZXRjaGVzIGFuZCBwYXJzZXMgdGhlIHByb2R1Y3QgZGV0YWlscy4gUmV0dXJucyB0aGUgcmF3XG4gICAqIEhUTUwgKHVudXNlZCBoZXJlKSBhbmQgYSBsaXN0IG9mIHByb2R1Y3Qgb2JqZWN0cy4gV2UgaWdub3JlXG4gICAqIHRoZSByZXR1cm5lZCBIVE1MIGFuZCBidWlsZCBvdXIgb3duIHVzaW5nIHRlbXBsYXRlcy4gSWYgdGhlXG4gICAqIHNlcnZlciByZXNwb25kcyB3aXRoIGFuIGVycm9yIHdlIGFsZXJ0IHRoZSB1c2VyLlxuICAgKi9cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgc2luZ2xlIGJvZHkgc2VjdGlvbi4gU2VuZHMgdGhlIHNlY3Rpb24ncyBwcm9kdWN0IFVSTHMgdG9cbiAgICogdGhlIEFQSSByb3V0ZSB3aGljaCBmZXRjaGVzIGFuZCBwYXJzZXMgdGhlIHByb2R1Y3QgZGV0YWlscy4gVGhlXG4gICAqIHBhcnNlZCBwcm9kdWN0cyBhcmUgc3RvcmVkIG9uIHRoZSBzZWN0aW9uIGFuZCB0aGUgbG9hZGluZyBmbGFnXG4gICAqIGNsZWFyZWQuIElmIG5vIFVSTHMgYXJlIHByb3ZpZGVkIGFuIGFsZXJ0IGlzIHNob3duLiBBZnRlciB0aGVcbiAgICogZmlyc3Qgc3VjY2Vzc2Z1bCBnZW5lcmF0aW9uIHRoZSBoZXJvIGltYWdlIGlzIGF1dG9tYXRpY2FsbHlcbiAgICogZmV0Y2hlZCBiYXNlZCBvbiB0aGUgb3JpZ2luIG9mIHRoZSBmaXJzdCBwcm9kdWN0IFVSTCBpZiBubyBoZXJvXG4gICAqIGltYWdlIGhhcyBiZWVuIHNldCB5ZXQuXG4gICAqL1xuICBjb25zdCBnZW5lcmF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbklkOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBzZWN0aW9uID0gYm9keVNlY3Rpb25zLmZpbmQoKHMpID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgaWYgKCFzZWN0aW9uKSByZXR1cm47XG4gICAgLy8gQWx3YXlzIHVzZSB0aGUgbGF0ZXN0IGRyYWZ0VXJscyBmb3IgdGhpcyBzZWN0aW9uXG4gICAgY29uc3QgZmlsdGVyZWQgPSAoZHJhZnRVcmxzW3NlY3Rpb25JZF0gPz8gc2VjdGlvbi51cmxzKS5tYXAoKHUpID0+IHUudHJpbSgpKS5maWx0ZXIoKHUpID0+IHUpO1xuICAgIGlmIChmaWx0ZXJlZC5sZW5ndGggPT09IDApIHtcbiAgICAgIGFsZXJ0KCdQbGVhc2UgcHJvdmlkZSBhdCBsZWFzdCBvbmUgcHJvZHVjdCBVUkwuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNhdmUgdGhlIGxhdGVzdCBVUkxzIHRvIHRoZSBzZWN0aW9uIGltbWVkaWF0ZWx5IHNvIHByZXZpZXcgdXBkYXRlcyBvbiBmaXJzdCBjbGlja1xuICAgIHNldEJvZHlTZWN0aW9ucygocHJldikgPT5cbiAgICAgIHByZXYubWFwKChzKSA9PlxuICAgICAgICBzLmlkID09PSBzZWN0aW9uSWQgPyB7IC4uLnMsIHVybHM6IFsuLi5maWx0ZXJlZF0sIGxvYWRpbmc6IHRydWUsIHByb2R1Y3RzOiBbXSB9IDogc1xuICAgICAgKVxuICAgICk7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFN0YXJ0IGxvYWRpbmcgYmFyIGltbWVkaWF0ZWx5XG4gICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0UHJvZ3Jlc3MoMCk7XG4gICAgICBzZXRCdWZmZXIoMTUpO1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJy9hcGkvZ2VuZXJhdGUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1cmxzOiBmaWx0ZXJlZCwgdGVtcGxhdGVJZDogc2VjdGlvbi5zZWxlY3RlZEJvZHlJZCB9KVxuICAgICAgfSk7XG4gICAgICBpZiAoIXJlcy5vaykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzLnN0YXR1c31gKTtcbiAgICAgIH1cbiAgICAgIC8vIFJlc3BvbnNlIHJlY2VpdmVkXG4gICAgICBzZXRQcm9ncmVzcygyMCk7XG4gICAgICBzZXRCdWZmZXIoNDApO1xuICAgICAgY29uc3QgZGF0YSA9IChhd2FpdCByZXMuanNvbigpKSBhcyBHZW5lcmF0ZVJlc3BvbnNlO1xuICAgICAgLy8gUGFyc2VkIEpTT05cbiAgICAgIHNldFByb2dyZXNzKDMwKTtcbiAgICAgIHNldEJ1ZmZlcig1MCk7XG4gICAgICBjb25zdCBwcm9jZXNzZWQ6IFByb2R1Y3REYXRhW10gPSBbXTtcbiAgICAgIGNvbnN0IHZhbGlkVXJsczogc3RyaW5nW10gPSBbXTtcbiAgICAgIGNvbnN0IHRvdGFsSXRlbXMgPSBNYXRoLm1heCgxLCBkYXRhLnByb2R1Y3RzLmxlbmd0aCB8fCAwKTtcbiAgICAgIGRhdGEucHJvZHVjdHMuZm9yRWFjaCgocDogYW55LCBpZHg6IG51bWJlcikgPT4ge1xuICAgICAgICBjb25zdCBoYXNJbmZvID0gT2JqZWN0LmtleXMocCB8fCB7fSkuc29tZShcbiAgICAgICAgICAoa2V5KSA9PiBrZXkgIT09ICd1cmwnICYmIHBba2V5XVxuICAgICAgICApO1xuICAgICAgICBpZiAoIWhhc0luZm8pIHtcbiAgICAgICAgICBjb25zdCBiYWRVcmwgPSBmaWx0ZXJlZFtpZHhdIHx8IHAudXJsIHx8ICdVbmtub3duIFVSTCc7XG4gICAgICAgICAgYWRkTm90aWZpY2F0aW9uKGBFcnJvciBvbiBmZXRjaGluZyBkYXRhIGZyb20gdGhlIHVybCAke2JhZFVybH1gKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFsaWRVcmxzLnB1c2goZmlsdGVyZWRbaWR4XSk7XG4gICAgICAgIHByb2Nlc3NlZC5wdXNoKHtcbiAgICAgICAgICB1cmw6IHAudXJsLFxuICAgICAgICAgIHByZXRpdGxlOiBwLnByZXRpdGxlIHx8ICcnLFxuICAgICAgICAgIHRpdGxlOiBwLnRpdGxlIHx8ICcnLFxuICAgICAgICAgIHByaWNlOiBwLnByaWNlIHx8ICcnLFxuICAgICAgICAgIG9yaWdpbmFsUHJpY2U6IHAub3JpZ2luYWxQcmljZSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgZGVzY3JpcHRpb246IHAuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgLy8gQWRkaXRpb25hbCBkZXNjcmlwdGlvbiBzb3VyY2VzIHNjcmFwZWQgZnJvbSAucHJvZHVjdF9fZGVzY3JpcHRpb25cbiAgICAgICAgICAvLyAocGxhaW4gdGV4dCBmcm9tIDxwPiBhbmQgam9pbmVkIHRleHQgZnJvbSA8dWw+KVxuICAgICAgICAgIGRlc2NyaXB0aW9uUDogcC5kZXNjcmlwdGlvblAgfHwgJycsXG4gICAgICAgICAgZGVzY3JpcHRpb25VbDogcC5kZXNjcmlwdGlvblVsIHx8ICcnLFxuICAgICAgICAgIGltYWdlOiBwLmltYWdlIHx8ICcnLFxuICAgICAgICAgIGltYWdlczogQXJyYXkuaXNBcnJheShwLmltYWdlcykgPyBwLmltYWdlcyA6IHVuZGVmaW5lZCxcbiAgICAgICAgICBjdGE6IHAuY3RhIHx8IHAudXJsLFxuICAgICAgICAgIGN0YUxhYmVsOiAocCBhcyBhbnkpLmN0YUxhYmVsIHx8ICdTSE9QIE5PVydcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFByb2Nlc3MgaXRlbXMgbGluZWFybHk6IGFkdmFuY2UgZnJvbSAzMCUgdXAgdG8gOTAlXG4gICAgICAgIGNvbnN0IHBjdCA9IDMwICsgTWF0aC5yb3VuZCgoKGlkeCArIDEpIC8gdG90YWxJdGVtcykgKiA2MCk7XG4gICAgICAgIGNvbnN0IHByb2cgPSBNYXRoLm1pbig5MCwgcGN0KTtcbiAgICAgICAgc2V0UHJvZ3Jlc3MocHJvZyk7XG4gICAgICAgIHNldEJ1ZmZlcihNYXRoLm1pbigxMDAsIHByb2cgKyAxMCkpO1xuICAgICAgfSk7XG4gICAgICAvLyBGaW5hbCBjb21wb3NpdGlvblxuICAgICAgc2V0UHJvZ3Jlc3MoOTUpO1xuICAgICAgc2V0QnVmZmVyKDEwMCk7XG4gICAgICBzZXRCb2R5U2VjdGlvbnMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChzKSA9PlxuICAgICAgICAgIHMuaWQgPT09IHNlY3Rpb25JZFxuICAgICAgICAgICAgPyB7IC4uLnMsIHByb2R1Y3RzOiBwcm9jZXNzZWQsIHVybHM6IFsuLi52YWxpZFVybHMsICcnXSwgbG9hZGluZzogZmFsc2UgfVxuICAgICAgICAgICAgOiBzXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICBzZXREcmFmdFVybHMoKHByZXYpID0+ICh7IC4uLnByZXYsIFtzZWN0aW9uSWRdOiBbLi4udmFsaWRVcmxzLCAnJ10gfSkpO1xuICAgICAgc2V0UHJvZ3Jlc3MoMTAwKTsgLy8gY29tcGxldGVcbiAgICAgIC8vIEhpZGUgYWZ0ZXIgYSBzaG9ydCBkZWxheSB0byBhdm9pZCBmbGlja2VyLCB0aGVuIHJlc2V0XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldFByb2dyZXNzKC0xKTtcbiAgICAgICAgc2V0QnVmZmVyKC0xKTtcbiAgICAgIH0sIDIwMCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICBjb25zb2xlLmVycm9yKCdHZW5lcmF0aW9uIGZhaWxlZCcsIGVycm9yKTtcbiAgY29uc29sZS5sb2coYEZhaWxlZCB0byBnZW5lcmF0ZSBwcm9kdWN0czogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgc2V0Qm9keVNlY3Rpb25zKChwcmV2KSA9PlxuICAgICAgICBwcmV2Lm1hcCgocykgPT4gKHMuaWQgPT09IHNlY3Rpb25JZCA/IHsgLi4ucywgbG9hZGluZzogZmFsc2UgfSA6IHMpKVxuICAgICAgKTtcbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9hZGluZyBiYXIgaGlkZXMgb24gZXJyb3JcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgc2V0UHJvZ3Jlc3MoLTEpO1xuICAgICAgc2V0QnVmZmVyKC0xKTtcbiAgICB9XG4gIH07XG4gIC8vIEF1dG9tYXRpY2FsbHkgZ2VuZXJhdGUgdGhlIGZpcnN0IGJvZHkgc2VjdGlvbiB3aGVuIGl0IGlzIGNyZWF0ZWQgKGFmdGVyIHVzZXIgc3VibWl0cyBwcm9kdWN0IFVSTClcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoXG4gICAgICBib2R5U2VjdGlvbnMubGVuZ3RoID09PSAxICYmXG4gICAgICBib2R5U2VjdGlvbnNbMF0ucHJvZHVjdHMubGVuZ3RoID09PSAwICYmXG4gICAgICBib2R5U2VjdGlvbnNbMF0udXJsc1swXSAmJlxuICAgICAgIWJvZHlTZWN0aW9uc1swXS5sb2FkaW5nXG4gICAgKSB7XG4gICAgICBnZW5lcmF0ZVNlY3Rpb24oYm9keVNlY3Rpb25zWzBdLmlkKTtcbiAgICB9XG4gIH0sIFtib2R5U2VjdGlvbnNdKTtcblxuICAvLyBGZXRjaCBpbml0aWFsIHByb2R1Y3QgZGF0YSBmb3IgdGhlIGZpcnN0IGJvZHkgc2VjdGlvbiBvbiBwYWdlIGxvYWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBnZW5lcmF0ZVNlY3Rpb24oMSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGFsbCBzZWN0aW9ucyBpbiB0aGUgRURNLiBJdGVyYXRlcyB0aHJvdWdoIGVhY2ggYm9keSBzZWN0aW9uXG4gICAqIHNlcXVlbnRpYWxseSBhbmQgdHJpZ2dlcnMgaXRzIGdlbmVyYXRpb24uIFRoaXMgaXMgaW52b2tlZCBieSB0aGVcbiAgICogdW5pdmVyc2FsIFwiR2VuZXJhdGUgRURNXCIgYnV0dG9uIGFuZCB1cGRhdGVzIHRoZSBwcmV2aWV3IGFuZFxuICAgKiBjb2RlIGZvciBldmVyeSBtb2R1bGUuXG4gICAqL1xuICBjb25zdCBnZW5lcmF0ZUFsbFNlY3Rpb25zID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIERlbGVnYXRlIHByb2dyZXNzIHVwZGF0ZXMgdG8gZWFjaCBzZWN0aW9uJ3MgZ2VuZXJhdGlvbiB0byBhdm9pZCBjb25mbGljdGluZyB2YWx1ZXNcbiAgICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgYm9keVNlY3Rpb25zKSB7XG4gICAgICBhd2FpdCBnZW5lcmF0ZVNlY3Rpb24oc2VjdGlvbi5pZCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBwcm9kdWN0IGZpZWxkIGluIHJlc3BvbnNlIHRvIGVkaXRzIG1hZGUgaW4gdGhlIHByZXZpZXcuXG4gICAqIFRoaXMgZW5zdXJlcyB0d2/igJF3YXkgYmluZGluZyBiZXR3ZWVuIHRoZSBlZGl0YWJsZSBwcmV2aWV3IGFuZFxuICAgKiB0aGUgdW5kZXJseWluZyBkYXRhIG1vZGVsLiBVcGRhdGluZyB0aGUgc3RhdGUgdHJpZ2dlcnMgdGhlXG4gICAqIGVmZmVjdCBiZWxvdyB3aGljaCByZWNvbXB1dGVzIHRoZSBIVE1MLlxuICAgKi9cbiAgLyoqXG4gICAqIFVwZGF0ZSBhIGZpZWxkIHdpdGhpbiBhIHByb2R1Y3QgaW5zaWRlIGEgc3BlY2lmaWMgYm9keSBzZWN0aW9uLiBFZGl0c1xuICAgKiBtYWRlIGluIHRoZSBwcmV2aWV3IHVwZGF0ZSB0aGUgdW5kZXJseWluZyBwcm9kdWN0IGFycmF5IHdoaWNoXG4gICAqIHRyaWdnZXJzIGEgcmXigJFyZW5kZXIgb2YgdGhlIGNvbXBvc2VkIEhUTUwuXG4gICAqL1xuICBjb25zdCB1cGRhdGVQcm9kdWN0SW5TZWN0aW9uID0gKHNlY3Rpb25JZDogbnVtYmVyLCBpbmRleDogbnVtYmVyLCBmaWVsZDoga2V5b2YgUHJvZHVjdERhdGEsIHZhbHVlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRCb2R5U2VjdGlvbnMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgoc2VjdGlvbikgPT4ge1xuICAgICAgICBpZiAoc2VjdGlvbi5pZCAhPT0gc2VjdGlvbklkKSByZXR1cm4gc2VjdGlvbjtcbiAgICAgICAgY29uc3QgbmV3UHJvZHVjdHMgPSBbLi4uc2VjdGlvbi5wcm9kdWN0c107XG4gICAgICAgIGNvbnN0IHByb2QgPSB7IC4uLm5ld1Byb2R1Y3RzW2luZGV4XSB9IGFzIGFueTtcbiAgICAgICAgcHJvZFtmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgbmV3UHJvZHVjdHNbaW5kZXhdID0gcHJvZDtcbiAgICAgICAgcmV0dXJuIHsgLi4uc2VjdGlvbiwgcHJvZHVjdHM6IG5ld1Byb2R1Y3RzIH07XG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIEhUTUwgZm9yIGhlYWRlciwgYm9keSBhbmQgZm9vdGVyIHdoZW5ldmVyIHRoZSBkYXRhXG4gICAqIG9yIHNlbGVjdGVkIHRlbXBsYXRlcyBjaGFuZ2UuIENvbG91cnMgYXJlIGxpbWl0ZWQgdG8gdGhyZWUgYW5kXG4gICAqIGEgK24gaW5kaWNhdG9yIGlzIGFkZGVkIGlmIGFkZGl0aW9uYWwgY29sb3VycyBhcmUgYXZhaWxhYmxlLlxuICAgKi9cbi8vXG4vLyBUaGUgYm9keSwgaGVhZGVyIGFuZCBmb290ZXIgSFRNTCBpcyBub3cgY29tcHV0ZWQgaW4gYSBzaW5nbGVcbi8vIHVzZUVmZmVjdCBkZWZpbmVkIGVhcmxpZXIgKHNlZSBPcHRpb27CoEEgaW1wbGVtZW50YXRpb24pLiBUaGVcbi8vIGZvbGxvd2luZyBsZWdhY3kgZWZmZWN0IGhhcyBiZWVuIHJlbW92ZWQgdG8gcHJldmVudCBkdXBsaWNhdGVcbi8vIHVwZGF0ZXMgYW5kIGluY29uc2lzdGVudCBvdXRwdXQuXG5cbiAgLyoqXG4gICAqIENvcHkgYSBnaXZlbiBzdHJpbmcgdG8gdGhlIGNsaXBib2FyZC4gRmVlZGJhY2sgY291bGQgYmUgYWRkZWRcbiAgICogbGF0ZXIgKGUuZy4gdG9hc3Qgbm90aWZpY2F0aW9ucykgYnV0IGlzIG9taXR0ZWQgZm9yIGJyZXZpdHkuXG4gICAqL1xuICBjb25zdCBjb3B5VG9DbGlwYm9hcmQgPSAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5jbGlwYm9hcmQpIHtcbiAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBhZGROb3RpZmljYXRpb24oJ0NvZGUgY29waWVkIScpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNvcHkgdG8gY2xpcGJvYXJkJywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gaGlnaGxpZ2h0IEhUTUwgZm9yIGNvZGUgZGlzcGxheS4gUHJpc20gcmV0dXJucyBhblxuICAgKiBIVE1MIHN0cmluZyBjb250YWluaW5nIDxzcGFuPiBlbGVtZW50cyB3aXRoIGNsYXNzZXMgZm9yIGVhY2hcbiAgICogdG9rZW4uIFdlIHNldCB0aGUgbGFuZ3VhZ2UgdG8gbWFya3VwIHNpbmNlIG91ciB0ZW1wbGF0ZXMgYXJlXG4gICAqIEhUTUwuXG4gICAqL1xuICBjb25zdCBoaWdobGlnaHQgPSAoY29kZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgUHJpc20gPSBwcmlzbVJlZi5jdXJyZW50O1xuICAgIC8vIElmIFByaXNtIGhhcyBub3QgbG9hZGVkIHlldCwgcmV0dXJuIHRoZSByYXcgY29kZS4gVGhpcyBhdm9pZHNcbiAgICAvLyBydW50aW1lIGVycm9ycyBkdXJpbmcgaW5pdGlhbCByZW5kZXIgb3Igc2VydmVy4oCRc2lkZSByZW5kZXJpbmcuXG4gICAgaWYgKCFQcmlzbSkgcmV0dXJuIGNvZGU7XG4gICAgcmV0dXJuIFByaXNtLmhpZ2hsaWdodChjb2RlLCBQcmlzbS5sYW5ndWFnZXMubWFya3VwLCAnbWFya3VwJyk7XG4gIH07XG5cbiAgY29uc3QgYXZhaWxhYmxlU2VjdGlvblR5cGVzID0gW1xuICAgIC4uLighc2hvd0hlYWRlclNlY3Rpb24gPyBbeyBrZXk6ICdoZWFkZXInLCBsYWJlbDogJ0hlYWRlcicgfV0gOiBbXSksXG4gICAgLi4uKCFzaG93SGVyb1NlY3Rpb24gPyBbeyBrZXk6ICdoZXJvJywgbGFiZWw6ICdIZXJvJyB9XSA6IFtdKSxcbiAgICB7IGtleTogJ2JvZHknLCBsYWJlbDogJ0JvZHknIH0sXG4gICAgLi4uKCFzaG93QmFubmVyU2VjdGlvbiA/IFt7IGtleTogJ2Jhbm5lcicsIGxhYmVsOiAnQmFubmVyJyB9XSA6IFtdKSxcbiAgICAuLi4oIXNob3dGb290ZXJTZWN0aW9uID8gW3sga2V5OiAnZm9vdGVyJywgbGFiZWw6ICdGb290ZXInIH1dIDogW10pLFxuICBdO1xuXG4gIC8vIFRvcCBoZWFkaW5nIG1vdmVkIGludG8gQXBwQmFyIHZpYSBBcHBMYXlvdXRcblxuICBpZiAoIWJyYW5kV2Vic2l0ZSkge1xuICAgIC8vIFNob3cgYSBzaW1wbGUgZGlhbG9nIHRvIHByb21wdCBmb3IgYSBwcm9kdWN0IFVSTFxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJywgaGVpZ2h0OiAnMTAwdmgnLCBiYWNrZ3JvdW5kOiAnI2ZhZmJmYycgfX0+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVCcmFuZFVybFN1Ym1pdH0gc3R5bGU9e3sgYmFja2dyb3VuZDogJyNmZmYnLCBwYWRkaW5nOiAzMiwgYm9yZGVyUmFkaXVzOiA4LCBib3hTaGFkb3c6ICcwIDRweCAyNHB4IHJnYmEoMCwwLDAsMC4wOCknIH19PlxuICAgICAgICAgIDxoMiBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDE2IH19PkVudGVyIGEgcHJvZHVjdCBVUkwgdG8gZ2V0IHN0YXJ0ZWQ8L2gyPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgdHlwZT1cInVybFwiXG4gICAgICAgICAgICB2YWx1ZT17YnJhbmRVcmxJbnB1dH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXtlID0+IHNldEJyYW5kVXJsSW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJodHRwczovL3lvdXJzdG9yZS5jb20vcHJvZHVjdHMvZXhhbXBsZVwiXG4gICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogMzYwLCBwYWRkaW5nOiA4LCBmb250U2l6ZTogMTYsIGJvcmRlclJhZGl1czogNCwgYm9yZGVyOiAnMXB4IHNvbGlkICNjY2MnLCBtYXJnaW5Cb3R0b206IDE2IH19XG4gICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgIC8+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyB0ZXh0QWxpZ246ICdyaWdodCcgfX0+XG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiBzdHlsZT17eyBwYWRkaW5nOiAnOHB4IDIwcHgnLCBmb250U2l6ZTogMTYsIGJvcmRlclJhZGl1czogNCwgYmFja2dyb3VuZDogJyNkMTlhYTAnLCBjb2xvcjogJyNmZmYnLCBib3JkZXI6ICdub25lJywgY3Vyc29yOiAncG9pbnRlcicgfX0+Q29udGludWU8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+RURNIEV4cHJlc3NvPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cIkJ1aWxkIG1vZHVsYXIgRURNcyBmcm9tIHByb2R1Y3QgcGFnZXNcIiAvPlxuICAgICAgPC9IZWFkPlxuICAgICAgPEFwcExheW91dFxuICAgICAgICB0aXRsZT1cIkVETSBFc3ByZXNzb1wiXG4gICAgICAgIGxlZnQ9ezxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLWxpc3Qke29wZW5TZWN0aW9uID8gJyBoYXMtb3BlbicgOiAnJ31gfSBzdHlsZT17eyBoZWlnaHQ6ICcxMDAlJywgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9fT5cbiAgICAgICAgICAgIHsvKiBCdXR0b24gdG8gYWRkIGFub3RoZXIgYm9keSBzZWN0aW9uICovfVxuICAgICAgICAgICAgey8qIFRoZSBBZGQgQm9keSBTZWN0aW9uIGJ1dHRvbiBoYXMgYmVlbiByZWxvY2F0ZWQgdG8gdGhlIGJvdHRvbSByb3dcbiAgICAgICAgICAgICAgIG5leHQgdG8gdGhlIEdlbmVyYXRlIEVETSBidXR0b24uIFRoZSBvcmlnaW5hbCBjb250YWluZXJcbiAgICAgICAgICAgICAgIGhhcyBiZWVuIHJlbW92ZWQgdG8gYXZvaWQgZHVwbGljYXRlIGNvbnRyb2xzLiAqL31cbiAgICAgICAgICAgIHsvKiBIZWFkZXIgc2VjdGlvbiAqL31cbiAgICAgICAgICAgIHtzaG93SGVhZGVyU2VjdGlvbiAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLXNlY3Rpb24ke29wZW5TZWN0aW9uID09PSAnaGVhZGVyJyA/ICcgb3BlbicgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjY29yZGlvbi1oZWFkZXIke29wZW5TZWN0aW9uID09PSAnaGVhZGVyJyA/ICcgb3BlbicgOiAnJ31gfSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoJ2hlYWRlcicpfT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPkhlYWRlcjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luTGVmdDogJ2F1dG8nLCBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1nYXAtMiknIH19PlxuICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlSGVhZGVyU2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSZW1vdmUgc2VjdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUFjY29yZGlvblRvZ2dsZSgnaGVhZGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17b3BlblNlY3Rpb24gPT09ICdoZWFkZXInID8gJ0NvbGxhcHNlIHNlY3Rpb24nIDogJ0V4cGFuZCBzZWN0aW9uJ31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtvcGVuU2VjdGlvbiA9PT0gJ2hlYWRlcicgPyA8RXhwYW5kTGVzc0ljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPiA6IDxFeHBhbmRNb3JlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+fVxuICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7b3BlblNlY3Rpb24gPT09ICdoZWFkZXInICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWNjb3JkaW9uLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgey8qIFJlbmRlciBvbmx5IHRoZSBhY3RpdmUgaGVhZGVyIHRlbXBsYXRlIHRodW1ibmFpbCAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhXcmFwOiAnd3JhcCcgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVUcGwgPSBoZWFkZXJUZW1wbGF0ZXMuZmluZCh0cGwgPT4gdHBsLmlkID09PSBzZWxlY3RlZEhlYWRlcklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlVHBsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXthY3RpdmVUcGwuaWR9IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIdG1sVGh1bWJuYWlsIGh0bWw9e2FjdGl2ZVRwbC5odG1sfSB3aWR0aD17NjAwfSBmb3JjZUF1dG9IZWlnaHQgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7LyogVGVtcGxhdGUgc2VsZWN0b3Igcm93IC0gbW92ZWQgYmVsb3cgdGh1bWJuYWlscyAqL31cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZW1wbGF0ZS1yb3dcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBtYXJnaW5Ub3A6ICcxcmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2wgZnVsbFdpZHRoIHZhcmlhbnQ9XCJvdXRsaW5lZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPElucHV0TGFiZWwgaWQ9XCJoZWFkZXItdGVtcGxhdGUtbGFiZWxcIj5UZW1wbGF0ZTwvSW5wdXRMYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgbGFiZWxJZD1cImhlYWRlci10ZW1wbGF0ZS1sYWJlbFwiIGlkPVwiaGVhZGVyLXRlbXBsYXRlLXNlbGVjdFwiIGxhYmVsPVwiVGVtcGxhdGVcIiB2YWx1ZT17c2VsZWN0ZWRIZWFkZXJJZH0gb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZEhlYWRlcklkKGUudGFyZ2V0LnZhbHVlKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtoZWFkZXJUZW1wbGF0ZXMubWFwKCh0cGwpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0ga2V5PXt0cGwuaWR9IHZhbHVlPXt0cGwuaWR9Pnt0cGwubmFtZX08L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0SGVhZGVyRWRpdE1vZGUoKHYpID0+ICF2KX0gdGl0bGU9e2hlYWRlckVkaXRNb2RlID8gJ0Nsb3NlIGVkaXRvcicgOiAnRWRpdCB0ZW1wbGF0ZSd9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEVkaXRJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd05ld0hlYWRlcigodikgPT4gIXYpfSB0aXRsZT17c2hvd05ld0hlYWRlciA/ICdDYW5jZWwgbmV3IHRlbXBsYXRlJyA6ICdBZGQgbmV3IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWRkSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge2hlYWRlckVkaXRNb2RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImhlYWRlci1kcmFmdC1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e2RyYWZ0SGVhZGVySHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXREcmFmdEhlYWRlckh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs4fSBmdWxsV2lkdGggbXVsdGlsaW5lIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRIZWFkZXJFZGl0TW9kZShmYWxzZSl9IHRpdGxlPVwiQ2FuY2VsIGVkaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uMiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzYXZlSGVhZGVyRWRpdHMoKTsgc2V0SGVhZGVyRWRpdE1vZGUoZmFsc2UpOyB9fSB0aXRsZT1cIlNhdmUgZWRpdHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge3Nob3dOZXdIZWFkZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LXRlbXBsYXRlLWZvcm1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XCJoZWFkZXItbmV3LW5hbWVcIiBsYWJlbD1cIlRlbXBsYXRlIG5hbWVcIiB0eXBlPVwidGV4dFwiIHZhbHVlPXtuZXdIZWFkZXJOYW1lfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0hlYWRlck5hbWUoZS50YXJnZXQudmFsdWUpfSBmdWxsV2lkdGggc3g9e3sgbWI6IDEgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XCJoZWFkZXItbmV3LWh0bWxcIiBsYWJlbD1cIlRlbXBsYXRlIEhUTUxcIiB2YWx1ZT17bmV3SGVhZGVySHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdIZWFkZXJIdG1sKGUudGFyZ2V0LnZhbHVlKX0gcm93cz17Nn0gZnVsbFdpZHRoIG11bHRpbGluZSBzeD17eyBmb250RmFtaWx5OiAnbW9ub3NwYWNlJyB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTaG93TmV3SGVhZGVyKGZhbHNlKTsgc2V0TmV3SGVhZGVyTmFtZSgnJyk7IHNldE5ld0hlYWRlckh0bWwoJycpOyB9fSB0aXRsZT1cIkNhbmNlbCBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uMiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBhZGROZXdIZWFkZXJUZW1wbGF0ZSgpOyBzZXRTaG93TmV3SGVhZGVyKGZhbHNlKTsgfX0gdGl0bGU9XCJTYXZlIG5ldyB0ZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7LyogSGVhZGVyIGJvdHRvbSBwYWRkaW5nIGNvbnRyb2xzIHJlbW92ZWQgKi99XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHsvKiBEcmFnZ2FibGUgc2VjdGlvbnMgKGhlcm8sIGJvZHksIGJhbm5lcikgKi99XG4gICAgICAgICAgICA8RG5kQ29udGV4dFxuICAgICAgICAgICAgICBzZW5zb3JzPXtzZW5zb3JzfVxuICAgICAgICAgICAgICBjb2xsaXNpb25EZXRlY3Rpb249e2Nsb3Nlc3RDZW50ZXJ9XG4gICAgICAgICAgICAgIG1vZGlmaWVycz17W3Jlc3RyaWN0VG9WZXJ0aWNhbEF4aXNdfVxuICAgICAgICAgICAgICBvbkRyYWdFbmQ9e2hhbmRsZVNlY3Rpb25EcmFnRW5kfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8U29ydGFibGVDb250ZXh0IGl0ZW1zPXtzZWN0aW9uT3JkZXJ9IHN0cmF0ZWd5PXt2ZXJ0aWNhbExpc3RTb3J0aW5nU3RyYXRlZ3l9PlxuICAgICAgICAgICAgICAgIHtzZWN0aW9uT3JkZXIubWFwKChpZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGlkID09PSAnaGVybycgJiYgc2hvd0hlcm9TZWN0aW9uKSByZXR1cm4gPFNvcnRhYmxlSGVyb1NlY3Rpb24ga2V5PVwiaGVyb1wiIC8+O1xuICAgICAgICAgICAgICAgICAgaWYgKGlkID09PSAnYmFubmVyJyAmJiBzaG93QmFubmVyU2VjdGlvbikgcmV0dXJuIDxTb3J0YWJsZUJhbm5lclNlY3Rpb24ga2V5PVwiYmFubmVyXCIgLz47XG4gICAgICAgICAgICAgICAgICBpZiAoaWQuc3RhcnRzV2l0aCgnYm9keS0nKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gYm9keVNlY3Rpb25zLmZpbmQoKHMpID0+IGBib2R5LSR7cy5pZH1gID09PSBpZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uID8gPFNvcnRhYmxlQm9keVNlY3Rpb24ga2V5PXtpZH0gc2VjdGlvbj17c2VjdGlvbn0gLz4gOiBudWxsO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgIDwvU29ydGFibGVDb250ZXh0PlxuICAgICAgICAgICAgPC9EbmRDb250ZXh0PlxuXG4gICAgICAgICAgICB7LyogRm9vdGVyIHNlY3Rpb24gKi99XG4gICAgICAgICAgICB7c2hvd0Zvb3RlclNlY3Rpb24gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjY29yZGlvbi1zZWN0aW9uJHtvcGVuU2VjdGlvbiA9PT0gJ2Zvb3RlcicgPyAnIG9wZW4nIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhY2NvcmRpb24taGVhZGVyJHtvcGVuU2VjdGlvbiA9PT0gJ2Zvb3RlcicgPyAnIG9wZW4nIDogJyd9YH0gb25DbGljaz17KCkgPT4gaGFuZGxlQWNjb3JkaW9uVG9nZ2xlKCdmb290ZXInKX0+XG4gICAgICAgICAgICAgICAgICA8c3Bhbj5Gb290ZXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICdhdXRvJywgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgZ2FwOiAndmFyKC0tZ2FwLTIpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUZvb3RlclNlY3Rpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiUmVtb3ZlIHNlY3Rpb25cIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPERlbGV0ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoJ2Zvb3RlcicpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e29wZW5TZWN0aW9uID09PSAnZm9vdGVyJyA/ICdDb2xsYXBzZSBzZWN0aW9uJyA6ICdFeHBhbmQgc2VjdGlvbid9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7b3BlblNlY3Rpb24gPT09ICdmb290ZXInID8gPEV4cGFuZExlc3NJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz4gOiA8RXhwYW5kTW9yZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPn1cbiAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAge29wZW5TZWN0aW9uID09PSAnZm9vdGVyJyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjY29yZGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICB7LyogUmVuZGVyIG9ubHkgdGhlIGFjdGl2ZSBmb290ZXIgdGVtcGxhdGUgdGh1bWJuYWlsICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhXcmFwOiAnd3JhcCcgfX0+XG4gICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVRwbCA9IGZvb3RlclRlbXBsYXRlcy5maW5kKHRwbCA9PiB0cGwuaWQgPT09IHNlbGVjdGVkRm9vdGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgIGlmICghYWN0aXZlVHBsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2FjdGl2ZVRwbC5pZH0gc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxIdG1sVGh1bWJuYWlsIGh0bWw9e2FjdGl2ZVRwbC5odG1sfSB3aWR0aD17NjAwfSBmb3JjZUF1dG9IZWlnaHQgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHsvKiBUZW1wbGF0ZSBzZWxlY3RvciByb3cgLSBtb3ZlZCBiZWxvdyB0aHVtYm5haWxzICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZW1wbGF0ZS1yb3dcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBtYXJnaW5Ub3A6ICcxcmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgPEZvcm1Db250cm9sIGZ1bGxXaWR0aCB2YXJpYW50PVwib3V0bGluZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRMYWJlbCBpZD1cImZvb3Rlci10ZW1wbGF0ZS1sYWJlbFwiPlRlbXBsYXRlPC9JbnB1dExhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgIDxTZWxlY3QgbGFiZWxJZD1cImZvb3Rlci10ZW1wbGF0ZS1sYWJlbFwiIGlkPVwiZm9vdGVyLXRlbXBsYXRlLXNlbGVjdFwiIGxhYmVsPVwiVGVtcGxhdGVcIiB2YWx1ZT17c2VsZWN0ZWRGb290ZXJJZH0gIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRGb290ZXJJZChlLnRhcmdldC52YWx1ZSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAge2Zvb3RlclRlbXBsYXRlcy5tYXAoKHRwbCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0ga2V5PXt0cGwuaWR9IHZhbHVlPXt0cGwuaWR9Pnt0cGwubmFtZX08L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEZvb3RlckVkaXRNb2RlKCh2KSA9PiAhdil9IHRpdGxlPXtmb290ZXJFZGl0TW9kZSA/ICdDbG9zZSBlZGl0b3InIDogJ0VkaXQgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICAgICAgICA8RWRpdEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dOZXdGb290ZXIoKHYpID0+ICF2KX0gdGl0bGU9e3Nob3dOZXdGb290ZXIgPyAnQ2FuY2VsIG5ldyB0ZW1wbGF0ZScgOiAnQWRkIG5ldyB0ZW1wbGF0ZSd9PlxuICAgICAgICAgICAgICAgICAgICAgIDxBZGRJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7Zm9vdGVyRWRpdE1vZGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImZvb3Rlci1kcmFmdC1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e2RyYWZ0Rm9vdGVySHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXREcmFmdEZvb3Rlckh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs4fSBmdWxsV2lkdGggbXVsdGlsaW5lIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEZvb3RlckVkaXRNb2RlKGZhbHNlKX0gdGl0bGU9XCJDYW5jZWwgZWRpdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uMiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNhdmVGb290ZXJFZGl0cygpOyBzZXRGb290ZXJFZGl0TW9kZShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICB7c2hvd05ld0Zvb3RlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LXRlbXBsYXRlLWZvcm1cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiZm9vdGVyLW5ldy1uYW1lXCIgbGFiZWw9XCJUZW1wbGF0ZSBuYW1lXCIgdHlwZT1cInRleHRcIiB2YWx1ZT17bmV3Rm9vdGVyTmFtZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdGb290ZXJOYW1lKGUudGFyZ2V0LnZhbHVlKX0gZnVsbFdpZHRoIHN4PXt7IG1iOiAxIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImZvb3Rlci1uZXctaHRtbFwiIGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtuZXdGb290ZXJIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0Zvb3Rlckh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs2fSBmdWxsV2lkdGggbXVsdGlsaW5lIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0U2hvd05ld0Zvb3RlcihmYWxzZSk7IHNldE5ld0Zvb3Rlck5hbWUoJycpOyBzZXROZXdGb290ZXJIdG1sKCcnKTsgfX0gdGl0bGU9XCJDYW5jZWwgbmV3IHRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgYWRkTmV3Rm9vdGVyVGVtcGxhdGUoKTsgc2V0U2hvd05ld0Zvb3RlcihmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgey8qIEZvb3RlciBib3R0b20gcGFkZGluZyBjb250cm9scyByZW1vdmVkICovfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBVbml2ZXJzYWwgR2VuZXJhdGUgRURNIGJ1dHRvbiBhbmQgQWRkIFNlY3Rpb24gYnV0dG9uICovfVxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcxcmVtJyB9fT5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtnZW5lcmF0ZUFsbFNlY3Rpb25zfT5HZW5lcmF0ZSBFRE08L0J1dHRvbj5cbiAgICAgICAgICAgICAgPGRpdiByZWY9e2FkZFNlY3Rpb25SZWZ9IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCBtYXJnaW5MZWZ0OiAnMXJlbScgfX0+XG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0FkZFNlY3Rpb25NZW51KCh2KSA9PiAhdil9IHRpdGxlPVwiQWRkIHNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgIEFkZCBTZWN0aW9uIHtzaG93QWRkU2VjdGlvbk1lbnUgPyA8RXhwYW5kTGVzc0ljb24gc3g9e3sgbWw6IDAuNSB9fSAvPiA6IDxFeHBhbmRNb3JlSWNvbiBzeD17eyBtbDogMC41IH19IC8+fVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIHtzaG93QWRkU2VjdGlvbk1lbnUgJiYgKFxuICAgICAgICAgICAgICAgICAgPFBhcGVyIGVsZXZhdGlvbj17M30gc3g9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogJzEwMCUnLCBsZWZ0OiAwLCBtdDogMC41LCB6SW5kZXg6IDEwLCBtaW5XaWR0aDogJzEycmVtJywgbWF4SGVpZ2h0OiAnMTJyZW0nLCBvdmVyZmxvd1k6ICdhdXRvJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrPlxuICAgICAgICAgICAgICAgICAgICAgIHthdmFpbGFibGVTZWN0aW9uVHlwZXMubWFwKChvcHQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24ga2V5PXtvcHQua2V5fSBvbkNsaWNrPXsoKSA9PiBhZGRTZWN0aW9uQnlUeXBlKG9wdC5rZXkpfSBzeD17eyBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnLCBweDogMiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge29wdC5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrPlxuICAgICAgICAgICAgICAgICAgPC9QYXBlcj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj59XG4gICAgICAgIHJpZ2h0T3Blbj17c2hvd0JyYW5kUGFuZWx9XG4gICAgICAgIG9uUmlnaHRDbG9zZT17KCkgPT4gc2V0U2hvd0JyYW5kUGFuZWwoZmFsc2UpfVxuICAgICAgICBvblJpZ2h0VG9nZ2xlPXsoKSA9PiBzZXRTaG93QnJhbmRQYW5lbCgodik9PiF2KX1cbiAgICAgICAgcHJvZ3Jlc3M9e3Byb2dyZXNzfVxuICAgICAgICBidWZmZXI9e2J1ZmZlcn1cbiAgICAgICAgbG9hZGluZz17bG9hZGluZ31cbiAgICAgICAgcmlnaHQ9e1xuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8Qm94IHN4PXt7IHA6IDAgfX0+XG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJoNlwiIGNvbXBvbmVudD1cImgyXCI+QnJhbmQgQ3VzdG9taXNhdGlvbjwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPERpdmlkZXIgc3g9e3sgbXk6IDIgfX0gLz5cbiAgICAgICAgICAgIDxTdGFjayBzcGFjaW5nPXsyfT5cbiAgICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgIGlkPVwiYnJhbmQtbmFtZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJCcmFuZCBOYW1lXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17YnJhbmROYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QnJhbmROYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgIHNlbGVjdFxuICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAgIGxhYmVsPVwiRm9udFwiXG4gICAgICAgICAgICAgICAgaWQ9XCJicmFuZC1mb250XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17YnJhbmRGb250fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QnJhbmRGb250KGUudGFyZ2V0LnZhbHVlIGFzIHN0cmluZyl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9XCJcIj5EZWZhdWx0IChNb250c2VycmF0KTwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgPE1lbnVJdGVtIHZhbHVlPVwiQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZlwiPkFyaWFsPC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9XCJHZW9yZ2lhLCBzZXJpZlwiPkdlb3JnaWE8L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgIDxNZW51SXRlbSB2YWx1ZT1cIlRpbWVzIE5ldyBSb21hbiwgc2VyaWZcIj5UaW1lcyBOZXcgUm9tYW48L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgIDxNZW51SXRlbSB2YWx1ZT1cIkNvdXJpZXIgTmV3LCBtb25vc3BhY2VcIj5Db3VyaWVyIE5ldzwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgIDwvVGV4dEZpZWxkPlxuXG4gICAgICAgICAgICAgIDxNdWlDb2xvcklucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJicmFuZC1wcmltYXJ5XCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIlByaW1hcnkgQ29sb3VyXCJcbiAgICAgICAgICAgICAgICBmb3JtYXQ9XCJoZXhcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXticmFuZFByaW1hcnl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gc2V0QnJhbmRQcmltYXJ5KHZhbHVlIHx8IGJyYW5kUHJpbWFyeSl9XG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICA8TXVpQ29sb3JJbnB1dFxuICAgICAgICAgICAgICAgIGlkPVwiYnJhbmQtc2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIlNlY29uZGFyeSBDb2xvdXJcIlxuICAgICAgICAgICAgICAgIGZvcm1hdD1cImhleFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2JyYW5kU2Vjb25kYXJ5fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUpID0+IHNldEJyYW5kU2Vjb25kYXJ5KHZhbHVlIHx8IGJyYW5kU2Vjb25kYXJ5KX1cbiAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgICBpZD1cImJyYW5kLXdlYnNpdGVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiV2Vic2l0ZSBVUkxcIlxuICAgICAgICAgICAgICAgIHR5cGU9XCJ1cmxcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXticmFuZFdlYnNpdGV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRCcmFuZFdlYnNpdGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHNldEJyYW5kV2Vic2l0ZShzYW5pdGl6ZVVybChlLmN1cnJlbnRUYXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImh0dHBzOi8vZXhhbXBsZS5jb21cIlxuICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgICBpZD1cImJyYW5kLWxvZ29cIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiQ29tcGFueSBMb2dvXCJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIk5vIGZpbGUgY2hvc2VuXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17YnJhbmRMb2dvID8gKGJyYW5kTG9nbyBhcyBGaWxlKS5uYW1lIDogJyd9XG4gICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgSW5wdXRQcm9wcz17e1xuICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICBlbmRBZG9ybm1lbnQ6IChcbiAgICAgICAgICAgICAgICAgICAgPElucHV0QWRvcm5tZW50IHBvc2l0aW9uPVwiZW5kXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBzdGFydEljb249ezxVcGxvYWRGaWxlSWNvbiAvPn0gY29tcG9uZW50PVwibGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIEJyb3dzZVxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvKlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhpZGRlblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXMgPyBlLnRhcmdldC5maWxlc1swXSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QnJhbmRMb2dvKGZpbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9JbnB1dEFkb3JubWVudD5cbiAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxCb3ggc3g9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6IDEsIHB0OiAxIH19PlxuICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0JyYW5kUGFuZWwoZmFsc2UpfT5DbG9zZTwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0JyYW5kUGFuZWwoZmFsc2UpfT5TYXZlPC9CdXR0b24+XG4gICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPC9TdGFjaz5cbiAgICAgICAgICA8Lz5cbiAgICAgICAgfVxuICAgICAgPlxuICAgICAgICAgICAgey8qIEdsb2JhbCB0b3AgcHJvZ3Jlc3Mgd2hlbiBhbnkgc2VjdGlvbiBsb2FkaW5nICovfVxuICAgICAgICAgICAgey8qIFRvcCBwcm9ncmVzcyBpcyBub3cgaGFuZGxlZCBieSBBcHBMYXlvdXQncyBMaW5lYXJQcm9ncmVzczsgcmVtb3ZlIHBhZ2UtbGV2ZWwgc2tlbGV0b24gKi99XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGhlaWdodDogJ2NhbGMoMTAwdmggLSA2NHB4KScgfX0+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHJldmlldy1iYXJcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1nYXAtMiknIH19PlxuICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwiaDZcIlxuICAgICAgICAgICAgICAgICAgc3g9e3sgZmxleDogMSwgZm9udFNpemU6ICcwLjlyZW0nLCBmb250V2VpZ2h0OiA0MDAgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dmlld01vZGUgPT09ICdwcmV2aWV3JyA/ICdFbWFpbCBQcmV2aWV3JyA6ICdFbWFpbCBDb2RlJ31cbiAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3LWFjdGlvbnNcIj5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFZpZXdNb2RlKHZpZXdNb2RlID09PSAncHJldmlldycgPyAnY29kZScgOiAncHJldmlldycpfSB0aXRsZT17dmlld01vZGUgPT09ICdwcmV2aWV3JyA/ICdTaG93IGNvZGUnIDogJ1Nob3cgcHJldmlldyd9PlxuICAgICAgICAgICAgICAgICAgICB7dmlld01vZGUgPT09ICdwcmV2aWV3JyA/IDxDb2RlSWNvbiAvPiA6IDxWaXNpYmlsaXR5SWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgY29weVRvQ2xpcGJvYXJkKGZpbmFsSHRtbCk7IGFkZE5vdGlmaWNhdGlvbignQ29kZSBjb3BpZWQhJyk7IH19IHRpdGxlPVwiQ29weSBmdWxsIGVtYWlsIEhUTUwgdG8gY2xpcGJvYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxDb250ZW50Q29weUljb24gLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgb3ZlcmZsb3dZOiAnYXV0bycsIG92ZXJmbG93WDogJ2hpZGRlbicsIHBhZGRpbmc6ICcxcmVtJywgcGFkZGluZ1RvcDogJzAnLCBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgICAgICAgICAgICB7dmlld01vZGUgPT09ICdwcmV2aWV3JyA/IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgcmVmPXtwcmV2aWV3UmVmfSBkYXRhLXByZXZpZXctY29udGFpbmVyPVwidHJ1ZVwiPlxuICAgICAgICAgICAgICAgICAgICB7c2hvd0hlYWRlclNlY3Rpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1zZWN0aW9uPVwiaGVhZGVyXCIgb25DbGljaz17KCkgPT4gc2V0T3BlblNlY3Rpb24oJ2hlYWRlcicpfSBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGhlYWRlckh0bWwgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge3NlY3Rpb25PcmRlci5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gJ2hlcm8nICYmIHNob3dIZXJvU2VjdGlvbiAmJiBoZXJvSW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9XCJoZXJvXCIgZGF0YS1zZWN0aW9uPVwiaGVyb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SGVyb1RhYmxlTW9kdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0ltYWdlPXtoZXJvSW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0FsdD17aGVyb0FsdCB8fCBicmFuZE5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0hyZWY9e2hlcm9IcmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlcm9JbWFnZXM9e2hlcm9JbWFnZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSGVybz17dXBkYXRlSGVyb31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUlkPXtzZWxlY3RlZEhlcm9JZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFjdGl2YXRlPXsoKSA9PiBzZXRPcGVuU2VjdGlvbignaGVybycpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gJ2Jhbm5lcicgJiYgc2hvd0Jhbm5lclNlY3Rpb24gJiYgYmFubmVySW1hZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9XCJiYW5uZXJcIiBkYXRhLXNlY3Rpb249XCJiYW5uZXJcIiBvbkNsaWNrPXsoKSA9PiBzZXRPcGVuU2VjdGlvbignYmFubmVyJyl9IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogYmFubmVySHRtbCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlkLnN0YXJ0c1dpdGgoJ2JvZHktJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSBib2R5U2VjdGlvbnMuZmluZCgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VjdGlvbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNlY3Rpb249e2Bib2R5LSR7c2VjdGlvbi5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE9wZW5TZWN0aW9uKGBib2R5LSR7c2VjdGlvbi5pZH1gKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLmxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY3Rpb24udXJscy5maWx0ZXIodT0+dS50cmltKCkpLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJyZWN0YW5ndWxhclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249XCJ3YXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1iOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogNjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDE4MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICd2YXIoLS1zaGFkb3ctbGlnaHQpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24udXJscy5maWx0ZXIodT0+dS50cmltKCkpLm1hcCgoXyxpKT0+KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInJlY3Rhbmd1bGFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uPVwid2F2ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWI6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogNjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG14OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxODAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJ3ZhcigtLXNoYWRvdy1saWdodCknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLnNlbGVjdGVkQm9keUlkID09PSAnZ3JpZCcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0cGwgPSBib2R5VGVtcGxhdGVzLmZpbmQoKHQpID0+IHQuaWQgPT09ICdncmlkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHBsKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIGdyaWQgd2l0aCBjbGlja2FibGUgaW1hZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgc2FtZSB0YWJsZSBzdHJ1Y3R1cmUgYXMgdGhlIGFjdHVhbCBncmlkIHRlbXBsYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSByb2xlPVwicHJlc2VudGF0aW9uXCIgd2lkdGg9XCIxMDAlXCIgY2VsbFBhZGRpbmc9ezB9IGNlbGxTcGFjaW5nPXswfSBib3JkZXI9ezB9IGFsaWduPVwiY2VudGVyXCIgc3R5bGU9e3sgbWFyZ2luOiAwLCBwYWRkaW5nOiAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGFsaWduPVwiY2VudGVyXCIgc3R5bGU9e3sgbWFyZ2luOiAwLCBwYWRkaW5nOiAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgcm9sZT1cInByZXNlbnRhdGlvblwiIHdpZHRoPVwiMTAwJVwiIGNlbGxQYWRkaW5nPXswfSBjZWxsU3BhY2luZz17MH0gYm9yZGVyPXswfSBzdHlsZT17eyBtYXhXaWR0aDogNjAwLCBtYXJnaW46ICcwIGF1dG8nLCBiYWNrZ3JvdW5kOiAnI0ZGRkZGRicgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgcm9sZT1cInByZXNlbnRhdGlvblwiIHdpZHRoPVwiMTAwJVwiIGNlbGxQYWRkaW5nPXswfSBjZWxsU3BhY2luZz17MH0gYm9yZGVyPXswfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBtYXJnaW46IDAsIHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbi5wcm9kdWN0cy5tYXAoKHByb2QsIGlkeCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGtleT17aWR4fSBhbGlnbj1cImNlbnRlclwiIHZhbGlnbj1cInRvcFwiIHN0eWxlPXt7IHBhZGRpbmc6IDAsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCBjdXJzb3I6ICdwb2ludGVyJywgb3ZlcmZsb3c6ICdoaWRkZW4nIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0SW1hZ2VTZWxlY3Rvcih7IHNlY3Rpb25JZDogc2VjdGlvbi5pZCwgcHJvZHVjdElkeDogaWR4IH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpY29uID0gZS5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0LWljb24nKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcpIGltZy5zdHlsZS5vcGFjaXR5ID0gJzAuNyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWNvbikgaWNvbi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgtMzhweCknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGUuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGljb24gPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLmVkaXQtaWNvbicpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZykgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWNvbikgaWNvbi5zdHlsZS50cmFuc2Zvcm0gPSAndHJhbnNsYXRlWSgwKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17cHJvZC5pbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3Byb2QudGl0bGUgfHwgJyd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnYXV0bycsIGJvcmRlcjogMCwgb3V0bGluZTogMCwgdGV4dERlY29yYXRpb246ICdub25lJywgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycyBlYXNlLWluLW91dCcgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEVkaXQgaWNvbiBvdmVybGF5OyBvbmx5IHNob3cgaWYgdGhlcmUgYXJlIGFkZGl0aW9uYWwgaW1hZ2VzLiAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3Byb2QuaW1hZ2VzICYmIHByb2QuaW1hZ2VzLmxlbmd0aCA+IDEgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImVkaXQtaWNvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAtMzAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiA4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6ICc1MCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICd0cmFuc2xhdGVZKDApJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjNzIGVhc2UtaW4tb3V0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2UgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBzZXRJbWFnZVNlbGVjdG9yKHsgc2VjdGlvbklkOiBzZWN0aW9uLmlkLCBwcm9kdWN0SWR4OiBpZHggfSk7IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEVkaXRJY29uIHN0eWxlPXt7IGNvbG9yOiAnI2ZmZicsIGZvbnRTaXplOiAxNiB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogVW5pdmVyc2FsIEltYWdlU2VsZWN0b3IgZm9yIGdyaWQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW1hZ2VTZWxlY3RvciAmJiBpbWFnZVNlbGVjdG9yLnNlY3Rpb25JZCA9PT0gc2VjdGlvbi5pZCAmJiBzZWN0aW9uLnByb2R1Y3RzW2ltYWdlU2VsZWN0b3IucHJvZHVjdElkeF0gJiYgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGltaXQgYmFja2Ryb3AgdG8gbWFpbiBhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1haW5QYW5lbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpIGFzIEhUTUxFbGVtZW50IDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IG1haW5QYW5lbD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXM9e3NlY3Rpb24ucHJvZHVjdHNbaW1hZ2VTZWxlY3Rvci5wcm9kdWN0SWR4XS5pbWFnZXMgfHwgW119XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD17c2VjdGlvbi5wcm9kdWN0c1tpbWFnZVNlbGVjdG9yLnByb2R1Y3RJZHhdLmltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Blbj17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXsoaW1nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2R1Y3RJblNlY3Rpb24oc2VjdGlvbi5pZCwgaW1hZ2VTZWxlY3Rvci5wcm9kdWN0SWR4LCAnaW1hZ2UnLCBpbWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbWFnZVNlbGVjdG9yKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEltYWdlU2VsZWN0b3IobnVsbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXtyZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLnByb2R1Y3RzLm1hcCgocHJvZCwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcmllbnRhdGlvbjogJ2xlZnQtaW1hZ2UnIHwgJ3JpZ2h0LWltYWdlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24uc2VsZWN0ZWRCb2R5SWQgPT09ICdwcm9kdWN0LWltYWdlLWxlZnQtY29weS1yaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IGlkeCAlIDIgPT09IDAgPyAnbGVmdC1pbWFnZScgOiAncmlnaHQtaW1hZ2UnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gaWR4ICUgMiA9PT0gMCA/ICdyaWdodC1pbWFnZScgOiAnbGVmdC1pbWFnZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hvb3NlIGRlc2NyaXB0aW9uIHNvdXJjZSBmb3IgcHJldmlldyAocGVyLXByb2R1Y3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRzUHJldiA9IChwcm9kIGFzIGFueSkuZGVzY1NvdXJjZSB8fCAnbWV0YWRhdGEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hvc2VuRGVzY3JpcHRpb24gPSAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHNQcmV2ID09PSAncCcgJiYgKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9zZW5EZXNjcmlwdGlvbiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25QIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkc1ByZXYgPT09ICd1bCcgJiYgKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvc2VuRGVzY3JpcHRpb24gPSAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWwgYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb2R1Y3RUYWJsZU1vZHVsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtgJHtzZWN0aW9uLmlkfS0ke2lkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdD17eyAuLi5wcm9kLCBkZXNjcmlwdGlvbjogY2hvc2VuRGVzY3JpcHRpb24gfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4PXtpZHh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj17b3JpZW50YXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcm9kdWN0PXsoaSwgZmllbGQsIHZhbHVlKSA9PiB1cGRhdGVQcm9kdWN0SW5TZWN0aW9uKHNlY3Rpb24uaWQsIGksIGZpZWxkLCB2YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkFjdGl2YXRlPXsoKSA9PiBzZXRPcGVuU2VjdGlvbihgYm9keS0ke3NlY3Rpb24uaWR9YCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdGFCZz17YnJhbmRQcmltYXJ5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheUNvbnRhaW5lclJlZj17cHJldmlld1JlZiBhcyBhbnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuZE5hbWU9e2JyYW5kTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NTb3VyY2U9eyhwcm9kIGFzIGFueSkuZGVzY1NvdXJjZSBhcyBhbnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZURlc2NTb3VyY2U9eyhzcmMpID0+IHVwZGF0ZVByb2R1Y3RJblNlY3Rpb24oc2VjdGlvbi5pZCwgaWR4LCAnZGVzY1NvdXJjZScgYXMgYW55LCBzcmMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICB7c2hvd0Zvb3RlclNlY3Rpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1zZWN0aW9uPVwiZm9vdGVyXCIgb25DbGljaz17KCkgPT4gc2V0T3BlblNlY3Rpb24oJ2Zvb3RlcicpfSBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGZvb3Rlckh0bWwgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvZGUtYWNjb3JkaW9uXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiAndmFyKC0tZ2FwLTIpJyB9fT5cbiAgICAgICAgICAgICAgICAgICAge2NvZGVTZWN0aW9ucy5tYXAoKHNlY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpc09wZW4gPSBvcGVuQ29kZVNlY3Rpb25zW3NlY3Rpb24ua2V5XSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzZWN0aW9uLmtleX0gY2xhc3NOYW1lPVwiY29kZS1zZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjb2RlLXNlY3Rpb24taGVhZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0b2dnbGVDb2RlU2VjdGlvbihzZWN0aW9uLmtleSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJywgY3Vyc29yOiAncG9pbnRlcicsIHBhZGRpbmc6ICcwLjZyZW0gMXJlbScsIGJhY2tncm91bmQ6ICcjZjlmYWZiJywgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkICNlNWU3ZWInIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57c2VjdGlvbi50aXRsZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2RlLWFjdGlvbnNcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1nYXAtMiknIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KGUpID0+IHsgZS5zdG9wUHJvcGFnYXRpb24oKTsgdG9nZ2xlQ29kZVNlY3Rpb24oc2VjdGlvbi5rZXkpOyB9fSB0aXRsZT17aXNPcGVuID8gJ0NvbGxhcHNlIHNlY3Rpb24nIDogJ0V4cGFuZCBzZWN0aW9uJ30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc09wZW4gPyA8RXhwYW5kTGVzc0ljb24gLz4gOiA8RXhwYW5kTW9yZUljb24gLz59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyBjb3B5VG9DbGlwYm9hcmQoc2VjdGlvbi5jb2RlKTsgYWRkTm90aWZpY2F0aW9uKCdDb2RlIGNvcGllZCEnKTsgfX0gdGl0bGU9XCJDb3B5IGNvZGUgdG8gY2xpcGJvYXJkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb250ZW50Q29weUljb24gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtpc09wZW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwcmUgc3R5bGU9e3sgbWFyZ2luOiAwLCBtYXhIZWlnaHQ6ICcyMDBweCcsIG92ZXJmbG93OiAnYXV0bycsIGJhY2tncm91bmQ6ICcjZmZmZmZmJywgcGFkZGluZzogJzAuNXJlbSAxcmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaGlnaGxpZ2h0KHNlY3Rpb24uY29kZSkgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3ByZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgIDwvQXBwTGF5b3V0PlxuXG4gICAgICA8U25hY2tiYXJcbiAgICAgICAgb3Blbj17c25hY2tiYXJPcGVufVxuICAgICAgICBhdXRvSGlkZUR1cmF0aW9uPXszMDAwfVxuICAgICAgICBvbkNsb3NlPXsoKSA9PiBzZXRTbmFja2Jhck9wZW4oZmFsc2UpfVxuICAgICAgICBtZXNzYWdlPXtzbmFja2Jhck1zZyBhcyBhbnl9XG4gICAgICAgIGFuY2hvck9yaWdpbj17eyB2ZXJ0aWNhbDogJ2JvdHRvbScsIGhvcml6b250YWw6ICdsZWZ0JyB9fVxuICAgICAgLz5cbiAgICA8Lz5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJSZWFjdCIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJIZWFkIiwiQXBwTGF5b3V0IiwiU2tlbGV0b24iLCJTbmFja2JhciIsIlR5cG9ncmFwaHkiLCJCb3giLCJTdGFjayIsIkZvcm1Db250cm9sIiwiSW5wdXRMYWJlbCIsIlNlbGVjdCIsIk1lbnVJdGVtIiwiVGV4dEZpZWxkIiwiQnV0dG9uIiwiSWNvbkJ1dHRvbiIsIkRpdmlkZXIiLCJQYXBlciIsIk11aUNvbG9ySW5wdXQiLCJJbnB1dEFkb3JubWVudCIsIlVwbG9hZEZpbGVJY29uIiwiZGVmYXVsdFRlbXBsYXRlcyIsImRlZmF1bHRCb2R5VGVtcGxhdGVzIiwicmVuZGVyVGVtcGxhdGUiLCJkZWZhdWx0SGVhZGVyVGVtcGxhdGVzIiwiZGVmYXVsdEZvb3RlclRlbXBsYXRlcyIsImRlZmF1bHRIZXJvVGVtcGxhdGVzIiwiZGVmYXVsdEJhbm5lclRlbXBsYXRlcyIsIlByb2R1Y3RUYWJsZU1vZHVsZSIsIkltYWdlU2VsZWN0b3IiLCJIZXJvVGFibGVNb2R1bGUiLCJDb250ZW50Q29weUljb24iLCJDb2RlSWNvbiIsIlZpc2liaWxpdHlJY29uIiwiQWRkSWNvbiIsIkNsb3NlSWNvbjIiLCJTYXZlSWNvbiIsIkVkaXRJY29uIiwiRGVsZXRlSWNvbiIsIkV4cGFuZExlc3NJY29uIiwiRXhwYW5kTW9yZUljb24iLCJEcmFnSW5kaWNhdG9ySWNvbiIsIkRuZENvbnRleHQiLCJjbG9zZXN0Q2VudGVyIiwiUG9pbnRlclNlbnNvciIsInVzZVNlbnNvciIsInVzZVNlbnNvcnMiLCJhcnJheU1vdmUiLCJTb3J0YWJsZUNvbnRleHQiLCJ2ZXJ0aWNhbExpc3RTb3J0aW5nU3RyYXRlZ3kiLCJ1c2VTb3J0YWJsZSIsInJlc3RyaWN0VG9WZXJ0aWNhbEF4aXMiLCJDU1MiLCJIdG1sVGh1bWJuYWlsIiwiYWx0ZXJuYXRlTWFwIiwiSG9tZSIsImltYWdlU2VsZWN0b3IiLCJzZXRJbWFnZVNlbGVjdG9yIiwib3BlblNlY3Rpb24iLCJzZXRPcGVuU2VjdGlvbiIsImhhbmRsZUFjY29yZGlvblRvZ2dsZSIsImlkIiwicHJldiIsInZpZXdNb2RlIiwic2V0Vmlld01vZGUiLCJib2R5U2VjdGlvbnMiLCJzZXRCb2R5U2VjdGlvbnMiLCJkcmFmdFVybHMiLCJzZXREcmFmdFVybHMiLCJnZXREcmFmdFVybHMiLCJzZWN0aW9uSWQiLCJleGlzdGluZyIsInNlY3Rpb24iLCJmaW5kIiwicyIsInVybHMiLCJzaG93SGVhZGVyU2VjdGlvbiIsInNldFNob3dIZWFkZXJTZWN0aW9uIiwic2hvd0hlcm9TZWN0aW9uIiwic2V0U2hvd0hlcm9TZWN0aW9uIiwic2hvd0Jhbm5lclNlY3Rpb24iLCJzZXRTaG93QmFubmVyU2VjdGlvbiIsInNob3dGb290ZXJTZWN0aW9uIiwic2V0U2hvd0Zvb3RlclNlY3Rpb24iLCJzZWN0aW9uT3JkZXIiLCJzZXRTZWN0aW9uT3JkZXIiLCJtYXAiLCJmaWx0ZXJlZCIsImZpbHRlciIsInN0YXJ0c1dpdGgiLCJzb21lIiwiZGVzaXJlZCIsImZvckVhY2giLCJpbmNsdWRlcyIsInNwbGljZSIsImluZGV4T2YiLCJwdXNoIiwic2Vuc29ycyIsImhhbmRsZVNlY3Rpb25EcmFnRW5kIiwiZXZlbnQiLCJhY3RpdmUiLCJvdmVyIiwib2xkSW5kZXgiLCJuZXdJbmRleCIsIlN0cmluZyIsInNlY3Rpb25zIiwiZmluZEluZGV4IiwiU29ydGFibGVCb2R5U2VjdGlvbiIsImF0dHJpYnV0ZXMiLCJsaXN0ZW5lcnMiLCJzZXROb2RlUmVmIiwidHJhbnNmb3JtIiwidHJhbnNpdGlvbiIsIl9hcmlhRGVzY3JpYmVkQnkiLCJzb3J0YWJsZUF0dHJpYnV0ZXMiLCJzdHlsZSIsIlRyYW5zZm9ybSIsInRvU3RyaW5nIiwiZGl2IiwiY2xhc3NOYW1lIiwicmVmIiwib25DbGljayIsInNpemUiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwidGl0bGUiLCJmb250U2l6ZSIsInNwYW4iLCJuYW1lIiwiZGlzcGxheSIsImFsaWduSXRlbXMiLCJnYXAiLCJtYXJnaW5MZWZ0IiwicmVtb3ZlQm9keVNlY3Rpb24iLCJmdWxsV2lkdGgiLCJ2YXJpYW50IiwibGFiZWxJZCIsImxhYmVsIiwidmFsdWUiLCJzZWxlY3RlZEJvZHlJZCIsIm9uQ2hhbmdlIiwic2V0U2VjdGlvblRlbXBsYXRlIiwidGFyZ2V0IiwiYm9keVRlbXBsYXRlcyIsInRwbCIsInNldEJvZHlFZGl0TW9kZSIsInYiLCJib2R5RWRpdE1vZGUiLCJzZXRTaG93TmV3Qm9keSIsInNob3dOZXdCb2R5IiwiZHJhZnRCb2R5SHRtbCIsInNldERyYWZ0Qm9keUh0bWwiLCJyb3dzIiwibXVsdGlsaW5lIiwic3giLCJmb250RmFtaWx5IiwibWFyZ2luVG9wIiwic2F2ZUJvZHlFZGl0cyIsInR5cGUiLCJuZXdCb2R5TmFtZSIsInNldE5ld0JvZHlOYW1lIiwibWIiLCJuZXdCb2R5SHRtbCIsInNldE5ld0JvZHlIdG1sIiwiYWRkTmV3Qm9keVRlbXBsYXRlIiwibXQiLCJ1cmwiLCJpbmRleCIsImNsZWFuZWQiLCJzYW5pdGl6ZVVybCIsImN1cnJlbnRUYXJnZXQiLCJoYW5kbGVVcmxDaGFuZ2UiLCJvbkJsdXIiLCJJbnB1dFByb3BzIiwiZW5kQWRvcm5tZW50IiwibGVuZ3RoIiwicG9zaXRpb24iLCJyZW1vdmVVcmxGaWVsZCIsImVkZ2UiLCJpbnB1dFByb3BzIiwib25LZXlEb3duIiwiY3VyciIsInRyaW0iLCJsaXN0TGVuIiwia2V5IiwicHJldmVudERlZmF1bHQiLCJhZGRVcmxGaWVsZCIsImJsdXIiLCJzaGlmdEtleSIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsIkhUTUxFbGVtZW50Iiwic2V0VGltZW91dCIsImdlbmVyYXRlU2VjdGlvbiIsImRpc2FibGVkIiwibG9hZGluZyIsIlNvcnRhYmxlSGVyb1NlY3Rpb24iLCJyZW1vdmVIZXJvU2VjdGlvbiIsImhlcm9JbWFnZSIsIm1hcmdpbkJvdHRvbSIsImltZyIsInNyYyIsImFsdCIsImhlcm9BbHQiLCJ3aWR0aCIsImhlaWdodCIsInAiLCJzZWxlY3RlZEhlcm9JZCIsInNldFNlbGVjdGVkSGVyb0lkIiwiaGVyb1RlbXBsYXRlcyIsInNldEhlcm9FZGl0TW9kZSIsImhlcm9FZGl0TW9kZSIsInNldFNob3dOZXdIZXJvIiwic2hvd05ld0hlcm8iLCJkcmFmdEhlcm9IdG1sIiwic2V0RHJhZnRIZXJvSHRtbCIsInNhdmVIZXJvRWRpdHMiLCJkZWZhdWx0VmFsdWUiLCJoZXJvSHJlZiIsInNldEhlcm9IcmVmIiwic2V0SGVyb0FsdCIsIm5ld0hlcm9OYW1lIiwic2V0TmV3SGVyb05hbWUiLCJuZXdIZXJvSHRtbCIsInNldE5ld0hlcm9IdG1sIiwiYWRkTmV3SGVyb1RlbXBsYXRlIiwiU29ydGFibGVCYW5uZXJTZWN0aW9uIiwicmVtb3ZlQmFubmVyU2VjdGlvbiIsImJhbm5lckltYWdlIiwiYmFubmVyQWx0Iiwic2VsZWN0ZWRCYW5uZXJJZCIsInNldFNlbGVjdGVkQmFubmVySWQiLCJiYW5uZXJUZW1wbGF0ZXMiLCJzZXRCYW5uZXJFZGl0TW9kZSIsImJhbm5lckVkaXRNb2RlIiwic2V0U2hvd05ld0Jhbm5lciIsInNob3dOZXdCYW5uZXIiLCJkcmFmdEJhbm5lckh0bWwiLCJzZXREcmFmdEJhbm5lckh0bWwiLCJzYXZlQmFubmVyRWRpdHMiLCJuZXdCYW5uZXJOYW1lIiwic2V0TmV3QmFubmVyTmFtZSIsIm5ld0Jhbm5lckh0bWwiLCJzZXROZXdCYW5uZXJIdG1sIiwiYWRkTmV3QmFubmVyVGVtcGxhdGUiLCJiYW5uZXJIcmVmIiwic2V0QmFubmVySHJlZiIsInNldEJhbm5lckFsdCIsInNldEJvZHlUZW1wbGF0ZXMiLCJzZXRTZWxlY3RlZEJvZHlJZCIsImhlYWRlclRlbXBsYXRlcyIsInNldEhlYWRlclRlbXBsYXRlcyIsInNlbGVjdGVkSGVhZGVySWQiLCJzZXRTZWxlY3RlZEhlYWRlcklkIiwiaGVhZGVyRWRpdE1vZGUiLCJzZXRIZWFkZXJFZGl0TW9kZSIsImRyYWZ0SGVhZGVySHRtbCIsInNldERyYWZ0SGVhZGVySHRtbCIsIm5ld0hlYWRlck5hbWUiLCJzZXROZXdIZWFkZXJOYW1lIiwibmV3SGVhZGVySHRtbCIsInNldE5ld0hlYWRlckh0bWwiLCJmb290ZXJUZW1wbGF0ZXMiLCJzZXRGb290ZXJUZW1wbGF0ZXMiLCJzZWxlY3RlZEZvb3RlcklkIiwic2V0U2VsZWN0ZWRGb290ZXJJZCIsImZvb3RlckVkaXRNb2RlIiwic2V0Rm9vdGVyRWRpdE1vZGUiLCJkcmFmdEZvb3Rlckh0bWwiLCJzZXREcmFmdEZvb3Rlckh0bWwiLCJuZXdGb290ZXJOYW1lIiwic2V0TmV3Rm9vdGVyTmFtZSIsIm5ld0Zvb3Rlckh0bWwiLCJzZXROZXdGb290ZXJIdG1sIiwic2hvd05ld0hlYWRlciIsInNldFNob3dOZXdIZWFkZXIiLCJzaG93TmV3Rm9vdGVyIiwic2V0U2hvd05ld0Zvb3RlciIsImhlYWRlckh0bWwiLCJzZXRIZWFkZXJIdG1sIiwiYm9keUh0bWwiLCJzZXRCb2R5SHRtbCIsImZvb3Rlckh0bWwiLCJzZXRGb290ZXJIdG1sIiwiZmluYWxIdG1sIiwic2V0RmluYWxIdG1sIiwic2hvd0FkZFNlY3Rpb25NZW51Iiwic2V0U2hvd0FkZFNlY3Rpb25NZW51IiwiYWRkU2VjdGlvblJlZiIsInByZXZpZXdSZWYiLCJoYW5kbGVDbGlja091dHNpZGUiLCJjdXJyZW50IiwiY29udGFpbnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNob3dCcmFuZFBhbmVsIiwic2V0U2hvd0JyYW5kUGFuZWwiLCJicmFuZE5hbWUiLCJzZXRCcmFuZE5hbWUiLCJwcm9ncmVzcyIsInNldFByb2dyZXNzIiwiYnVmZmVyIiwic2V0QnVmZmVyIiwic2V0TG9hZGluZyIsImJyYW5kRm9udCIsInNldEJyYW5kRm9udCIsImJyYW5kUHJpbWFyeSIsInNldEJyYW5kUHJpbWFyeSIsImJyYW5kU2Vjb25kYXJ5Iiwic2V0QnJhbmRTZWNvbmRhcnkiLCJicmFuZFdlYnNpdGUiLCJzZXRCcmFuZFdlYnNpdGUiLCJzaG93QnJhbmRVcmxEaWFsb2ciLCJzZXRTaG93QnJhbmRVcmxEaWFsb2ciLCJicmFuZFVybElucHV0Iiwic2V0QnJhbmRVcmxJbnB1dCIsInByb2R1Y3RzIiwiZGVzY3JpcHRpb25Tb3VyY2UiLCJleHRyYWN0QmFzZURvbWFpbiIsInUiLCJVUkwiLCJvcmlnaW4iLCJleHRyYWN0QnJhbmROYW1lIiwiaG9zdCIsImhvc3RuYW1lIiwicmVwbGFjZSIsInBhcnRzIiwic3BsaXQiLCJicmFuZExvZ28iLCJzZXRCcmFuZExvZ28iLCJzbmFja2Jhck9wZW4iLCJzZXRTbmFja2Jhck9wZW4iLCJzbmFja2Jhck1zZyIsInNldFNuYWNrYmFyTXNnIiwib3BlbkNvZGVTZWN0aW9ucyIsInNldE9wZW5Db2RlU2VjdGlvbnMiLCJ0b2dnbGVDb2RlU2VjdGlvbiIsImlzT3BlbiIsImFkZE5vdGlmaWNhdGlvbiIsIm1lc3NhZ2UiLCJoYW5kbGVCcmFuZFVybFN1Ym1pdCIsImJhc2UiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwic2V0QnJhbmRMb2dvRGF0YVVybCIsInJlc3VsdCIsInJlYWRBc0RhdGFVUkwiLCJlbCIsImhhbmRsZUNsaWNrIiwiYW5jaG9yIiwiY2xvc2VzdCIsImhyZWYiLCJnZXRBdHRyaWJ1dGUiLCJhIiwicmVsIiwic2VjdGlvbkVsIiwiYXBwbHlCcmFuZENvbG91cnNBbmRGb250IiwiaHRtbCIsIm91dCIsInJlZ2V4IiwiUmVnRXhwIiwiYXBwbHlCcmFuZExvZ28iLCJicmFuZExvZ29EYXRhVXJsIiwic2V0SGVyb1RlbXBsYXRlcyIsInNldEhlcm9JbWFnZSIsImhlcm9IdG1sIiwic2V0SGVyb0h0bWwiLCJoZXJvSW1hZ2VzIiwic2V0SGVyb0ltYWdlcyIsInNldEJhbm5lclRlbXBsYXRlcyIsInNldEJhbm5lckltYWdlIiwiYmFubmVySHRtbCIsInNldEJhbm5lckh0bWwiLCJmZXRjaEhlcm9Gb3JCcmFuZCIsImhlcm9SZXMiLCJmZXRjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9rIiwiaGVyb0RhdGEiLCJqc29uIiwiaW1hZ2VzIiwiQXJyYXkiLCJpc0FycmF5IiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJmZXRjaEJhbm5lckZvckJyYW5kIiwicmVzIiwiZGF0YSIsImltYWdlIiwidXBkYXRlSGVybyIsImZpZWxkIiwiYWRkQm9keVNlY3Rpb24iLCJuZXh0SWQiLCJNYXRoIiwibWF4IiwibmV3U2VjdGlvbiIsImFyciIsIm5ld0tleSIsImJhbm5lcklkeCIsInJlbW92ZUhlYWRlclNlY3Rpb24iLCJyZW1vdmVGb290ZXJTZWN0aW9uIiwiYWRkU2VjdGlvbkJ5VHlwZSIsInRlbXBsYXRlSWQiLCJzdG9yZWQiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibGlzdCIsIkpTT04iLCJwYXJzZSIsInVwZGF0ZWQiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiRGF0ZSIsInRvTG93ZXJDYXNlIiwibm93IiwibmV3VHBsIiwic3RvcmVkSGVybyIsInBhcnNlZCIsImhlYWRlclN0ciIsImhlYWRlclRlbXBsYXRlIiwidCIsImhlcm9TdHIiLCJoZXJvVGVtcGxhdGUiLCJib2R5SHRtbE1hcCIsInNlY3Rpb25IdG1sIiwicHJvZCIsImlkeCIsInRlbXBsYXRlSWRUb1VzZSIsInNhbGVQcmljZSIsInByaWNlIiwib3JpZ2luYWxQcmljZSIsInByaWNlSHRtbCIsImNob3NlbkRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvblAiLCJkZXNjcmlwdGlvblVsIiwiZHMiLCJkZXNjU291cmNlIiwiZGVzY0ZvclRlbXBsYXRlIiwicHJvZHVjdERhdGEiLCJjdGFMYWJlbCIsImN0YUJnIiwibW9kdWxlSHRtbCIsInVsSHRtbCIsImJhbm5lclN0ciIsImJhbm5lclRlbXBsYXRlIiwiZm9vdGVyU3RyIiwiZm9vdGVyVGVtcGxhdGUiLCJvcmRlcmVkSHRtbCIsImpvaW4iLCJwcmlzbVJlZiIsInByaXNtTG9hZGVkIiwic2V0UHJpc21Mb2FkZWQiLCJQcmlzbU1vZHVsZSIsImRlZmF1bHQiLCJjb2RlU2VjdGlvbnMiLCJjb2RlIiwiY29tYmluZWRIdG1sIiwiY2hvc2VuRGVzYzIiLCJzdG9yZWRCb2R5IiwicGFyc2VkQm9keSIsInN0b3JlZEhlYWRlciIsInBhcnNlZEhlYWRlciIsInN0b3JlZEZvb3RlciIsInBhcnNlZEZvb3RlciIsImFsbCIsInNlZW4iLCJTZXQiLCJoYXMiLCJhZGQiLCJzdG9yZWRCYW5uZXIiLCJwYXJzZWRCYW5uZXIiLCJjdXJyZW50Qm9keSIsImN1cnJlbnRIZWFkZXIiLCJjdXJyZW50QmFubmVyIiwiY3VycmVudEZvb3RlciIsImN1cnJlbnRIZXJvIiwibmV4dCIsImZvY3VzSW5kZXgiLCJ1bmRlZmluZWQiLCJnZXRFbGVtZW50QnlJZCIsImZvY3VzIiwiXyIsImkiLCJzYXZlSGVhZGVyRWRpdHMiLCJzYXZlRm9vdGVyRWRpdHMiLCJuZXdUZW1wbGF0ZSIsImFkZE5ld0hlYWRlclRlbXBsYXRlIiwiYWRkTmV3Rm9vdGVyVGVtcGxhdGUiLCJhbGVydCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiRXJyb3IiLCJzdGF0dXMiLCJwcm9jZXNzZWQiLCJ2YWxpZFVybHMiLCJ0b3RhbEl0ZW1zIiwiaGFzSW5mbyIsIk9iamVjdCIsImtleXMiLCJiYWRVcmwiLCJwcmV0aXRsZSIsImN0YSIsInBjdCIsInJvdW5kIiwicHJvZyIsIm1pbiIsImVycm9yIiwibG9nIiwiZ2VuZXJhdGVBbGxTZWN0aW9ucyIsInVwZGF0ZVByb2R1Y3RJblNlY3Rpb24iLCJuZXdQcm9kdWN0cyIsImNvcHlUb0NsaXBib2FyZCIsInRleHQiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJ0aGVuIiwiY2F0Y2giLCJoaWdobGlnaHQiLCJQcmlzbSIsImxhbmd1YWdlcyIsIm1hcmt1cCIsImF2YWlsYWJsZVNlY3Rpb25UeXBlcyIsImp1c3RpZnlDb250ZW50IiwiYmFja2dyb3VuZCIsImZvcm0iLCJvblN1Ym1pdCIsInBhZGRpbmciLCJib3JkZXJSYWRpdXMiLCJib3hTaGFkb3ciLCJoMiIsImlucHV0IiwicGxhY2Vob2xkZXIiLCJib3JkZXIiLCJyZXF1aXJlZCIsInRleHRBbGlnbiIsImJ1dHRvbiIsImNvbG9yIiwiY3Vyc29yIiwibWV0YSIsImNvbnRlbnQiLCJsZWZ0IiwiZmxleERpcmVjdGlvbiIsImZsZXhXcmFwIiwiYWN0aXZlVHBsIiwiZm9yY2VBdXRvSGVpZ2h0IiwiY29sbGlzaW9uRGV0ZWN0aW9uIiwibW9kaWZpZXJzIiwib25EcmFnRW5kIiwiaXRlbXMiLCJzdHJhdGVneSIsIm1sIiwiZWxldmF0aW9uIiwidG9wIiwiekluZGV4IiwibWluV2lkdGgiLCJtYXhIZWlnaHQiLCJvdmVyZmxvd1kiLCJvcHQiLCJweCIsInJpZ2h0T3BlbiIsIm9uUmlnaHRDbG9zZSIsIm9uUmlnaHRUb2dnbGUiLCJyaWdodCIsImNvbXBvbmVudCIsIm15Iiwic3BhY2luZyIsInNlbGVjdCIsImZvcm1hdCIsInJlYWRPbmx5Iiwic3RhcnRJY29uIiwiYWNjZXB0IiwiaGlkZGVuIiwiZmlsZSIsImZpbGVzIiwicHQiLCJmbGV4IiwiZm9udFdlaWdodCIsIm92ZXJmbG93WCIsInBhZGRpbmdUb3AiLCJkYXRhLXByZXZpZXctY29udGFpbmVyIiwiZGF0YS1zZWN0aW9uIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJvbkFjdGl2YXRlIiwiYW5pbWF0aW9uIiwibWF4V2lkdGgiLCJteCIsInRhYmxlIiwicm9sZSIsImNlbGxQYWRkaW5nIiwiY2VsbFNwYWNpbmciLCJhbGlnbiIsIm1hcmdpbiIsInRib2R5IiwidHIiLCJ0ZCIsInZhbGlnbiIsIm92ZXJmbG93IiwicHJvZHVjdElkeCIsIm9uTW91c2VFbnRlciIsInF1ZXJ5U2VsZWN0b3IiLCJpY29uIiwib3BhY2l0eSIsIm9uTW91c2VMZWF2ZSIsIm91dGxpbmUiLCJ0ZXh0RGVjb3JhdGlvbiIsImJvdHRvbSIsImJhY2tncm91bmRDb2xvciIsIm1haW5QYW5lbCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzZWxlY3RlZCIsIm9wZW4iLCJvblNlbGVjdCIsIm9uQ2xvc2UiLCJhbmNob3JSZWN0Iiwib3JpZW50YXRpb24iLCJkc1ByZXYiLCJwcm9kdWN0IiwidXBkYXRlUHJvZHVjdCIsIm92ZXJsYXlDb250YWluZXJSZWYiLCJvbkNoYW5nZURlc2NTb3VyY2UiLCJib3JkZXJCb3R0b20iLCJwcmUiLCJhdXRvSGlkZUR1cmF0aW9uIiwiYW5jaG9yT3JpZ2luIiwidmVydGljYWwiLCJob3Jpem9udGFsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/index.tsx\n"));

/***/ })

});