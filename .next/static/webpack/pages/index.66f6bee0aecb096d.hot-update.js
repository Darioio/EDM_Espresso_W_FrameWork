"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/AppLayout */ \"./components/AppLayout.tsx\");\n/* harmony import */ var _mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! @mui/material/Skeleton */ \"./node_modules/@mui/material/esm/Skeleton/index.js\");\n/* harmony import */ var _mui_material_Snackbar__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @mui/material/Snackbar */ \"./node_modules/@mui/material/esm/Snackbar/index.js\");\n/* harmony import */ var _mui_material_Typography__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @mui/material/Typography */ \"./node_modules/@mui/material/esm/Typography/index.js\");\n/* harmony import */ var _mui_material_Box__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @mui/material/Box */ \"./node_modules/@mui/material/esm/Box/index.js\");\n/* harmony import */ var _mui_material_Stack__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @mui/material/Stack */ \"./node_modules/@mui/material/esm/Stack/index.js\");\n/* harmony import */ var _mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @mui/material/FormControl */ \"./node_modules/@mui/material/esm/FormControl/index.js\");\n/* harmony import */ var _mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @mui/material/InputLabel */ \"./node_modules/@mui/material/esm/InputLabel/index.js\");\n/* harmony import */ var _mui_material_Select__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @mui/material/Select */ \"./node_modules/@mui/material/esm/Select/index.js\");\n/* harmony import */ var _mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @mui/material/MenuItem */ \"./node_modules/@mui/material/esm/MenuItem/index.js\");\n/* harmony import */ var _mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @mui/material/TextField */ \"./node_modules/@mui/material/esm/TextField/index.js\");\n/* harmony import */ var _mui_material_Button__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @mui/material/Button */ \"./node_modules/@mui/material/esm/Button/index.js\");\n/* harmony import */ var _mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @mui/material/IconButton */ \"./node_modules/@mui/material/esm/IconButton/index.js\");\n/* harmony import */ var _mui_material_Divider__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @mui/material/Divider */ \"./node_modules/@mui/material/esm/Divider/index.js\");\n/* harmony import */ var _mui_material_Paper__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @mui/material/Paper */ \"./node_modules/@mui/material/esm/Paper/index.js\");\n/* harmony import */ var mui_color_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mui-color-input */ \"./node_modules/mui-color-input/dist/mui-color-input.es.js\");\n/* harmony import */ var _mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @mui/material/InputAdornment */ \"./node_modules/@mui/material/esm/InputAdornment/index.js\");\n/* harmony import */ var _mui_icons_material_UploadFile__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @mui/icons-material/UploadFile */ \"./node_modules/@mui/icons-material/esm/UploadFile.js\");\n/* harmony import */ var _data_templates__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data/templates */ \"./data/templates.ts\");\n/* harmony import */ var _data_headerTemplates__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../data/headerTemplates */ \"./data/headerTemplates.ts\");\n/* harmony import */ var _data_footerTemplates__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../data/footerTemplates */ \"./data/footerTemplates.ts\");\n/* harmony import */ var _data_heroTemplates__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/heroTemplates */ \"./data/heroTemplates.ts\");\n/* harmony import */ var _data_bannerTemplates__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../data/bannerTemplates */ \"./data/bannerTemplates.ts\");\n/* harmony import */ var _components_ProductTableModule__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../components/ProductTableModule */ \"./components/ProductTableModule.tsx\");\n/* harmony import */ var _components_shared_ImageSelector__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../components/shared/ImageSelector */ \"./components/shared/ImageSelector.tsx\");\n/* harmony import */ var _components_HeroTableModule__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../components/HeroTableModule */ \"./components/HeroTableModule.tsx\");\n/* harmony import */ var _mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @mui/icons-material/ContentCopy */ \"./node_modules/@mui/icons-material/esm/ContentCopy.js\");\n/* harmony import */ var _mui_icons_material_Code__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! @mui/icons-material/Code */ \"./node_modules/@mui/icons-material/esm/Code.js\");\n/* harmony import */ var _mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @mui/icons-material/Visibility */ \"./node_modules/@mui/icons-material/esm/Visibility.js\");\n/* harmony import */ var _mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @mui/icons-material/Add */ \"./node_modules/@mui/icons-material/esm/Add.js\");\n/* harmony import */ var _mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @mui/icons-material/Close */ \"./node_modules/@mui/icons-material/esm/Close.js\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @mui/icons-material/Save */ \"./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @mui/icons-material/Edit */ \"./node_modules/@mui/icons-material/esm/Edit.js\");\n/* harmony import */ var _mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @mui/icons-material/Delete */ \"./node_modules/@mui/icons-material/esm/Delete.js\");\n/* harmony import */ var _mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @mui/icons-material/ExpandLess */ \"./node_modules/@mui/icons-material/esm/ExpandLess.js\");\n/* harmony import */ var _mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @mui/icons-material/ExpandMore */ \"./node_modules/@mui/icons-material/esm/ExpandMore.js\");\n/* harmony import */ var _mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @mui/icons-material/DragIndicator */ \"./node_modules/@mui/icons-material/esm/DragIndicator.js\");\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @dnd-kit/core */ \"./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @dnd-kit/sortable */ \"./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var _dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @dnd-kit/modifiers */ \"./node_modules/@dnd-kit/modifiers/dist/modifiers.esm.js\");\n/* harmony import */ var _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @dnd-kit/utilities */ \"./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\");\n/* harmony import */ var _components_shared_HtmlThumbnail__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../components/shared/HtmlThumbnail */ \"./components/shared/HtmlThumbnail.tsx\");\n// ...existing code...\n// ...existing code...\n// ...existing code...\n// ...existing code...\n// Place this after bodySections and generateSection are defined\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// Padding toggles removed\n\n\n\n// Removed padding controls\n\n\n\n\n\n\n// Import interactive modules for preview. ProductTableModule renders\n// each product module with inline editing and image selection. The\n// HeroTableModule renders the hero section with image selection.\n\n\n\n// ProductTableModule was used for an interactive preview in earlier versions. When\n// rendering via Option A the preview uses the compiled HTML directly so we\n// no longer import or use ProductTableModule here.\n// MUI Icons\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Map a body template to its alternating variant. When rendering\n * multiple products from the same template, every other product\n * alternates orientation to provide visual variety. Keys correspond\n * to template IDs defined in data/templates.ts. This constant is\n * defined here to avoid ReferenceError when referenced before its\n * declaration. See code sections where alternateMap is used.\n */ const alternateMap = {\n    \"product-image-left-copy-right\": \"product-copy-left-image-right\",\n    \"product-copy-left-image-right\": \"product-image-left-copy-right\"\n};\nfunction Home() {\n    _s();\n    var _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n    // Universal image selector state: which section and product index is open\n    const [imageSelector, setImageSelector] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    /**\n   * Currently selected module section. Users can switch between\n   * editing the header, body or footer. Default to the body\n   * section as it contains the main product modules.\n   */ // Accordion open section state. Only one section (header, body or\n    // footer) can be expanded at a time. Defaults to body because the\n    // body contains the product list and is the primary focus.\n    // Track which accordion panel is open. Keys include 'header', 'hero',\n    // 'footer' and dynamic body identifiers like 'body-1', 'body-2', etc.\n    const [openSection, setOpenSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"body-1\");\n    /**\n   * Toggle an accordion panel open or closed. When the given\n   * identifier matches the current openSection, the panel is\n   * collapsed. Otherwise it becomes the new open panel. This helper\n   * prevents additional logic from being duplicated on click\n   * handlers throughout the UI.\n   */ const handleAccordionToggle = (id)=>{\n        setOpenSection((prev)=>prev === id ? \"\" : id);\n    };\n    /**\n   * View mode within a module. Users can toggle between a live\n   * preview of the selected module or the generated HTML code. This\n   * toggle is scoped to the preview/edit area and not the module\n   * tabs themselves. Default to preview.\n   */ // View mode toggles between a full email preview and the generated HTML\n    // code for the body modules. This applies to the entire message\n    // (header + body modules + footer) and not individual sections. Default\n    // to preview.\n    const [viewMode, setViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"preview\");\n    /**\n   * Body sections. Each section has its own list of URLs, parsed\n   * products and selected template. Sections are rendered in order and\n   * can be independently generated. A loading flag is stored per\n   * section.\n   */ const [bodySections, setBodySections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // Draft URLs per section id; keeps typing local without re-rendering main compose\n    const [draftUrls, setDraftUrls] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    const getDraftUrls = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((sectionId)=>{\n        const existing = draftUrls[sectionId];\n        if (existing) return existing;\n        const section = bodySections.find((s)=>s.id === sectionId);\n        return section ? section.urls : [];\n    }, [\n        draftUrls,\n        bodySections\n    ]);\n    // Visibility toggles for optional sections\n    const [showHeaderSection, setShowHeaderSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showHeroSection, setShowHeroSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showBannerSection, setShowBannerSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showFooterSection, setShowFooterSection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Order of draggable sections including header/footer\n    const [sectionOrder, setSectionOrder] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        \"hero\",\n        ...bodySections.map((s)=>\"body-\".concat(s.id)),\n        \"banner\"\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setSectionOrder((prev)=>{\n            const filtered = prev.filter((id)=>{\n                if (id === \"hero\" && !showHeroSection) return false;\n                if (id === \"banner\" && !showBannerSection) return false;\n                if (id.startsWith(\"body-\")) {\n                    return bodySections.some((s)=>\"body-\".concat(s.id) === id);\n                }\n                return true;\n            });\n            const desired = [\n                ...showHeroSection ? [\n                    \"hero\"\n                ] : [],\n                ...bodySections.map((s)=>\"body-\".concat(s.id)),\n                ...showBannerSection ? [\n                    \"banner\"\n                ] : []\n            ];\n            desired.forEach((id)=>{\n                if (!filtered.includes(id)) {\n                    if (id.startsWith(\"body-\") && filtered.includes(\"banner\")) {\n                        filtered.splice(filtered.indexOf(\"banner\"), 0, id);\n                    } else {\n                        filtered.push(id);\n                    }\n                }\n            });\n            return filtered;\n        });\n    }, [\n        bodySections,\n        showHeroSection,\n        showBannerSection\n    ]);\n    // Drag-and-drop sensors and handler for reordering sections\n    const sensors = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.useSensors)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.PointerSensor));\n    const handleSectionDragEnd = (event)=>{\n        const { active, over } = event;\n        if (!over || active.id === over.id) return;\n        setSectionOrder((prev)=>{\n            const oldIndex = prev.indexOf(active.id);\n            const newIndex = prev.indexOf(over.id);\n            return (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.arrayMove)(prev, oldIndex, newIndex);\n        });\n        if (String(active.id).startsWith(\"body-\") && String(over.id).startsWith(\"body-\")) {\n            setBodySections((sections)=>{\n                const oldIndex = sections.findIndex((s)=>\"body-\".concat(s.id) === active.id);\n                const newIndex = sections.findIndex((s)=>\"body-\".concat(s.id) === over.id);\n                return (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.arrayMove)(sections, oldIndex, newIndex);\n            });\n        }\n    };\n    const SortableBodySection = (param)=>{\n        let { section } = param;\n        _s1();\n        const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable)({\n            id: \"body-\".concat(section.id)\n        });\n        const { [\"aria-describedby\"]: _ariaDescribedBy, ...sortableAttributes } = attributes;\n        const style = {\n            transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_16__.CSS.Transform.toString(transform),\n            transition\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"accordion-section\".concat(openSection === \"body-\".concat(section.id) ? \" open\" : \"\"),\n            ref: setNodeRef,\n            style: style,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-header\".concat(openSection === \"body-\".concat(section.id) ? \" open\" : \"\"),\n                    onClick: ()=>handleAccordionToggle(\"body-\".concat(section.id)),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            size: \"medium\",\n                            ...sortableAttributes,\n                            ...listeners,\n                            onClick: (e)=>e.stopPropagation(),\n                            title: \"Reorder section\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                fontSize: \"medium\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 285,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 278,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: section.name\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 287,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\",\n                                marginLeft: \"auto\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        removeBodySection(section.id);\n                                    },\n                                    title: \"Remove section\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 297,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 289,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        handleAccordionToggle(\"body-\".concat(section.id));\n                                    },\n                                    title: openSection === \"body-\".concat(section.id) ? \"Collapse section\" : \"Expand section\",\n                                    children: openSection === \"body-\".concat(section.id) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 308,\n                                        columnNumber: 17\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 310,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 299,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 288,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 277,\n                    columnNumber: 9\n                }, this),\n                openSection === \"body-\".concat(section.id) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-content\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"template-row\",\n                            style: {\n                                display: \"flex\",\n                                gap: \"var(--gap-2)\",\n                                alignItems: \"center\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                    fullWidth: true,\n                                    variant: \"outlined\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                            id: \"body-template-\".concat(section.id),\n                                            children: \"Template\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 320,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                            labelId: \"body-template-\".concat(section.id),\n                                            id: \"body-template-select-\".concat(section.id),\n                                            label: \"Template\",\n                                            value: section.selectedBodyId,\n                                            onChange: (e)=>setSectionTemplate(section.id, e.target.value),\n                                            children: bodyTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                    value: tpl.id,\n                                                    children: tpl.name\n                                                }, tpl.id, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 329,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 321,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 319,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setBodyEditMode((v)=>!v),\n                                    title: bodyEditMode ? \"Close editor\" : \"Edit template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 334,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 333,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setShowNewBody((v)=>!v),\n                                    title: showNewBody ? \"Cancel new template\" : \"Add new template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 337,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 336,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 318,\n                            columnNumber: 13\n                        }, this),\n                        bodyEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"body-draft-html-\".concat(section.id),\n                                    label: \"Template HTML\",\n                                    value: draftBodyHtml,\n                                    onChange: (e)=>setDraftBodyHtml(e.target.value),\n                                    rows: 8,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 342,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>setBodyEditMode(false),\n                                            title: \"Cancel edit\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 345,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 344,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                saveBodyEdits();\n                                                setBodyEditMode(false);\n                                            },\n                                            title: \"Save edits\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 348,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 347,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 343,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 341,\n                            columnNumber: 15\n                        }, this),\n                        showNewBody && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"new-template-form\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"body-new-name-\".concat(section.id),\n                                    label: \"Template name\",\n                                    type: \"text\",\n                                    value: newBodyName,\n                                    onChange: (e)=>setNewBodyName(e.target.value),\n                                    fullWidth: true,\n                                    sx: {\n                                        mb: 1\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 355,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"body-new-html-\".concat(section.id),\n                                    label: \"Template HTML\",\n                                    value: newBodyHtml,\n                                    onChange: (e)=>setNewBodyHtml(e.target.value),\n                                    rows: 6,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 356,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                setShowNewBody(false);\n                                                setNewBodyName(\"\");\n                                                setNewBodyHtml(\"\");\n                                            },\n                                            title: \"Cancel new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 359,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 358,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                addNewBodyTemplate();\n                                                setShowNewBody(false);\n                                            },\n                                            title: \"Save new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 362,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 361,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 357,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 354,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                    variant: \"subtitle1\",\n                                    sx: {\n                                        fontSize: \"1rem\",\n                                        mb: 1,\n                                        mt: 1\n                                    },\n                                    children: \"Product URLs\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 368,\n                                    columnNumber: 15\n                                }, this),\n                                getDraftUrls(section.id).map((url, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                        sx: {\n                                            mb: 2\n                                        },\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                            id: \"url-\".concat(section.id, \"-\").concat(index),\n                                            type: \"url\",\n                                            label: \"Product URL \".concat(index + 1),\n                                            defaultValue: url,\n                                            fullWidth: true,\n                                            onBlur: (e)=>{\n                                                const cleaned = sanitizeUrl(e.currentTarget.value);\n                                                handleUrlChange(section.id, index, cleaned);\n                                            },\n                                            InputProps: {\n                                                endAdornment: getDraftUrls(section.id).length > 1 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                    position: \"end\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                        onClick: ()=>removeUrlField(section.id, index),\n                                                        title: \"Remove URL\",\n                                                        edge: \"end\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                            fontSize: \"medium\"\n                                                        }, void 0, false, void 0, void 0)\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0) : null\n                                            },\n                                            inputProps: {\n                                                onKeyDown: (e)=>{\n                                                    const curr = e.currentTarget;\n                                                    const value = curr.value.trim();\n                                                    const listLen = getDraftUrls(section.id).length;\n                                                    if (e.key === \"Enter\") {\n                                                        e.preventDefault();\n                                                        if (value && index === listLen - 1) {\n                                                            addUrlField(section.id, index + 1);\n                                                        }\n                                                        curr.blur();\n                                                    } else if (e.key === \"Tab\" && !e.shiftKey && index === listLen - 1) {\n                                                        // Tab on last field: accept value, add new field, and focus it\n                                                        e.preventDefault();\n                                                        const cleaned = sanitizeUrl(value);\n                                                        handleUrlChange(section.id, index, cleaned);\n                                                        addUrlField(section.id, index + 1);\n                                                    }\n                                                }\n                                            }\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 371,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, index, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 370,\n                                        columnNumber: 17\n                                    }, this))\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 367,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginTop: \"1rem\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                    onClick: ()=>generateSection(section.id),\n                                    disabled: section.loading,\n                                    children: section.loading ? \"Generating…\" : \"Update\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 415,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                    variant: \"outlined\",\n                                    onClick: ()=>addUrlField(section.id, getDraftUrls(section.id).length),\n                                    children: \"Add URL\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 418,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 414,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 316,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 276,\n            columnNumber: 7\n        }, this);\n    };\n    _s1(SortableBodySection, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function() {\n        return [\n            _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable\n        ];\n    });\n    const SortableHeroSection = ()=>{\n        _s2();\n        const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable)({\n            id: \"hero\"\n        });\n        const { [\"aria-describedby\"]: _ariaDescribedBy, ...sortableAttributes } = attributes;\n        const style = {\n            transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_16__.CSS.Transform.toString(transform),\n            transition\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"accordion-section\".concat(openSection === \"hero\" ? \" open\" : \"\"),\n            ref: setNodeRef,\n            style: style,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-header\".concat(openSection === \"hero\" ? \" open\" : \"\"),\n                    onClick: ()=>handleAccordionToggle(\"hero\"),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            size: \"medium\",\n                            ...sortableAttributes,\n                            ...listeners,\n                            onClick: (e)=>e.stopPropagation(),\n                            title: \"Reorder section\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                fontSize: \"medium\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 444,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 437,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: \"Hero\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 446,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginLeft: \"auto\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        removeHeroSection();\n                                    },\n                                    title: \"Remove section\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 456,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 448,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        handleAccordionToggle(\"hero\");\n                                    },\n                                    title: openSection === \"hero\" ? \"Collapse section\" : \"Expand section\",\n                                    children: openSection === \"hero\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 466,\n                                        columnNumber: 41\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 466,\n                                        columnNumber: 80\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 458,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 447,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 436,\n                    columnNumber: 9\n                }, this),\n                openSection === \"hero\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-content\",\n                    children: [\n                        heroImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: \"0.5rem\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: heroImage,\n                                alt: heroAlt || \"\",\n                                style: {\n                                    width: \"100%\",\n                                    height: \"auto\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 474,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 473,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"No hero image selected.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 477,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"template-row\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                    fullWidth: true,\n                                    variant: \"outlined\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                            id: \"hero-template-label\",\n                                            children: \"Template\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 481,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                            labelId: \"hero-template-label\",\n                                            id: \"hero-template-select\",\n                                            label: \"Template\",\n                                            value: selectedHeroId,\n                                            onChange: (e)=>setSelectedHeroId(e.target.value),\n                                            children: heroTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                    value: tpl.id,\n                                                    children: tpl.name\n                                                }, tpl.id, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 484,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 482,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 480,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setHeroEditMode((v)=>!v),\n                                    title: heroEditMode ? \"Close editor\" : \"Edit template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 489,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 488,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setShowNewHero((v)=>!v),\n                                    title: showNewHero ? \"Cancel new template\" : \"Add new template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 492,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 491,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 479,\n                            columnNumber: 13\n                        }, this),\n                        heroEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"hero-draft-html\",\n                                    label: \"Template HTML\",\n                                    value: draftHeroHtml,\n                                    onChange: (e)=>setDraftHeroHtml(e.target.value),\n                                    rows: 6,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 497,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>setHeroEditMode(false),\n                                            title: \"Cancel edit\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 500,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 499,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                saveHeroEdits();\n                                                setHeroEditMode(false);\n                                            },\n                                            title: \"Save edits\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 503,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 502,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 498,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 496,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                            id: \"hero-href\",\n                            label: \"Hero Link URL\",\n                            defaultValue: heroHref,\n                            onBlur: (e)=>setHeroHref(sanitizeUrl(e.currentTarget.value)),\n                            fullWidth: true,\n                            sx: {\n                                mt: 2\n                            },\n                            inputProps: {\n                                onKeyDown: (e)=>{\n                                    if (e.key === \"Enter\") {\n                                        e.preventDefault();\n                                        e.currentTarget.blur();\n                                    }\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 508,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                            id: \"hero-alt\",\n                            label: \"Hero Alt Text\",\n                            defaultValue: heroAlt,\n                            onBlur: (e)=>setHeroAlt(e.currentTarget.value),\n                            fullWidth: true,\n                            sx: {\n                                mt: 2\n                            },\n                            inputProps: {\n                                onKeyDown: (e)=>{\n                                    if (e.key === \"Enter\") {\n                                        e.preventDefault();\n                                        e.currentTarget.blur();\n                                    }\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 524,\n                            columnNumber: 13\n                        }, this),\n                        showNewHero && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"new-template-form\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"hero-new-name\",\n                                    label: \"Template name\",\n                                    type: \"text\",\n                                    value: newHeroName,\n                                    onChange: (e)=>setNewHeroName(e.target.value),\n                                    fullWidth: true,\n                                    sx: {\n                                        mb: 1\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 542,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"hero-new-html\",\n                                    label: \"Template HTML\",\n                                    value: newHeroHtml,\n                                    onChange: (e)=>setNewHeroHtml(e.target.value),\n                                    rows: 6,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 543,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                setShowNewHero(false);\n                                                setNewHeroName(\"\");\n                                                setNewHeroHtml(\"\");\n                                            },\n                                            title: \"Cancel new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 546,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 545,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                addNewHeroTemplate();\n                                                setShowNewHero(false);\n                                            },\n                                            title: \"Save new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 549,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 548,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 544,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 541,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 471,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 435,\n            columnNumber: 7\n        }, this);\n    };\n    _s2(SortableHeroSection, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function() {\n        return [\n            _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable\n        ];\n    });\n    const SortableBannerSection = ()=>{\n        _s3();\n        const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable)({\n            id: \"banner\"\n        });\n        const { [\"aria-describedby\"]: _ariaDescribedBy, ...sortableAttributes } = attributes;\n        const style = {\n            transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_16__.CSS.Transform.toString(transform),\n            transition\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"accordion-section\".concat(openSection === \"banner\" ? \" open\" : \"\"),\n            ref: setNodeRef,\n            style: style,\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-header\".concat(openSection === \"banner\" ? \" open\" : \"\"),\n                    onClick: ()=>handleAccordionToggle(\"banner\"),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            size: \"medium\",\n                            ...sortableAttributes,\n                            ...listeners,\n                            onClick: (e)=>e.stopPropagation(),\n                            title: \"Reorder section\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                fontSize: \"medium\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 575,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 568,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            children: \"Banner\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 577,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginLeft: \"auto\",\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        removeBannerSection();\n                                    },\n                                    title: \"Remove section\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 587,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 579,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    size: \"medium\",\n                                    onClick: (e)=>{\n                                        e.stopPropagation();\n                                        handleAccordionToggle(\"banner\");\n                                    },\n                                    title: openSection === \"banner\" ? \"Collapse section\" : \"Expand section\",\n                                    children: openSection === \"banner\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 597,\n                                        columnNumber: 43\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 597,\n                                        columnNumber: 82\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 589,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 578,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 567,\n                    columnNumber: 9\n                }, this),\n                openSection === \"banner\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-content\",\n                    children: [\n                        bannerImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                marginBottom: \"0.5rem\"\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: bannerImage,\n                                alt: bannerAlt || \"\",\n                                style: {\n                                    width: \"100%\",\n                                    height: \"auto\"\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 605,\n                                columnNumber: 17\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 604,\n                            columnNumber: 15\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            children: \"No hero image selected.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 608,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"template-row\",\n                            style: {\n                                display: \"flex\",\n                                gap: \"var(--gap-2)\",\n                                alignItems: \"center\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                    fullWidth: true,\n                                    variant: \"outlined\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                            id: \"banner-template-label\",\n                                            children: \"Template\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 612,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                            labelId: \"banner-template-label\",\n                                            id: \"banner-template-select\",\n                                            label: \"Template\",\n                                            value: selectedBannerId,\n                                            onChange: (e)=>setSelectedBannerId(e.target.value),\n                                            children: bannerTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                    value: tpl.id,\n                                                    children: tpl.name\n                                                }, tpl.id, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 615,\n                                                    columnNumber: 21\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 613,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 611,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setBannerEditMode((v)=>!v),\n                                    title: bannerEditMode ? \"Close editor\" : \"Edit template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 620,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 619,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                    onClick: ()=>setShowNewBanner((v)=>!v),\n                                    title: showNewBanner ? \"Cancel new template\" : \"Add new template\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                        fontSize: \"medium\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 623,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 622,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 610,\n                            columnNumber: 15\n                        }, this),\n                        bannerEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"banner-draft-html\",\n                                    label: \"Template HTML\",\n                                    value: draftBannerHtml,\n                                    onChange: (e)=>setDraftBannerHtml(e.target.value),\n                                    rows: 8,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 628,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>setBannerEditMode(false),\n                                            title: \"Cancel edit\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 631,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 630,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                saveBannerEdits();\n                                                setBannerEditMode(false);\n                                            },\n                                            title: \"Save edits\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 634,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 633,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 629,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 627,\n                            columnNumber: 15\n                        }, this),\n                        showNewBanner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"new-template-form\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"banner-new-name\",\n                                    label: \"Template name\",\n                                    type: \"text\",\n                                    value: newBannerName,\n                                    onChange: (e)=>setNewBannerName(e.target.value),\n                                    fullWidth: true,\n                                    sx: {\n                                        mb: 1\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 641,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"banner-new-html\",\n                                    label: \"Template HTML\",\n                                    value: newBannerHtml,\n                                    onChange: (e)=>setNewBannerHtml(e.target.value),\n                                    rows: 6,\n                                    fullWidth: true,\n                                    multiline: true,\n                                    sx: {\n                                        fontFamily: \"monospace\"\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 642,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"new-template-actions\",\n                                    style: {\n                                        display: \"flex\",\n                                        gap: \"var(--gap-2)\",\n                                        marginTop: \"0.5rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                setShowNewBanner(false);\n                                                setNewBannerName(\"\");\n                                                setNewBannerHtml(\"\");\n                                            },\n                                            title: \"Cancel new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 645,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 644,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                addNewBannerTemplate();\n                                                setShowNewBanner(false);\n                                            },\n                                            title: \"Save new template\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                fontSize: \"medium\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 648,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 647,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 643,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 640,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                            id: \"banner-href\",\n                            label: \"Banner Link URL\",\n                            defaultValue: bannerHref,\n                            onBlur: (e)=>setBannerHref(sanitizeUrl(e.currentTarget.value)),\n                            fullWidth: true,\n                            sx: {\n                                mt: 2\n                            },\n                            inputProps: {\n                                onKeyDown: (e)=>{\n                                    if (e.key === \"Enter\") {\n                                        e.preventDefault();\n                                        e.currentTarget.blur();\n                                    }\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 653,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                            id: \"banner-alt\",\n                            label: \"Banner Alt Text\",\n                            defaultValue: bannerAlt,\n                            onBlur: (e)=>setBannerAlt(e.currentTarget.value),\n                            fullWidth: true,\n                            sx: {\n                                mt: 2\n                            },\n                            inputProps: {\n                                onKeyDown: (e)=>{\n                                    if (e.key === \"Enter\") {\n                                        e.preventDefault();\n                                        e.currentTarget.blur();\n                                    }\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 669,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 602,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 566,\n            columnNumber: 7\n        }, this);\n    };\n    _s3(SortableBannerSection, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function() {\n        return [\n            _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.useSortable\n        ];\n    });\n    /**\n   * Body templates and selection state. Body templates define\n   * modules for each product. They support alternating layout via\n   * alternateMap. Users can select a template, edit it, and add\n   * new ones which are persisted in localStorage.\n   */ const [bodyTemplates, setBodyTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_templates__WEBPACK_IMPORTED_MODULE_5__.defaultTemplates);\n    const [selectedBodyId, setSelectedBodyId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_templates__WEBPACK_IMPORTED_MODULE_5__.defaultTemplates[0].id);\n    const [bodyEditMode, setBodyEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftBodyHtml, setDraftBodyHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newBodyName, setNewBodyName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newBodyHtml, setNewBodyHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Header templates and selection state. Headers render at the top\n   * of the final email. They are static by default but can be\n   * customised through editing and additional templates.\n   */ const [headerTemplates, setHeaderTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_headerTemplates__WEBPACK_IMPORTED_MODULE_6__.defaultHeaderTemplates);\n    const [selectedHeaderId, setSelectedHeaderId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_headerTemplates__WEBPACK_IMPORTED_MODULE_6__.defaultHeaderTemplates[0].id);\n    const [headerEditMode, setHeaderEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftHeaderHtml, setDraftHeaderHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newHeaderName, setNewHeaderName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newHeaderHtml, setNewHeaderHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Footer templates and selection state. Footers render at the\n   * bottom of the final email. Like headers they can be edited and\n   * extended by the user.\n   */ const [footerTemplates, setFooterTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_footerTemplates__WEBPACK_IMPORTED_MODULE_7__.defaultFooterTemplates);\n    const [selectedFooterId, setSelectedFooterId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_footerTemplates__WEBPACK_IMPORTED_MODULE_7__.defaultFooterTemplates[0].id);\n    const [footerEditMode, setFooterEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftFooterHtml, setDraftFooterHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newFooterName, setNewFooterName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newFooterHtml, setNewFooterHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Visibility flags for new template forms. When true, the form\n   * fields for adding a custom template are displayed in the\n   * accordion content. When false, the form is hidden and only the\n   * add icon is visible. Separate flags are used for header, body\n   * and footer sections.\n   */ const [showNewHeader, setShowNewHeader] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showNewBody, setShowNewBody] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [showNewFooter, setShowNewFooter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    /**\n   * Final generated HTML pieces. headerHtml/bodyHtml/footerHtml\n   * contain the markup for each section. finalHtml concatenates\n   * them for convenience but is not displayed directly. The code\n   * view uses the individual pieces so that users can copy each\n   * section separately.\n   */ const [headerHtml, setHeaderHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [bodyHtml, setBodyHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [footerHtml, setFooterHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [finalHtml, setFinalHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Bottom padding controls removed\n    const [showAddSectionMenu, setShowAddSectionMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const addSectionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const previewRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (e)=>{\n            if (addSectionRef.current && !addSectionRef.current.contains(e.target)) {\n                setShowAddSectionMenu(false);\n            }\n        };\n        if (showAddSectionMenu) {\n            document.addEventListener(\"mousedown\", handleClickOutside);\n        }\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        showAddSectionMenu\n    ]);\n    /** Brand customisation panel visibility. When true a sliding\n   * panel appears allowing the user to customise the default font,\n   * primary/secondary colours, website URL and upload a logo. Settings\n   * are not persisted or applied in this version, but the UI is prepared\n   * for future extension.\n   */ const [showBrandPanel, setShowBrandPanel] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [brandName, setBrandName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Top loading bar (buffer variant)\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [buffer, setBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(-1);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [brandFont, setBrandFont] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [brandPrimary, setBrandPrimary] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"#d19aa0\");\n    const [brandSecondary, setBrandSecondary] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"#F0C3C7\");\n    const [brandWebsite, setBrandWebsite] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Show a dialog to prompt for a product URL on first load\n    const [showBrandUrlDialog, setShowBrandUrlDialog] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [brandUrlInput, setBrandUrlInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // When the user submits a product URL, initialize the first body section with that URL\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (brandWebsite && bodySections.length === 0 && brandUrlInput) {\n            setBodySections([\n                {\n                    id: 1,\n                    name: \"Body 1\",\n                    urls: [\n                        brandUrlInput\n                    ],\n                    products: [],\n                    selectedBodyId: _data_templates__WEBPACK_IMPORTED_MODULE_5__.defaultTemplates[0].id,\n                    loading: false,\n                    descriptionSource: \"metadata\"\n                }\n            ]);\n        }\n    }, [\n        brandWebsite,\n        brandUrlInput\n    ]);\n    // Helper to extract base domain from a product URL\n    function extractBaseDomain(url) {\n        try {\n            const u = new URL(url);\n            return u.origin;\n        } catch (e) {\n            return \"\";\n        }\n    }\n    // Helper to extract a readable brand name from a domain\n    function extractBrandName(url) {\n        try {\n            const u = new URL(url);\n            const host = u.hostname.replace(/^www\\./, \"\");\n            const parts = host.split(\".\");\n            return parts.length > 1 ? parts[0].replace(/-/g, \" \") : host;\n        } catch (e) {\n            return \"\";\n        }\n    }\n    const [brandLogo, setBrandLogo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    /** Notifications for user feedback. Each notification has a unique id\n   * and a message. Notifications are displayed in a stack in the\n   * top‑right corner and fade out after a short delay. */ const [snackbarOpen, setSnackbarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [snackbarMsg, setSnackbarMsg] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Track which code blocks are expanded in the right‑panel accordion. Keys\n   * correspond to the blocks: 'header', 'hero', 'footer' and each\n   * body/product block like 'body-<section>-prod-<index>'. A value\n   * of true means the block is open; false collapses it. Defaults\n   * empty, which is treated as open when first rendered.\n   */ const [openCodeSections, setOpenCodeSections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    /**\n   * Toggle a code block open or closed. When a key is not present\n   * in the state it is treated as open by default. Calling this\n   * toggles the current value.\n   */ const toggleCodeSection = (key)=>{\n        setOpenCodeSections((prev)=>{\n            const isOpen = prev[key] !== false; // default open if not false\n            return {\n                ...prev,\n                [key]: !isOpen\n            };\n        });\n    };\n    /**\n   * Add a notification message. The notification will persist for a\n   * few seconds then automatically disappear. Use this helper after\n   * actions like copying code or generating sections to provide\n   * feedback to the user.\n   */ const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((message)=>{\n        setSnackbarMsg(message);\n        setSnackbarOpen(true);\n    }, []);\n    /**\n   * Compute a data URI for the uploaded brand logo. When a file is\n   * selected the FileReader API is used to convert it into a base64\n   * string. If no file is selected the data URI is reset to empty.\n   */ // On first load, if no brandWebsite, show dialog\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!brandWebsite) {\n            setShowBrandUrlDialog(true);\n        }\n    }, [\n        brandWebsite\n    ]);\n    // When user submits a URL, set brandWebsite and brandName\n    const handleBrandUrlSubmit = (e)=>{\n        if (e) e.preventDefault();\n        const base = extractBaseDomain(brandUrlInput);\n        if (base) {\n            setBrandWebsite(base);\n            setBrandName(extractBrandName(brandUrlInput));\n            setShowBrandUrlDialog(false);\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (brandLogo) {\n            const reader = new FileReader();\n            reader.onload = (e)=>{\n                var _e_target;\n                setBrandLogoDataUrl((_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.result);\n            };\n            reader.readAsDataURL(brandLogo);\n        } else {\n            setBrandLogoDataUrl(\"\");\n        }\n    }, [\n        brandLogo\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const el = previewRef.current;\n        if (!el) return;\n        const handleClick = (e)=>{\n            const target = e.target;\n            const anchor = target.closest(\"a\");\n            if (anchor) {\n                e.preventDefault();\n                e.stopPropagation();\n                const href = anchor.getAttribute(\"href\");\n                if (href) {\n                    addNotification(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                        children: [\n                            \"External link: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                href: href,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                children: href\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 917,\n                                columnNumber: 30\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 916,\n                        columnNumber: 13\n                    }, this));\n                    const sectionEl = anchor.closest(\"[data-section]\");\n                    const sectionId = sectionEl === null || sectionEl === void 0 ? void 0 : sectionEl.getAttribute(\"data-section\");\n                    if (sectionId) {\n                        setOpenSection(sectionId);\n                    }\n                }\n            }\n        };\n        el.addEventListener(\"click\", handleClick);\n        return ()=>{\n            el.removeEventListener(\"click\", handleClick);\n        };\n    }, [\n        viewMode,\n        addNotification,\n        setOpenSection\n    ]);\n    /**\n   * Apply the brand primary and secondary colours and font to a block\n   * of HTML. Occurrences of the default accent colours (#d19aa0 and\n   * #F0C3C7) are replaced with the chosen primary and secondary\n   * colours. The default font stack 'Montserrat', Arial, Helvetica,\n   * sans-serif is replaced with the selected font if provided.\n   */ const applyBrandColoursAndFont = (html)=>{\n        let out = html;\n        if (brandPrimary) {\n            const regex = new RegExp(\"#d19aa0\", \"gi\");\n            out = out.replace(regex, brandPrimary);\n        }\n        if (brandSecondary) {\n            const regex = new RegExp(\"#F0C3C7\", \"gi\");\n            out = out.replace(regex, brandSecondary);\n        }\n        if (brandFont && brandFont.trim()) {\n            // Replace the default font stack. We do a simple replace on the\n            // exact string used in the templates. If more variants are\n            // needed this could be expanded.\n            const regex = new RegExp(\"'Montserrat',Arial,Helvetica,sans-serif\", \"gi\");\n            out = out.replace(regex, brandFont);\n        }\n        return out;\n    };\n    /**\n   * Inject the brand logo into the header. The first <img> tag found\n   * in the header HTML is replaced with one that uses the\n   * brandLogoDataUrl if it is defined. If no logo has been\n   * uploaded the HTML is returned unchanged.\n   */ const applyBrandLogo = (html)=>{\n        if (!brandLogoDataUrl) return html;\n        return html.replace(/<img([^>]+)src=\"[^\">]*\"/, '<img$1src=\"'.concat(brandLogoDataUrl, '\"'));\n    };\n    /**\n   * Hero section state. A hero consists of a single banner image and\n   * optional link/alt text. The hero template can be selected from\n   * defaultHeroTemplates or user‑defined templates. When heroImage is\n   * empty no hero section will be rendered. heroHtml holds the\n   * compiled markup and is updated whenever heroImage or templates\n   * change.\n   */ const [heroTemplates, setHeroTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_heroTemplates__WEBPACK_IMPORTED_MODULE_8__.defaultHeroTemplates);\n    const [selectedHeroId, setSelectedHeroId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_heroTemplates__WEBPACK_IMPORTED_MODULE_8__.defaultHeroTemplates[0].id);\n    const [heroImage, setHeroImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Pre-fill hero alt with brand name (or a sensible default)\n    const [heroAlt, setHeroAlt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(brandName || \"Brand\");\n    const [heroHref, setHeroHref] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [heroHtml, setHeroHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [heroEditMode, setHeroEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftHeroHtml, setDraftHeroHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newHeroName, setNewHeroName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newHeroHtml, setNewHeroHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showNewHero, setShowNewHero] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    /**\n   * List of alternate hero images extracted from the site. When the\n   * hero image is fetched via the API the endpoint returns an array\n   * of image URLs. The first image is used as the default heroImage\n   * and the rest are available for selection in the interactive\n   * preview. When the list is empty no alternative images are\n   * available. heroImages is not persisted across sessions.\n  */ const [heroImages, setHeroImages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    /**\n   * Banner section state. The banner is a single image module that appears\n   * above the footer. It reuses the templating/editing behaviour of the\n   * header section but renders with its own template and image. The image\n   * is fetched from the configured brand website by looking for an element\n   * with the class `mobile-banner`.\n   */ const [bannerTemplates, setBannerTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_bannerTemplates__WEBPACK_IMPORTED_MODULE_9__.defaultBannerTemplates);\n    const [selectedBannerId, setSelectedBannerId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_data_bannerTemplates__WEBPACK_IMPORTED_MODULE_9__.defaultBannerTemplates[0].id);\n    const [bannerImage, setBannerImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    // Pre-fill banner alt with brand name (or a sensible default)\n    const [bannerAlt, setBannerAlt] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(brandName || \"Brand\");\n    const [bannerHref, setBannerHref] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [bannerHtml, setBannerHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [bannerEditMode, setBannerEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [draftBannerHtml, setDraftBannerHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newBannerName, setNewBannerName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [newBannerHtml, setNewBannerHtml] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showNewBanner, setShowNewBanner] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const fetchHeroForBrand = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!brandWebsite) return;\n        try {\n            const heroRes = await fetch(\"/api/hero?url=\".concat(encodeURIComponent(brandWebsite)));\n            if (heroRes.ok) {\n                const heroData = await heroRes.json();\n                if (heroData.images && Array.isArray(heroData.images) && heroData.images.length > 0) {\n                    setHeroImages(heroData.images);\n                    setHeroImage(heroData.images[0]);\n                    setHeroHref(brandWebsite);\n                    // Prefill alt with brand name so input is not empty/placeholder\n                    setHeroAlt(brandName || \"Brand\");\n                }\n            }\n        } catch (err) {\n            console.warn(\"Failed to fetch hero images\", err);\n        }\n    }, [\n        brandWebsite,\n        brandName\n    ]);\n    const fetchBannerForBrand = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!brandWebsite) return;\n        try {\n            const res = await fetch(\"/api/banner?url=\".concat(encodeURIComponent(brandWebsite)));\n            if (res.ok) {\n                const data = await res.json();\n                if (data.image) {\n                    setBannerImage(data.image);\n                    setBannerHref(brandWebsite);\n                    // Prefill alt with brand name so input is not empty/placeholder\n                    setBannerAlt(brandName || \"Brand\");\n                }\n            }\n        } catch (err) {\n            console.warn(\"Failed to fetch banner image\", err);\n        }\n    }, [\n        brandWebsite,\n        brandName\n    ]);\n    /**\n   * Fetch hero images for the configured brand website. This runs on\n   * initial load, whenever the website URL changes, or when the hero\n   * section is added. The first image returned becomes the default\n   * hero image and link target.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (showHeroSection) {\n            fetchHeroForBrand();\n        }\n    }, [\n        fetchHeroForBrand,\n        showHeroSection\n    ]);\n    // Fetch banner image for the configured brand website. On success the\n    // first image with the class `mobile-banner` is used as the banner\n    // image. Images are fetched on initial load, when the website URL\n    // changes, or when the banner section is added.\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (showBannerSection) {\n            fetchBannerForBrand();\n        }\n    }, [\n        fetchBannerForBrand,\n        showBannerSection\n    ]);\n    /**\n   * Update a hero property. This callback is passed to the\n   * HeroTableModule so edits in the preview propagate to the\n   * underlying state. Supported fields are 'image', 'alt' and\n   * 'href'. The heroHtml string will be recomputed in the\n   * useEffect below when these values change.\n   */ const updateHero = (field, value)=>{\n        if (field === \"image\") setHeroImage(value);\n        else if (field === \"alt\") setHeroAlt(value);\n        else if (field === \"href\") setHeroHref(value);\n    };\n    /**\n   * Brand logo data URI. When a user uploads a logo file the file\n   * contents are converted into a data URI that can be embedded\n   * directly into the HTML. brandLogoDataUrl is empty if no logo\n   * has been selected.\n   */ const [brandLogoDataUrl, setBrandLogoDataUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    /**\n   * Helper to add a new body section. When invoked, this creates a\n   * new entry in the bodySections array with its own blank URL list,\n   * empty products and default template selection. The new section\n   * name is auto‑incremented (Body 2, Body 3, etc.). After\n   * creation, the newly added section is opened automatically so\n   * users can start editing it.\n   */ const addBodySection = ()=>{\n        // Determine a unique next id based on existing sections\n        const nextId = bodySections.length ? Math.max(...bodySections.map((s)=>s.id)) + 1 : 1;\n        const newSection = {\n            id: nextId,\n            name: \"Body \".concat(nextId),\n            urls: [\n                \"\"\n            ],\n            products: [],\n            selectedBodyId: _data_templates__WEBPACK_IMPORTED_MODULE_5__.defaultTemplates[0].id,\n            loading: false\n        };\n        setBodySections((prev)=>[\n                ...prev,\n                newSection\n            ]);\n        setSectionOrder((prev)=>{\n            const arr = [\n                ...prev\n            ];\n            const newKey = \"body-\".concat(nextId);\n            const bannerIdx = arr.indexOf(\"banner\");\n            if (bannerIdx >= 0) arr.splice(bannerIdx, 0, newKey);\n            else arr.push(newKey);\n            return arr;\n        });\n        setOpenSection(\"body-\".concat(nextId));\n    };\n    const removeHeaderSection = ()=>{\n        setShowHeaderSection(false);\n        setHeaderHtml(\"\");\n        setOpenSection((prev)=>prev === \"header\" ? \"\" : prev);\n    };\n    const removeHeroSection = ()=>{\n        setShowHeroSection(false);\n        setHeroImage(\"\");\n        setHeroAlt(\"\");\n        setHeroHref(\"\");\n        setHeroHtml(\"\");\n        setSectionOrder((prev)=>prev.filter((id)=>id !== \"hero\"));\n        setOpenSection((prev)=>prev === \"hero\" ? \"\" : prev);\n    };\n    const removeBannerSection = ()=>{\n        setShowBannerSection(false);\n        setBannerImage(\"\");\n        setBannerAlt(\"\");\n        setBannerHref(\"\");\n        setBannerHtml(\"\");\n        setSectionOrder((prev)=>prev.filter((id)=>id !== \"banner\"));\n        setOpenSection((prev)=>prev === \"banner\" ? \"\" : prev);\n    };\n    const removeFooterSection = ()=>{\n        setShowFooterSection(false);\n        setFooterHtml(\"\");\n        setOpenSection((prev)=>prev === \"footer\" ? \"\" : prev);\n    };\n    /**\n   * Remove a body section entirely. When invoked, this deletes the\n   * section from the bodySections array. If the removed section is\n   * currently open, the accordion is collapsed. This helper is\n   * triggered by the trash icon in each body section header.\n   */ const removeBodySection = (sectionId)=>{\n        setBodySections((prev)=>prev.filter((section)=>section.id !== sectionId));\n        setSectionOrder((prev)=>prev.filter((id)=>id !== \"body-\".concat(sectionId)));\n        setOpenSection((prev)=>prev === \"body-\".concat(sectionId) ? \"\" : prev);\n    };\n    const addSectionByType = (type)=>{\n        switch(type){\n            case \"header\":\n                setShowHeaderSection(true);\n                setOpenSection(\"header\");\n                break;\n            case \"hero\":\n                setShowHeroSection(true);\n                setSectionOrder((prev)=>prev.includes(\"hero\") ? prev : [\n                        \"hero\",\n                        ...prev\n                    ]);\n                setOpenSection(\"hero\");\n                break;\n            case \"banner\":\n                setShowBannerSection(true);\n                setSectionOrder((prev)=>prev.includes(\"banner\") ? prev : [\n                        ...prev,\n                        \"banner\"\n                    ]);\n                setOpenSection(\"banner\");\n                break;\n            case \"footer\":\n                setShowFooterSection(true);\n                setOpenSection(\"footer\");\n                break;\n            case \"body\":\n            default:\n                addBodySection();\n                break;\n        }\n        setShowAddSectionMenu(false);\n    };\n    /**\n   * Update the selected template for a specific body section. This\n   * updates the section’s selectedBodyId and also updates the\n   * global selectedBodyId so that the edit form displays the\n   * correct template source when editing. Without this the edit\n   * textarea would show the wrong HTML if switching between\n   * sections with different templates.\n   */ const setSectionTemplate = (sectionId, templateId)=>{\n        setBodySections((prev)=>prev.map((section)=>section.id === sectionId ? {\n                    ...section,\n                    selectedBodyId: templateId\n                } : section));\n        setSelectedBodyId(templateId);\n    };\n    /**\n   * Save edits to the currently selected hero template. The hero\n   * template’s HTML is replaced with the contents of draftHeroHtml.\n   * If the template is user‑defined it is persisted back to\n   * localStorage under 'customHeroTemplates'.\n   */ const saveHeroEdits = ()=>{\n        setHeroTemplates((prev)=>prev.map((tpl)=>tpl.id === selectedHeroId ? {\n                    ...tpl,\n                    html: draftHeroHtml\n                } : tpl));\n        setHeroEditMode(false);\n        // Persist edits for custom templates\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customHeroTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                const updated = list.map((tpl)=>tpl.id === selectedHeroId ? {\n                        ...tpl,\n                        html: draftHeroHtml\n                    } : tpl);\n                window.localStorage.setItem(\"customHeroTemplates\", JSON.stringify(updated));\n            }\n        } catch (err) {\n            console.warn(\"Failed to persist hero template edits\", err);\n        }\n    };\n    /**\n   * Add a new hero template. The name and HTML are taken from the\n   * newHeroName and newHeroHtml fields. A unique id is generated\n   * based on the name and timestamp. The new template is stored\n   * alongside existing templates and persisted into localStorage.\n   */ const addNewHeroTemplate = ()=>{\n        const name = newHeroName.trim();\n        const html = newHeroHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTpl = {\n            id,\n            name,\n            html\n        };\n        setHeroTemplates((prev)=>[\n                ...prev,\n                newTpl\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customHeroTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTpl);\n                window.localStorage.setItem(\"customHeroTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom hero template\", err);\n        }\n        setNewHeroName(\"\");\n        setNewHeroHtml(\"\");\n    };\n    /**\n   * Load any custom hero templates from localStorage. This mirrors\n   * the behaviour for body/header/footer templates. Custom hero\n   * templates are stored under the key 'customHeroTemplates'.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) {\n            try {\n                const storedHero = window.localStorage.getItem(\"customHeroTemplates\");\n                if (storedHero) {\n                    const parsed = JSON.parse(storedHero);\n                    if (Array.isArray(parsed) && parsed.length) {\n                        setHeroTemplates((prev)=>[\n                                ...prev,\n                                ...parsed\n                            ]);\n                    }\n                }\n            } catch (err) {\n                console.warn(\"Failed to load custom hero templates\", err);\n            }\n        }\n    }, []);\n    /**\n   * Compose the full email whenever any part of the data changes. This\n   * includes header/footer/hero template selection, body sections,\n   * products, hero image and brand customisations. The composed\n   * HTML uses Option A semantics: the same HTML string is used for\n   * both preview and code output. Brand colours, fonts and logos\n   * are applied uniformly across all sections.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Compose header\n        let headerStr = \"\";\n        if (showHeaderSection) {\n            const headerTemplate = headerTemplates.find((t)=>t.id === selectedHeaderId);\n            headerStr = headerTemplate ? headerTemplate.html : \"\";\n            headerStr = applyBrandColoursAndFont(headerStr);\n            headerStr = applyBrandLogo(headerStr);\n        }\n        // Compose hero if an image has been set\n        let heroStr = \"\";\n        const heroTemplate = heroTemplates.find((t)=>t.id === selectedHeroId);\n        if (showHeroSection && heroTemplate && heroImage) {\n            const heroData = {\n                heroImage,\n                heroAlt: heroAlt || \"\",\n                heroHref: heroHref || \"\"\n            };\n            if (!heroData.heroAlt && brandName) heroData.heroAlt = brandName;\n            // Render hero using the full template object. Passing the raw\n            // HTML string causes renderTemplate to receive undefined for\n            // template.html and results in runtime errors. See data/templates.ts.\n            heroStr = (0,_data_templates__WEBPACK_IMPORTED_MODULE_5__.renderTemplate)(heroTemplate, heroData);\n            heroStr = applyBrandColoursAndFont(heroStr);\n        }\n        // Compose body across all sections\n        const bodyHtmlMap = {};\n        bodySections.forEach((section)=>{\n            let sectionHtml = \"\";\n            section.products.forEach((prod, idx)=>{\n                // Determine orientation based on index and alternate map\n                let templateIdToUse = section.selectedBodyId;\n                if (idx % 2 === 1 && alternateMap[section.selectedBodyId]) {\n                    templateIdToUse = alternateMap[section.selectedBodyId];\n                }\n                const tpl = bodyTemplates.find((t)=>t.id === templateIdToUse);\n                if (!tpl) return;\n                // Colour swatches removed per refactor\n                // Build price HTML: include a strike‑through original price if\n                // provided and different from the sale price. We leave the\n                // currency as provided by the parser. If no original price is\n                // present, show the sale price only. When both values are\n                // empty the priceHtml will be empty as well.\n                const salePrice = prod.price || \"\";\n                const originalPrice = prod.originalPrice;\n                let priceHtml = \"\";\n                if (originalPrice && originalPrice !== salePrice) {\n                    priceHtml = '<span style=\"text-decoration:line-through;color:#888888;margin-right:8px;font-weight:400;\">'.concat(originalPrice, \"</span> \").concat(salePrice);\n                } else {\n                    priceHtml = salePrice;\n                }\n                // Choose description source per section\n                let chosenDescription = prod.description || \"\";\n                if (section.descriptionSource === \"p\" && prod.descriptionP) {\n                    chosenDescription = prod.descriptionP;\n                } else if (section.descriptionSource === \"ul\" && prod.descriptionUl) {\n                    chosenDescription = prod.descriptionUl;\n                }\n                const ds = prod.descSource || \"metadata\";\n                // For UL in code view, use a marker to later swap the paragraph with UL markup\n                const descForTemplate = ds === \"ul\" && prod.descriptionUl ? \"[[DESC_MARKER]]\" : chosenDescription;\n                const productData = {\n                    ...prod,\n                    description: descForTemplate,\n                    ctaLabel: prod.ctaLabel || \"SHOP NOW\",\n                    priceHtml,\n                    ctaBg: brandPrimary\n                };\n                // Render module using the full template. Passing only\n                // tpl.html causes runtime errors because renderTemplate\n                // expects a Template object.\n                let moduleHtml = (0,_data_templates__WEBPACK_IMPORTED_MODULE_5__.renderTemplate)(tpl, productData);\n                if (ds === \"ul\" && prod.descriptionUl) {\n                    const ulHtml = prod.descriptionUl;\n                    moduleHtml = moduleHtml.replace(/<p[^>]*>\\s*\\[\\[DESC_MARKER\\]\\]\\s*<\\/p>/i, ulHtml);\n                }\n                moduleHtml = applyBrandColoursAndFont(moduleHtml);\n                sectionHtml += moduleHtml;\n            });\n            bodyHtmlMap[\"body-\".concat(section.id)] = sectionHtml;\n        });\n        // Compose banner if an image has been fetched\n        let bannerStr = \"\";\n        const bannerTemplate = bannerTemplates.find((t)=>t.id === selectedBannerId);\n        if (showBannerSection && bannerTemplate && bannerImage) {\n            const data = {\n                bannerImage,\n                bannerAlt: bannerAlt || \"\",\n                bannerHref: bannerHref || \"\"\n            };\n            if (!data.bannerAlt && brandName) data.bannerAlt = brandName;\n            bannerStr = (0,_data_templates__WEBPACK_IMPORTED_MODULE_5__.renderTemplate)(bannerTemplate, data);\n            bannerStr = applyBrandColoursAndFont(bannerStr);\n        }\n        // Compose footer\n        let footerStr = \"\";\n        if (showFooterSection) {\n            const footerTemplate = footerTemplates.find((t)=>t.id === selectedFooterId);\n            footerStr = footerTemplate ? footerTemplate.html : \"\";\n            footerStr = applyBrandColoursAndFont(footerStr);\n        }\n        let orderedHtml = \"\";\n        sectionOrder.forEach((id)=>{\n            if (id === \"hero\") orderedHtml += heroStr;\n            else if (id === \"banner\") orderedHtml += bannerStr;\n            else if (id.startsWith(\"body-\")) orderedHtml += bodyHtmlMap[id] || \"\";\n        });\n        setHeaderHtml(headerStr);\n        setHeroHtml(heroStr);\n        setBodyHtml(sectionOrder.filter((id)=>id.startsWith(\"body-\")).map((id)=>bodyHtmlMap[id]).join(\"\"));\n        setBannerHtml(bannerStr);\n        setFooterHtml(footerStr);\n        setFinalHtml(\"\".concat(headerStr).concat(orderedHtml).concat(footerStr));\n    }, [\n        bodySections,\n        selectedBodyId,\n        selectedHeaderId,\n        selectedFooterId,\n        selectedBannerId,\n        bodyTemplates,\n        headerTemplates,\n        footerTemplates,\n        bannerTemplates,\n        brandPrimary,\n        brandSecondary,\n        brandFont,\n        brandLogoDataUrl,\n        heroImage,\n        heroAlt,\n        heroHref,\n        bannerImage,\n        bannerAlt,\n        bannerHref,\n        selectedHeroId,\n        heroTemplates,\n        showHeaderSection,\n        showHeroSection,\n        showBannerSection,\n        showFooterSection,\n        sectionOrder\n    ]);\n    /**\n   * PrismJS reference and load state. We load Prism only on the client. We also load the markup\n   * language component. Once loaded, we update the state to trigger\n   * re-render so syntax highlighting applies. The eslint comment\n   * suppresses warnings about asynchronous functions inside useEffect.\n   */ const prismRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [prismLoaded, setPrismLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Load PrismJS dynamically on the client. We also load the markup\n    // language component. Once loaded, we update the state to trigger\n    // re-render so syntax highlighting applies. The eslint comment\n    // suppresses warnings about asynchronous functions inside useEffect.\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) {\n            (async ()=>{\n                try {\n                    const PrismModule = await __webpack_require__.e(/*! import() */ \"node_modules_prismjs_prism_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! prismjs */ \"./node_modules/prismjs/prism.js\", 23));\n                    await __webpack_require__.e(/*! import() */ \"node_modules_prismjs_components_prism-markup_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! prismjs/components/prism-markup */ \"./node_modules/prismjs/components/prism-markup.js\", 23));\n                    prismRef.current = PrismModule.default;\n                    setPrismLoaded(true);\n                } catch (err) {\n                    console.warn(\"Failed to load PrismJS\", err);\n                }\n            })();\n        }\n    }, []);\n    /**\n   * Compose a list of code sections for the right‑panel accordion. Each\n   * item contains a unique key, a human‑readable title and the\n   * corresponding HTML string. The structure mirrors the left side\n  * panels: header, hero, each body section (containing all associated\n  * products) and footer. Colours and prices are computed inline for\n  * each product to match the final output. This list is\n   * recomputed on every render because the dependent data (body\n   * sections, templates, brand customisations, etc.) may change. If\n   * performance becomes an issue use React.useMemo.\n   */ const codeSections = [];\n    // Header section\n    if (headerHtml) {\n        codeSections.push({\n            key: \"header\",\n            title: \"Header\",\n            code: headerHtml\n        });\n    }\n    sectionOrder.forEach((id)=>{\n        if (id === \"hero\" && heroHtml) {\n            codeSections.push({\n                key: \"hero\",\n                title: \"Hero\",\n                code: heroHtml\n            });\n            return;\n        }\n        if (id === \"banner\" && bannerHtml) {\n            codeSections.push({\n                key: \"banner\",\n                title: \"Banner\",\n                code: bannerHtml\n            });\n            return;\n        }\n        if (id.startsWith(\"body-\")) {\n            const section = bodySections.find((s)=>\"body-\".concat(s.id) === id);\n            if (!section) return;\n            let combinedHtml = \"\";\n            section.products.forEach((prod, idx)=>{\n                // Determine which template to use: alternate every other product\n                let templateIdToUse = section.selectedBodyId;\n                if (idx % 2 === 1 && alternateMap[section.selectedBodyId]) {\n                    templateIdToUse = alternateMap[section.selectedBodyId];\n                }\n                const tpl = bodyTemplates.find((t)=>t.id === templateIdToUse);\n                if (!tpl) return;\n                // Colour swatches removed in refactor\n                // Build price HTML: include original price if different\n                const salePrice = prod.price || \"\";\n                const originalPrice = prod.originalPrice;\n                let priceHtml = \"\";\n                if (originalPrice && originalPrice !== salePrice) {\n                    priceHtml = '<span style=\"text-decoration:line-through;color:#888888;margin-right:8px;font-weight:400;\">'.concat(originalPrice, \"</span> \").concat(salePrice);\n                } else {\n                    priceHtml = salePrice;\n                }\n                // Compose data object for templating\n                // Choose description for code view as well\n                let chosenDesc2 = prod.description || \"\";\n                if (section.descriptionSource === \"p\" && prod.descriptionP) {\n                    chosenDesc2 = prod.descriptionP;\n                } else if (section.descriptionSource === \"ul\" && prod.descriptionUl) {\n                    chosenDesc2 = prod.descriptionUl;\n                }\n                const data = {\n                    ...prod,\n                    description: chosenDesc2,\n                    ctaLabel: prod.ctaLabel || \"SHOP NOW\",\n                    priceHtml,\n                    ctaBg: brandPrimary\n                };\n                // Render HTML and apply brand customisations\n                let html = (0,_data_templates__WEBPACK_IMPORTED_MODULE_5__.renderTemplate)(tpl, data);\n                html = applyBrandColoursAndFont(html);\n                combinedHtml += html;\n            });\n            if (combinedHtml) {\n                codeSections.push({\n                    key: id,\n                    title: section.name,\n                    code: combinedHtml\n                });\n            }\n        }\n    });\n    // Footer section\n    if (footerHtml) {\n        codeSections.push({\n            key: \"footer\",\n            title: \"Footer\",\n            code: footerHtml\n        });\n    }\n    // alternateMap is now defined at the top of the file. Duplicate definitions\n    // here have been removed to prevent ReferenceError when used earlier.\n    /**\n   * Load custom templates for body, header and footer from\n   * localStorage. Each collection is stored under its own key. The\n   * try/catch guards against JSON parsing errors and localStorage\n   * access errors (e.g. in server‑side rendering).\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) {\n            try {\n                // Body templates\n                const storedBody = window.localStorage.getItem(\"customTemplates\");\n                if (storedBody) {\n                    const parsedBody = JSON.parse(storedBody);\n                    if (Array.isArray(parsedBody) && parsedBody.length) {\n                        setBodyTemplates((prev)=>[\n                                ...prev,\n                                ...parsedBody\n                            ]);\n                    }\n                }\n                // Header templates\n                const storedHeader = window.localStorage.getItem(\"customHeaderTemplates\");\n                if (storedHeader) {\n                    const parsedHeader = JSON.parse(storedHeader);\n                    if (Array.isArray(parsedHeader) && parsedHeader.length) {\n                        setHeaderTemplates((prev)=>[\n                                ...prev,\n                                ...parsedHeader\n                            ]);\n                    }\n                }\n                // Footer templates\n                const storedFooter = window.localStorage.getItem(\"customFooterTemplates\");\n                if (storedFooter) {\n                    const parsedFooter = JSON.parse(storedFooter);\n                    if (Array.isArray(parsedFooter) && parsedFooter.length) {\n                        setFooterTemplates((prev)=>{\n                            const all = [\n                                ...prev,\n                                ...parsedFooter\n                            ];\n                            const seen = new Set();\n                            return all.filter((tpl)=>{\n                                if (seen.has(tpl.id)) return false;\n                                seen.add(tpl.id);\n                                return true;\n                            });\n                        });\n                    }\n                }\n                // Banner templates\n                const storedBanner = window.localStorage.getItem(\"customBannerTemplates\");\n                if (storedBanner) {\n                    const parsedBanner = JSON.parse(storedBanner);\n                    if (Array.isArray(parsedBanner) && parsedBanner.length) {\n                        setBannerTemplates((prev)=>[\n                                ...prev,\n                                ...parsedBanner\n                            ]);\n                    }\n                }\n            } catch (err) {\n                console.warn(\"Failed to load custom templates from localStorage\", err);\n            }\n        }\n    }, []);\n    /**\n   * Synchronise the draft HTML when the selected template for each\n   * section changes. This allows the editing textareas to display\n   * the current template. We deliberately keep the drafts separate\n   * so that editing one section doesn’t override the others.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentBody = bodyTemplates.find((t)=>t.id === selectedBodyId);\n        if (currentBody) {\n            setDraftBodyHtml(currentBody.html);\n        }\n    }, [\n        selectedBodyId,\n        bodyTemplates\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentHeader = headerTemplates.find((t)=>t.id === selectedHeaderId);\n        if (currentHeader) {\n            setDraftHeaderHtml(currentHeader.html);\n        }\n    }, [\n        selectedHeaderId,\n        headerTemplates\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentBanner = bannerTemplates.find((t)=>t.id === selectedBannerId);\n        if (currentBanner) {\n            setDraftBannerHtml(currentBanner.html);\n        }\n    }, [\n        selectedBannerId,\n        bannerTemplates\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentFooter = footerTemplates.find((t)=>t.id === selectedFooterId);\n        if (currentFooter) {\n            setDraftFooterHtml(currentFooter.html);\n        }\n    }, [\n        selectedFooterId,\n        footerTemplates\n    ]);\n    // Synchronise draft hero HTML when the selected hero template changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const currentHero = heroTemplates.find((t)=>t.id === selectedHeroId);\n        if (currentHero) {\n            setDraftHeroHtml(currentHero.html);\n        }\n    }, [\n        selectedHeroId,\n        heroTemplates\n    ]);\n    /**\n   * Strip any query parameters from a URL, returning the base URL\n   * before the '?' character.\n   */ const sanitizeUrl = (url)=>url.split(\"?\")[0];\n    /**\n   * Update a URL within a body section. Called whenever the user\n   * edits one of the URL inputs. Accepts the section id, the\n   * index of the URL within that section and the new value. State\n   * is updated immutably to ensure React re-renders appropriately.\n   */ const handleUrlChange = (sectionId, index, value)=>{\n        setDraftUrls((prev)=>{\n            var _prev_sectionId;\n            const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n            const next = [\n                ...current\n            ];\n            next[index] = value;\n            return {\n                ...prev,\n                [sectionId]: next\n            };\n        });\n    };\n    // Add a new blank URL input to a section. Optionally focus the newly\n    // created field by passing its index.\n    const addUrlField = (sectionId, focusIndex)=>{\n        setDraftUrls((prev)=>{\n            var _prev_sectionId;\n            const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n            return {\n                ...prev,\n                [sectionId]: [\n                    ...current,\n                    \"\"\n                ]\n            };\n        });\n        if (focusIndex !== undefined) {\n            setTimeout(()=>{\n                const el = document.getElementById(\"url-\".concat(sectionId, \"-\").concat(focusIndex));\n                el === null || el === void 0 ? void 0 : el.focus();\n            }, 0);\n        }\n    };\n    // Remove a URL input from a section at index.\n    const removeUrlField = (sectionId, index)=>{\n        setDraftUrls((prev)=>{\n            var _prev_sectionId;\n            const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n            return {\n                ...prev,\n                [sectionId]: current.filter((_, i)=>i !== index)\n            };\n        });\n    };\n    /**\n   * Toggle edit mode for a given section. When in edit mode a\n   * textarea is displayed allowing the user to modify the raw HTML\n   * template. Saving will update the template collection and exit\n   * edit mode.\n   */ // Legacy toggle handlers removed. Editing modes are now toggled directly via inline callbacks.\n    /**\n   * Save template edits for each section. The modified HTML is\n   * stored back into the appropriate templates array. Edits are\n   * persisted into localStorage if the template is user‑created (i.e.\n   * not part of the defaults). We do not differentiate here but\n   * simply update the selected template in place.\n   */ const saveBodyEdits = ()=>{\n        setBodyTemplates((prev)=>prev.map((t)=>t.id === selectedBodyId ? {\n                    ...t,\n                    html: draftBodyHtml\n                } : t));\n        setBodyEditMode(false);\n    };\n    const saveHeaderEdits = ()=>{\n        setHeaderTemplates((prev)=>prev.map((t)=>t.id === selectedHeaderId ? {\n                    ...t,\n                    html: draftHeaderHtml\n                } : t));\n        setHeaderEditMode(false);\n    };\n    const saveBannerEdits = ()=>{\n        setBannerTemplates((prev)=>prev.map((t)=>t.id === selectedBannerId ? {\n                    ...t,\n                    html: draftBannerHtml\n                } : t));\n        setBannerEditMode(false);\n    };\n    const saveFooterEdits = ()=>{\n        setFooterTemplates((prev)=>prev.map((t)=>t.id === selectedFooterId ? {\n                    ...t,\n                    html: draftFooterHtml\n                } : t));\n        setFooterEditMode(false);\n    };\n    /**\n   * Add a new custom template to a section. Each template must\n   * provide a unique id. We generate one by slugifying the name\n   * and appending a timestamp. New templates are persisted in\n   * localStorage so they survive page reloads.\n   */ const addNewBodyTemplate = ()=>{\n        const name = newBodyName.trim();\n        const html = newBodyHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setBodyTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom body template\", err);\n        }\n        setNewBodyName(\"\");\n        setNewBodyHtml(\"\");\n    };\n    const addNewHeaderTemplate = ()=>{\n        const name = newHeaderName.trim();\n        const html = newHeaderHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setHeaderTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customHeaderTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customHeaderTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom header template\", err);\n        }\n        setNewHeaderName(\"\");\n        setNewHeaderHtml(\"\");\n    };\n    const addNewBannerTemplate = ()=>{\n        const name = newBannerName.trim();\n        const html = newBannerHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setBannerTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customBannerTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customBannerTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom banner template\", err);\n        }\n        setNewBannerName(\"\");\n        setNewBannerHtml(\"\");\n    };\n    const addNewFooterTemplate = ()=>{\n        const name = newFooterName.trim();\n        const html = newFooterHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setFooterTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customFooterTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customFooterTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom footer template\", err);\n        }\n        setNewFooterName(\"\");\n        setNewFooterHtml(\"\");\n    };\n    /**\n   * Generate EDM: sends the list of product URLs to the API route\n   * which fetches and parses the product details. Returns the raw\n   * HTML (unused here) and a list of product objects. We ignore\n   * the returned HTML and build our own using templates. If the\n   * server responds with an error we alert the user.\n   */ /**\n   * Generate a single body section. Sends the section's product URLs to\n   * the API route which fetches and parses the product details. The\n   * parsed products are stored on the section and the loading flag\n   * cleared. If no URLs are provided an alert is shown. After the\n   * first successful generation the hero image is automatically\n   * fetched based on the origin of the first product URL if no hero\n   * image has been set yet.\n   */ const generateSection = async (sectionId)=>{\n        const section = bodySections.find((s)=>s.id === sectionId);\n        if (!section) return;\n        var _draftUrls_sectionId;\n        // Always update the section's URLs with the latest draft before generating\n        const filtered = ((_draftUrls_sectionId = draftUrls[sectionId]) !== null && _draftUrls_sectionId !== void 0 ? _draftUrls_sectionId : section.urls).map((u)=>u.trim()).filter((u)=>u);\n        if (filtered.length === 0) {\n            alert(\"Please provide at least one product URL.\");\n            return;\n        }\n        // Save the latest URLs to the section immediately so preview updates on first click\n        setBodySections((prev)=>prev.map((s)=>s.id === sectionId ? {\n                    ...s,\n                    urls: [\n                        ...filtered\n                    ],\n                    loading: true,\n                    products: []\n                } : s));\n        try {\n            // Start loading bar immediately\n            setLoading(true);\n            setProgress(0);\n            setBuffer(15);\n            const res = await fetch(\"/api/generate\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    urls: filtered,\n                    templateId: section.selectedBodyId\n                })\n            });\n            if (!res.ok) {\n                throw new Error(\"Request failed with status \".concat(res.status));\n            }\n            // Response received\n            setProgress(20);\n            setBuffer(40);\n            const data = await res.json();\n            // Parsed JSON\n            setProgress(30);\n            setBuffer(50);\n            const processed = [];\n            const validUrls = [];\n            const totalItems = Math.max(1, data.products.length || 0);\n            data.products.forEach((p, idx)=>{\n                const hasInfo = Object.keys(p || {}).some((key)=>key !== \"url\" && p[key]);\n                if (!hasInfo) {\n                    const badUrl = filtered[idx] || p.url || \"Unknown URL\";\n                    addNotification(\"Error on fetching data from the url \".concat(badUrl));\n                    return;\n                }\n                validUrls.push(filtered[idx]);\n                processed.push({\n                    url: p.url,\n                    pretitle: p.pretitle || \"\",\n                    title: p.title || \"\",\n                    price: p.price || \"\",\n                    originalPrice: p.originalPrice || undefined,\n                    description: p.description || \"\",\n                    // Additional description sources scraped from .product__description\n                    // (plain text from <p> and joined text from <ul>)\n                    descriptionP: p.descriptionP || \"\",\n                    descriptionUl: p.descriptionUl || \"\",\n                    image: p.image || \"\",\n                    images: Array.isArray(p.images) ? p.images : undefined,\n                    cta: p.cta || p.url,\n                    ctaLabel: p.ctaLabel || \"SHOP NOW\"\n                });\n                // Process items linearly: advance from 30% up to 90%\n                const pct = 30 + Math.round((idx + 1) / totalItems * 60);\n                const prog = Math.min(90, pct);\n                setProgress(prog);\n                setBuffer(Math.min(100, prog + 10));\n            });\n            // Final composition\n            setProgress(95);\n            setBuffer(100);\n            setBodySections((prev)=>prev.map((s)=>s.id === sectionId ? {\n                        ...s,\n                        products: processed,\n                        urls: [\n                            ...validUrls,\n                            \"\"\n                        ],\n                        loading: false\n                    } : s));\n            setDraftUrls((prev)=>({\n                    ...prev,\n                    [sectionId]: [\n                        ...validUrls,\n                        \"\"\n                    ]\n                }));\n            setProgress(100); // complete\n            // Hide after a short delay to avoid flicker, then reset\n            setTimeout(()=>{\n                setLoading(false);\n                setProgress(-1);\n                setBuffer(-1);\n            }, 200);\n        } catch (error) {\n            console.error(\"Generation failed\", error);\n            console.log(\"Failed to generate products: \".concat(error.message));\n            setBodySections((prev)=>prev.map((s)=>s.id === sectionId ? {\n                        ...s,\n                        loading: false\n                    } : s));\n            // Ensure the loading bar hides on error\n            setLoading(false);\n            setProgress(-1);\n            setBuffer(-1);\n        }\n    };\n    // Automatically generate the first body section when it is created (after user submits product URL)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (bodySections.length === 1 && bodySections[0].products.length === 0 && bodySections[0].urls[0] && !bodySections[0].loading) {\n            generateSection(bodySections[0].id);\n        }\n    }, [\n        bodySections\n    ]);\n    // Fetch initial product data for the first body section on page load\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        generateSection(1);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    /**\n   * Generate all sections in the EDM. Iterates through each body section\n   * sequentially and triggers its generation. This is invoked by the\n   * universal \"Generate EDM\" button and updates the preview and\n   * code for every module.\n   */ const generateAllSections = async ()=>{\n        // Delegate progress updates to each section's generation to avoid conflicting values\n        for (const section of bodySections){\n            await generateSection(section.id);\n        }\n    };\n    /**\n   * Update a product field in response to edits made in the preview.\n   * This ensures two‑way binding between the editable preview and\n   * the underlying data model. Updating the state triggers the\n   * effect below which recomputes the HTML.\n   */ /**\n   * Update a field within a product inside a specific body section. Edits\n   * made in the preview update the underlying product array which\n   * triggers a re‑render of the composed HTML.\n   */ const updateProductInSection = (sectionId, index, field, value)=>{\n        setBodySections((prev)=>prev.map((section)=>{\n                if (section.id !== sectionId) return section;\n                const newProducts = [\n                    ...section.products\n                ];\n                const prod = {\n                    ...newProducts[index]\n                };\n                prod[field] = value;\n                newProducts[index] = prod;\n                return {\n                    ...section,\n                    products: newProducts\n                };\n            }));\n    };\n    /**\n   * Compute the HTML for header, body and footer whenever the data\n   * or selected templates change. Colours are limited to three and\n   * a +n indicator is added if additional colours are available.\n   */ //\n    // The body, header and footer HTML is now computed in a single\n    // useEffect defined earlier (see Option A implementation). The\n    // following legacy effect has been removed to prevent duplicate\n    // updates and inconsistent output.\n    /**\n   * Copy a given string to the clipboard. Feedback could be added\n   * later (e.g. toast notifications) but is omitted for brevity.\n   */ const copyToClipboard = (text)=>{\n        if (typeof navigator !== \"undefined\" && navigator.clipboard) {\n            navigator.clipboard.writeText(text).then(()=>{\n                addNotification(\"Code copied!\");\n            }).catch((err)=>{\n                console.warn(\"Failed to copy to clipboard\", err);\n            });\n        }\n    };\n    /**\n   * Helper to highlight HTML for code display. Prism returns an\n   * HTML string containing <span> elements with classes for each\n   * token. We set the language to markup since our templates are\n   * HTML.\n   */ const highlight = (code)=>{\n        const Prism = prismRef.current;\n        // If Prism has not loaded yet, return the raw code. This avoids\n        // runtime errors during initial render or server‑side rendering.\n        if (!Prism) return code;\n        return Prism.highlight(code, Prism.languages.markup, \"markup\");\n    };\n    const availableSectionTypes = [\n        ...!showHeaderSection ? [\n            {\n                key: \"header\",\n                label: \"Header\"\n            }\n        ] : [],\n        ...!showHeroSection ? [\n            {\n                key: \"hero\",\n                label: \"Hero\"\n            }\n        ] : [],\n        {\n            key: \"body\",\n            label: \"Body\"\n        },\n        ...!showBannerSection ? [\n            {\n                key: \"banner\",\n                label: \"Banner\"\n            }\n        ] : [],\n        ...!showFooterSection ? [\n            {\n                key: \"footer\",\n                label: \"Footer\"\n            }\n        ] : []\n    ];\n    // Top heading moved into AppBar via AppLayout\n    if (!brandWebsite) {\n        // Show a simple dialog to prompt for a product URL\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            style: {\n                display: \"flex\",\n                alignItems: \"center\",\n                justifyContent: \"center\",\n                height: \"100vh\",\n                background: \"#fafbfc\"\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                onSubmit: handleBrandUrlSubmit,\n                style: {\n                    background: \"#fff\",\n                    padding: 32,\n                    borderRadius: 8,\n                    boxShadow: \"0 4px 24px rgba(0,0,0,0.08)\"\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        style: {\n                            marginBottom: 16\n                        },\n                        children: \"Enter a product URL to get started\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2019,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"url\",\n                        value: brandUrlInput,\n                        onChange: (e)=>setBrandUrlInput(e.target.value),\n                        placeholder: \"https://yourstore.com/products/example\",\n                        style: {\n                            width: 360,\n                            padding: 8,\n                            fontSize: 16,\n                            borderRadius: 4,\n                            border: \"1px solid #ccc\",\n                            marginBottom: 16\n                        },\n                        required: true\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2020,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        style: {\n                            textAlign: \"right\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            type: \"submit\",\n                            style: {\n                                padding: \"8px 20px\",\n                                fontSize: 16,\n                                borderRadius: 4,\n                                background: \"#d19aa0\",\n                                color: \"#fff\",\n                                border: \"none\",\n                                cursor: \"pointer\"\n                            },\n                            children: \"Continue\"\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 2029,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2028,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 2018,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 2017,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"EDM Expresso\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2039,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Build modular EDMs from product pages\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2040,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 2038,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                title: \"EDM Espresso\",\n                left: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"accordion-list\".concat(openSection ? \" has-open\" : \"\"),\n                    style: {\n                        height: \"100%\",\n                        display: \"flex\",\n                        flexDirection: \"column\"\n                    },\n                    children: [\n                        showHeaderSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"accordion-section\".concat(openSection === \"header\" ? \" open\" : \"\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"accordion-header\".concat(openSection === \"header\" ? \" open\" : \"\"),\n                                    onClick: ()=>handleAccordionToggle(\"header\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Header\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginLeft: \"auto\",\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: \"var(--gap-2)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        removeHeaderSection();\n                                                    },\n                                                    title: \"Remove section\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        handleAccordionToggle(\"header\");\n                                                    },\n                                                    title: openSection === \"header\" ? \"Collapse section\" : \"Expand section\",\n                                                    children: openSection === \"header\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                openSection === \"header\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"accordion-content\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                display: \"flex\",\n                                                flexWrap: \"wrap\"\n                                            },\n                                            children: (()=>{\n                                                const activeTpl = headerTemplates.find((tpl)=>tpl.id === selectedHeaderId);\n                                                if (!activeTpl) return null;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        flexDirection: \"column\",\n                                                        alignItems: \"center\"\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_HtmlThumbnail__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                        html: activeTpl.html,\n                                                        width: 600,\n                                                        forceAutoHeight: true\n                                                    }, void 0, false, void 0, void 0)\n                                                }, activeTpl.id, false, void 0, void 0);\n                                            })()\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"template-row\",\n                                            style: {\n                                                display: \"flex\",\n                                                gap: \"var(--gap-2)\",\n                                                alignItems: \"center\",\n                                                marginTop: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                    fullWidth: true,\n                                                    variant: \"outlined\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                            id: \"header-template-label\",\n                                                            children: \"Template\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                            labelId: \"header-template-label\",\n                                                            id: \"header-template-select\",\n                                                            label: \"Template\",\n                                                            value: selectedHeaderId,\n                                                            onChange: (e)=>setSelectedHeaderId(e.target.value),\n                                                            children: headerTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                                    value: tpl.id,\n                                                                    children: tpl.name\n                                                                }, tpl.id, false, void 0, void 0))\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: ()=>setHeaderEditMode((v)=>!v),\n                                                    title: headerEditMode ? \"Close editor\" : \"Edit template\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: ()=>setShowNewHeader((v)=>!v),\n                                                    title: showNewHeader ? \"Cancel new template\" : \"Add new template\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        headerEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"header-draft-html\",\n                                                    label: \"Template HTML\",\n                                                    value: draftHeaderHtml,\n                                                    onChange: (e)=>setDraftHeaderHtml(e.target.value),\n                                                    rows: 8,\n                                                    fullWidth: true,\n                                                    multiline: true,\n                                                    sx: {\n                                                        fontFamily: \"monospace\"\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-actions\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        marginTop: \"0.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>setHeaderEditMode(false),\n                                                            title: \"Cancel edit\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                saveHeaderEdits();\n                                                                setHeaderEditMode(false);\n                                                            },\n                                                            title: \"Save edits\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        showNewHeader && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"new-template-form\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"header-new-name\",\n                                                    label: \"Template name\",\n                                                    type: \"text\",\n                                                    value: newHeaderName,\n                                                    onChange: (e)=>setNewHeaderName(e.target.value),\n                                                    fullWidth: true,\n                                                    sx: {\n                                                        mb: 1\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"header-new-html\",\n                                                    label: \"Template HTML\",\n                                                    value: newHeaderHtml,\n                                                    onChange: (e)=>setNewHeaderHtml(e.target.value),\n                                                    rows: 6,\n                                                    fullWidth: true,\n                                                    multiline: true,\n                                                    sx: {\n                                                        fontFamily: \"monospace\"\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-actions\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        marginTop: \"0.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                setShowNewHeader(false);\n                                                                setNewHeaderName(\"\");\n                                                                setNewHeaderHtml(\"\");\n                                                            },\n                                                            title: \"Cancel new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                addNewHeaderTemplate();\n                                                                setShowNewHeader(false);\n                                                            },\n                                                            title: \"Save new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0)\n                            ]\n                        }, void 0, true, void 0, void 0),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.DndContext, {\n                            sensors: sensors,\n                            collisionDetection: _dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.closestCenter,\n                            modifiers: [\n                                _dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_15__.restrictToVerticalAxis\n                            ],\n                            onDragEnd: handleSectionDragEnd,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.SortableContext, {\n                                items: sectionOrder,\n                                strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_14__.verticalListSortingStrategy,\n                                children: sectionOrder.map((id)=>{\n                                    if (id === \"hero\" && showHeroSection) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SortableHeroSection, {}, \"hero\", false, void 0, void 0);\n                                    if (id === \"banner\" && showBannerSection) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SortableBannerSection, {}, \"banner\", false, void 0, void 0);\n                                    if (id.startsWith(\"body-\")) {\n                                        const section = bodySections.find((s)=>\"body-\".concat(s.id) === id);\n                                        return section ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(SortableBodySection, {\n                                            section: section\n                                        }, id, false, void 0, void 0) : null;\n                                    }\n                                    return null;\n                                })\n                            }, void 0, false, void 0, void 0)\n                        }, void 0, false, void 0, void 0),\n                        showFooterSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"accordion-section\".concat(openSection === \"footer\" ? \" open\" : \"\"),\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"accordion-header\".concat(openSection === \"footer\" ? \" open\" : \"\"),\n                                    onClick: ()=>handleAccordionToggle(\"footer\"),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            children: \"Footer\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginLeft: \"auto\",\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: \"var(--gap-2)\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        removeFooterSection();\n                                                    },\n                                                    title: \"Remove section\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: (e)=>{\n                                                        e.stopPropagation();\n                                                        handleAccordionToggle(\"footer\");\n                                                    },\n                                                    title: openSection === \"footer\" ? \"Collapse section\" : \"Expand section\",\n                                                    children: openSection === \"footer\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                openSection === \"footer\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"accordion-content\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            style: {\n                                                display: \"flex\",\n                                                flexWrap: \"wrap\"\n                                            },\n                                            children: (()=>{\n                                                const activeTpl = footerTemplates.find((tpl)=>tpl.id === selectedFooterId);\n                                                if (!activeTpl) return null;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        flexDirection: \"column\",\n                                                        alignItems: \"center\"\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_HtmlThumbnail__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                        html: activeTpl.html,\n                                                        width: 600,\n                                                        forceAutoHeight: true\n                                                    }, void 0, false, void 0, void 0)\n                                                }, activeTpl.id, false, void 0, void 0);\n                                            })()\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"template-row\",\n                                            style: {\n                                                display: \"flex\",\n                                                gap: \"var(--gap-2)\",\n                                                alignItems: \"center\",\n                                                marginTop: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_FormControl__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                    fullWidth: true,\n                                                    variant: \"outlined\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputLabel__WEBPACK_IMPORTED_MODULE_24__[\"default\"], {\n                                                            id: \"footer-template-label\",\n                                                            children: \"Template\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Select__WEBPACK_IMPORTED_MODULE_25__[\"default\"], {\n                                                            labelId: \"footer-template-label\",\n                                                            id: \"footer-template-select\",\n                                                            label: \"Template\",\n                                                            value: selectedFooterId,\n                                                            onChange: (e)=>setSelectedFooterId(e.target.value),\n                                                            children: footerTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                                                    value: tpl.id,\n                                                                    children: tpl.name\n                                                                }, tpl.id, false, void 0, void 0))\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: ()=>setFooterEditMode((v)=>!v),\n                                                    title: footerEditMode ? \"Close editor\" : \"Edit template\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    onClick: ()=>setShowNewFooter((v)=>!v),\n                                                    title: showNewFooter ? \"Cancel new template\" : \"Add new template\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        fontSize: \"medium\"\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        footerEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"footer-draft-html\",\n                                                    label: \"Template HTML\",\n                                                    value: draftFooterHtml,\n                                                    onChange: (e)=>setDraftFooterHtml(e.target.value),\n                                                    rows: 8,\n                                                    fullWidth: true,\n                                                    multiline: true,\n                                                    sx: {\n                                                        fontFamily: \"monospace\"\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-actions\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        marginTop: \"0.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>setFooterEditMode(false),\n                                                            title: \"Cancel edit\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                saveFooterEdits();\n                                                                setFooterEditMode(false);\n                                                            },\n                                                            title: \"Save edits\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        showNewFooter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"new-template-form\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"footer-new-name\",\n                                                    label: \"Template name\",\n                                                    type: \"text\",\n                                                    value: newFooterName,\n                                                    onChange: (e)=>setNewFooterName(e.target.value),\n                                                    fullWidth: true,\n                                                    sx: {\n                                                        mb: 1\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"footer-new-html\",\n                                                    label: \"Template HTML\",\n                                                    value: newFooterHtml,\n                                                    onChange: (e)=>setNewFooterHtml(e.target.value),\n                                                    rows: 6,\n                                                    fullWidth: true,\n                                                    multiline: true,\n                                                    sx: {\n                                                        fontFamily: \"monospace\"\n                                                    }\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-actions\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        marginTop: \"0.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                setShowNewFooter(false);\n                                                                setNewFooterName(\"\");\n                                                                setNewFooterHtml(\"\");\n                                                            },\n                                                            title: \"Cancel new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                            onClick: ()=>{\n                                                                addNewFooterTemplate();\n                                                                setShowNewFooter(false);\n                                                            },\n                                                            title: \"Save new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0)\n                            ]\n                        }, void 0, true, void 0, void 0),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                justifyContent: \"flex-start\",\n                                gap: \"var(--gap-2)\",\n                                marginTop: \"1rem\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                    onClick: generateAllSections,\n                                    children: \"Generate EDM\"\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    ref: addSectionRef,\n                                    style: {\n                                        position: \"relative\",\n                                        marginLeft: \"1rem\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                            onClick: ()=>setShowAddSectionMenu((v)=>!v),\n                                            title: \"Add section\",\n                                            children: [\n                                                \"Add Section \",\n                                                showAddSectionMenu ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                                    sx: {\n                                                        ml: 0.5\n                                                    }\n                                                }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                    sx: {\n                                                        ml: 0.5\n                                                    }\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        showAddSectionMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Paper__WEBPACK_IMPORTED_MODULE_36__[\"default\"], {\n                                            elevation: 3,\n                                            sx: {\n                                                position: \"absolute\",\n                                                top: \"100%\",\n                                                left: 0,\n                                                mt: 0.5,\n                                                zIndex: 10,\n                                                minWidth: \"12rem\",\n                                                maxHeight: \"12rem\",\n                                                overflowY: \"auto\"\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                                                children: availableSectionTypes.map((opt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                        onClick: ()=>addSectionByType(opt.key),\n                                                        sx: {\n                                                            justifyContent: \"flex-start\",\n                                                            px: 2\n                                                        },\n                                                        children: opt.label\n                                                    }, opt.key, false, void 0, void 0))\n                                            }, void 0, false, void 0, void 0)\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0)\n                            ]\n                        }, void 0, true, void 0, void 0)\n                    ]\n                }, void 0, true, void 0, void 0),\n                rightOpen: showBrandPanel,\n                onRightClose: ()=>setShowBrandPanel(false),\n                onRightToggle: ()=>setShowBrandPanel((v)=>!v),\n                progress: progress,\n                buffer: buffer,\n                loading: loading,\n                right: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                            sx: {\n                                p: 0\n                            },\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                variant: \"h6\",\n                                component: \"h2\",\n                                children: \"Brand Customisation\"\n                            }, void 0, false, void 0, void 0)\n                        }, void 0, false, void 0, void 0),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Divider__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                            sx: {\n                                my: 2\n                            }\n                        }, void 0, false, void 0, void 0),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                            spacing: 2,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"brand-name\",\n                                    label: \"Brand Name\",\n                                    value: brandName,\n                                    onChange: (e)=>setBrandName(e.target.value),\n                                    fullWidth: true\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    select: true,\n                                    fullWidth: true,\n                                    label: \"Font\",\n                                    id: \"brand-font\",\n                                    value: brandFont,\n                                    onChange: (e)=>setBrandFont(e.target.value),\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"\",\n                                            children: \"Default (Montserrat)\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"Arial, Helvetica, sans-serif\",\n                                            children: \"Arial\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"Georgia, serif\",\n                                            children: \"Georgia\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"Times New Roman, serif\",\n                                            children: \"Times New Roman\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_26__[\"default\"], {\n                                            value: \"Courier New, monospace\",\n                                            children: \"Courier New\"\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(mui_color_input__WEBPACK_IMPORTED_MODULE_4__.MuiColorInput, {\n                                    id: \"brand-primary\",\n                                    label: \"Primary Colour\",\n                                    format: \"hex\",\n                                    value: brandPrimary,\n                                    onChange: (value)=>setBrandPrimary(value || brandPrimary),\n                                    size: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(mui_color_input__WEBPACK_IMPORTED_MODULE_4__.MuiColorInput, {\n                                    id: \"brand-secondary\",\n                                    label: \"Secondary Colour\",\n                                    format: \"hex\",\n                                    value: brandSecondary,\n                                    onChange: (value)=>setBrandSecondary(value || brandSecondary),\n                                    size: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"brand-website\",\n                                    label: \"Website URL\",\n                                    type: \"url\",\n                                    value: brandWebsite,\n                                    onChange: (e)=>setBrandWebsite(e.target.value),\n                                    onBlur: (e)=>setBrandWebsite(sanitizeUrl(e.currentTarget.value)),\n                                    placeholder: \"https://example.com\",\n                                    fullWidth: true\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                    id: \"brand-logo\",\n                                    label: \"Company Logo\",\n                                    placeholder: \"No file chosen\",\n                                    value: brandLogo ? brandLogo.name : \"\",\n                                    fullWidth: true,\n                                    InputProps: {\n                                        readOnly: true,\n                                        endAdornment: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                            position: \"end\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                startIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_UploadFile__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {}, void 0, false, void 0, void 0),\n                                                component: \"label\",\n                                                children: [\n                                                    \"Browse\",\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"file\",\n                                                        accept: \"image/*\",\n                                                        hidden: true,\n                                                        onChange: (e)=>{\n                                                            const file = e.target.files ? e.target.files[0] : null;\n                                                            setBrandLogo(file);\n                                                        }\n                                                    }, void 0, false, void 0, void 0)\n                                                ]\n                                            }, void 0, true, void 0, void 0)\n                                        }, void 0, false, void 0, void 0)\n                                    }\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                    sx: {\n                                        display: \"flex\",\n                                        gap: 1,\n                                        pt: 1\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                            onClick: ()=>setShowBrandPanel(false),\n                                            children: \"Close\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                            onClick: ()=>setShowBrandPanel(false),\n                                            children: \"Save\"\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0)\n                            ]\n                        }, void 0, true, void 0, void 0)\n                    ]\n                }, void 0, true),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    style: {\n                        display: \"flex\",\n                        flexDirection: \"column\",\n                        height: \"calc(100vh - 64px)\"\n                    },\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"preview-bar\",\n                            style: {\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"var(--gap-2)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                    variant: \"h6\",\n                                    sx: {\n                                        flex: 1,\n                                        fontSize: \"0.9rem\",\n                                        fontWeight: 400\n                                    },\n                                    children: viewMode === \"preview\" ? \"Email Preview\" : \"Email Code\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 2372,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"preview-actions\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>setViewMode(viewMode === \"preview\" ? \"code\" : \"preview\"),\n                                            title: viewMode === \"preview\" ? \"Show code\" : \"Show preview\",\n                                            children: viewMode === \"preview\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Code__WEBPACK_IMPORTED_MODULE_40__[\"default\"], {}, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2380,\n                                                columnNumber: 47\n                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {}, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2380,\n                                                columnNumber: 62\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 2379,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                            onClick: ()=>{\n                                                copyToClipboard(finalHtml);\n                                                addNotification(\"Code copied!\");\n                                            },\n                                            title: \"Copy full email HTML to clipboard\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {}, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2383,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 2382,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 2378,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 2371,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            style: {\n                                overflowY: \"auto\",\n                                overflowX: \"hidden\",\n                                padding: \"1rem\",\n                                paddingTop: \"0\",\n                                position: \"relative\"\n                            },\n                            children: viewMode === \"preview\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: previewRef,\n                                \"data-preview-container\": \"true\",\n                                children: [\n                                    showHeaderSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        \"data-section\": \"header\",\n                                        onClick: ()=>setOpenSection(\"header\"),\n                                        dangerouslySetInnerHTML: {\n                                            __html: headerHtml\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 2391,\n                                        columnNumber: 23\n                                    }, this),\n                                    sectionOrder.map((id)=>{\n                                        if (id === \"hero\" && showHeroSection && heroImage) {\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                \"data-section\": \"hero\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_HeroTableModule__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    heroImage: heroImage,\n                                                    heroAlt: heroAlt || brandName,\n                                                    heroHref: heroHref,\n                                                    heroImages: heroImages,\n                                                    updateHero: updateHero,\n                                                    templateId: selectedHeroId,\n                                                    onActivate: ()=>setOpenSection(\"hero\")\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 2397,\n                                                    columnNumber: 30\n                                                }, this)\n                                            }, \"hero\", false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2396,\n                                                columnNumber: 28\n                                            }, this);\n                                        }\n                                        if (id === \"banner\" && showBannerSection && bannerImage) {\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                \"data-section\": \"banner\",\n                                                onClick: ()=>setOpenSection(\"banner\"),\n                                                dangerouslySetInnerHTML: {\n                                                    __html: bannerHtml\n                                                }\n                                            }, \"banner\", false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2411,\n                                                columnNumber: 23\n                                            }, this);\n                                        }\n                                        if (id.startsWith(\"body-\")) {\n                                            const section = bodySections.find((s)=>\"body-\".concat(s.id) === id);\n                                            if (!section) return null;\n                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                \"data-section\": \"body-\".concat(section.id),\n                                                onClick: ()=>setOpenSection(\"body-\".concat(section.id)),\n                                                children: [\n                                                    section.loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: section.urls.filter((u)=>u.trim()).length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                                            variant: \"rectangular\",\n                                                            animation: \"wave\",\n                                                            sx: {\n                                                                mb: 2,\n                                                                width: \"100%\",\n                                                                maxWidth: 600,\n                                                                mx: \"auto\",\n                                                                height: 180,\n                                                                borderRadius: 2,\n                                                                boxShadow: \"var(--shadow-light)\"\n                                                            }\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 2426,\n                                                            columnNumber: 35\n                                                        }, this) : section.urls.filter((u)=>u.trim()).map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                                                variant: \"rectangular\",\n                                                                animation: \"wave\",\n                                                                sx: {\n                                                                    mb: 2,\n                                                                    width: \"100%\",\n                                                                    maxWidth: 600,\n                                                                    mx: \"auto\",\n                                                                    height: 180,\n                                                                    borderRadius: 2,\n                                                                    boxShadow: \"var(--shadow-light)\"\n                                                                }\n                                                            }, i, false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 2441,\n                                                                columnNumber: 37\n                                                            }, this))\n                                                    }, void 0, false),\n                                                    section.selectedBodyId === \"grid\" ? (()=>{\n                                                        const tpl = bodyTemplates.find((t)=>t.id === \"grid\");\n                                                        if (!tpl) return null;\n                                                        // Render grid with clickable images\n                                                        // Use the same table structure as the actual grid template\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                                                    role: \"presentation\",\n                                                                    width: \"100%\",\n                                                                    cellPadding: 0,\n                                                                    cellSpacing: 0,\n                                                                    border: 0,\n                                                                    align: \"center\",\n                                                                    style: {\n                                                                        margin: 0,\n                                                                        padding: 0\n                                                                    },\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                                align: \"center\",\n                                                                                style: {\n                                                                                    margin: 0,\n                                                                                    padding: 0\n                                                                                },\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                                                                    role: \"presentation\",\n                                                                                    width: \"100%\",\n                                                                                    cellPadding: 0,\n                                                                                    cellSpacing: 0,\n                                                                                    border: 0,\n                                                                                    style: {\n                                                                                        maxWidth: 600,\n                                                                                        margin: \"0 auto\",\n                                                                                        background: \"#FFFFFF\"\n                                                                                    },\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                                                style: {\n                                                                                                    padding: 0\n                                                                                                },\n                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                                                                                    role: \"presentation\",\n                                                                                                    width: \"100%\",\n                                                                                                    cellPadding: 0,\n                                                                                                    cellSpacing: 0,\n                                                                                                    border: 0,\n                                                                                                    style: {\n                                                                                                        width: \"100%\",\n                                                                                                        margin: 0,\n                                                                                                        padding: 0\n                                                                                                    },\n                                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                                                                            children: section.products.map((prod, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                                                                    align: \"center\",\n                                                                                                                    valign: \"top\",\n                                                                                                                    style: {\n                                                                                                                        padding: 0,\n                                                                                                                        position: \"relative\",\n                                                                                                                        cursor: \"pointer\",\n                                                                                                                        overflow: \"hidden\"\n                                                                                                                    },\n                                                                                                                    onClick: ()=>setImageSelector({\n                                                                                                                            sectionId: section.id,\n                                                                                                                            productIdx: idx\n                                                                                                                        }),\n                                                                                                                    onMouseEnter: (e)=>{\n                                                                                                                        const img = e.currentTarget.querySelector(\"img\");\n                                                                                                                        const icon = e.currentTarget.querySelector(\".edit-icon\");\n                                                                                                                        if (img) img.style.opacity = \"0.7\";\n                                                                                                                        if (icon) icon.style.transform = \"translateY(-38px)\";\n                                                                                                                    },\n                                                                                                                    onMouseLeave: (e)=>{\n                                                                                                                        const img = e.currentTarget.querySelector(\"img\");\n                                                                                                                        const icon = e.currentTarget.querySelector(\".edit-icon\");\n                                                                                                                        if (img) img.style.opacity = \"1\";\n                                                                                                                        if (icon) icon.style.transform = \"translateY(0)\";\n                                                                                                                    },\n                                                                                                                    children: [\n                                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                                                                                            src: prod.image,\n                                                                                                                            alt: prod.title || \"\",\n                                                                                                                            style: {\n                                                                                                                                display: \"block\",\n                                                                                                                                width: \"100%\",\n                                                                                                                                height: \"auto\",\n                                                                                                                                border: 0,\n                                                                                                                                outline: 0,\n                                                                                                                                textDecoration: \"none\",\n                                                                                                                                transition: \"opacity 0.2s ease-in-out\"\n                                                                                                                            }\n                                                                                                                        }, void 0, false, {\n                                                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                            lineNumber: 2494,\n                                                                                                                            columnNumber: 63\n                                                                                                                        }, this),\n                                                                                                                        prod.images && prod.images.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                                            className: \"edit-icon\",\n                                                                                                                            style: {\n                                                                                                                                position: \"absolute\",\n                                                                                                                                bottom: -30,\n                                                                                                                                right: 8,\n                                                                                                                                backgroundColor: \"rgba(0,0,0,0.5)\",\n                                                                                                                                color: \"#ffffff\",\n                                                                                                                                borderRadius: \"50%\",\n                                                                                                                                padding: 4,\n                                                                                                                                display: \"flex\",\n                                                                                                                                alignItems: \"center\",\n                                                                                                                                justifyContent: \"center\",\n                                                                                                                                cursor: \"pointer\",\n                                                                                                                                transform: \"translateY(0)\",\n                                                                                                                                transition: \"transform 0.3s ease-in-out\"\n                                                                                                                            },\n                                                                                                                            onClick: (e)=>{\n                                                                                                                                e.stopPropagation();\n                                                                                                                                setImageSelector({\n                                                                                                                                    sectionId: section.id,\n                                                                                                                                    productIdx: idx\n                                                                                                                                });\n                                                                                                                            },\n                                                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                                                                                                style: {\n                                                                                                                                    color: \"#fff\",\n                                                                                                                                    fontSize: 16\n                                                                                                                                }\n                                                                                                                            }, void 0, false, {\n                                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                lineNumber: 2520,\n                                                                                                                                columnNumber: 67\n                                                                                                                            }, this)\n                                                                                                                        }, void 0, false, {\n                                                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                            lineNumber: 2501,\n                                                                                                                            columnNumber: 65\n                                                                                                                        }, this)\n                                                                                                                    ]\n                                                                                                                }, idx, true, {\n                                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                    lineNumber: 2479,\n                                                                                                                    columnNumber: 61\n                                                                                                                }, this))\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                            lineNumber: 2477,\n                                                                                                            columnNumber: 57\n                                                                                                        }, this)\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                        lineNumber: 2476,\n                                                                                                        columnNumber: 55\n                                                                                                    }, this)\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                    lineNumber: 2475,\n                                                                                                    columnNumber: 53\n                                                                                                }, this)\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                lineNumber: 2474,\n                                                                                                columnNumber: 51\n                                                                                            }, this)\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                            lineNumber: 2473,\n                                                                                            columnNumber: 49\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                        lineNumber: 2472,\n                                                                                        columnNumber: 47\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                    lineNumber: 2471,\n                                                                                    columnNumber: 45\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                lineNumber: 2470,\n                                                                                columnNumber: 43\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                            lineNumber: 2469,\n                                                                            columnNumber: 41\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                        lineNumber: 2468,\n                                                                        columnNumber: 39\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 2467,\n                                                                    columnNumber: 37\n                                                                }, this),\n                                                                imageSelector && imageSelector.sectionId === section.id && section.products[imageSelector.productIdx] && (()=>{\n                                                                    // Limit backdrop to main area\n                                                                    const mainPanel =  true ? document.querySelector(\"main\") : 0;\n                                                                    const rect = (mainPanel === null || mainPanel === void 0 ? void 0 : mainPanel.getBoundingClientRect()) || undefined;\n                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_shared_ImageSelector__WEBPACK_IMPORTED_MODULE_11__.ImageSelector, {\n                                                                        images: section.products[imageSelector.productIdx].images || [],\n                                                                        selected: section.products[imageSelector.productIdx].image,\n                                                                        open: true,\n                                                                        onSelect: (img)=>{\n                                                                            updateProductInSection(section.id, imageSelector.productIdx, \"image\", img);\n                                                                            setImageSelector(null);\n                                                                        },\n                                                                        onClose: ()=>setImageSelector(null),\n                                                                        anchorRect: rect\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                        lineNumber: 2542,\n                                                                        columnNumber: 41\n                                                                    }, this);\n                                                                })()\n                                                            ]\n                                                        }, void 0, true);\n                                                    })() : section.products.map((prod, idx)=>{\n                                                        let orientation;\n                                                        if (section.selectedBodyId === \"product-image-left-copy-right\") {\n                                                            orientation = idx % 2 === 0 ? \"left-image\" : \"right-image\";\n                                                        } else {\n                                                            orientation = idx % 2 === 0 ? \"right-image\" : \"left-image\";\n                                                        }\n                                                        // Choose description source for preview (per-product)\n                                                        const dsPrev = prod.descSource || \"metadata\";\n                                                        let chosenDescription = prod.description || \"\";\n                                                        if (dsPrev === \"p\" && prod.descriptionP) {\n                                                            chosenDescription = prod.descriptionP;\n                                                        } else if (dsPrev === \"ul\" && prod.descriptionUl) {\n                                                            chosenDescription = prod.descriptionUl;\n                                                        }\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ProductTableModule__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                            product: {\n                                                                ...prod,\n                                                                description: chosenDescription\n                                                            },\n                                                            index: idx,\n                                                            orientation: orientation,\n                                                            updateProduct: (i, field, value)=>updateProductInSection(section.id, i, field, value),\n                                                            onActivate: ()=>setOpenSection(\"body-\".concat(section.id)),\n                                                            ctaBg: brandPrimary,\n                                                            overlayContainerRef: previewRef,\n                                                            brandName: brandName,\n                                                            descSource: prod.descSource,\n                                                            onChangeDescSource: (src)=>updateProductInSection(section.id, idx, \"descSource\", src)\n                                                        }, \"\".concat(section.id, \"-\").concat(idx), false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 2575,\n                                                            columnNumber: 35\n                                                        }, this);\n                                                    })\n                                                ]\n                                            }, id, true, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2418,\n                                                columnNumber: 27\n                                            }, this);\n                                        }\n                                        return null;\n                                    }),\n                                    showFooterSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        \"data-section\": \"footer\",\n                                        onClick: ()=>setOpenSection(\"footer\"),\n                                        dangerouslySetInnerHTML: {\n                                            __html: footerHtml\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 2597,\n                                        columnNumber: 23\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 2389,\n                                columnNumber: 19\n                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"code-accordion\",\n                                style: {\n                                    display: \"flex\",\n                                    flexDirection: \"column\",\n                                    gap: \"var(--gap-2)\"\n                                },\n                                children: codeSections.map((section)=>{\n                                    const isOpen = openCodeSections[section.key] !== false;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"code-section\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"code-section-header\",\n                                                onClick: ()=>toggleCodeSection(section.key),\n                                                style: {\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"space-between\",\n                                                    cursor: \"pointer\",\n                                                    padding: \"0.6rem 1rem\",\n                                                    background: \"#f9fafb\",\n                                                    borderBottom: \"1px solid #e5e7eb\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        children: section.title\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 2611,\n                                                        columnNumber: 29\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"code-actions\",\n                                                        style: {\n                                                            display: \"flex\",\n                                                            alignItems: \"center\",\n                                                            gap: \"var(--gap-2)\"\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                onClick: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    toggleCodeSection(section.key);\n                                                                },\n                                                                title: isOpen ? \"Collapse section\" : \"Expand section\",\n                                                                children: isOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {}, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 2614,\n                                                                    columnNumber: 43\n                                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {}, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 2614,\n                                                                    columnNumber: 64\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 2613,\n                                                                columnNumber: 31\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                onClick: (e)=>{\n                                                                    e.stopPropagation();\n                                                                    copyToClipboard(section.code);\n                                                                    addNotification(\"Code copied!\");\n                                                                },\n                                                                title: \"Copy code to clipboard\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {}, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 2617,\n                                                                    columnNumber: 33\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 2616,\n                                                                columnNumber: 31\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 2612,\n                                                        columnNumber: 29\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2606,\n                                                columnNumber: 27\n                                            }, this),\n                                            isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                                style: {\n                                                    margin: 0,\n                                                    maxHeight: \"200px\",\n                                                    overflow: \"auto\",\n                                                    background: \"#ffffff\",\n                                                    padding: \"0.5rem 1rem\"\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"code\", {\n                                                    dangerouslySetInnerHTML: {\n                                                        __html: highlight(section.code)\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 2623,\n                                                    columnNumber: 31\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 2622,\n                                                columnNumber: 29\n                                            }, this)\n                                        ]\n                                    }, section.key, true, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 2605,\n                                        columnNumber: 25\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 2601,\n                                columnNumber: 19\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 2387,\n                            columnNumber: 15\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 2370,\n                    columnNumber: 13\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 2042,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_mui_material_Snackbar__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                open: snackbarOpen,\n                autoHideDuration: 3000,\n                onClose: ()=>setSnackbarOpen(false),\n                message: snackbarMsg,\n                anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\"\n                }\n            }, void 0, false, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 2635,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(Home, \"2ktug0wMHPo/FESsc/7d2uyb/Uk=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_13__.useSensors\n    ];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFlQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0Q0FJckIrUyx3QkFDQyw4REFBQ3FTO2dEQUFJaGdCLE9BQU87b0RBQUVpZSxRQUFRO29EQUFHckMsV0FBVztvREFBUzBDLFVBQVU7b0RBQVExRSxZQUFZO29EQUFXRyxTQUFTO2dEQUFjOzBEQUMzRyw0RUFBQzFFO29EQUFLaUkseUJBQXlCO3dEQUFFQyxRQUFRakUsVUFBVWpjLFFBQVFnWSxJQUFJO29EQUFFOzs7Ozs7Ozs7Ozs7dUNBbEI3RGhZLFFBQVFpSCxHQUFHOzs7OztnQ0F1QnpCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQU9kLDhEQUFDcEwsK0RBQVFBO2dCQUNQbW1CLE1BQU1qUztnQkFDTjZTLGtCQUFrQjtnQkFDbEJWLFNBQVMsSUFBTWxTLGdCQUFnQjtnQkFDL0JRLFNBQVNQO2dCQUNUNFMsY0FBYztvQkFBRUMsVUFBVTtvQkFBVUMsWUFBWTtnQkFBTzs7Ozs7Ozs7QUFJL0Q7R0E5N0V3QmhrQjs7UUFtR05ULHNEQUFVQTs7O0tBbkdKUyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9wYWdlcy9pbmRleC50c3g/MDdmZiJdLCJzb3VyY2VzQ29udGVudCI6WyIgIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi5cblxuLy8gLi4uZXhpc3RpbmcgY29kZS4uLlxuLy8gLi4uZXhpc3RpbmcgY29kZS4uLlxuXG4gIC8vIC4uLmV4aXN0aW5nIGNvZGUuLi5cbiAgLy8gUGxhY2UgdGhpcyBhZnRlciBib2R5U2VjdGlvbnMgYW5kIGdlbmVyYXRlU2VjdGlvbiBhcmUgZGVmaW5lZFxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiwgUmVhY3ROb2RlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgQXBwTGF5b3V0IGZyb20gJy4uL2NvbXBvbmVudHMvQXBwTGF5b3V0JztcbmltcG9ydCBTa2VsZXRvbiBmcm9tICdAbXVpL21hdGVyaWFsL1NrZWxldG9uJztcbmltcG9ydCBTbmFja2JhciBmcm9tICdAbXVpL21hdGVyaWFsL1NuYWNrYmFyJztcbi8vIE1VSSBjb21wb25lbnRzIGZvciBCcmFuZCBDdXN0b21pc2F0aW9uIHBhbmVsXG5pbXBvcnQgRHJhd2VyIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRHJhd2VyJztcbmltcG9ydCBUeXBvZ3JhcGh5IGZyb20gJ0BtdWkvbWF0ZXJpYWwvVHlwb2dyYXBoeSc7XG5pbXBvcnQgQm94IGZyb20gJ0BtdWkvbWF0ZXJpYWwvQm94JztcbmltcG9ydCBTdGFjayBmcm9tICdAbXVpL21hdGVyaWFsL1N0YWNrJztcbmltcG9ydCBGb3JtQ29udHJvbCBmcm9tICdAbXVpL21hdGVyaWFsL0Zvcm1Db250cm9sJztcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2cnO1xuaW1wb3J0IERpYWxvZ1RpdGxlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nVGl0bGUnO1xuaW1wb3J0IERpYWxvZ0NvbnRlbnQgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2dDb250ZW50JztcbmltcG9ydCBEaWFsb2dBY3Rpb25zIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nQWN0aW9ucyc7XG5pbXBvcnQgSW5wdXRMYWJlbCBmcm9tICdAbXVpL21hdGVyaWFsL0lucHV0TGFiZWwnO1xuaW1wb3J0IFNlbGVjdCBmcm9tICdAbXVpL21hdGVyaWFsL1NlbGVjdCc7XG5pbXBvcnQgTWVudUl0ZW0gZnJvbSAnQG11aS9tYXRlcmlhbC9NZW51SXRlbSc7XG5pbXBvcnQgVGV4dEZpZWxkIGZyb20gJ0BtdWkvbWF0ZXJpYWwvVGV4dEZpZWxkJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQG11aS9tYXRlcmlhbC9CdXR0b24nO1xuaW1wb3J0IEljb25CdXR0b24gZnJvbSAnQG11aS9tYXRlcmlhbC9JY29uQnV0dG9uJztcbmltcG9ydCBEaXZpZGVyIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGl2aWRlcic7XG4vLyBQYWRkaW5nIHRvZ2dsZXMgcmVtb3ZlZFxuaW1wb3J0IFBhcGVyIGZyb20gJ0BtdWkvbWF0ZXJpYWwvUGFwZXInO1xuaW1wb3J0IENsb3NlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Nsb3NlJztcbmltcG9ydCB7IE11aUNvbG9ySW5wdXQgfSBmcm9tICdtdWktY29sb3ItaW5wdXQnO1xuaW1wb3J0IElucHV0QWRvcm5tZW50IGZyb20gJ0BtdWkvbWF0ZXJpYWwvSW5wdXRBZG9ybm1lbnQnO1xuLy8gUmVtb3ZlZCBwYWRkaW5nIGNvbnRyb2xzXG5pbXBvcnQgVXBsb2FkRmlsZUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9VcGxvYWRGaWxlJztcbmltcG9ydCBCYWNrZHJvcCBmcm9tICdAbXVpL21hdGVyaWFsL0JhY2tkcm9wJztcbmltcG9ydCB7XG4gIGRlZmF1bHRUZW1wbGF0ZXMgYXMgZGVmYXVsdEJvZHlUZW1wbGF0ZXMsXG4gIFRlbXBsYXRlIGFzIEJvZHlUZW1wbGF0ZSxcbiAgcmVuZGVyVGVtcGxhdGVcbn0gZnJvbSAnLi4vZGF0YS90ZW1wbGF0ZXMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEhlYWRlclRlbXBsYXRlcyxcbiAgSGVhZGVyVGVtcGxhdGVcbn0gZnJvbSAnLi4vZGF0YS9oZWFkZXJUZW1wbGF0ZXMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEZvb3RlclRlbXBsYXRlcyxcbiAgRm9vdGVyVGVtcGxhdGVcbn0gZnJvbSAnLi4vZGF0YS9mb290ZXJUZW1wbGF0ZXMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEhlcm9UZW1wbGF0ZXMsXG4gIEhlcm9UZW1wbGF0ZVxufSBmcm9tICcuLi9kYXRhL2hlcm9UZW1wbGF0ZXMnO1xuaW1wb3J0IHtcbiAgZGVmYXVsdEJhbm5lclRlbXBsYXRlcyxcbiAgQmFubmVyVGVtcGxhdGVcbn0gZnJvbSAnLi4vZGF0YS9iYW5uZXJUZW1wbGF0ZXMnO1xuaW1wb3J0IHsgUHJvZHVjdERhdGEgfSBmcm9tICcuLi9saWIvdHlwZXMnO1xuLy8gSW1wb3J0IGludGVyYWN0aXZlIG1vZHVsZXMgZm9yIHByZXZpZXcuIFByb2R1Y3RUYWJsZU1vZHVsZSByZW5kZXJzXG4vLyBlYWNoIHByb2R1Y3QgbW9kdWxlIHdpdGggaW5saW5lIGVkaXRpbmcgYW5kIGltYWdlIHNlbGVjdGlvbi4gVGhlXG4vLyBIZXJvVGFibGVNb2R1bGUgcmVuZGVycyB0aGUgaGVybyBzZWN0aW9uIHdpdGggaW1hZ2Ugc2VsZWN0aW9uLlxuaW1wb3J0IFByb2R1Y3RUYWJsZU1vZHVsZSBmcm9tICcuLi9jb21wb25lbnRzL1Byb2R1Y3RUYWJsZU1vZHVsZSc7XG5pbXBvcnQgeyBJbWFnZVNlbGVjdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9zaGFyZWQvSW1hZ2VTZWxlY3Rvcic7XG5pbXBvcnQgSGVyb1RhYmxlTW9kdWxlIGZyb20gJy4uL2NvbXBvbmVudHMvSGVyb1RhYmxlTW9kdWxlJztcbi8vIFByb2R1Y3RUYWJsZU1vZHVsZSB3YXMgdXNlZCBmb3IgYW4gaW50ZXJhY3RpdmUgcHJldmlldyBpbiBlYXJsaWVyIHZlcnNpb25zLiBXaGVuXG4vLyByZW5kZXJpbmcgdmlhIE9wdGlvbsKgQSB0aGUgcHJldmlldyB1c2VzIHRoZSBjb21waWxlZCBIVE1MIGRpcmVjdGx5IHNvIHdlXG4vLyBubyBsb25nZXIgaW1wb3J0IG9yIHVzZSBQcm9kdWN0VGFibGVNb2R1bGUgaGVyZS5cblxuLy8gTVVJIEljb25zXG5pbXBvcnQgQ29udGVudENvcHlJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ29udGVudENvcHknO1xuaW1wb3J0IENvZGVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ29kZSc7XG5pbXBvcnQgVmlzaWJpbGl0eUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9WaXNpYmlsaXR5JztcbmltcG9ydCBBZGRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQWRkJztcbmltcG9ydCBDbG9zZUljb24yIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ2xvc2UnO1xuaW1wb3J0IFNhdmVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU2F2ZSc7XG5pbXBvcnQgRWRpdEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9FZGl0JztcbmltcG9ydCBTZXR0aW5nc0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TZXR0aW5ncyc7XG5pbXBvcnQgRGVsZXRlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0RlbGV0ZSc7XG5pbXBvcnQgRXhwYW5kTGVzc0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9FeHBhbmRMZXNzJztcbmltcG9ydCBFeHBhbmRNb3JlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0V4cGFuZE1vcmUnO1xuaW1wb3J0IERyYWdJbmRpY2F0b3JJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRHJhZ0luZGljYXRvcic7XG5pbXBvcnQge1xuICBEbmRDb250ZXh0LFxuICBjbG9zZXN0Q2VudGVyLFxuICBQb2ludGVyU2Vuc29yLFxuICB1c2VTZW5zb3IsXG4gIHVzZVNlbnNvcnMsXG4gIERyYWdFbmRFdmVudFxufSBmcm9tICdAZG5kLWtpdC9jb3JlJztcbmltcG9ydCB7XG4gIGFycmF5TW92ZSxcbiAgU29ydGFibGVDb250ZXh0LFxuICB2ZXJ0aWNhbExpc3RTb3J0aW5nU3RyYXRlZ3ksXG4gIHVzZVNvcnRhYmxlXG59IGZyb20gJ0BkbmQta2l0L3NvcnRhYmxlJztcbmltcG9ydCB7IHJlc3RyaWN0VG9WZXJ0aWNhbEF4aXMgfSBmcm9tICdAZG5kLWtpdC9tb2RpZmllcnMnO1xuaW1wb3J0IHsgQ1NTIH0gZnJvbSAnQGRuZC1raXQvdXRpbGl0aWVzJztcbmltcG9ydCBIdG1sVGh1bWJuYWlsIGZyb20gJy4uL2NvbXBvbmVudHMvc2hhcmVkL0h0bWxUaHVtYm5haWwnO1xuLy8gUHJpc21KUyBpcyBsb2FkZWQgZHluYW1pY2FsbHkgb24gdGhlIGNsaWVudC4gV2UgYXZvaWQgaW1wb3J0aW5nIGl0IGF0XG4vLyB0aGUgdG9wIGxldmVsIGJlY2F1c2UgdGhhdCBjYW4gY2F1c2UgaXNzdWVzIHdpdGggc2VydmVy4oCRc2lkZVxuLy8gcmVuZGVyaW5nIGluIE5leHQuanMuIEluc3RlYWQgd2UgbG9hZCBpdCBpbiBhIHVzZUVmZmVjdCBob29rIGFuZFxuLy8gc3RvcmUgdGhlIHJlZmVyZW5jZSBpbiBhIHJlZi4gU2VlIHRoZSBoaWdobGlnaHQoKSBoZWxwZXIgYmVsb3cuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4vLyAoUHJpc20gaXMgaW50ZW50aW9uYWxseSBub3QgaW1wb3J0ZWQgaGVyZSlcblxuLy8gRm9udEF3ZXNvbWUgaWNvbnMgZm9yIHRoZSBjb3B5IGJ1dHRvbi4gVGhlIGljb25zIGFyZSBvbmx5XG4vLyBpbXBvcnRlZCB3aGVuIHVzZWQgd2hpY2gga2VlcHMgdGhlIGJ1bmRsZSBzaXplIHNtYWxsLiBJZiB0aGVcbi8vIGltcG9ydCBmYWlscyBncmFjZWZ1bGx5IHRoZSBhcHBsaWNhdGlvbiB3aWxsIHN0aWxsIGZ1bmN0aW9uLlxuXG5pbnRlcmZhY2UgR2VuZXJhdGVSZXNwb25zZSB7XG4gIGh0bWw6IHN0cmluZztcbiAgcHJvZHVjdHM6IGFueVtdO1xufVxuXG4vKipcbiAqIE1hcCBhIGJvZHkgdGVtcGxhdGUgdG8gaXRzIGFsdGVybmF0aW5nIHZhcmlhbnQuIFdoZW4gcmVuZGVyaW5nXG4gKiBtdWx0aXBsZSBwcm9kdWN0cyBmcm9tIHRoZSBzYW1lIHRlbXBsYXRlLCBldmVyeSBvdGhlciBwcm9kdWN0XG4gKiBhbHRlcm5hdGVzIG9yaWVudGF0aW9uIHRvIHByb3ZpZGUgdmlzdWFsIHZhcmlldHkuIEtleXMgY29ycmVzcG9uZFxuICogdG8gdGVtcGxhdGUgSURzIGRlZmluZWQgaW4gZGF0YS90ZW1wbGF0ZXMudHMuIFRoaXMgY29uc3RhbnQgaXNcbiAqIGRlZmluZWQgaGVyZSB0byBhdm9pZCBSZWZlcmVuY2VFcnJvciB3aGVuIHJlZmVyZW5jZWQgYmVmb3JlIGl0c1xuICogZGVjbGFyYXRpb24uIFNlZSBjb2RlIHNlY3Rpb25zIHdoZXJlIGFsdGVybmF0ZU1hcCBpcyB1c2VkLlxuICovXG5jb25zdCBhbHRlcm5hdGVNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICdwcm9kdWN0LWltYWdlLWxlZnQtY29weS1yaWdodCc6ICdwcm9kdWN0LWNvcHktbGVmdC1pbWFnZS1yaWdodCcsXG4gICdwcm9kdWN0LWNvcHktbGVmdC1pbWFnZS1yaWdodCc6ICdwcm9kdWN0LWltYWdlLWxlZnQtY29weS1yaWdodCdcbn07XG5cbi8vIEJvdHRvbSBwYWRkaW5nIGZ1bmN0aW9uYWxpdHkgcmVtb3ZlZFxuXG4vKipcbiAqIEVhY2ggYm9keSBzZWN0aW9uIGNvbnRhaW5zIGl0cyBvd24gbGlzdCBvZiBwcm9kdWN0IFVSTHMsIHBhcnNlZFxuICogcHJvZHVjdCBkYXRhIGFuZCBzZWxlY3RlZCB0ZW1wbGF0ZS4gU2VjdGlvbnMgYXJlIHJlbmRlcmVkIGluIHRoZVxuICogb3JkZXIgZGVmaW5lZCBpbiB0aGUgYXJyYXkuIFdoZW4gZHVwbGljYXRpbmcgYSBib2R5LCBhIG5ld1xuICogc2VjdGlvbiBlbnRyeSBpcyBhZGRlZCB3aXRoIGl0cyBvd24gc3RhdGUuIFRoZSBsb2FkaW5nIGZsYWcgaXNcbiAqIHVzZWQgdG8gZGlzYWJsZSB0aGUgZ2VuZXJhdGUgYnV0dG9uIHdoaWxlIHRoZSBiYWNrZW5kIGNhbGwgaXNcbiAqIGluIHByb2dyZXNzLlxuICovXG5pbnRlcmZhY2UgQm9keVNlY3Rpb24ge1xuICBpZDogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG4gIHVybHM6IHN0cmluZ1tdOyAvLyBjb21taXR0ZWQgVVJMcyB1c2VkIGZvciBnZW5lcmF0aW9uXG4gIHByb2R1Y3RzOiBQcm9kdWN0RGF0YVtdO1xuICBzZWxlY3RlZEJvZHlJZDogc3RyaW5nO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICAvKiogU291cmNlIG9mIGRlc2NyaXB0aW9uIHRvIHVzZSBmb3IgcHJvZHVjdHMgaW4gdGhpcyBzZWN0aW9uICovXG4gIGRlc2NyaXB0aW9uU291cmNlPzogJ21ldGFkYXRhJyB8ICdwJyB8ICd1bCc7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIC8vIFVuaXZlcnNhbCBpbWFnZSBzZWxlY3RvciBzdGF0ZTogd2hpY2ggc2VjdGlvbiBhbmQgcHJvZHVjdCBpbmRleCBpcyBvcGVuXG4gIGNvbnN0IFtpbWFnZVNlbGVjdG9yLCBzZXRJbWFnZVNlbGVjdG9yXSA9IHVzZVN0YXRlPHsgc2VjdGlvbklkOiBudW1iZXI7IHByb2R1Y3RJZHg6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XG4gIC8qKlxuICAgKiBDdXJyZW50bHkgc2VsZWN0ZWQgbW9kdWxlIHNlY3Rpb24uIFVzZXJzIGNhbiBzd2l0Y2ggYmV0d2VlblxuICAgKiBlZGl0aW5nIHRoZSBoZWFkZXIsIGJvZHkgb3IgZm9vdGVyLiBEZWZhdWx0IHRvIHRoZSBib2R5XG4gICAqIHNlY3Rpb24gYXMgaXQgY29udGFpbnMgdGhlIG1haW4gcHJvZHVjdCBtb2R1bGVzLlxuICAgKi9cbiAgLy8gQWNjb3JkaW9uIG9wZW4gc2VjdGlvbiBzdGF0ZS4gT25seSBvbmUgc2VjdGlvbiAoaGVhZGVyLCBib2R5IG9yXG4gIC8vIGZvb3RlcikgY2FuIGJlIGV4cGFuZGVkIGF0IGEgdGltZS4gRGVmYXVsdHMgdG8gYm9keSBiZWNhdXNlIHRoZVxuICAvLyBib2R5IGNvbnRhaW5zIHRoZSBwcm9kdWN0IGxpc3QgYW5kIGlzIHRoZSBwcmltYXJ5IGZvY3VzLlxuICAvLyBUcmFjayB3aGljaCBhY2NvcmRpb24gcGFuZWwgaXMgb3Blbi4gS2V5cyBpbmNsdWRlICdoZWFkZXInLCAnaGVybycsXG4gIC8vICdmb290ZXInIGFuZCBkeW5hbWljIGJvZHkgaWRlbnRpZmllcnMgbGlrZSAnYm9keS0xJywgJ2JvZHktMicsIGV0Yy5cbiAgY29uc3QgW29wZW5TZWN0aW9uLCBzZXRPcGVuU2VjdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdib2R5LTEnKTtcblxuICAvKipcbiAgICogVG9nZ2xlIGFuIGFjY29yZGlvbiBwYW5lbCBvcGVuIG9yIGNsb3NlZC4gV2hlbiB0aGUgZ2l2ZW5cbiAgICogaWRlbnRpZmllciBtYXRjaGVzIHRoZSBjdXJyZW50IG9wZW5TZWN0aW9uLCB0aGUgcGFuZWwgaXNcbiAgICogY29sbGFwc2VkLiBPdGhlcndpc2UgaXQgYmVjb21lcyB0aGUgbmV3IG9wZW4gcGFuZWwuIFRoaXMgaGVscGVyXG4gICAqIHByZXZlbnRzIGFkZGl0aW9uYWwgbG9naWMgZnJvbSBiZWluZyBkdXBsaWNhdGVkIG9uIGNsaWNrXG4gICAqIGhhbmRsZXJzIHRocm91Z2hvdXQgdGhlIFVJLlxuICAgKi9cbiAgY29uc3QgaGFuZGxlQWNjb3JkaW9uVG9nZ2xlID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRPcGVuU2VjdGlvbigocHJldikgPT4gKHByZXYgPT09IGlkID8gJycgOiBpZCkpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaWV3IG1vZGUgd2l0aGluIGEgbW9kdWxlLiBVc2VycyBjYW4gdG9nZ2xlIGJldHdlZW4gYSBsaXZlXG4gICAqIHByZXZpZXcgb2YgdGhlIHNlbGVjdGVkIG1vZHVsZSBvciB0aGUgZ2VuZXJhdGVkIEhUTUwgY29kZS4gVGhpc1xuICAgKiB0b2dnbGUgaXMgc2NvcGVkIHRvIHRoZSBwcmV2aWV3L2VkaXQgYXJlYSBhbmQgbm90IHRoZSBtb2R1bGVcbiAgICogdGFicyB0aGVtc2VsdmVzLiBEZWZhdWx0IHRvIHByZXZpZXcuXG4gICAqL1xuICAvLyBWaWV3IG1vZGUgdG9nZ2xlcyBiZXR3ZWVuIGEgZnVsbCBlbWFpbCBwcmV2aWV3IGFuZCB0aGUgZ2VuZXJhdGVkIEhUTUxcbiAgLy8gY29kZSBmb3IgdGhlIGJvZHkgbW9kdWxlcy4gVGhpcyBhcHBsaWVzIHRvIHRoZSBlbnRpcmUgbWVzc2FnZVxuICAvLyAoaGVhZGVyICsgYm9keSBtb2R1bGVzICsgZm9vdGVyKSBhbmQgbm90IGluZGl2aWR1YWwgc2VjdGlvbnMuIERlZmF1bHRcbiAgLy8gdG8gcHJldmlldy5cbiAgY29uc3QgW3ZpZXdNb2RlLCBzZXRWaWV3TW9kZV0gPSB1c2VTdGF0ZTwncHJldmlldycgfCAnY29kZSc+KCdwcmV2aWV3Jyk7XG4gIC8qKlxuICAgKiBCb2R5IHNlY3Rpb25zLiBFYWNoIHNlY3Rpb24gaGFzIGl0cyBvd24gbGlzdCBvZiBVUkxzLCBwYXJzZWRcbiAgICogcHJvZHVjdHMgYW5kIHNlbGVjdGVkIHRlbXBsYXRlLiBTZWN0aW9ucyBhcmUgcmVuZGVyZWQgaW4gb3JkZXIgYW5kXG4gICAqIGNhbiBiZSBpbmRlcGVuZGVudGx5IGdlbmVyYXRlZC4gQSBsb2FkaW5nIGZsYWcgaXMgc3RvcmVkIHBlclxuICAgKiBzZWN0aW9uLlxuICAgKi9cbiAgY29uc3QgW2JvZHlTZWN0aW9ucywgc2V0Qm9keVNlY3Rpb25zXSA9IHVzZVN0YXRlPEJvZHlTZWN0aW9uW10+KFtdKTtcblxuICAvLyBEcmFmdCBVUkxzIHBlciBzZWN0aW9uIGlkOyBrZWVwcyB0eXBpbmcgbG9jYWwgd2l0aG91dCByZS1yZW5kZXJpbmcgbWFpbiBjb21wb3NlXG4gIGNvbnN0IFtkcmFmdFVybHMsIHNldERyYWZ0VXJsc10gPSB1c2VTdGF0ZTxSZWNvcmQ8bnVtYmVyLCBzdHJpbmdbXT4+KHt9KTtcblxuICBjb25zdCBnZXREcmFmdFVybHMgPSB1c2VDYWxsYmFjayhcbiAgICAoc2VjdGlvbklkOiBudW1iZXIpOiBzdHJpbmdbXSA9PiB7XG4gICAgICBjb25zdCBleGlzdGluZyA9IGRyYWZ0VXJsc1tzZWN0aW9uSWRdO1xuICAgICAgaWYgKGV4aXN0aW5nKSByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICBjb25zdCBzZWN0aW9uID0gYm9keVNlY3Rpb25zLmZpbmQoKHMpID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgICByZXR1cm4gc2VjdGlvbiA/IHNlY3Rpb24udXJscyA6IFtdO1xuICAgIH0sXG4gICAgW2RyYWZ0VXJscywgYm9keVNlY3Rpb25zXVxuICApO1xuXG4gIC8vIFZpc2liaWxpdHkgdG9nZ2xlcyBmb3Igb3B0aW9uYWwgc2VjdGlvbnNcbiAgY29uc3QgW3Nob3dIZWFkZXJTZWN0aW9uLCBzZXRTaG93SGVhZGVyU2VjdGlvbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3Nob3dIZXJvU2VjdGlvbiwgc2V0U2hvd0hlcm9TZWN0aW9uXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd0Jhbm5lclNlY3Rpb24sIHNldFNob3dCYW5uZXJTZWN0aW9uXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd0Zvb3RlclNlY3Rpb24sIHNldFNob3dGb290ZXJTZWN0aW9uXSA9IHVzZVN0YXRlKHRydWUpO1xuICAvLyBPcmRlciBvZiBkcmFnZ2FibGUgc2VjdGlvbnMgaW5jbHVkaW5nIGhlYWRlci9mb290ZXJcbiAgY29uc3QgW3NlY3Rpb25PcmRlciwgc2V0U2VjdGlvbk9yZGVyXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXG4gICAgJ2hlcm8nLFxuICAgIC4uLmJvZHlTZWN0aW9ucy5tYXAoKHMpID0+IGBib2R5LSR7cy5pZH1gKSxcbiAgICAnYmFubmVyJ1xuICBdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4ge1xuICAgICAgY29uc3QgZmlsdGVyZWQgPSBwcmV2LmZpbHRlcigoaWQpID0+IHtcbiAgICAgICAgaWYgKGlkID09PSAnaGVybycgJiYgIXNob3dIZXJvU2VjdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoaWQgPT09ICdiYW5uZXInICYmICFzaG93QmFubmVyU2VjdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoaWQuc3RhcnRzV2l0aCgnYm9keS0nKSkge1xuICAgICAgICAgIHJldHVybiBib2R5U2VjdGlvbnMuc29tZSgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGVzaXJlZCA9IFtcbiAgICAgICAgLi4uKHNob3dIZXJvU2VjdGlvbiA/IFsnaGVybyddIDogW10pLFxuICAgICAgICAuLi5ib2R5U2VjdGlvbnMubWFwKChzKSA9PiBgYm9keS0ke3MuaWR9YCksXG4gICAgICAgIC4uLihzaG93QmFubmVyU2VjdGlvbiA/IFsnYmFubmVyJ10gOiBbXSlcbiAgICAgIF07XG4gICAgICBkZXNpcmVkLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIGlmICghZmlsdGVyZWQuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgaWYgKGlkLnN0YXJ0c1dpdGgoJ2JvZHktJykgJiYgZmlsdGVyZWQuaW5jbHVkZXMoJ2Jhbm5lcicpKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoZmlsdGVyZWQuaW5kZXhPZignYmFubmVyJyksIDAsIGlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsdGVyZWQucHVzaChpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICB9KTtcbiAgfSwgW2JvZHlTZWN0aW9ucywgc2hvd0hlcm9TZWN0aW9uLCBzaG93QmFubmVyU2VjdGlvbl0pO1xuXG4gIC8vIERyYWctYW5kLWRyb3Agc2Vuc29ycyBhbmQgaGFuZGxlciBmb3IgcmVvcmRlcmluZyBzZWN0aW9uc1xuICBjb25zdCBzZW5zb3JzID0gdXNlU2Vuc29ycyh1c2VTZW5zb3IoUG9pbnRlclNlbnNvcikpO1xuXG4gIGNvbnN0IGhhbmRsZVNlY3Rpb25EcmFnRW5kID0gKGV2ZW50OiBEcmFnRW5kRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGFjdGl2ZSwgb3ZlciB9ID0gZXZlbnQ7XG4gICAgaWYgKCFvdmVyIHx8IGFjdGl2ZS5pZCA9PT0gb3Zlci5pZCkgcmV0dXJuO1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4ge1xuICAgICAgY29uc3Qgb2xkSW5kZXggPSBwcmV2LmluZGV4T2YoYWN0aXZlLmlkIGFzIHN0cmluZyk7XG4gICAgICBjb25zdCBuZXdJbmRleCA9IHByZXYuaW5kZXhPZihvdmVyLmlkIGFzIHN0cmluZyk7XG4gICAgICByZXR1cm4gYXJyYXlNb3ZlKHByZXYsIG9sZEluZGV4LCBuZXdJbmRleCk7XG4gICAgfSk7XG4gICAgaWYgKFxuICAgICAgU3RyaW5nKGFjdGl2ZS5pZCkuc3RhcnRzV2l0aCgnYm9keS0nKSAmJlxuICAgICAgU3RyaW5nKG92ZXIuaWQpLnN0YXJ0c1dpdGgoJ2JvZHktJylcbiAgICApIHtcbiAgICAgIHNldEJvZHlTZWN0aW9ucygoc2VjdGlvbnMpID0+IHtcbiAgICAgICAgY29uc3Qgb2xkSW5kZXggPSBzZWN0aW9ucy5maW5kSW5kZXgoKHMpID0+IGBib2R5LSR7cy5pZH1gID09PSBhY3RpdmUuaWQpO1xuICAgICAgICBjb25zdCBuZXdJbmRleCA9IHNlY3Rpb25zLmZpbmRJbmRleCgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IG92ZXIuaWQpO1xuICAgICAgICByZXR1cm4gYXJyYXlNb3ZlKHNlY3Rpb25zLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IFNvcnRhYmxlQm9keVNlY3Rpb246IFJlYWN0LkZDPHsgc2VjdGlvbjogQm9keVNlY3Rpb24gfT4gPSAoeyBzZWN0aW9uIH0pID0+IHtcbiAgICBjb25zdCB7IGF0dHJpYnV0ZXMsIGxpc3RlbmVycywgc2V0Tm9kZVJlZiwgdHJhbnNmb3JtLCB0cmFuc2l0aW9uIH0gPSB1c2VTb3J0YWJsZSh7IGlkOiBgYm9keS0ke3NlY3Rpb24uaWR9YCB9KTtcbiAgICBjb25zdCB7IFsnYXJpYS1kZXNjcmliZWRieSddOiBfYXJpYURlc2NyaWJlZEJ5LCAuLi5zb3J0YWJsZUF0dHJpYnV0ZXMgfSA9IGF0dHJpYnV0ZXMgYXMgYW55O1xuICAgIGNvbnN0IHN0eWxlID0geyB0cmFuc2Zvcm06IENTUy5UcmFuc2Zvcm0udG9TdHJpbmcodHJhbnNmb3JtKSwgdHJhbnNpdGlvbiB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLXNlY3Rpb24ke29wZW5TZWN0aW9uID09PSBgYm9keS0ke3NlY3Rpb24uaWR9YCA/ICcgb3BlbicgOiAnJ31gfSByZWY9e3NldE5vZGVSZWZ9IHN0eWxlPXtzdHlsZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLWhlYWRlciR7b3BlblNlY3Rpb24gPT09IGBib2R5LSR7c2VjdGlvbi5pZH1gID8gJyBvcGVuJyA6ICcnfWB9IG9uQ2xpY2s9eygpID0+IGhhbmRsZUFjY29yZGlvblRvZ2dsZShgYm9keS0ke3NlY3Rpb24uaWR9YCl9PlxuICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgIHsuLi5zb3J0YWJsZUF0dHJpYnV0ZXN9XG4gICAgICAgICAgICB7Li4ubGlzdGVuZXJzfVxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgICB0aXRsZT1cIlJlb3JkZXIgc2VjdGlvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPERyYWdJbmRpY2F0b3JJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgPHNwYW4+e3NlY3Rpb24ubmFtZX08L3NwYW4+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5MZWZ0OiAnYXV0bycgfX0+XG4gICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUJvZHlTZWN0aW9uKHNlY3Rpb24uaWQpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT1cIlJlbW92ZSBzZWN0aW9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPERlbGV0ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoYGJvZHktJHtzZWN0aW9uLmlkfWApO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT17b3BlblNlY3Rpb24gPT09IGBib2R5LSR7c2VjdGlvbi5pZH1gID8gJ0NvbGxhcHNlIHNlY3Rpb24nIDogJ0V4cGFuZCBzZWN0aW9uJ31cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge29wZW5TZWN0aW9uID09PSBgYm9keS0ke3NlY3Rpb24uaWR9YCA/IChcbiAgICAgICAgICAgICAgICA8RXhwYW5kTGVzc0ljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxFeHBhbmRNb3JlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7b3BlblNlY3Rpb24gPT09IGBib2R5LSR7c2VjdGlvbi5pZH1gICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjY29yZGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgICB7LyogTW92ZSBUZW1wbGF0ZSArIERlc2NyaXB0aW9uIFNvdXJjZSBjb250cm9scyBhYm92ZSBVUkxzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZW1wbGF0ZS1yb3dcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxuICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2wgZnVsbFdpZHRoIHZhcmlhbnQ9XCJvdXRsaW5lZFwiPlxuICAgICAgICAgICAgICAgIDxJbnB1dExhYmVsIGlkPXtgYm9keS10ZW1wbGF0ZS0ke3NlY3Rpb24uaWR9YH0+VGVtcGxhdGU8L0lucHV0TGFiZWw+XG4gICAgICAgICAgICAgICAgPFNlbGVjdFxuICAgICAgICAgICAgICAgICAgbGFiZWxJZD17YGJvZHktdGVtcGxhdGUtJHtzZWN0aW9uLmlkfWB9XG4gICAgICAgICAgICAgICAgICBpZD17YGJvZHktdGVtcGxhdGUtc2VsZWN0LSR7c2VjdGlvbi5pZH1gfVxuICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUZW1wbGF0ZVwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17c2VjdGlvbi5zZWxlY3RlZEJvZHlJZH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VjdGlvblRlbXBsYXRlKHNlY3Rpb24uaWQsIGUudGFyZ2V0LnZhbHVlIGFzIHN0cmluZyl9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2JvZHlUZW1wbGF0ZXMubWFwKCh0cGwpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGtleT17dHBsLmlkfSB2YWx1ZT17dHBsLmlkfT57dHBsLm5hbWV9PC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRCb2R5RWRpdE1vZGUoKHYpID0+ICF2KX0gdGl0bGU9e2JvZHlFZGl0TW9kZSA/ICdDbG9zZSBlZGl0b3InIDogJ0VkaXQgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICA8RWRpdEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dOZXdCb2R5KCh2KSA9PiAhdil9IHRpdGxlPXtzaG93TmV3Qm9keSA/ICdDYW5jZWwgbmV3IHRlbXBsYXRlJyA6ICdBZGQgbmV3IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgPEFkZEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtib2R5RWRpdE1vZGUgJiYgKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9e2Bib2R5LWRyYWZ0LWh0bWwtJHtzZWN0aW9uLmlkfWB9IGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtkcmFmdEJvZHlIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldERyYWZ0Qm9keUh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs4fSBmdWxsV2lkdGggbXVsdGlsaW5lIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEJvZHlFZGl0TW9kZShmYWxzZSl9IHRpdGxlPVwiQ2FuY2VsIGVkaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzYXZlQm9keUVkaXRzKCk7IHNldEJvZHlFZGl0TW9kZShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7c2hvd05ld0JvZHkgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1mb3JtXCI+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD17YGJvZHktbmV3LW5hbWUtJHtzZWN0aW9uLmlkfWB9IGxhYmVsPVwiVGVtcGxhdGUgbmFtZVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e25ld0JvZHlOYW1lfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0JvZHlOYW1lKGUudGFyZ2V0LnZhbHVlKX0gZnVsbFdpZHRoIHN4PXt7IG1iOiAxIH19IC8+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD17YGJvZHktbmV3LWh0bWwtJHtzZWN0aW9uLmlkfWB9IGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtuZXdCb2R5SHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdCb2R5SHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezZ9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScgfX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTaG93TmV3Qm9keShmYWxzZSk7IHNldE5ld0JvZHlOYW1lKCcnKTsgc2V0TmV3Qm9keUh0bWwoJycpOyB9fSB0aXRsZT1cIkNhbmNlbCBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBhZGROZXdCb2R5VGVtcGxhdGUoKTsgc2V0U2hvd05ld0JvZHkoZmFsc2UpOyB9fSB0aXRsZT1cIlNhdmUgbmV3IHRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJzdWJ0aXRsZTFcIiBzeD17eyBmb250U2l6ZTogJzFyZW0nLCBtYjogMSwgbXQ6IDEgfX0+UHJvZHVjdCBVUkxzPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICB7Z2V0RHJhZnRVcmxzKHNlY3Rpb24uaWQpLm1hcCgodXJsLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgIDxCb3gga2V5PXtpbmRleH0gc3g9e3sgbWI6IDIgfX0+XG4gICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgIGlkPXtgdXJsLSR7c2VjdGlvbi5pZH0tJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwidXJsXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9e2BQcm9kdWN0IFVSTCAke2luZGV4ICsgMX1gfVxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e3VybH1cbiAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhbmVkID0gc2FuaXRpemVVcmwoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVcmxDaGFuZ2Uoc2VjdGlvbi5pZCwgaW5kZXgsIGNsZWFuZWQpO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBJbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgZW5kQWRvcm5tZW50OiBnZXREcmFmdFVybHMoc2VjdGlvbi5pZCkubGVuZ3RoID4gMSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dEFkb3JubWVudCBwb3NpdGlvbj1cImVuZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiByZW1vdmVVcmxGaWVsZChzZWN0aW9uLmlkLCBpbmRleCl9IHRpdGxlPVwiUmVtb3ZlIFVSTFwiIGVkZ2U9XCJlbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uMiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSW5wdXRBZG9ybm1lbnQ+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICAgICAgICBvbktleURvd246IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyID0gZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGN1cnIudmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGlzdExlbiA9IGdldERyYWZ0VXJscyhzZWN0aW9uLmlkKS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgaW5kZXggPT09IGxpc3RMZW4gLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVXJsRmllbGQoc2VjdGlvbi5pZCwgaW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdUYWInICYmICFlLnNoaWZ0S2V5ICYmIGluZGV4ID09PSBsaXN0TGVuIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUYWIgb24gbGFzdCBmaWVsZDogYWNjZXB0IHZhbHVlLCBhZGQgbmV3IGZpZWxkLCBhbmQgZm9jdXMgaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhbmVkID0gc2FuaXRpemVVcmwodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVVcmxDaGFuZ2Uoc2VjdGlvbi5pZCwgaW5kZXgsIGNsZWFuZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRVcmxGaWVsZChzZWN0aW9uLmlkLCBpbmRleCArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzFyZW0nLCBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1nYXAtMiknIH19PlxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9eygpID0+IGdlbmVyYXRlU2VjdGlvbihzZWN0aW9uLmlkKX0gZGlzYWJsZWQ9e3NlY3Rpb24ubG9hZGluZ30+XG4gICAgICAgICAgICAgICAge3NlY3Rpb24ubG9hZGluZyA/ICdHZW5lcmF0aW5n4oCmJyA6ICdVcGRhdGUnfVxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZWRcIiBvbkNsaWNrPXsoKSA9PiBhZGRVcmxGaWVsZChzZWN0aW9uLmlkLCBnZXREcmFmdFVybHMoc2VjdGlvbi5pZCkubGVuZ3RoKX0+XG4gICAgICAgICAgICAgICAgQWRkIFVSTFxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgey8qIEJvdHRvbSBwYWRkaW5nIGNvbnRyb2xzIHJlbW92ZWQgKi99XG4gICAgICAgICAgICB7LyogQ1RBIGJhY2tncm91bmQgY3VzdG9taXphdGlvbiByZW1vdmVkICovfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBTb3J0YWJsZUhlcm9TZWN0aW9uOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGF0dHJpYnV0ZXMsIGxpc3RlbmVycywgc2V0Tm9kZVJlZiwgdHJhbnNmb3JtLCB0cmFuc2l0aW9uIH0gPSB1c2VTb3J0YWJsZSh7IGlkOiAnaGVybycgfSk7XG4gICAgY29uc3QgeyBbJ2FyaWEtZGVzY3JpYmVkYnknXTogX2FyaWFEZXNjcmliZWRCeSwgLi4uc29ydGFibGVBdHRyaWJ1dGVzIH0gPSBhdHRyaWJ1dGVzIGFzIGFueTtcbiAgICBjb25zdCBzdHlsZSA9IHsgdHJhbnNmb3JtOiBDU1MuVHJhbnNmb3JtLnRvU3RyaW5nKHRyYW5zZm9ybSksIHRyYW5zaXRpb24gfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjY29yZGlvbi1zZWN0aW9uJHtvcGVuU2VjdGlvbiA9PT0gJ2hlcm8nID8gJyBvcGVuJyA6ICcnfWB9IHJlZj17c2V0Tm9kZVJlZn0gc3R5bGU9e3N0eWxlfT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhY2NvcmRpb24taGVhZGVyJHtvcGVuU2VjdGlvbiA9PT0gJ2hlcm8nID8gJyBvcGVuJyA6ICcnfWB9IG9uQ2xpY2s9eygpID0+IGhhbmRsZUFjY29yZGlvblRvZ2dsZSgnaGVybycpfT5cbiAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICB7Li4uc29ydGFibGVBdHRyaWJ1dGVzfVxuICAgICAgICAgICAgey4uLmxpc3RlbmVyc31cbiAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpfVxuICAgICAgICAgICAgdGl0bGU9XCJSZW9yZGVyIHNlY3Rpb25cIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxEcmFnSW5kaWNhdG9ySWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgIDxzcGFuPkhlcm88L3NwYW4+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5MZWZ0OiAnYXV0bycsIGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJ3ZhcigtLWdhcC0yKScgfX0+XG4gICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIHJlbW92ZUhlcm9TZWN0aW9uKCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHRpdGxlPVwiUmVtb3ZlIHNlY3Rpb25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RGVsZXRlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGhhbmRsZUFjY29yZGlvblRvZ2dsZSgnaGVybycpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICB0aXRsZT17b3BlblNlY3Rpb24gPT09ICdoZXJvJyA/ICdDb2xsYXBzZSBzZWN0aW9uJyA6ICdFeHBhbmQgc2VjdGlvbid9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtvcGVuU2VjdGlvbiA9PT0gJ2hlcm8nID8gPEV4cGFuZExlc3NJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz4gOiA8RXhwYW5kTW9yZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPn1cbiAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtvcGVuU2VjdGlvbiA9PT0gJ2hlcm8nICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFjY29yZGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgICB7aGVyb0ltYWdlID8gKFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9e2hlcm9JbWFnZX0gYWx0PXtoZXJvQWx0IHx8ICcnfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdhdXRvJyB9fSAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxwPk5vIGhlcm8gaW1hZ2Ugc2VsZWN0ZWQuPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGVtcGxhdGUtcm93XCI+XG4gICAgICAgICAgICAgIDxGb3JtQ29udHJvbCBmdWxsV2lkdGggdmFyaWFudD1cIm91dGxpbmVkXCI+XG4gICAgICAgICAgICAgICAgPElucHV0TGFiZWwgaWQ9XCJoZXJvLXRlbXBsYXRlLWxhYmVsXCI+VGVtcGxhdGU8L0lucHV0TGFiZWw+XG4gICAgICAgICAgICAgICAgPFNlbGVjdCBsYWJlbElkPVwiaGVyby10ZW1wbGF0ZS1sYWJlbFwiIGlkPVwiaGVyby10ZW1wbGF0ZS1zZWxlY3RcIiBsYWJlbD1cIlRlbXBsYXRlXCIgdmFsdWU9e3NlbGVjdGVkSGVyb0lkfSBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkSGVyb0lkKGUudGFyZ2V0LnZhbHVlKX0+XG4gICAgICAgICAgICAgICAgICB7aGVyb1RlbXBsYXRlcy5tYXAoKHRwbCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0ga2V5PXt0cGwuaWR9IHZhbHVlPXt0cGwuaWR9Pnt0cGwubmFtZX08L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgIDwvRm9ybUNvbnRyb2w+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEhlcm9FZGl0TW9kZSgodikgPT4gIXYpfSB0aXRsZT17aGVyb0VkaXRNb2RlID8gJ0Nsb3NlIGVkaXRvcicgOiAnRWRpdCB0ZW1wbGF0ZSd9PlxuICAgICAgICAgICAgICAgIDxFZGl0SWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd05ld0hlcm8oKHYpID0+ICF2KX0gdGl0bGU9e3Nob3dOZXdIZXJvID8gJ0NhbmNlbCBuZXcgdGVtcGxhdGUnIDogJ0FkZCBuZXcgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICA8QWRkSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge2hlcm9FZGl0TW9kZSAmJiAoXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImhlcm8tZHJhZnQtaHRtbFwiIGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtkcmFmdEhlcm9IdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldERyYWZ0SGVyb0h0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs2fSBmdWxsV2lkdGggbXVsdGlsaW5lIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEhlcm9FZGl0TW9kZShmYWxzZSl9IHRpdGxlPVwiQ2FuY2VsIGVkaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzYXZlSGVyb0VkaXRzKCk7IHNldEhlcm9FZGl0TW9kZShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgIGlkPVwiaGVyby1ocmVmXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJIZXJvIExpbmsgVVJMXCJcbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtoZXJvSHJlZn1cbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gc2V0SGVyb0hyZWYoc2FuaXRpemVVcmwoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKSl9XG4gICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICBzeD17eyBtdDogMiB9fVxuICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgb25LZXlEb3duOiAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgKGUuY3VycmVudFRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgaWQ9XCJoZXJvLWFsdFwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiSGVybyBBbHQgVGV4dFwiXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17aGVyb0FsdH1cbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gc2V0SGVyb0FsdChlLmN1cnJlbnRUYXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgc3g9e3sgbXQ6IDIgfX1cbiAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xuICAgICAgICAgICAgICAgIG9uS2V5RG93bjogKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIChlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7c2hvd05ld0hlcm8gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1mb3JtXCI+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImhlcm8tbmV3LW5hbWVcIiBsYWJlbD1cIlRlbXBsYXRlIG5hbWVcIiB0eXBlPVwidGV4dFwiIHZhbHVlPXtuZXdIZXJvTmFtZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdIZXJvTmFtZShlLnRhcmdldC52YWx1ZSl9IGZ1bGxXaWR0aCBzeD17eyBtYjogMSB9fSAvPlxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XCJoZXJvLW5ldy1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e25ld0hlcm9IdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0hlcm9IdG1sKGUudGFyZ2V0LnZhbHVlKX0gcm93cz17Nn0gZnVsbFdpZHRoIG11bHRpbGluZSBzeD17eyBmb250RmFtaWx5OiAnbW9ub3NwYWNlJyB9fSAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LXRlbXBsYXRlLWFjdGlvbnNcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIG1hcmdpblRvcDogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNldFNob3dOZXdIZXJvKGZhbHNlKTsgc2V0TmV3SGVyb05hbWUoJycpOyBzZXROZXdIZXJvSHRtbCgnJyk7IH19IHRpdGxlPVwiQ2FuY2VsIG5ldyB0ZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uMiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IGFkZE5ld0hlcm9UZW1wbGF0ZSgpOyBzZXRTaG93TmV3SGVybyhmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIEhlcm8gYm90dG9tIHBhZGRpbmcgY29udHJvbHMgcmVtb3ZlZCAqL31cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgU29ydGFibGVCYW5uZXJTZWN0aW9uOiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGF0dHJpYnV0ZXMsIGxpc3RlbmVycywgc2V0Tm9kZVJlZiwgdHJhbnNmb3JtLCB0cmFuc2l0aW9uIH0gPSB1c2VTb3J0YWJsZSh7IGlkOiAnYmFubmVyJyB9KTtcbiAgICBjb25zdCB7IFsnYXJpYS1kZXNjcmliZWRieSddOiBfYXJpYURlc2NyaWJlZEJ5LCAuLi5zb3J0YWJsZUF0dHJpYnV0ZXMgfSA9IGF0dHJpYnV0ZXMgYXMgYW55O1xuICAgIGNvbnN0IHN0eWxlID0geyB0cmFuc2Zvcm06IENTUy5UcmFuc2Zvcm0udG9TdHJpbmcodHJhbnNmb3JtKSwgdHJhbnNpdGlvbiB9IGFzIFJlYWN0LkNTU1Byb3BlcnRpZXM7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLXNlY3Rpb24ke29wZW5TZWN0aW9uID09PSAnYmFubmVyJyA/ICcgb3BlbicgOiAnJ31gfSByZWY9e3NldE5vZGVSZWZ9IHN0eWxlPXtzdHlsZX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLWhlYWRlciR7b3BlblNlY3Rpb24gPT09ICdiYW5uZXInID8gJyBvcGVuJyA6ICcnfWB9IG9uQ2xpY2s9eygpID0+IGhhbmRsZUFjY29yZGlvblRvZ2dsZSgnYmFubmVyJyl9PlxuICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgIHsuLi5zb3J0YWJsZUF0dHJpYnV0ZXN9XG4gICAgICAgICAgICB7Li4ubGlzdGVuZXJzfVxuICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgICB0aXRsZT1cIlJlb3JkZXIgc2VjdGlvblwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPERyYWdJbmRpY2F0b3JJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgPHNwYW4+QmFubmVyPC9zcGFuPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luTGVmdDogJ2F1dG8nLCBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1nYXAtMiknIH19PlxuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICByZW1vdmVCYW5uZXJTZWN0aW9uKCk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHRpdGxlPVwiUmVtb3ZlIHNlY3Rpb25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RGVsZXRlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGhhbmRsZUFjY29yZGlvblRvZ2dsZSgnYmFubmVyJyk7XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIHRpdGxlPXtvcGVuU2VjdGlvbiA9PT0gJ2Jhbm5lcicgPyAnQ29sbGFwc2Ugc2VjdGlvbicgOiAnRXhwYW5kIHNlY3Rpb24nfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7b3BlblNlY3Rpb24gPT09ICdiYW5uZXInID8gPEV4cGFuZExlc3NJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz4gOiA8RXhwYW5kTW9yZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPn1cbiAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHtvcGVuU2VjdGlvbiA9PT0gJ2Jhbm5lcicgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWNjb3JkaW9uLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIHtiYW5uZXJJbWFnZSA/IChcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtiYW5uZXJJbWFnZX0gYWx0PXtiYW5uZXJBbHQgfHwgJyd9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJ2F1dG8nIH19IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPHA+Tm8gaGVybyBpbWFnZSBzZWxlY3RlZC48L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBsYXRlLXJvd1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgIDxGb3JtQ29udHJvbCBmdWxsV2lkdGggdmFyaWFudD1cIm91dGxpbmVkXCIgPlxuICAgICAgICAgICAgICAgIDxJbnB1dExhYmVsIGlkPVwiYmFubmVyLXRlbXBsYXRlLWxhYmVsXCI+VGVtcGxhdGU8L0lucHV0TGFiZWw+XG4gICAgICAgICAgICAgICAgPFNlbGVjdCBsYWJlbElkPVwiYmFubmVyLXRlbXBsYXRlLWxhYmVsXCIgaWQ9XCJiYW5uZXItdGVtcGxhdGUtc2VsZWN0XCIgbGFiZWw9XCJUZW1wbGF0ZVwiIHZhbHVlPXtzZWxlY3RlZEJhbm5lcklkfSBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkQmFubmVySWQoZS50YXJnZXQudmFsdWUpfT5cbiAgICAgICAgICAgICAgICAgIHtiYW5uZXJUZW1wbGF0ZXMubWFwKCh0cGwpID0+IChcbiAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGtleT17dHBsLmlkfSB2YWx1ZT17dHBsLmlkfT57dHBsLm5hbWV9PC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICA8L0Zvcm1Db250cm9sPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRCYW5uZXJFZGl0TW9kZSgodikgPT4gIXYpfSB0aXRsZT17YmFubmVyRWRpdE1vZGUgPyAnQ2xvc2UgZWRpdG9yJyA6ICdFZGl0IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgPEVkaXRJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TmV3QmFubmVyKCh2KSA9PiAhdil9IHRpdGxlPXtzaG93TmV3QmFubmVyID8gJ0NhbmNlbCBuZXcgdGVtcGxhdGUnIDogJ0FkZCBuZXcgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICA8QWRkSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge2Jhbm5lckVkaXRNb2RlICYmIChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiYmFubmVyLWRyYWZ0LWh0bWxcIiBsYWJlbD1cIlRlbXBsYXRlIEhUTUxcIiB2YWx1ZT17ZHJhZnRCYW5uZXJIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldERyYWZ0QmFubmVySHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezh9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScgfX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0QmFubmVyRWRpdE1vZGUoZmFsc2UpfSB0aXRsZT1cIkNhbmNlbCBlZGl0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2F2ZUJhbm5lckVkaXRzKCk7IHNldEJhbm5lckVkaXRNb2RlKGZhbHNlKTsgfX0gdGl0bGU9XCJTYXZlIGVkaXRzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHtzaG93TmV3QmFubmVyICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtZm9ybVwiPlxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XCJiYW5uZXItbmV3LW5hbWVcIiBsYWJlbD1cIlRlbXBsYXRlIG5hbWVcIiB0eXBlPVwidGV4dFwiIHZhbHVlPXtuZXdCYW5uZXJOYW1lfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0Jhbm5lck5hbWUoZS50YXJnZXQudmFsdWUpfSBmdWxsV2lkdGggc3g9e3sgbWI6IDEgfX0gLz5cbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiYmFubmVyLW5ldy1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e25ld0Jhbm5lckh0bWx9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3QmFubmVySHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezZ9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScgfX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTaG93TmV3QmFubmVyKGZhbHNlKTsgc2V0TmV3QmFubmVyTmFtZSgnJyk7IHNldE5ld0Jhbm5lckh0bWwoJycpOyB9fSB0aXRsZT1cIkNhbmNlbCBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBhZGROZXdCYW5uZXJUZW1wbGF0ZSgpOyBzZXRTaG93TmV3QmFubmVyKGZhbHNlKTsgfX0gdGl0bGU9XCJTYXZlIG5ldyB0ZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgIGlkPVwiYmFubmVyLWhyZWZcIlxuICAgICAgICAgICAgICBsYWJlbD1cIkJhbm5lciBMaW5rIFVSTFwiXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17YmFubmVySHJlZn1cbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gc2V0QmFubmVySHJlZihzYW5pdGl6ZVVybChlLmN1cnJlbnRUYXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgIHN4PXt7IG10OiAyIH19XG4gICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICBvbktleURvd246IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAoZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICBpZD1cImJhbm5lci1hbHRcIlxuICAgICAgICAgICAgICBsYWJlbD1cIkJhbm5lciBBbHQgVGV4dFwiXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17YmFubmVyQWx0fVxuICAgICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBzZXRCYW5uZXJBbHQoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgIHN4PXt7IG10OiAyIH19XG4gICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICBvbktleURvd246IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAoZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgey8qIEJhbm5lciBib3R0b20gcGFkZGluZyBjb250cm9scyByZW1vdmVkICovfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQm9keSB0ZW1wbGF0ZXMgYW5kIHNlbGVjdGlvbiBzdGF0ZS4gQm9keSB0ZW1wbGF0ZXMgZGVmaW5lXG4gICAqIG1vZHVsZXMgZm9yIGVhY2ggcHJvZHVjdC4gVGhleSBzdXBwb3J0IGFsdGVybmF0aW5nIGxheW91dCB2aWFcbiAgICogYWx0ZXJuYXRlTWFwLiBVc2VycyBjYW4gc2VsZWN0IGEgdGVtcGxhdGUsIGVkaXQgaXQsIGFuZCBhZGRcbiAgICogbmV3IG9uZXMgd2hpY2ggYXJlIHBlcnNpc3RlZCBpbiBsb2NhbFN0b3JhZ2UuXG4gICAqL1xuICBjb25zdCBbYm9keVRlbXBsYXRlcywgc2V0Qm9keVRlbXBsYXRlc10gPSB1c2VTdGF0ZTxCb2R5VGVtcGxhdGVbXT4oZGVmYXVsdEJvZHlUZW1wbGF0ZXMpO1xuICBjb25zdCBbc2VsZWN0ZWRCb2R5SWQsIHNldFNlbGVjdGVkQm9keUlkXSA9IHVzZVN0YXRlPHN0cmluZz4oZGVmYXVsdEJvZHlUZW1wbGF0ZXNbMF0uaWQpO1xuICBjb25zdCBbYm9keUVkaXRNb2RlLCBzZXRCb2R5RWRpdE1vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZHJhZnRCb2R5SHRtbCwgc2V0RHJhZnRCb2R5SHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdCb2R5TmFtZSwgc2V0TmV3Qm9keU5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3Qm9keUh0bWwsIHNldE5ld0JvZHlIdG1sXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvKipcbiAgICogSGVhZGVyIHRlbXBsYXRlcyBhbmQgc2VsZWN0aW9uIHN0YXRlLiBIZWFkZXJzIHJlbmRlciBhdCB0aGUgdG9wXG4gICAqIG9mIHRoZSBmaW5hbCBlbWFpbC4gVGhleSBhcmUgc3RhdGljIGJ5IGRlZmF1bHQgYnV0IGNhbiBiZVxuICAgKiBjdXN0b21pc2VkIHRocm91Z2ggZWRpdGluZyBhbmQgYWRkaXRpb25hbCB0ZW1wbGF0ZXMuXG4gICAqL1xuICBjb25zdCBbaGVhZGVyVGVtcGxhdGVzLCBzZXRIZWFkZXJUZW1wbGF0ZXNdID0gdXNlU3RhdGU8SGVhZGVyVGVtcGxhdGVbXT4oZGVmYXVsdEhlYWRlclRlbXBsYXRlcyk7XG4gIGNvbnN0IFtzZWxlY3RlZEhlYWRlcklkLCBzZXRTZWxlY3RlZEhlYWRlcklkXSA9IHVzZVN0YXRlPHN0cmluZz4oZGVmYXVsdEhlYWRlclRlbXBsYXRlc1swXS5pZCk7XG4gIGNvbnN0IFtoZWFkZXJFZGl0TW9kZSwgc2V0SGVhZGVyRWRpdE1vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZHJhZnRIZWFkZXJIdG1sLCBzZXREcmFmdEhlYWRlckh0bWxdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3SGVhZGVyTmFtZSwgc2V0TmV3SGVhZGVyTmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdIZWFkZXJIdG1sLCBzZXROZXdIZWFkZXJIdG1sXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvKipcbiAgICogRm9vdGVyIHRlbXBsYXRlcyBhbmQgc2VsZWN0aW9uIHN0YXRlLiBGb290ZXJzIHJlbmRlciBhdCB0aGVcbiAgICogYm90dG9tIG9mIHRoZSBmaW5hbCBlbWFpbC4gTGlrZSBoZWFkZXJzIHRoZXkgY2FuIGJlIGVkaXRlZCBhbmRcbiAgICogZXh0ZW5kZWQgYnkgdGhlIHVzZXIuXG4gICAqL1xuICBjb25zdCBbZm9vdGVyVGVtcGxhdGVzLCBzZXRGb290ZXJUZW1wbGF0ZXNdID0gdXNlU3RhdGU8Rm9vdGVyVGVtcGxhdGVbXT4oZGVmYXVsdEZvb3RlclRlbXBsYXRlcyk7XG4gIGNvbnN0IFtzZWxlY3RlZEZvb3RlcklkLCBzZXRTZWxlY3RlZEZvb3RlcklkXSA9IHVzZVN0YXRlPHN0cmluZz4oZGVmYXVsdEZvb3RlclRlbXBsYXRlc1swXS5pZCk7XG4gIGNvbnN0IFtmb290ZXJFZGl0TW9kZSwgc2V0Rm9vdGVyRWRpdE1vZGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbZHJhZnRGb290ZXJIdG1sLCBzZXREcmFmdEZvb3Rlckh0bWxdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3Rm9vdGVyTmFtZSwgc2V0TmV3Rm9vdGVyTmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtuZXdGb290ZXJIdG1sLCBzZXROZXdGb290ZXJIdG1sXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvKipcbiAgICogVmlzaWJpbGl0eSBmbGFncyBmb3IgbmV3IHRlbXBsYXRlIGZvcm1zLiBXaGVuIHRydWUsIHRoZSBmb3JtXG4gICAqIGZpZWxkcyBmb3IgYWRkaW5nIGEgY3VzdG9tIHRlbXBsYXRlIGFyZSBkaXNwbGF5ZWQgaW4gdGhlXG4gICAqIGFjY29yZGlvbiBjb250ZW50LiBXaGVuIGZhbHNlLCB0aGUgZm9ybSBpcyBoaWRkZW4gYW5kIG9ubHkgdGhlXG4gICAqIGFkZCBpY29uIGlzIHZpc2libGUuIFNlcGFyYXRlIGZsYWdzIGFyZSB1c2VkIGZvciBoZWFkZXIsIGJvZHlcbiAgICogYW5kIGZvb3RlciBzZWN0aW9ucy5cbiAgICovXG4gIGNvbnN0IFtzaG93TmV3SGVhZGVyLCBzZXRTaG93TmV3SGVhZGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3Nob3dOZXdCb2R5LCBzZXRTaG93TmV3Qm9keV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93TmV3Rm9vdGVyLCBzZXRTaG93TmV3Rm9vdGVyXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvKipcbiAgICogRmluYWwgZ2VuZXJhdGVkIEhUTUwgcGllY2VzLiBoZWFkZXJIdG1sL2JvZHlIdG1sL2Zvb3Rlckh0bWxcbiAgICogY29udGFpbiB0aGUgbWFya3VwIGZvciBlYWNoIHNlY3Rpb24uIGZpbmFsSHRtbCBjb25jYXRlbmF0ZXNcbiAgICogdGhlbSBmb3IgY29udmVuaWVuY2UgYnV0IGlzIG5vdCBkaXNwbGF5ZWQgZGlyZWN0bHkuIFRoZSBjb2RlXG4gICAqIHZpZXcgdXNlcyB0aGUgaW5kaXZpZHVhbCBwaWVjZXMgc28gdGhhdCB1c2VycyBjYW4gY29weSBlYWNoXG4gICAqIHNlY3Rpb24gc2VwYXJhdGVseS5cbiAgICovXG5jb25zdCBbaGVhZGVySHRtbCwgc2V0SGVhZGVySHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5jb25zdCBbYm9keUh0bWwsIHNldEJvZHlIdG1sXSA9IHVzZVN0YXRlKCcnKTtcbmNvbnN0IFtmb290ZXJIdG1sLCBzZXRGb290ZXJIdG1sXSA9IHVzZVN0YXRlKCcnKTtcbmNvbnN0IFtmaW5hbEh0bWwsIHNldEZpbmFsSHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG4gIC8vIEJvdHRvbSBwYWRkaW5nIGNvbnRyb2xzIHJlbW92ZWRcbiAgY29uc3QgW3Nob3dBZGRTZWN0aW9uTWVudSwgc2V0U2hvd0FkZFNlY3Rpb25NZW51XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgYWRkU2VjdGlvblJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHByZXZpZXdSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChhZGRTZWN0aW9uUmVmLmN1cnJlbnQgJiYgIWFkZFNlY3Rpb25SZWYuY3VycmVudC5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICBzZXRTaG93QWRkU2VjdGlvbk1lbnUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHNob3dBZGRTZWN0aW9uTWVudSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfTtcbiAgfSwgW3Nob3dBZGRTZWN0aW9uTWVudV0pO1xuXG4gIC8qKiBCcmFuZCBjdXN0b21pc2F0aW9uIHBhbmVsIHZpc2liaWxpdHkuIFdoZW4gdHJ1ZSBhIHNsaWRpbmdcbiAgICogcGFuZWwgYXBwZWFycyBhbGxvd2luZyB0aGUgdXNlciB0byBjdXN0b21pc2UgdGhlIGRlZmF1bHQgZm9udCxcbiAgICogcHJpbWFyeS9zZWNvbmRhcnkgY29sb3Vycywgd2Vic2l0ZSBVUkwgYW5kIHVwbG9hZCBhIGxvZ28uIFNldHRpbmdzXG4gICAqIGFyZSBub3QgcGVyc2lzdGVkIG9yIGFwcGxpZWQgaW4gdGhpcyB2ZXJzaW9uLCBidXQgdGhlIFVJIGlzIHByZXBhcmVkXG4gICAqIGZvciBmdXR1cmUgZXh0ZW5zaW9uLlxuICAgKi9cbiAgY29uc3QgW3Nob3dCcmFuZFBhbmVsLCBzZXRTaG93QnJhbmRQYW5lbF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFticmFuZE5hbWUsIHNldEJyYW5kTmFtZV0gPSB1c2VTdGF0ZSgnJyk7XG4gIC8vIFRvcCBsb2FkaW5nIGJhciAoYnVmZmVyIHZhcmlhbnQpXG4gIGNvbnN0IFtwcm9ncmVzcywgc2V0UHJvZ3Jlc3NdID0gdXNlU3RhdGU8bnVtYmVyPigtMSk7XG4gIGNvbnN0IFtidWZmZXIsIHNldEJ1ZmZlcl0gPSB1c2VTdGF0ZTxudW1iZXI+KC0xKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbYnJhbmRGb250LCBzZXRCcmFuZEZvbnRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbYnJhbmRQcmltYXJ5LCBzZXRCcmFuZFByaW1hcnldID0gdXNlU3RhdGUoJyNkMTlhYTAnKTtcbiAgY29uc3QgW2JyYW5kU2Vjb25kYXJ5LCBzZXRCcmFuZFNlY29uZGFyeV0gPSB1c2VTdGF0ZSgnI0YwQzNDNycpO1xuICBjb25zdCBbYnJhbmRXZWJzaXRlLCBzZXRCcmFuZFdlYnNpdGVdID0gdXNlU3RhdGUoJycpO1xuXG4gIC8vIFNob3cgYSBkaWFsb2cgdG8gcHJvbXB0IGZvciBhIHByb2R1Y3QgVVJMIG9uIGZpcnN0IGxvYWRcbiAgY29uc3QgW3Nob3dCcmFuZFVybERpYWxvZywgc2V0U2hvd0JyYW5kVXJsRGlhbG9nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbYnJhbmRVcmxJbnB1dCwgc2V0QnJhbmRVcmxJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIC8vIFdoZW4gdGhlIHVzZXIgc3VibWl0cyBhIHByb2R1Y3QgVVJMLCBpbml0aWFsaXplIHRoZSBmaXJzdCBib2R5IHNlY3Rpb24gd2l0aCB0aGF0IFVSTFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChicmFuZFdlYnNpdGUgJiYgYm9keVNlY3Rpb25zLmxlbmd0aCA9PT0gMCAmJiBicmFuZFVybElucHV0KSB7XG4gICAgICBzZXRCb2R5U2VjdGlvbnMoW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6IDEsXG4gICAgICAgICAgbmFtZTogJ0JvZHkgMScsXG4gICAgICAgICAgdXJsczogW2JyYW5kVXJsSW5wdXRdLFxuICAgICAgICAgIHByb2R1Y3RzOiBbXSxcbiAgICAgICAgICBzZWxlY3RlZEJvZHlJZDogZGVmYXVsdEJvZHlUZW1wbGF0ZXNbMF0uaWQsXG4gICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgZGVzY3JpcHRpb25Tb3VyY2U6ICdtZXRhZGF0YSdcbiAgICAgICAgfVxuICAgICAgXSk7XG4gICAgfVxuICB9LCBbYnJhbmRXZWJzaXRlLCBicmFuZFVybElucHV0XSk7XG5cbiAgLy8gSGVscGVyIHRvIGV4dHJhY3QgYmFzZSBkb21haW4gZnJvbSBhIHByb2R1Y3QgVVJMXG4gIGZ1bmN0aW9uIGV4dHJhY3RCYXNlRG9tYWluKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdSA9IG5ldyBVUkwodXJsKTtcbiAgICAgIHJldHVybiB1Lm9yaWdpbjtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cblxuICAvLyBIZWxwZXIgdG8gZXh0cmFjdCBhIHJlYWRhYmxlIGJyYW5kIG5hbWUgZnJvbSBhIGRvbWFpblxuICBmdW5jdGlvbiBleHRyYWN0QnJhbmROYW1lKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgdSA9IG5ldyBVUkwodXJsKTtcbiAgICAgIGNvbnN0IGhvc3QgPSB1Lmhvc3RuYW1lLnJlcGxhY2UoL153d3dcXC4vLCAnJyk7XG4gICAgICBjb25zdCBwYXJ0cyA9IGhvc3Quc3BsaXQoJy4nKTtcbiAgICAgIHJldHVybiBwYXJ0cy5sZW5ndGggPiAxID8gcGFydHNbMF0ucmVwbGFjZSgvLS9nLCAnICcpIDogaG9zdDtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gIH1cbiAgY29uc3QgW2JyYW5kTG9nbywgc2V0QnJhbmRMb2dvXSA9IHVzZVN0YXRlPEZpbGUgfCBudWxsPihudWxsKTtcblxuICAvKiogTm90aWZpY2F0aW9ucyBmb3IgdXNlciBmZWVkYmFjay4gRWFjaCBub3RpZmljYXRpb24gaGFzIGEgdW5pcXVlIGlkXG4gICAqIGFuZCBhIG1lc3NhZ2UuIE5vdGlmaWNhdGlvbnMgYXJlIGRpc3BsYXllZCBpbiBhIHN0YWNrIGluIHRoZVxuICAgKiB0b3DigJFyaWdodCBjb3JuZXIgYW5kIGZhZGUgb3V0IGFmdGVyIGEgc2hvcnQgZGVsYXkuICovXG4gIGNvbnN0IFtzbmFja2Jhck9wZW4sIHNldFNuYWNrYmFyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzbmFja2Jhck1zZywgc2V0U25hY2tiYXJNc2ddID0gdXNlU3RhdGU8UmVhY3ROb2RlPignJyk7XG5cbiAgLyoqXG4gICAqIFRyYWNrIHdoaWNoIGNvZGUgYmxvY2tzIGFyZSBleHBhbmRlZCBpbiB0aGUgcmlnaHTigJFwYW5lbCBhY2NvcmRpb24uIEtleXNcbiAgICogY29ycmVzcG9uZCB0byB0aGUgYmxvY2tzOiAnaGVhZGVyJywgJ2hlcm8nLCAnZm9vdGVyJyBhbmQgZWFjaFxuICAgKiBib2R5L3Byb2R1Y3QgYmxvY2sgbGlrZSAnYm9keS08c2VjdGlvbj4tcHJvZC08aW5kZXg+Jy4gQSB2YWx1ZVxuICAgKiBvZiB0cnVlIG1lYW5zIHRoZSBibG9jayBpcyBvcGVuOyBmYWxzZSBjb2xsYXBzZXMgaXQuIERlZmF1bHRzXG4gICAqIGVtcHR5LCB3aGljaCBpcyB0cmVhdGVkIGFzIG9wZW4gd2hlbiBmaXJzdCByZW5kZXJlZC5cbiAgICovXG4gIGNvbnN0IFtvcGVuQ29kZVNlY3Rpb25zLCBzZXRPcGVuQ29kZVNlY3Rpb25zXSA9IHVzZVN0YXRlPHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9Pih7fSk7XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBhIGNvZGUgYmxvY2sgb3BlbiBvciBjbG9zZWQuIFdoZW4gYSBrZXkgaXMgbm90IHByZXNlbnRcbiAgICogaW4gdGhlIHN0YXRlIGl0IGlzIHRyZWF0ZWQgYXMgb3BlbiBieSBkZWZhdWx0LiBDYWxsaW5nIHRoaXNcbiAgICogdG9nZ2xlcyB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICovXG5jb25zdCB0b2dnbGVDb2RlU2VjdGlvbiA9IChrZXk6IHN0cmluZykgPT4ge1xuICBzZXRPcGVuQ29kZVNlY3Rpb25zKChwcmV2KSA9PiB7XG4gICAgY29uc3QgaXNPcGVuID0gcHJldltrZXldICE9PSBmYWxzZTsgLy8gZGVmYXVsdCBvcGVuIGlmIG5vdCBmYWxzZVxuICAgIHJldHVybiB7IC4uLnByZXYsIFtrZXldOiAhaXNPcGVuIH07XG4gIH0pO1xufTtcblxuICAvKipcbiAgICogQWRkIGEgbm90aWZpY2F0aW9uIG1lc3NhZ2UuIFRoZSBub3RpZmljYXRpb24gd2lsbCBwZXJzaXN0IGZvciBhXG4gICAqIGZldyBzZWNvbmRzIHRoZW4gYXV0b21hdGljYWxseSBkaXNhcHBlYXIuIFVzZSB0aGlzIGhlbHBlciBhZnRlclxuICAgKiBhY3Rpb25zIGxpa2UgY29weWluZyBjb2RlIG9yIGdlbmVyYXRpbmcgc2VjdGlvbnMgdG8gcHJvdmlkZVxuICAgKiBmZWVkYmFjayB0byB0aGUgdXNlci5cbiAgICovXG4gIGNvbnN0IGFkZE5vdGlmaWNhdGlvbiA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBSZWFjdE5vZGUpID0+IHtcbiAgICBzZXRTbmFja2Jhck1zZyhtZXNzYWdlKTtcbiAgICBzZXRTbmFja2Jhck9wZW4odHJ1ZSk7XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogQ29tcHV0ZSBhIGRhdGEgVVJJIGZvciB0aGUgdXBsb2FkZWQgYnJhbmQgbG9nby4gV2hlbiBhIGZpbGUgaXNcbiAgICogc2VsZWN0ZWQgdGhlIEZpbGVSZWFkZXIgQVBJIGlzIHVzZWQgdG8gY29udmVydCBpdCBpbnRvIGEgYmFzZTY0XG4gICAqIHN0cmluZy4gSWYgbm8gZmlsZSBpcyBzZWxlY3RlZCB0aGUgZGF0YSBVUkkgaXMgcmVzZXQgdG8gZW1wdHkuXG4gICAqL1xuXG4gIC8vIE9uIGZpcnN0IGxvYWQsIGlmIG5vIGJyYW5kV2Vic2l0ZSwgc2hvdyBkaWFsb2dcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWJyYW5kV2Vic2l0ZSkge1xuICAgICAgc2V0U2hvd0JyYW5kVXJsRGlhbG9nKHRydWUpO1xuICAgIH1cbiAgfSwgW2JyYW5kV2Vic2l0ZV0pO1xuXG4gIC8vIFdoZW4gdXNlciBzdWJtaXRzIGEgVVJMLCBzZXQgYnJhbmRXZWJzaXRlIGFuZCBicmFuZE5hbWVcbiAgY29uc3QgaGFuZGxlQnJhbmRVcmxTdWJtaXQgPSAoZT86IFJlYWN0LkZvcm1FdmVudCkgPT4ge1xuICAgIGlmIChlKSBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgYmFzZSA9IGV4dHJhY3RCYXNlRG9tYWluKGJyYW5kVXJsSW5wdXQpO1xuICAgIGlmIChiYXNlKSB7XG4gICAgICBzZXRCcmFuZFdlYnNpdGUoYmFzZSk7XG4gICAgICBzZXRCcmFuZE5hbWUoZXh0cmFjdEJyYW5kTmFtZShicmFuZFVybElucHV0KSk7XG4gICAgICBzZXRTaG93QnJhbmRVcmxEaWFsb2coZmFsc2UpO1xuICAgIH1cbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChicmFuZExvZ28pIHtcbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHtcbiAgICAgICAgc2V0QnJhbmRMb2dvRGF0YVVybChlLnRhcmdldD8ucmVzdWx0IGFzIHN0cmluZyk7XG4gICAgICB9O1xuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoYnJhbmRMb2dvKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0QnJhbmRMb2dvRGF0YVVybCgnJyk7XG4gICAgfVxuICB9LCBbYnJhbmRMb2dvXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlbCA9IHByZXZpZXdSZWYuY3VycmVudDtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgY29uc3QgaGFuZGxlQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBjb25zdCBhbmNob3IgPSB0YXJnZXQuY2xvc2VzdCgnYScpO1xuICAgICAgaWYgKGFuY2hvcikge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IGhyZWYgPSBhbmNob3IuZ2V0QXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgIGlmIChocmVmKSB7XG4gICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIEV4dGVybmFsIGxpbms6IDxhIGhyZWY9e2hyZWZ9IHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj57aHJlZn08L2E+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCBzZWN0aW9uRWwgPSBhbmNob3IuY2xvc2VzdCgnW2RhdGEtc2VjdGlvbl0nKTtcbiAgICAgICAgICBjb25zdCBzZWN0aW9uSWQgPSBzZWN0aW9uRWw/LmdldEF0dHJpYnV0ZSgnZGF0YS1zZWN0aW9uJyk7XG4gICAgICAgICAgaWYgKHNlY3Rpb25JZCkge1xuICAgICAgICAgICAgc2V0T3BlblNlY3Rpb24oc2VjdGlvbklkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2spO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrKTtcbiAgICB9O1xuICB9LCBbdmlld01vZGUsIGFkZE5vdGlmaWNhdGlvbiwgc2V0T3BlblNlY3Rpb25dKTtcblxuICAvKipcbiAgICogQXBwbHkgdGhlIGJyYW5kIHByaW1hcnkgYW5kIHNlY29uZGFyeSBjb2xvdXJzIGFuZCBmb250IHRvIGEgYmxvY2tcbiAgICogb2YgSFRNTC4gT2NjdXJyZW5jZXMgb2YgdGhlIGRlZmF1bHQgYWNjZW50IGNvbG91cnMgKCNkMTlhYTAgYW5kXG4gICAqICNGMEMzQzcpIGFyZSByZXBsYWNlZCB3aXRoIHRoZSBjaG9zZW4gcHJpbWFyeSBhbmQgc2Vjb25kYXJ5XG4gICAqIGNvbG91cnMuIFRoZSBkZWZhdWx0IGZvbnQgc3RhY2sgJ01vbnRzZXJyYXQnLCBBcmlhbCwgSGVsdmV0aWNhLFxuICAgKiBzYW5zLXNlcmlmIGlzIHJlcGxhY2VkIHdpdGggdGhlIHNlbGVjdGVkIGZvbnQgaWYgcHJvdmlkZWQuXG4gICAqL1xuICBjb25zdCBhcHBseUJyYW5kQ29sb3Vyc0FuZEZvbnQgPSAoaHRtbDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBsZXQgb3V0ID0gaHRtbDtcbiAgICBpZiAoYnJhbmRQcmltYXJ5KSB7XG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJyNkMTlhYTAnLCAnZ2knKTtcbiAgICAgIG91dCA9IG91dC5yZXBsYWNlKHJlZ2V4LCBicmFuZFByaW1hcnkpO1xuICAgIH1cbiAgICBpZiAoYnJhbmRTZWNvbmRhcnkpIHtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgnI0YwQzNDNycsICdnaScpO1xuICAgICAgb3V0ID0gb3V0LnJlcGxhY2UocmVnZXgsIGJyYW5kU2Vjb25kYXJ5KTtcbiAgICB9XG4gICAgaWYgKGJyYW5kRm9udCAmJiBicmFuZEZvbnQudHJpbSgpKSB7XG4gICAgICAvLyBSZXBsYWNlIHRoZSBkZWZhdWx0IGZvbnQgc3RhY2suIFdlIGRvIGEgc2ltcGxlIHJlcGxhY2Ugb24gdGhlXG4gICAgICAvLyBleGFjdCBzdHJpbmcgdXNlZCBpbiB0aGUgdGVtcGxhdGVzLiBJZiBtb3JlIHZhcmlhbnRzIGFyZVxuICAgICAgLy8gbmVlZGVkIHRoaXMgY291bGQgYmUgZXhwYW5kZWQuXG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoXCInTW9udHNlcnJhdCcsQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWZcIiwgJ2dpJyk7XG4gICAgICBvdXQgPSBvdXQucmVwbGFjZShyZWdleCwgYnJhbmRGb250KTtcbiAgICB9XG4gICAgcmV0dXJuIG91dDtcbiAgfTtcblxuICAvKipcbiAgICogSW5qZWN0IHRoZSBicmFuZCBsb2dvIGludG8gdGhlIGhlYWRlci4gVGhlIGZpcnN0IDxpbWc+IHRhZyBmb3VuZFxuICAgKiBpbiB0aGUgaGVhZGVyIEhUTUwgaXMgcmVwbGFjZWQgd2l0aCBvbmUgdGhhdCB1c2VzIHRoZVxuICAgKiBicmFuZExvZ29EYXRhVXJsIGlmIGl0IGlzIGRlZmluZWQuIElmIG5vIGxvZ28gaGFzIGJlZW5cbiAgICogdXBsb2FkZWQgdGhlIEhUTUwgaXMgcmV0dXJuZWQgdW5jaGFuZ2VkLlxuICAgKi9cbiAgY29uc3QgYXBwbHlCcmFuZExvZ28gPSAoaHRtbDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBpZiAoIWJyYW5kTG9nb0RhdGFVcmwpIHJldHVybiBodG1sO1xuICAgIHJldHVybiBodG1sLnJlcGxhY2UoLzxpbWcoW14+XSspc3JjPVwiW15cIj5dKlwiLywgYDxpbWckMXNyYz1cIiR7YnJhbmRMb2dvRGF0YVVybH1cImApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIZXJvIHNlY3Rpb24gc3RhdGUuIEEgaGVybyBjb25zaXN0cyBvZiBhIHNpbmdsZSBiYW5uZXIgaW1hZ2UgYW5kXG4gICAqIG9wdGlvbmFsIGxpbmsvYWx0IHRleHQuIFRoZSBoZXJvIHRlbXBsYXRlIGNhbiBiZSBzZWxlY3RlZCBmcm9tXG4gICAqIGRlZmF1bHRIZXJvVGVtcGxhdGVzIG9yIHVzZXLigJFkZWZpbmVkIHRlbXBsYXRlcy4gV2hlbiBoZXJvSW1hZ2UgaXNcbiAgICogZW1wdHkgbm8gaGVybyBzZWN0aW9uIHdpbGwgYmUgcmVuZGVyZWQuIGhlcm9IdG1sIGhvbGRzIHRoZVxuICAgKiBjb21waWxlZCBtYXJrdXAgYW5kIGlzIHVwZGF0ZWQgd2hlbmV2ZXIgaGVyb0ltYWdlIG9yIHRlbXBsYXRlc1xuICAgKiBjaGFuZ2UuXG4gICAqL1xuICBjb25zdCBbaGVyb1RlbXBsYXRlcywgc2V0SGVyb1RlbXBsYXRlc10gPSB1c2VTdGF0ZTxIZXJvVGVtcGxhdGVbXT4oZGVmYXVsdEhlcm9UZW1wbGF0ZXMpO1xuICBjb25zdCBbc2VsZWN0ZWRIZXJvSWQsIHNldFNlbGVjdGVkSGVyb0lkXSA9IHVzZVN0YXRlPHN0cmluZz4oZGVmYXVsdEhlcm9UZW1wbGF0ZXNbMF0uaWQpO1xuICBjb25zdCBbaGVyb0ltYWdlLCBzZXRIZXJvSW1hZ2VdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIC8vIFByZS1maWxsIGhlcm8gYWx0IHdpdGggYnJhbmQgbmFtZSAob3IgYSBzZW5zaWJsZSBkZWZhdWx0KVxuICBjb25zdCBbaGVyb0FsdCwgc2V0SGVyb0FsdF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGJyYW5kTmFtZSB8fCAnQnJhbmQnKTtcbiAgY29uc3QgW2hlcm9IcmVmLCBzZXRIZXJvSHJlZl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2hlcm9IdG1sLCBzZXRIZXJvSHRtbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2hlcm9FZGl0TW9kZSwgc2V0SGVyb0VkaXRNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0SGVyb0h0bWwsIHNldERyYWZ0SGVyb0h0bWxdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtuZXdIZXJvTmFtZSwgc2V0TmV3SGVyb05hbWVdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtuZXdIZXJvSHRtbCwgc2V0TmV3SGVyb0h0bWxdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtzaG93TmV3SGVybywgc2V0U2hvd05ld0hlcm9dID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8qKlxuICAgKiBMaXN0IG9mIGFsdGVybmF0ZSBoZXJvIGltYWdlcyBleHRyYWN0ZWQgZnJvbSB0aGUgc2l0ZS4gV2hlbiB0aGVcbiAgICogaGVybyBpbWFnZSBpcyBmZXRjaGVkIHZpYSB0aGUgQVBJIHRoZSBlbmRwb2ludCByZXR1cm5zIGFuIGFycmF5XG4gICAqIG9mIGltYWdlIFVSTHMuIFRoZSBmaXJzdCBpbWFnZSBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IGhlcm9JbWFnZVxuICAgKiBhbmQgdGhlIHJlc3QgYXJlIGF2YWlsYWJsZSBmb3Igc2VsZWN0aW9uIGluIHRoZSBpbnRlcmFjdGl2ZVxuICAgKiBwcmV2aWV3LiBXaGVuIHRoZSBsaXN0IGlzIGVtcHR5IG5vIGFsdGVybmF0aXZlIGltYWdlcyBhcmVcbiAgICogYXZhaWxhYmxlLiBoZXJvSW1hZ2VzIGlzIG5vdCBwZXJzaXN0ZWQgYWNyb3NzIHNlc3Npb25zLlxuICAqL1xuICBjb25zdCBbaGVyb0ltYWdlcywgc2V0SGVyb0ltYWdlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuXG4gIC8qKlxuICAgKiBCYW5uZXIgc2VjdGlvbiBzdGF0ZS4gVGhlIGJhbm5lciBpcyBhIHNpbmdsZSBpbWFnZSBtb2R1bGUgdGhhdCBhcHBlYXJzXG4gICAqIGFib3ZlIHRoZSBmb290ZXIuIEl0IHJldXNlcyB0aGUgdGVtcGxhdGluZy9lZGl0aW5nIGJlaGF2aW91ciBvZiB0aGVcbiAgICogaGVhZGVyIHNlY3Rpb24gYnV0IHJlbmRlcnMgd2l0aCBpdHMgb3duIHRlbXBsYXRlIGFuZCBpbWFnZS4gVGhlIGltYWdlXG4gICAqIGlzIGZldGNoZWQgZnJvbSB0aGUgY29uZmlndXJlZCBicmFuZCB3ZWJzaXRlIGJ5IGxvb2tpbmcgZm9yIGFuIGVsZW1lbnRcbiAgICogd2l0aCB0aGUgY2xhc3MgYG1vYmlsZS1iYW5uZXJgLlxuICAgKi9cbiAgY29uc3QgW2Jhbm5lclRlbXBsYXRlcywgc2V0QmFubmVyVGVtcGxhdGVzXSA9IHVzZVN0YXRlPEJhbm5lclRlbXBsYXRlW10+KGRlZmF1bHRCYW5uZXJUZW1wbGF0ZXMpO1xuICBjb25zdCBbc2VsZWN0ZWRCYW5uZXJJZCwgc2V0U2VsZWN0ZWRCYW5uZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGRlZmF1bHRCYW5uZXJUZW1wbGF0ZXNbMF0uaWQpO1xuICBjb25zdCBbYmFubmVySW1hZ2UsIHNldEJhbm5lckltYWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICAvLyBQcmUtZmlsbCBiYW5uZXIgYWx0IHdpdGggYnJhbmQgbmFtZSAob3IgYSBzZW5zaWJsZSBkZWZhdWx0KVxuICBjb25zdCBbYmFubmVyQWx0LCBzZXRCYW5uZXJBbHRdID0gdXNlU3RhdGU8c3RyaW5nPihicmFuZE5hbWUgfHwgJ0JyYW5kJyk7XG4gIGNvbnN0IFtiYW5uZXJIcmVmLCBzZXRCYW5uZXJIcmVmXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbYmFubmVySHRtbCwgc2V0QmFubmVySHRtbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2Jhbm5lckVkaXRNb2RlLCBzZXRCYW5uZXJFZGl0TW9kZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtkcmFmdEJhbm5lckh0bWwsIHNldERyYWZ0QmFubmVySHRtbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW25ld0Jhbm5lck5hbWUsIHNldE5ld0Jhbm5lck5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtuZXdCYW5uZXJIdG1sLCBzZXROZXdCYW5uZXJIdG1sXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbc2hvd05ld0Jhbm5lciwgc2V0U2hvd05ld0Jhbm5lcl0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgY29uc3QgZmV0Y2hIZXJvRm9yQnJhbmQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFicmFuZFdlYnNpdGUpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaGVyb1JlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2hlcm8/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGJyYW5kV2Vic2l0ZSl9YCk7XG4gICAgICBpZiAoaGVyb1Jlcy5vaykge1xuICAgICAgICBjb25zdCBoZXJvRGF0YSA9IGF3YWl0IGhlcm9SZXMuanNvbigpO1xuICAgICAgICBpZiAoaGVyb0RhdGEuaW1hZ2VzICYmIEFycmF5LmlzQXJyYXkoaGVyb0RhdGEuaW1hZ2VzKSAmJiBoZXJvRGF0YS5pbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNldEhlcm9JbWFnZXMoaGVyb0RhdGEuaW1hZ2VzKTtcbiAgICAgICAgICBzZXRIZXJvSW1hZ2UoaGVyb0RhdGEuaW1hZ2VzWzBdKTtcbiAgICAgICAgICBzZXRIZXJvSHJlZihicmFuZFdlYnNpdGUpO1xuICAgICAgICAgIC8vIFByZWZpbGwgYWx0IHdpdGggYnJhbmQgbmFtZSBzbyBpbnB1dCBpcyBub3QgZW1wdHkvcGxhY2Vob2xkZXJcbiAgICAgICAgICBzZXRIZXJvQWx0KGJyYW5kTmFtZSB8fCAnQnJhbmQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZmV0Y2ggaGVybyBpbWFnZXMnLCBlcnIpO1xuICAgIH1cbiAgfSwgW2JyYW5kV2Vic2l0ZSwgYnJhbmROYW1lXSk7XG5cbiAgY29uc3QgZmV0Y2hCYW5uZXJGb3JCcmFuZCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIWJyYW5kV2Vic2l0ZSkgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9iYW5uZXI/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGJyYW5kV2Vic2l0ZSl9YCk7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICBpZiAoZGF0YS5pbWFnZSkge1xuICAgICAgICAgIHNldEJhbm5lckltYWdlKGRhdGEuaW1hZ2UpO1xuICAgICAgICAgIHNldEJhbm5lckhyZWYoYnJhbmRXZWJzaXRlKTtcbiAgICAgICAgICAvLyBQcmVmaWxsIGFsdCB3aXRoIGJyYW5kIG5hbWUgc28gaW5wdXQgaXMgbm90IGVtcHR5L3BsYWNlaG9sZGVyXG4gICAgICAgICAgc2V0QmFubmVyQWx0KGJyYW5kTmFtZSB8fCAnQnJhbmQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gZmV0Y2ggYmFubmVyIGltYWdlJywgZXJyKTtcbiAgICB9XG4gIH0sIFticmFuZFdlYnNpdGUsIGJyYW5kTmFtZV0pO1xuXG4gIC8qKlxuICAgKiBGZXRjaCBoZXJvIGltYWdlcyBmb3IgdGhlIGNvbmZpZ3VyZWQgYnJhbmQgd2Vic2l0ZS4gVGhpcyBydW5zIG9uXG4gICAqIGluaXRpYWwgbG9hZCwgd2hlbmV2ZXIgdGhlIHdlYnNpdGUgVVJMIGNoYW5nZXMsIG9yIHdoZW4gdGhlIGhlcm9cbiAgICogc2VjdGlvbiBpcyBhZGRlZC4gVGhlIGZpcnN0IGltYWdlIHJldHVybmVkIGJlY29tZXMgdGhlIGRlZmF1bHRcbiAgICogaGVybyBpbWFnZSBhbmQgbGluayB0YXJnZXQuXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaG93SGVyb1NlY3Rpb24pIHtcbiAgICAgIGZldGNoSGVyb0ZvckJyYW5kKCk7XG4gICAgfVxuICB9LCBbZmV0Y2hIZXJvRm9yQnJhbmQsIHNob3dIZXJvU2VjdGlvbl0pO1xuXG4gIC8vIEZldGNoIGJhbm5lciBpbWFnZSBmb3IgdGhlIGNvbmZpZ3VyZWQgYnJhbmQgd2Vic2l0ZS4gT24gc3VjY2VzcyB0aGVcbiAgLy8gZmlyc3QgaW1hZ2Ugd2l0aCB0aGUgY2xhc3MgYG1vYmlsZS1iYW5uZXJgIGlzIHVzZWQgYXMgdGhlIGJhbm5lclxuICAvLyBpbWFnZS4gSW1hZ2VzIGFyZSBmZXRjaGVkIG9uIGluaXRpYWwgbG9hZCwgd2hlbiB0aGUgd2Vic2l0ZSBVUkxcbiAgLy8gY2hhbmdlcywgb3Igd2hlbiB0aGUgYmFubmVyIHNlY3Rpb24gaXMgYWRkZWQuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3dCYW5uZXJTZWN0aW9uKSB7XG4gICAgICBmZXRjaEJhbm5lckZvckJyYW5kKCk7XG4gICAgfVxuICB9LCBbZmV0Y2hCYW5uZXJGb3JCcmFuZCwgc2hvd0Jhbm5lclNlY3Rpb25dKTtcblxuICAvKipcbiAgICogVXBkYXRlIGEgaGVybyBwcm9wZXJ0eS4gVGhpcyBjYWxsYmFjayBpcyBwYXNzZWQgdG8gdGhlXG4gICAqIEhlcm9UYWJsZU1vZHVsZSBzbyBlZGl0cyBpbiB0aGUgcHJldmlldyBwcm9wYWdhdGUgdG8gdGhlXG4gICAqIHVuZGVybHlpbmcgc3RhdGUuIFN1cHBvcnRlZCBmaWVsZHMgYXJlICdpbWFnZScsICdhbHQnIGFuZFxuICAgKiAnaHJlZicuIFRoZSBoZXJvSHRtbCBzdHJpbmcgd2lsbCBiZSByZWNvbXB1dGVkIGluIHRoZVxuICAgKiB1c2VFZmZlY3QgYmVsb3cgd2hlbiB0aGVzZSB2YWx1ZXMgY2hhbmdlLlxuICAgKi9cbiAgY29uc3QgdXBkYXRlSGVybyA9IChmaWVsZDogJ2ltYWdlJyB8ICdhbHQnIHwgJ2hyZWYnLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGZpZWxkID09PSAnaW1hZ2UnKSBzZXRIZXJvSW1hZ2UodmFsdWUpO1xuICAgIGVsc2UgaWYgKGZpZWxkID09PSAnYWx0Jykgc2V0SGVyb0FsdCh2YWx1ZSk7XG4gICAgZWxzZSBpZiAoZmllbGQgPT09ICdocmVmJykgc2V0SGVyb0hyZWYodmFsdWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCcmFuZCBsb2dvIGRhdGEgVVJJLiBXaGVuIGEgdXNlciB1cGxvYWRzIGEgbG9nbyBmaWxlIHRoZSBmaWxlXG4gICAqIGNvbnRlbnRzIGFyZSBjb252ZXJ0ZWQgaW50byBhIGRhdGEgVVJJIHRoYXQgY2FuIGJlIGVtYmVkZGVkXG4gICAqIGRpcmVjdGx5IGludG8gdGhlIEhUTUwuIGJyYW5kTG9nb0RhdGFVcmwgaXMgZW1wdHkgaWYgbm8gbG9nb1xuICAgKiBoYXMgYmVlbiBzZWxlY3RlZC5cbiAgICovXG4gIGNvbnN0IFticmFuZExvZ29EYXRhVXJsLCBzZXRCcmFuZExvZ29EYXRhVXJsXSA9IHVzZVN0YXRlKCcnKTtcblxuICAvKipcbiAgICogSGVscGVyIHRvIGFkZCBhIG5ldyBib2R5IHNlY3Rpb24uIFdoZW4gaW52b2tlZCwgdGhpcyBjcmVhdGVzIGFcbiAgICogbmV3IGVudHJ5IGluIHRoZSBib2R5U2VjdGlvbnMgYXJyYXkgd2l0aCBpdHMgb3duIGJsYW5rIFVSTCBsaXN0LFxuICAgKiBlbXB0eSBwcm9kdWN0cyBhbmQgZGVmYXVsdCB0ZW1wbGF0ZSBzZWxlY3Rpb24uIFRoZSBuZXcgc2VjdGlvblxuICAgKiBuYW1lIGlzIGF1dG/igJFpbmNyZW1lbnRlZCAoQm9keSAyLCBCb2R5IDMsIGV0Yy4pLiBBZnRlclxuICAgKiBjcmVhdGlvbiwgdGhlIG5ld2x5IGFkZGVkIHNlY3Rpb24gaXMgb3BlbmVkIGF1dG9tYXRpY2FsbHkgc29cbiAgICogdXNlcnMgY2FuIHN0YXJ0IGVkaXRpbmcgaXQuXG4gICAqL1xuICBjb25zdCBhZGRCb2R5U2VjdGlvbiA9ICgpID0+IHtcbiAgICAvLyBEZXRlcm1pbmUgYSB1bmlxdWUgbmV4dCBpZCBiYXNlZCBvbiBleGlzdGluZyBzZWN0aW9uc1xuICAgIGNvbnN0IG5leHRJZCA9IGJvZHlTZWN0aW9ucy5sZW5ndGggPyBNYXRoLm1heCguLi5ib2R5U2VjdGlvbnMubWFwKChzKSA9PiBzLmlkKSkgKyAxIDogMTtcbiAgICBjb25zdCBuZXdTZWN0aW9uOiBCb2R5U2VjdGlvbiA9IHtcbiAgICAgIGlkOiBuZXh0SWQsXG4gICAgICBuYW1lOiBgQm9keSAke25leHRJZH1gLFxuICAgICAgdXJsczogWycnXSxcbiAgICAgIHByb2R1Y3RzOiBbXSxcbiAgICAgIHNlbGVjdGVkQm9keUlkOiBkZWZhdWx0Qm9keVRlbXBsYXRlc1swXS5pZCxcbiAgICAgIGxvYWRpbmc6IGZhbHNlXG4gICAgfTtcbiAgICBzZXRCb2R5U2VjdGlvbnMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdTZWN0aW9uXSk7XG4gICAgc2V0U2VjdGlvbk9yZGVyKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBhcnIgPSBbLi4ucHJldl07XG4gICAgICBjb25zdCBuZXdLZXkgPSBgYm9keS0ke25leHRJZH1gO1xuICAgICAgY29uc3QgYmFubmVySWR4ID0gYXJyLmluZGV4T2YoJ2Jhbm5lcicpO1xuICAgICAgaWYgKGJhbm5lcklkeCA+PSAwKSBhcnIuc3BsaWNlKGJhbm5lcklkeCwgMCwgbmV3S2V5KTtcbiAgICAgIGVsc2UgYXJyLnB1c2gobmV3S2V5KTtcbiAgICAgIHJldHVybiBhcnI7XG4gICAgfSk7XG4gICAgc2V0T3BlblNlY3Rpb24oYGJvZHktJHtuZXh0SWR9YCk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlSGVhZGVyU2VjdGlvbiA9ICgpID0+IHtcbiAgICBzZXRTaG93SGVhZGVyU2VjdGlvbihmYWxzZSk7XG4gICAgc2V0SGVhZGVySHRtbCgnJyk7XG4gICAgc2V0T3BlblNlY3Rpb24oKHByZXYpID0+IChwcmV2ID09PSAnaGVhZGVyJyA/ICcnIDogcHJldikpO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUhlcm9TZWN0aW9uID0gKCkgPT4ge1xuICAgIHNldFNob3dIZXJvU2VjdGlvbihmYWxzZSk7XG4gICAgc2V0SGVyb0ltYWdlKCcnKTtcbiAgICBzZXRIZXJvQWx0KCcnKTtcbiAgICBzZXRIZXJvSHJlZignJyk7XG4gICAgc2V0SGVyb0h0bWwoJycpO1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4gcHJldi5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gJ2hlcm8nKSk7XG4gICAgc2V0T3BlblNlY3Rpb24oKHByZXYpID0+IChwcmV2ID09PSAnaGVybycgPyAnJyA6IHByZXYpKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVCYW5uZXJTZWN0aW9uID0gKCkgPT4ge1xuICAgIHNldFNob3dCYW5uZXJTZWN0aW9uKGZhbHNlKTtcbiAgICBzZXRCYW5uZXJJbWFnZSgnJyk7XG4gICAgc2V0QmFubmVyQWx0KCcnKTtcbiAgICBzZXRCYW5uZXJIcmVmKCcnKTtcbiAgICBzZXRCYW5uZXJIdG1sKCcnKTtcbiAgICBzZXRTZWN0aW9uT3JkZXIoKHByZXYpID0+IHByZXYuZmlsdGVyKChpZCkgPT4gaWQgIT09ICdiYW5uZXInKSk7XG4gICAgc2V0T3BlblNlY3Rpb24oKHByZXYpID0+IChwcmV2ID09PSAnYmFubmVyJyA/ICcnIDogcHJldikpO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUZvb3RlclNlY3Rpb24gPSAoKSA9PiB7XG4gICAgc2V0U2hvd0Zvb3RlclNlY3Rpb24oZmFsc2UpO1xuICAgIHNldEZvb3Rlckh0bWwoJycpO1xuICAgIHNldE9wZW5TZWN0aW9uKChwcmV2KSA9PiAocHJldiA9PT0gJ2Zvb3RlcicgPyAnJyA6IHByZXYpKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIGEgYm9keSBzZWN0aW9uIGVudGlyZWx5LiBXaGVuIGludm9rZWQsIHRoaXMgZGVsZXRlcyB0aGVcbiAgICogc2VjdGlvbiBmcm9tIHRoZSBib2R5U2VjdGlvbnMgYXJyYXkuIElmIHRoZSByZW1vdmVkIHNlY3Rpb24gaXNcbiAgICogY3VycmVudGx5IG9wZW4sIHRoZSBhY2NvcmRpb24gaXMgY29sbGFwc2VkLiBUaGlzIGhlbHBlciBpc1xuICAgKiB0cmlnZ2VyZWQgYnkgdGhlIHRyYXNoIGljb24gaW4gZWFjaCBib2R5IHNlY3Rpb24gaGVhZGVyLlxuICAgKi9cbiAgY29uc3QgcmVtb3ZlQm9keVNlY3Rpb24gPSAoc2VjdGlvbklkOiBudW1iZXIpID0+IHtcbiAgICBzZXRCb2R5U2VjdGlvbnMoKHByZXYpID0+IHByZXYuZmlsdGVyKChzZWN0aW9uKSA9PiBzZWN0aW9uLmlkICE9PSBzZWN0aW9uSWQpKTtcbiAgICBzZXRTZWN0aW9uT3JkZXIoKHByZXYpID0+IHByZXYuZmlsdGVyKChpZCkgPT4gaWQgIT09IGBib2R5LSR7c2VjdGlvbklkfWApKTtcbiAgICBzZXRPcGVuU2VjdGlvbigocHJldikgPT4gKHByZXYgPT09IGBib2R5LSR7c2VjdGlvbklkfWAgPyAnJyA6IHByZXYpKTtcbiAgfTtcblxuICBjb25zdCBhZGRTZWN0aW9uQnlUeXBlID0gKHR5cGU6IHN0cmluZykgPT4ge1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnaGVhZGVyJzpcbiAgICAgICAgc2V0U2hvd0hlYWRlclNlY3Rpb24odHJ1ZSk7XG4gICAgICAgIHNldE9wZW5TZWN0aW9uKCdoZWFkZXInKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdoZXJvJzpcbiAgICAgICAgc2V0U2hvd0hlcm9TZWN0aW9uKHRydWUpO1xuICAgICAgICBzZXRTZWN0aW9uT3JkZXIoKHByZXYpID0+IChwcmV2LmluY2x1ZGVzKCdoZXJvJykgPyBwcmV2IDogWydoZXJvJywgLi4ucHJldl0pKTtcbiAgICAgICAgc2V0T3BlblNlY3Rpb24oJ2hlcm8nKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdiYW5uZXInOlxuICAgICAgICBzZXRTaG93QmFubmVyU2VjdGlvbih0cnVlKTtcbiAgICAgICAgc2V0U2VjdGlvbk9yZGVyKChwcmV2KSA9PiAocHJldi5pbmNsdWRlcygnYmFubmVyJykgPyBwcmV2IDogWy4uLnByZXYsICdiYW5uZXInXSkpO1xuICAgICAgICBzZXRPcGVuU2VjdGlvbignYmFubmVyJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZm9vdGVyJzpcbiAgICAgICAgc2V0U2hvd0Zvb3RlclNlY3Rpb24odHJ1ZSk7XG4gICAgICAgIHNldE9wZW5TZWN0aW9uKCdmb290ZXInKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib2R5JzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFkZEJvZHlTZWN0aW9uKCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzZXRTaG93QWRkU2VjdGlvbk1lbnUoZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHNlbGVjdGVkIHRlbXBsYXRlIGZvciBhIHNwZWNpZmljIGJvZHkgc2VjdGlvbi4gVGhpc1xuICAgKiB1cGRhdGVzIHRoZSBzZWN0aW9u4oCZcyBzZWxlY3RlZEJvZHlJZCBhbmQgYWxzbyB1cGRhdGVzIHRoZVxuICAgKiBnbG9iYWwgc2VsZWN0ZWRCb2R5SWQgc28gdGhhdCB0aGUgZWRpdCBmb3JtIGRpc3BsYXlzIHRoZVxuICAgKiBjb3JyZWN0IHRlbXBsYXRlIHNvdXJjZSB3aGVuIGVkaXRpbmcuIFdpdGhvdXQgdGhpcyB0aGUgZWRpdFxuICAgKiB0ZXh0YXJlYSB3b3VsZCBzaG93IHRoZSB3cm9uZyBIVE1MIGlmIHN3aXRjaGluZyBiZXR3ZWVuXG4gICAqIHNlY3Rpb25zIHdpdGggZGlmZmVyZW50IHRlbXBsYXRlcy5cbiAgICovXG4gIGNvbnN0IHNldFNlY3Rpb25UZW1wbGF0ZSA9IChzZWN0aW9uSWQ6IG51bWJlciwgdGVtcGxhdGVJZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0Qm9keVNlY3Rpb25zKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHNlY3Rpb24pID0+XG4gICAgICAgIHNlY3Rpb24uaWQgPT09IHNlY3Rpb25JZCA/IHsgLi4uc2VjdGlvbiwgc2VsZWN0ZWRCb2R5SWQ6IHRlbXBsYXRlSWQgfSA6IHNlY3Rpb25cbiAgICAgIClcbiAgICApO1xuICAgIHNldFNlbGVjdGVkQm9keUlkKHRlbXBsYXRlSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTYXZlIGVkaXRzIHRvIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgaGVybyB0ZW1wbGF0ZS4gVGhlIGhlcm9cbiAgICogdGVtcGxhdGXigJlzIEhUTUwgaXMgcmVwbGFjZWQgd2l0aCB0aGUgY29udGVudHMgb2YgZHJhZnRIZXJvSHRtbC5cbiAgICogSWYgdGhlIHRlbXBsYXRlIGlzIHVzZXLigJFkZWZpbmVkIGl0IGlzIHBlcnNpc3RlZCBiYWNrIHRvXG4gICAqIGxvY2FsU3RvcmFnZSB1bmRlciAnY3VzdG9tSGVyb1RlbXBsYXRlcycuXG4gICAqL1xuICBjb25zdCBzYXZlSGVyb0VkaXRzID0gKCkgPT4ge1xuICAgIHNldEhlcm9UZW1wbGF0ZXMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgodHBsKSA9PiAodHBsLmlkID09PSBzZWxlY3RlZEhlcm9JZCA/IHsgLi4udHBsLCBodG1sOiBkcmFmdEhlcm9IdG1sIH0gOiB0cGwpKVxuICAgICk7XG4gICAgc2V0SGVyb0VkaXRNb2RlKGZhbHNlKTtcbiAgICAvLyBQZXJzaXN0IGVkaXRzIGZvciBjdXN0b20gdGVtcGxhdGVzXG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUhlcm9UZW1wbGF0ZXMnKTtcbiAgICAgICAgY29uc3QgbGlzdDogSGVyb1RlbXBsYXRlW10gPSBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgICAgICAgY29uc3QgdXBkYXRlZCA9IGxpc3QubWFwKCh0cGwpID0+XG4gICAgICAgICAgdHBsLmlkID09PSBzZWxlY3RlZEhlcm9JZCA/IHsgLi4udHBsLCBodG1sOiBkcmFmdEhlcm9IdG1sIH0gOiB0cGxcbiAgICAgICAgKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXN0b21IZXJvVGVtcGxhdGVzJywgSlNPTi5zdHJpbmdpZnkodXBkYXRlZCkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gcGVyc2lzdCBoZXJvIHRlbXBsYXRlIGVkaXRzJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhIG5ldyBoZXJvIHRlbXBsYXRlLiBUaGUgbmFtZSBhbmQgSFRNTCBhcmUgdGFrZW4gZnJvbSB0aGVcbiAgICogbmV3SGVyb05hbWUgYW5kIG5ld0hlcm9IdG1sIGZpZWxkcy4gQSB1bmlxdWUgaWQgaXMgZ2VuZXJhdGVkXG4gICAqIGJhc2VkIG9uIHRoZSBuYW1lIGFuZCB0aW1lc3RhbXAuIFRoZSBuZXcgdGVtcGxhdGUgaXMgc3RvcmVkXG4gICAqIGFsb25nc2lkZSBleGlzdGluZyB0ZW1wbGF0ZXMgYW5kIHBlcnNpc3RlZCBpbnRvIGxvY2FsU3RvcmFnZS5cbiAgICovXG4gIGNvbnN0IGFkZE5ld0hlcm9UZW1wbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gbmV3SGVyb05hbWUudHJpbSgpO1xuICAgIGNvbnN0IGh0bWwgPSBuZXdIZXJvSHRtbC50cmltKCk7XG4gICAgaWYgKCFuYW1lIHx8ICFodG1sKSByZXR1cm47XG4gICAgY29uc3QgaWQgPSBgJHtuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpfS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBuZXdUcGw6IEhlcm9UZW1wbGF0ZSA9IHsgaWQsIG5hbWUsIGh0bWwgfTtcbiAgICBzZXRIZXJvVGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3VHBsXSk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUhlcm9UZW1wbGF0ZXMnKTtcbiAgICAgICAgY29uc3QgbGlzdDogSGVyb1RlbXBsYXRlW10gPSBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgICAgICAgbGlzdC5wdXNoKG5ld1RwbCk7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VzdG9tSGVyb1RlbXBsYXRlcycsIEpTT04uc3RyaW5naWZ5KGxpc3QpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgY3VzdG9tIGhlcm8gdGVtcGxhdGUnLCBlcnIpO1xuICAgIH1cbiAgICBzZXROZXdIZXJvTmFtZSgnJyk7XG4gICAgc2V0TmV3SGVyb0h0bWwoJycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMb2FkIGFueSBjdXN0b20gaGVybyB0ZW1wbGF0ZXMgZnJvbSBsb2NhbFN0b3JhZ2UuIFRoaXMgbWlycm9yc1xuICAgKiB0aGUgYmVoYXZpb3VyIGZvciBib2R5L2hlYWRlci9mb290ZXIgdGVtcGxhdGVzLiBDdXN0b20gaGVyb1xuICAgKiB0ZW1wbGF0ZXMgYXJlIHN0b3JlZCB1bmRlciB0aGUga2V5ICdjdXN0b21IZXJvVGVtcGxhdGVzJy5cbiAgICovXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9yZWRIZXJvID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21IZXJvVGVtcGxhdGVzJyk7XG4gICAgICAgIGlmIChzdG9yZWRIZXJvKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkOiBIZXJvVGVtcGxhdGVbXSA9IEpTT04ucGFyc2Uoc3RvcmVkSGVybyk7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSAmJiBwYXJzZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXRIZXJvVGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgLi4ucGFyc2VkXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBjdXN0b20gaGVybyB0ZW1wbGF0ZXMnLCBlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBDb21wb3NlIHRoZSBmdWxsIGVtYWlsIHdoZW5ldmVyIGFueSBwYXJ0IG9mIHRoZSBkYXRhIGNoYW5nZXMuIFRoaXNcbiAgICogaW5jbHVkZXMgaGVhZGVyL2Zvb3Rlci9oZXJvIHRlbXBsYXRlIHNlbGVjdGlvbiwgYm9keSBzZWN0aW9ucyxcbiAgICogcHJvZHVjdHMsIGhlcm8gaW1hZ2UgYW5kIGJyYW5kIGN1c3RvbWlzYXRpb25zLiBUaGUgY29tcG9zZWRcbiAgICogSFRNTCB1c2VzIE9wdGlvbsKgQSBzZW1hbnRpY3M6IHRoZSBzYW1lIEhUTUwgc3RyaW5nIGlzIHVzZWQgZm9yXG4gICAqIGJvdGggcHJldmlldyBhbmQgY29kZSBvdXRwdXQuIEJyYW5kIGNvbG91cnMsIGZvbnRzIGFuZCBsb2dvc1xuICAgKiBhcmUgYXBwbGllZCB1bmlmb3JtbHkgYWNyb3NzIGFsbCBzZWN0aW9ucy5cbiAgICovXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ29tcG9zZSBoZWFkZXJcbiAgICBsZXQgaGVhZGVyU3RyID0gJyc7XG4gICAgaWYgKHNob3dIZWFkZXJTZWN0aW9uKSB7XG4gICAgICBjb25zdCBoZWFkZXJUZW1wbGF0ZSA9IGhlYWRlclRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEhlYWRlcklkKTtcbiAgICAgIGhlYWRlclN0ciA9IGhlYWRlclRlbXBsYXRlID8gaGVhZGVyVGVtcGxhdGUuaHRtbCA6ICcnO1xuICAgICAgaGVhZGVyU3RyID0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KGhlYWRlclN0cik7XG4gICAgICBoZWFkZXJTdHIgPSBhcHBseUJyYW5kTG9nbyhoZWFkZXJTdHIpO1xuICAgIH1cbiAgICAvLyBDb21wb3NlIGhlcm8gaWYgYW4gaW1hZ2UgaGFzIGJlZW4gc2V0XG4gICAgbGV0IGhlcm9TdHIgPSAnJztcbiAgICBjb25zdCBoZXJvVGVtcGxhdGUgPSBoZXJvVGVtcGxhdGVzLmZpbmQoKHQpID0+IHQuaWQgPT09IHNlbGVjdGVkSGVyb0lkKTtcbiAgICBpZiAoc2hvd0hlcm9TZWN0aW9uICYmIGhlcm9UZW1wbGF0ZSAmJiBoZXJvSW1hZ2UpIHtcbiAgICAgIGNvbnN0IGhlcm9EYXRhOiBhbnkgPSB7XG4gICAgICAgIGhlcm9JbWFnZSxcbiAgICAgICAgaGVyb0FsdDogaGVyb0FsdCB8fCAnJyxcbiAgICAgICAgaGVyb0hyZWY6IGhlcm9IcmVmIHx8ICcnXG4gICAgICB9O1xuICAgICAgaWYgKCFoZXJvRGF0YS5oZXJvQWx0ICYmIGJyYW5kTmFtZSkgaGVyb0RhdGEuaGVyb0FsdCA9IGJyYW5kTmFtZTtcbiAgICAgIC8vIFJlbmRlciBoZXJvIHVzaW5nIHRoZSBmdWxsIHRlbXBsYXRlIG9iamVjdC4gUGFzc2luZyB0aGUgcmF3XG4gICAgICAvLyBIVE1MIHN0cmluZyBjYXVzZXMgcmVuZGVyVGVtcGxhdGUgdG8gcmVjZWl2ZSB1bmRlZmluZWQgZm9yXG4gICAgICAvLyB0ZW1wbGF0ZS5odG1sIGFuZCByZXN1bHRzIGluIHJ1bnRpbWUgZXJyb3JzLiBTZWUgZGF0YS90ZW1wbGF0ZXMudHMuXG4gICAgICBoZXJvU3RyID0gcmVuZGVyVGVtcGxhdGUoaGVyb1RlbXBsYXRlIGFzIGFueSwgaGVyb0RhdGEpO1xuICAgICAgaGVyb1N0ciA9IGFwcGx5QnJhbmRDb2xvdXJzQW5kRm9udChoZXJvU3RyKTtcbiAgICB9XG4gICAgLy8gQ29tcG9zZSBib2R5IGFjcm9zcyBhbGwgc2VjdGlvbnNcbiAgICBjb25zdCBib2R5SHRtbE1hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuICAgIGJvZHlTZWN0aW9ucy5mb3JFYWNoKChzZWN0aW9uKSA9PiB7XG4gICAgICBsZXQgc2VjdGlvbkh0bWwgPSAnJztcbiAgICAgIHNlY3Rpb24ucHJvZHVjdHMuZm9yRWFjaCgocHJvZCwgaWR4KSA9PiB7XG4gICAgICAgIC8vIERldGVybWluZSBvcmllbnRhdGlvbiBiYXNlZCBvbiBpbmRleCBhbmQgYWx0ZXJuYXRlIG1hcFxuICAgICAgICBsZXQgdGVtcGxhdGVJZFRvVXNlID0gc2VjdGlvbi5zZWxlY3RlZEJvZHlJZDtcbiAgICAgICAgaWYgKGlkeCAlIDIgPT09IDEgJiYgYWx0ZXJuYXRlTWFwW3NlY3Rpb24uc2VsZWN0ZWRCb2R5SWRdKSB7XG4gICAgICAgICAgdGVtcGxhdGVJZFRvVXNlID0gYWx0ZXJuYXRlTWFwW3NlY3Rpb24uc2VsZWN0ZWRCb2R5SWRdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRwbCA9IGJvZHlUZW1wbGF0ZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gdGVtcGxhdGVJZFRvVXNlKTtcbiAgICAgICAgaWYgKCF0cGwpIHJldHVybjtcbiAgICAgICAgLy8gQ29sb3VyIHN3YXRjaGVzIHJlbW92ZWQgcGVyIHJlZmFjdG9yXG4gICAgICAgIC8vIEJ1aWxkIHByaWNlIEhUTUw6IGluY2x1ZGUgYSBzdHJpa2XigJF0aHJvdWdoIG9yaWdpbmFsIHByaWNlIGlmXG4gICAgICAgIC8vIHByb3ZpZGVkIGFuZCBkaWZmZXJlbnQgZnJvbSB0aGUgc2FsZSBwcmljZS4gV2UgbGVhdmUgdGhlXG4gICAgICAgIC8vIGN1cnJlbmN5IGFzIHByb3ZpZGVkIGJ5IHRoZSBwYXJzZXIuIElmIG5vIG9yaWdpbmFsIHByaWNlIGlzXG4gICAgICAgIC8vIHByZXNlbnQsIHNob3cgdGhlIHNhbGUgcHJpY2Ugb25seS4gV2hlbiBib3RoIHZhbHVlcyBhcmVcbiAgICAgICAgLy8gZW1wdHkgdGhlIHByaWNlSHRtbCB3aWxsIGJlIGVtcHR5IGFzIHdlbGwuXG4gICAgICAgIGNvbnN0IHNhbGVQcmljZSA9IChwcm9kIGFzIGFueSkucHJpY2UgfHwgJyc7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsUHJpY2UgPSAocHJvZCBhcyBhbnkpLm9yaWdpbmFsUHJpY2U7XG4gICAgICAgIGxldCBwcmljZUh0bWwgPSAnJztcbiAgICAgICAgaWYgKG9yaWdpbmFsUHJpY2UgJiYgb3JpZ2luYWxQcmljZSAhPT0gc2FsZVByaWNlKSB7XG4gICAgICAgICAgcHJpY2VIdG1sID0gYDxzcGFuIHN0eWxlPVwidGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaDtjb2xvcjojODg4ODg4O21hcmdpbi1yaWdodDo4cHg7Zm9udC13ZWlnaHQ6NDAwO1wiPiR7b3JpZ2luYWxQcmljZX08L3NwYW4+ICR7c2FsZVByaWNlfWA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJpY2VIdG1sID0gc2FsZVByaWNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIENob29zZSBkZXNjcmlwdGlvbiBzb3VyY2UgcGVyIHNlY3Rpb25cbiAgICAgICAgbGV0IGNob3NlbkRlc2NyaXB0aW9uID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgaWYgKHNlY3Rpb24uZGVzY3JpcHRpb25Tb3VyY2UgPT09ICdwJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uUCkge1xuICAgICAgICAgIGNob3NlbkRlc2NyaXB0aW9uID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblA7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VjdGlvbi5kZXNjcmlwdGlvblNvdXJjZSA9PT0gJ3VsJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWwpIHtcbiAgICAgICAgICBjaG9zZW5EZXNjcmlwdGlvbiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkcyA9IChwcm9kIGFzIGFueSkuZGVzY1NvdXJjZSB8fCAnbWV0YWRhdGEnO1xuICAgICAgICAvLyBGb3IgVUwgaW4gY29kZSB2aWV3LCB1c2UgYSBtYXJrZXIgdG8gbGF0ZXIgc3dhcCB0aGUgcGFyYWdyYXBoIHdpdGggVUwgbWFya3VwXG4gICAgICAgIGNvbnN0IGRlc2NGb3JUZW1wbGF0ZSA9IGRzID09PSAndWwnICYmIChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCA/ICdbW0RFU0NfTUFSS0VSXV0nIDogY2hvc2VuRGVzY3JpcHRpb247XG4gICAgICAgIGNvbnN0IHByb2R1Y3REYXRhOiBhbnkgPSB7XG4gICAgICAgICAgLi4ucHJvZCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZGVzY0ZvclRlbXBsYXRlLFxuICAgICAgICAgIGN0YUxhYmVsOiAocHJvZCBhcyBhbnkpLmN0YUxhYmVsIHx8ICdTSE9QIE5PVycsXG4gICAgICAgICAgcHJpY2VIdG1sLFxuICAgICAgICAgIGN0YUJnOiBicmFuZFByaW1hcnlcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUmVuZGVyIG1vZHVsZSB1c2luZyB0aGUgZnVsbCB0ZW1wbGF0ZS4gUGFzc2luZyBvbmx5XG4gICAgICAgIC8vIHRwbC5odG1sIGNhdXNlcyBydW50aW1lIGVycm9ycyBiZWNhdXNlIHJlbmRlclRlbXBsYXRlXG4gICAgICAgIC8vIGV4cGVjdHMgYSBUZW1wbGF0ZSBvYmplY3QuXG4gICAgICAgIGxldCBtb2R1bGVIdG1sID0gcmVuZGVyVGVtcGxhdGUodHBsIGFzIGFueSwgcHJvZHVjdERhdGEpO1xuICAgICAgICBpZiAoZHMgPT09ICd1bCcgJiYgKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblVsKSB7XG4gICAgICAgICAgY29uc3QgdWxIdG1sID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblVsIGFzIHN0cmluZztcbiAgICAgICAgICBtb2R1bGVIdG1sID0gbW9kdWxlSHRtbC5yZXBsYWNlKC88cFtePl0qPlxccypcXFtcXFtERVNDX01BUktFUlxcXVxcXVxccyo8XFwvcD4vaSwgdWxIdG1sKTtcbiAgICAgICAgfVxuICAgICAgICBtb2R1bGVIdG1sID0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KG1vZHVsZUh0bWwpO1xuICAgICAgICBzZWN0aW9uSHRtbCArPSBtb2R1bGVIdG1sO1xuICAgICAgfSk7XG4gICAgICBib2R5SHRtbE1hcFtgYm9keS0ke3NlY3Rpb24uaWR9YF0gPSBzZWN0aW9uSHRtbDtcbiAgICB9KTtcbiAgICAvLyBDb21wb3NlIGJhbm5lciBpZiBhbiBpbWFnZSBoYXMgYmVlbiBmZXRjaGVkXG4gICAgbGV0IGJhbm5lclN0ciA9ICcnO1xuICAgIGNvbnN0IGJhbm5lclRlbXBsYXRlID0gYmFubmVyVGVtcGxhdGVzLmZpbmQoKHQpID0+IHQuaWQgPT09IHNlbGVjdGVkQmFubmVySWQpO1xuICAgIGlmIChzaG93QmFubmVyU2VjdGlvbiAmJiBiYW5uZXJUZW1wbGF0ZSAmJiBiYW5uZXJJbWFnZSkge1xuICAgICAgY29uc3QgZGF0YTogYW55ID0ge1xuICAgICAgICBiYW5uZXJJbWFnZSxcbiAgICAgICAgYmFubmVyQWx0OiBiYW5uZXJBbHQgfHwgJycsXG4gICAgICAgIGJhbm5lckhyZWY6IGJhbm5lckhyZWYgfHwgJydcbiAgICAgIH07XG4gICAgICBpZiAoIWRhdGEuYmFubmVyQWx0ICYmIGJyYW5kTmFtZSkgZGF0YS5iYW5uZXJBbHQgPSBicmFuZE5hbWU7XG4gICAgICBiYW5uZXJTdHIgPSByZW5kZXJUZW1wbGF0ZShiYW5uZXJUZW1wbGF0ZSBhcyBhbnksIGRhdGEpO1xuICAgICAgYmFubmVyU3RyID0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KGJhbm5lclN0cik7XG4gICAgfVxuICAgIC8vIENvbXBvc2UgZm9vdGVyXG4gICAgbGV0IGZvb3RlclN0ciA9ICcnO1xuICAgIGlmIChzaG93Rm9vdGVyU2VjdGlvbikge1xuICAgICAgY29uc3QgZm9vdGVyVGVtcGxhdGUgPSBmb290ZXJUZW1wbGF0ZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gc2VsZWN0ZWRGb290ZXJJZCk7XG4gICAgICBmb290ZXJTdHIgPSBmb290ZXJUZW1wbGF0ZSA/IGZvb3RlclRlbXBsYXRlLmh0bWwgOiAnJztcbiAgICAgIGZvb3RlclN0ciA9IGFwcGx5QnJhbmRDb2xvdXJzQW5kRm9udChmb290ZXJTdHIpO1xuICAgIH1cbiAgICBsZXQgb3JkZXJlZEh0bWwgPSAnJztcbiAgICBzZWN0aW9uT3JkZXIuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGlmIChpZCA9PT0gJ2hlcm8nKSBvcmRlcmVkSHRtbCArPSBoZXJvU3RyO1xuICAgICAgZWxzZSBpZiAoaWQgPT09ICdiYW5uZXInKSBvcmRlcmVkSHRtbCArPSBiYW5uZXJTdHI7XG4gICAgICBlbHNlIGlmIChpZC5zdGFydHNXaXRoKCdib2R5LScpKSBvcmRlcmVkSHRtbCArPSBib2R5SHRtbE1hcFtpZF0gfHwgJyc7XG4gICAgfSk7XG5cbiAgICBzZXRIZWFkZXJIdG1sKGhlYWRlclN0cik7XG4gICAgc2V0SGVyb0h0bWwoaGVyb1N0cik7XG4gICAgc2V0Qm9keUh0bWwoc2VjdGlvbk9yZGVyLmZpbHRlcigoaWQpID0+IGlkLnN0YXJ0c1dpdGgoJ2JvZHktJykpLm1hcCgoaWQpID0+IGJvZHlIdG1sTWFwW2lkXSkuam9pbignJykpO1xuICAgIHNldEJhbm5lckh0bWwoYmFubmVyU3RyKTtcbiAgICBzZXRGb290ZXJIdG1sKGZvb3RlclN0cik7XG4gICAgc2V0RmluYWxIdG1sKGAke2hlYWRlclN0cn0ke29yZGVyZWRIdG1sfSR7Zm9vdGVyU3RyfWApO1xuICB9LCBbYm9keVNlY3Rpb25zLCBzZWxlY3RlZEJvZHlJZCwgc2VsZWN0ZWRIZWFkZXJJZCwgc2VsZWN0ZWRGb290ZXJJZCwgc2VsZWN0ZWRCYW5uZXJJZCwgYm9keVRlbXBsYXRlcywgaGVhZGVyVGVtcGxhdGVzLCBmb290ZXJUZW1wbGF0ZXMsIGJhbm5lclRlbXBsYXRlcywgYnJhbmRQcmltYXJ5LCBicmFuZFNlY29uZGFyeSwgYnJhbmRGb250LCBicmFuZExvZ29EYXRhVXJsLCBoZXJvSW1hZ2UsIGhlcm9BbHQsIGhlcm9IcmVmLCBiYW5uZXJJbWFnZSwgYmFubmVyQWx0LCBiYW5uZXJIcmVmLCBzZWxlY3RlZEhlcm9JZCwgaGVyb1RlbXBsYXRlcywgc2hvd0hlYWRlclNlY3Rpb24sIHNob3dIZXJvU2VjdGlvbiwgc2hvd0Jhbm5lclNlY3Rpb24sIHNob3dGb290ZXJTZWN0aW9uLCBzZWN0aW9uT3JkZXJdKTtcblxuICAvKipcbiAgICogUHJpc21KUyByZWZlcmVuY2UgYW5kIGxvYWQgc3RhdGUuIFdlIGxvYWQgUHJpc20gb25seSBvbiB0aGUgY2xpZW50LiBXZSBhbHNvIGxvYWQgdGhlIG1hcmt1cFxuICAgKiBsYW5ndWFnZSBjb21wb25lbnQuIE9uY2UgbG9hZGVkLCB3ZSB1cGRhdGUgdGhlIHN0YXRlIHRvIHRyaWdnZXJcbiAgICogcmUtcmVuZGVyIHNvIHN5bnRheCBoaWdobGlnaHRpbmcgYXBwbGllcy4gVGhlIGVzbGludCBjb21tZW50XG4gICAqIHN1cHByZXNzZXMgd2FybmluZ3MgYWJvdXQgYXN5bmNocm9ub3VzIGZ1bmN0aW9ucyBpbnNpZGUgdXNlRWZmZWN0LlxuICAgKi9cbiAgY29uc3QgcHJpc21SZWYgPSB1c2VSZWY8YW55PihudWxsKTtcbiAgY29uc3QgW3ByaXNtTG9hZGVkLCBzZXRQcmlzbUxvYWRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgLy8gTG9hZCBQcmlzbUpTIGR5bmFtaWNhbGx5IG9uIHRoZSBjbGllbnQuIFdlIGFsc28gbG9hZCB0aGUgbWFya3VwXG4gIC8vIGxhbmd1YWdlIGNvbXBvbmVudC4gT25jZSBsb2FkZWQsIHdlIHVwZGF0ZSB0aGUgc3RhdGUgdG8gdHJpZ2dlclxuICAvLyByZS1yZW5kZXIgc28gc3ludGF4IGhpZ2hsaWdodGluZyBhcHBsaWVzLiBUaGUgZXNsaW50IGNvbW1lbnRcbiAgLy8gc3VwcHJlc3NlcyB3YXJuaW5ncyBhYm91dCBhc3luY2hyb25vdXMgZnVuY3Rpb25zIGluc2lkZSB1c2VFZmZlY3QuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IFByaXNtTW9kdWxlID0gYXdhaXQgaW1wb3J0KCdwcmlzbWpzJyk7XG4gICAgICAgICAgYXdhaXQgaW1wb3J0KCdwcmlzbWpzL2NvbXBvbmVudHMvcHJpc20tbWFya3VwJyk7XG4gICAgICAgICAgcHJpc21SZWYuY3VycmVudCA9IFByaXNtTW9kdWxlLmRlZmF1bHQ7XG4gICAgICAgICAgc2V0UHJpc21Mb2FkZWQodHJ1ZSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGxvYWQgUHJpc21KUycsIGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIENvbXBvc2UgYSBsaXN0IG9mIGNvZGUgc2VjdGlvbnMgZm9yIHRoZSByaWdodOKAkXBhbmVsIGFjY29yZGlvbi4gRWFjaFxuICAgKiBpdGVtIGNvbnRhaW5zIGEgdW5pcXVlIGtleSwgYSBodW1hbuKAkXJlYWRhYmxlIHRpdGxlIGFuZCB0aGVcbiAgICogY29ycmVzcG9uZGluZyBIVE1MIHN0cmluZy4gVGhlIHN0cnVjdHVyZSBtaXJyb3JzIHRoZSBsZWZ0IHNpZGVcbiAgKiBwYW5lbHM6IGhlYWRlciwgaGVybywgZWFjaCBib2R5IHNlY3Rpb24gKGNvbnRhaW5pbmcgYWxsIGFzc29jaWF0ZWRcbiAgKiBwcm9kdWN0cykgYW5kIGZvb3Rlci4gQ29sb3VycyBhbmQgcHJpY2VzIGFyZSBjb21wdXRlZCBpbmxpbmUgZm9yXG4gICogZWFjaCBwcm9kdWN0IHRvIG1hdGNoIHRoZSBmaW5hbCBvdXRwdXQuIFRoaXMgbGlzdCBpc1xuICAgKiByZWNvbXB1dGVkIG9uIGV2ZXJ5IHJlbmRlciBiZWNhdXNlIHRoZSBkZXBlbmRlbnQgZGF0YSAoYm9keVxuICAgKiBzZWN0aW9ucywgdGVtcGxhdGVzLCBicmFuZCBjdXN0b21pc2F0aW9ucywgZXRjLikgbWF5IGNoYW5nZS4gSWZcbiAgICogcGVyZm9ybWFuY2UgYmVjb21lcyBhbiBpc3N1ZSB1c2UgUmVhY3QudXNlTWVtby5cbiAgICovXG4gIGNvbnN0IGNvZGVTZWN0aW9uczogeyBrZXk6IHN0cmluZzsgdGl0bGU6IHN0cmluZzsgY29kZTogc3RyaW5nIH1bXSA9IFtdO1xuICAvLyBIZWFkZXIgc2VjdGlvblxuICBpZiAoaGVhZGVySHRtbCkge1xuICAgIGNvZGVTZWN0aW9ucy5wdXNoKHsga2V5OiAnaGVhZGVyJywgdGl0bGU6ICdIZWFkZXInLCBjb2RlOiBoZWFkZXJIdG1sIH0pO1xuICB9XG4gIHNlY3Rpb25PcmRlci5mb3JFYWNoKChpZCkgPT4ge1xuICAgIGlmIChpZCA9PT0gJ2hlcm8nICYmIGhlcm9IdG1sKSB7XG4gICAgICBjb2RlU2VjdGlvbnMucHVzaCh7IGtleTogJ2hlcm8nLCB0aXRsZTogJ0hlcm8nLCBjb2RlOiBoZXJvSHRtbCB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlkID09PSAnYmFubmVyJyAmJiBiYW5uZXJIdG1sKSB7XG4gICAgICBjb2RlU2VjdGlvbnMucHVzaCh7IGtleTogJ2Jhbm5lcicsIHRpdGxlOiAnQmFubmVyJywgY29kZTogYmFubmVySHRtbCB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlkLnN0YXJ0c1dpdGgoJ2JvZHktJykpIHtcbiAgICAgIGNvbnN0IHNlY3Rpb24gPSBib2R5U2VjdGlvbnMuZmluZCgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IGlkKTtcbiAgICAgIGlmICghc2VjdGlvbikgcmV0dXJuO1xuICAgICAgbGV0IGNvbWJpbmVkSHRtbCA9ICcnO1xuICAgICAgc2VjdGlvbi5wcm9kdWN0cy5mb3JFYWNoKChwcm9kLCBpZHgpID0+IHtcbiAgICAgIC8vIERldGVybWluZSB3aGljaCB0ZW1wbGF0ZSB0byB1c2U6IGFsdGVybmF0ZSBldmVyeSBvdGhlciBwcm9kdWN0XG4gICAgICBsZXQgdGVtcGxhdGVJZFRvVXNlID0gc2VjdGlvbi5zZWxlY3RlZEJvZHlJZDtcbiAgICAgIGlmIChpZHggJSAyID09PSAxICYmIGFsdGVybmF0ZU1hcFtzZWN0aW9uLnNlbGVjdGVkQm9keUlkXSkge1xuICAgICAgICB0ZW1wbGF0ZUlkVG9Vc2UgPSBhbHRlcm5hdGVNYXBbc2VjdGlvbi5zZWxlY3RlZEJvZHlJZF07XG4gICAgICB9XG4gICAgICBjb25zdCB0cGwgPSBib2R5VGVtcGxhdGVzLmZpbmQoKHQpID0+IHQuaWQgPT09IHRlbXBsYXRlSWRUb1VzZSk7XG4gICAgICBpZiAoIXRwbCkgcmV0dXJuO1xuICAgICAgLy8gQ29sb3VyIHN3YXRjaGVzIHJlbW92ZWQgaW4gcmVmYWN0b3JcbiAgICAgIC8vIEJ1aWxkIHByaWNlIEhUTUw6IGluY2x1ZGUgb3JpZ2luYWwgcHJpY2UgaWYgZGlmZmVyZW50XG4gICAgICBjb25zdCBzYWxlUHJpY2UgPSAocHJvZCBhcyBhbnkpLnByaWNlIHx8ICcnO1xuICAgICAgY29uc3Qgb3JpZ2luYWxQcmljZSA9IChwcm9kIGFzIGFueSkub3JpZ2luYWxQcmljZTtcbiAgICAgIGxldCBwcmljZUh0bWwgPSAnJztcbiAgICAgIGlmIChvcmlnaW5hbFByaWNlICYmIG9yaWdpbmFsUHJpY2UgIT09IHNhbGVQcmljZSkge1xuICAgICAgICBwcmljZUh0bWwgPSBgPHNwYW4gc3R5bGU9XCJ0ZXh0LWRlY29yYXRpb246bGluZS10aHJvdWdoO2NvbG9yOiM4ODg4ODg7bWFyZ2luLXJpZ2h0OjhweDtmb250LXdlaWdodDo0MDA7XCI+JHtvcmlnaW5hbFByaWNlfTwvc3Bhbj4gJHtzYWxlUHJpY2V9YDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByaWNlSHRtbCA9IHNhbGVQcmljZTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgZGF0YSBvYmplY3QgZm9yIHRlbXBsYXRpbmdcbiAgICAgICAgLy8gQ2hvb3NlIGRlc2NyaXB0aW9uIGZvciBjb2RlIHZpZXcgYXMgd2VsbFxuICAgICAgICBsZXQgY2hvc2VuRGVzYzIgPSAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICBpZiAoc2VjdGlvbi5kZXNjcmlwdGlvblNvdXJjZSA9PT0gJ3AnICYmIChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25QKSB7XG4gICAgICAgICAgY2hvc2VuRGVzYzIgPSAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uUCBhcyBzdHJpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAoc2VjdGlvbi5kZXNjcmlwdGlvblNvdXJjZSA9PT0gJ3VsJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWwpIHtcbiAgICAgICAgICBjaG9zZW5EZXNjMiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCBhcyBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YTogYW55ID0ge1xuICAgICAgICAgIC4uLnByb2QsXG4gICAgICAgICAgZGVzY3JpcHRpb246IGNob3NlbkRlc2MyLFxuICAgICAgICAgIGN0YUxhYmVsOiAocHJvZCBhcyBhbnkpLmN0YUxhYmVsIHx8ICdTSE9QIE5PVycsXG4gICAgICAgICAgcHJpY2VIdG1sLFxuICAgICAgICAgIGN0YUJnOiBicmFuZFByaW1hcnlcbiAgICAgIH07XG4gICAgICAvLyBSZW5kZXIgSFRNTCBhbmQgYXBwbHkgYnJhbmQgY3VzdG9taXNhdGlvbnNcbiAgICAgIGxldCBodG1sID0gcmVuZGVyVGVtcGxhdGUodHBsIGFzIGFueSwgZGF0YSk7XG4gICAgICBodG1sID0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KGh0bWwpO1xuICAgICAgY29tYmluZWRIdG1sICs9IGh0bWw7XG4gICAgfSk7XG4gICAgICBpZiAoY29tYmluZWRIdG1sKSB7XG4gICAgICAgIGNvZGVTZWN0aW9ucy5wdXNoKHsga2V5OiBpZCwgdGl0bGU6IHNlY3Rpb24ubmFtZSwgY29kZTogY29tYmluZWRIdG1sIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8vIEZvb3RlciBzZWN0aW9uXG4gIGlmIChmb290ZXJIdG1sKSB7XG4gICAgY29kZVNlY3Rpb25zLnB1c2goeyBrZXk6ICdmb290ZXInLCB0aXRsZTogJ0Zvb3RlcicsIGNvZGU6IGZvb3Rlckh0bWwgfSk7XG4gIH1cblxuICAvLyBhbHRlcm5hdGVNYXAgaXMgbm93IGRlZmluZWQgYXQgdGhlIHRvcCBvZiB0aGUgZmlsZS4gRHVwbGljYXRlIGRlZmluaXRpb25zXG4gIC8vIGhlcmUgaGF2ZSBiZWVuIHJlbW92ZWQgdG8gcHJldmVudCBSZWZlcmVuY2VFcnJvciB3aGVuIHVzZWQgZWFybGllci5cblxuICAvKipcbiAgICogTG9hZCBjdXN0b20gdGVtcGxhdGVzIGZvciBib2R5LCBoZWFkZXIgYW5kIGZvb3RlciBmcm9tXG4gICAqIGxvY2FsU3RvcmFnZS4gRWFjaCBjb2xsZWN0aW9uIGlzIHN0b3JlZCB1bmRlciBpdHMgb3duIGtleS4gVGhlXG4gICAqIHRyeS9jYXRjaCBndWFyZHMgYWdhaW5zdCBKU09OIHBhcnNpbmcgZXJyb3JzIGFuZCBsb2NhbFN0b3JhZ2VcbiAgICogYWNjZXNzIGVycm9ycyAoZS5nLiBpbiBzZXJ2ZXLigJFzaWRlIHJlbmRlcmluZykuXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQm9keSB0ZW1wbGF0ZXNcbiAgICAgICAgY29uc3Qgc3RvcmVkQm9keSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tVGVtcGxhdGVzJyk7XG4gICAgICAgIGlmIChzdG9yZWRCb2R5KSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkQm9keTogQm9keVRlbXBsYXRlW10gPSBKU09OLnBhcnNlKHN0b3JlZEJvZHkpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZEJvZHkpICYmIHBhcnNlZEJvZHkubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXRCb2R5VGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgLi4ucGFyc2VkQm9keV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIZWFkZXIgdGVtcGxhdGVzXG4gICAgICAgIGNvbnN0IHN0b3JlZEhlYWRlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tSGVhZGVyVGVtcGxhdGVzJyk7XG4gICAgICAgIGlmIChzdG9yZWRIZWFkZXIpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWRIZWFkZXI6IEhlYWRlclRlbXBsYXRlW10gPSBKU09OLnBhcnNlKHN0b3JlZEhlYWRlcik7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkSGVhZGVyKSAmJiBwYXJzZWRIZWFkZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXRIZWFkZXJUZW1wbGF0ZXMoKHByZXYpID0+IFsuLi5wcmV2LCAuLi5wYXJzZWRIZWFkZXJdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9vdGVyIHRlbXBsYXRlc1xuICAgICAgICBjb25zdCBzdG9yZWRGb290ZXIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUZvb3RlclRlbXBsYXRlcycpO1xuICAgICAgICBpZiAoc3RvcmVkRm9vdGVyKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkRm9vdGVyOiBGb290ZXJUZW1wbGF0ZVtdID0gSlNPTi5wYXJzZShzdG9yZWRGb290ZXIpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZEZvb3RlcikgJiYgcGFyc2VkRm9vdGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0Rm9vdGVyVGVtcGxhdGVzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGFsbCA9IFsuLi5wcmV2LCAuLi5wYXJzZWRGb290ZXJdO1xuICAgICAgICAgICAgICBjb25zdCBzZWVuID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICByZXR1cm4gYWxsLmZpbHRlcih0cGwgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWVuLmhhcyh0cGwuaWQpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2Vlbi5hZGQodHBsLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQmFubmVyIHRlbXBsYXRlc1xuICAgICAgICBjb25zdCBzdG9yZWRCYW5uZXIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUJhbm5lclRlbXBsYXRlcycpO1xuICAgICAgICBpZiAoc3RvcmVkQmFubmVyKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkQmFubmVyOiBCYW5uZXJUZW1wbGF0ZVtdID0gSlNPTi5wYXJzZShzdG9yZWRCYW5uZXIpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZEJhbm5lcikgJiYgcGFyc2VkQmFubmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0QmFubmVyVGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgLi4ucGFyc2VkQmFubmVyXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBjdXN0b20gdGVtcGxhdGVzIGZyb20gbG9jYWxTdG9yYWdlJywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogU3luY2hyb25pc2UgdGhlIGRyYWZ0IEhUTUwgd2hlbiB0aGUgc2VsZWN0ZWQgdGVtcGxhdGUgZm9yIGVhY2hcbiAgICogc2VjdGlvbiBjaGFuZ2VzLiBUaGlzIGFsbG93cyB0aGUgZWRpdGluZyB0ZXh0YXJlYXMgdG8gZGlzcGxheVxuICAgKiB0aGUgY3VycmVudCB0ZW1wbGF0ZS4gV2UgZGVsaWJlcmF0ZWx5IGtlZXAgdGhlIGRyYWZ0cyBzZXBhcmF0ZVxuICAgKiBzbyB0aGF0IGVkaXRpbmcgb25lIHNlY3Rpb24gZG9lc27igJl0IG92ZXJyaWRlIHRoZSBvdGhlcnMuXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRCb2R5ID0gYm9keVRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEJvZHlJZCk7XG4gICAgaWYgKGN1cnJlbnRCb2R5KSB7XG4gICAgICBzZXREcmFmdEJvZHlIdG1sKGN1cnJlbnRCb2R5Lmh0bWwpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkQm9keUlkLCBib2R5VGVtcGxhdGVzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEhlYWRlciA9IGhlYWRlclRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEhlYWRlcklkKTtcbiAgICBpZiAoY3VycmVudEhlYWRlcikge1xuICAgICAgc2V0RHJhZnRIZWFkZXJIdG1sKGN1cnJlbnRIZWFkZXIuaHRtbCk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRIZWFkZXJJZCwgaGVhZGVyVGVtcGxhdGVzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEJhbm5lciA9IGJhbm5lclRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEJhbm5lcklkKTtcbiAgICBpZiAoY3VycmVudEJhbm5lcikge1xuICAgICAgc2V0RHJhZnRCYW5uZXJIdG1sKGN1cnJlbnRCYW5uZXIuaHRtbCk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRCYW5uZXJJZCwgYmFubmVyVGVtcGxhdGVzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEZvb3RlciA9IGZvb3RlclRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEZvb3RlcklkKTtcbiAgICBpZiAoY3VycmVudEZvb3Rlcikge1xuICAgICAgc2V0RHJhZnRGb290ZXJIdG1sKGN1cnJlbnRGb290ZXIuaHRtbCk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRGb290ZXJJZCwgZm9vdGVyVGVtcGxhdGVzXSk7XG5cbiAgLy8gU3luY2hyb25pc2UgZHJhZnQgaGVybyBIVE1MIHdoZW4gdGhlIHNlbGVjdGVkIGhlcm8gdGVtcGxhdGUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRIZXJvID0gaGVyb1RlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEhlcm9JZCk7XG4gICAgaWYgKGN1cnJlbnRIZXJvKSB7XG4gICAgICBzZXREcmFmdEhlcm9IdG1sKGN1cnJlbnRIZXJvLmh0bWwpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkSGVyb0lkLCBoZXJvVGVtcGxhdGVzXSk7XG5cbiAgLyoqXG4gICAqIFN0cmlwIGFueSBxdWVyeSBwYXJhbWV0ZXJzIGZyb20gYSBVUkwsIHJldHVybmluZyB0aGUgYmFzZSBVUkxcbiAgICogYmVmb3JlIHRoZSAnPycgY2hhcmFjdGVyLlxuICAgKi9cbiAgY29uc3Qgc2FuaXRpemVVcmwgPSAodXJsOiBzdHJpbmcpID0+IHVybC5zcGxpdCgnPycpWzBdO1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBVUkwgd2l0aGluIGEgYm9keSBzZWN0aW9uLiBDYWxsZWQgd2hlbmV2ZXIgdGhlIHVzZXJcbiAgICogZWRpdHMgb25lIG9mIHRoZSBVUkwgaW5wdXRzLiBBY2NlcHRzIHRoZSBzZWN0aW9uIGlkLCB0aGVcbiAgICogaW5kZXggb2YgdGhlIFVSTCB3aXRoaW4gdGhhdCBzZWN0aW9uIGFuZCB0aGUgbmV3IHZhbHVlLiBTdGF0ZVxuICAgKiBpcyB1cGRhdGVkIGltbXV0YWJseSB0byBlbnN1cmUgUmVhY3QgcmUtcmVuZGVycyBhcHByb3ByaWF0ZWx5LlxuICAgKi9cbiAgY29uc3QgaGFuZGxlVXJsQ2hhbmdlID0gKHNlY3Rpb25JZDogbnVtYmVyLCBpbmRleDogbnVtYmVyLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgc2V0RHJhZnRVcmxzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcHJldltzZWN0aW9uSWRdID8/IGdldERyYWZ0VXJscyhzZWN0aW9uSWQpO1xuICAgICAgY29uc3QgbmV4dCA9IFsuLi5jdXJyZW50XTtcbiAgICAgIG5leHRbaW5kZXhdID0gdmFsdWU7XG4gICAgICByZXR1cm4geyAuLi5wcmV2LCBbc2VjdGlvbklkXTogbmV4dCB9O1xuICAgIH0pO1xuICB9O1xuICAvLyBBZGQgYSBuZXcgYmxhbmsgVVJMIGlucHV0IHRvIGEgc2VjdGlvbi4gT3B0aW9uYWxseSBmb2N1cyB0aGUgbmV3bHlcbiAgLy8gY3JlYXRlZCBmaWVsZCBieSBwYXNzaW5nIGl0cyBpbmRleC5cbiAgY29uc3QgYWRkVXJsRmllbGQgPSAoc2VjdGlvbklkOiBudW1iZXIsIGZvY3VzSW5kZXg/OiBudW1iZXIpID0+IHtcbiAgICBzZXREcmFmdFVybHMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSBwcmV2W3NlY3Rpb25JZF0gPz8gZ2V0RHJhZnRVcmxzKHNlY3Rpb25JZCk7XG4gICAgICByZXR1cm4geyAuLi5wcmV2LCBbc2VjdGlvbklkXTogWy4uLmN1cnJlbnQsICcnXSB9O1xuICAgIH0pO1xuICAgIGlmIChmb2N1c0luZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1cmwtJHtzZWN0aW9uSWR9LSR7Zm9jdXNJbmRleH1gKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgZWw/LmZvY3VzKCk7XG4gICAgICB9LCAwKTtcbiAgICB9XG4gIH07XG4gIC8vIFJlbW92ZSBhIFVSTCBpbnB1dCBmcm9tIGEgc2VjdGlvbiBhdCBpbmRleC5cbiAgY29uc3QgcmVtb3ZlVXJsRmllbGQgPSAoc2VjdGlvbklkOiBudW1iZXIsIGluZGV4OiBudW1iZXIpID0+IHtcbiAgICBzZXREcmFmdFVybHMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnQgPSBwcmV2W3NlY3Rpb25JZF0gPz8gZ2V0RHJhZnRVcmxzKHNlY3Rpb25JZCk7XG4gICAgICByZXR1cm4geyAuLi5wcmV2LCBbc2VjdGlvbklkXTogY3VycmVudC5maWx0ZXIoKF8sIGkpID0+IGkgIT09IGluZGV4KSB9O1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUb2dnbGUgZWRpdCBtb2RlIGZvciBhIGdpdmVuIHNlY3Rpb24uIFdoZW4gaW4gZWRpdCBtb2RlIGFcbiAgICogdGV4dGFyZWEgaXMgZGlzcGxheWVkIGFsbG93aW5nIHRoZSB1c2VyIHRvIG1vZGlmeSB0aGUgcmF3IEhUTUxcbiAgICogdGVtcGxhdGUuIFNhdmluZyB3aWxsIHVwZGF0ZSB0aGUgdGVtcGxhdGUgY29sbGVjdGlvbiBhbmQgZXhpdFxuICAgKiBlZGl0IG1vZGUuXG4gICAqL1xuICAvLyBMZWdhY3kgdG9nZ2xlIGhhbmRsZXJzIHJlbW92ZWQuIEVkaXRpbmcgbW9kZXMgYXJlIG5vdyB0b2dnbGVkIGRpcmVjdGx5IHZpYSBpbmxpbmUgY2FsbGJhY2tzLlxuXG4gIC8qKlxuICAgKiBTYXZlIHRlbXBsYXRlIGVkaXRzIGZvciBlYWNoIHNlY3Rpb24uIFRoZSBtb2RpZmllZCBIVE1MIGlzXG4gICAqIHN0b3JlZCBiYWNrIGludG8gdGhlIGFwcHJvcHJpYXRlIHRlbXBsYXRlcyBhcnJheS4gRWRpdHMgYXJlXG4gICAqIHBlcnNpc3RlZCBpbnRvIGxvY2FsU3RvcmFnZSBpZiB0aGUgdGVtcGxhdGUgaXMgdXNlcuKAkWNyZWF0ZWQgKGkuZS5cbiAgICogbm90IHBhcnQgb2YgdGhlIGRlZmF1bHRzKS4gV2UgZG8gbm90IGRpZmZlcmVudGlhdGUgaGVyZSBidXRcbiAgICogc2ltcGx5IHVwZGF0ZSB0aGUgc2VsZWN0ZWQgdGVtcGxhdGUgaW4gcGxhY2UuXG4gICAqL1xuICBjb25zdCBzYXZlQm9keUVkaXRzID0gKCkgPT4ge1xuICAgIHNldEJvZHlUZW1wbGF0ZXMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgodCkgPT4gKHQuaWQgPT09IHNlbGVjdGVkQm9keUlkID8geyAuLi50LCBodG1sOiBkcmFmdEJvZHlIdG1sIH0gOiB0KSlcbiAgICApO1xuICAgIHNldEJvZHlFZGl0TW9kZShmYWxzZSk7XG4gIH07XG4gIGNvbnN0IHNhdmVIZWFkZXJFZGl0cyA9ICgpID0+IHtcbiAgICBzZXRIZWFkZXJUZW1wbGF0ZXMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgodCkgPT4gKHQuaWQgPT09IHNlbGVjdGVkSGVhZGVySWQgPyB7IC4uLnQsIGh0bWw6IGRyYWZ0SGVhZGVySHRtbCB9IDogdCkpXG4gICAgKTtcbiAgICBzZXRIZWFkZXJFZGl0TW9kZShmYWxzZSk7XG4gIH07XG4gIGNvbnN0IHNhdmVCYW5uZXJFZGl0cyA9ICgpID0+IHtcbiAgICBzZXRCYW5uZXJUZW1wbGF0ZXMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgodCkgPT4gKHQuaWQgPT09IHNlbGVjdGVkQmFubmVySWQgPyB7IC4uLnQsIGh0bWw6IGRyYWZ0QmFubmVySHRtbCB9IDogdCkpXG4gICAgKTtcbiAgICBzZXRCYW5uZXJFZGl0TW9kZShmYWxzZSk7XG4gIH07XG4gIGNvbnN0IHNhdmVGb290ZXJFZGl0cyA9ICgpID0+IHtcbiAgICBzZXRGb290ZXJUZW1wbGF0ZXMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgodCkgPT4gKHQuaWQgPT09IHNlbGVjdGVkRm9vdGVySWQgPyB7IC4uLnQsIGh0bWw6IGRyYWZ0Rm9vdGVySHRtbCB9IDogdCkpXG4gICAgKTtcbiAgICBzZXRGb290ZXJFZGl0TW9kZShmYWxzZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBhIG5ldyBjdXN0b20gdGVtcGxhdGUgdG8gYSBzZWN0aW9uLiBFYWNoIHRlbXBsYXRlIG11c3RcbiAgICogcHJvdmlkZSBhIHVuaXF1ZSBpZC4gV2UgZ2VuZXJhdGUgb25lIGJ5IHNsdWdpZnlpbmcgdGhlIG5hbWVcbiAgICogYW5kIGFwcGVuZGluZyBhIHRpbWVzdGFtcC4gTmV3IHRlbXBsYXRlcyBhcmUgcGVyc2lzdGVkIGluXG4gICAqIGxvY2FsU3RvcmFnZSBzbyB0aGV5IHN1cnZpdmUgcGFnZSByZWxvYWRzLlxuICAgKi9cbiAgY29uc3QgYWRkTmV3Qm9keVRlbXBsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBuZXdCb2R5TmFtZS50cmltKCk7XG4gICAgY29uc3QgaHRtbCA9IG5ld0JvZHlIdG1sLnRyaW0oKTtcbiAgICBpZiAoIW5hbWUgfHwgIWh0bWwpIHJldHVybjtcbiAgICBjb25zdCBpZCA9IGAke25hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9LSR7RGF0ZS5ub3coKX1gO1xuICAgIGNvbnN0IG5ld1RlbXBsYXRlOiBCb2R5VGVtcGxhdGUgPSB7IGlkLCBuYW1lLCBodG1sIH07XG4gICAgc2V0Qm9keVRlbXBsYXRlcygocHJldikgPT4gWy4uLnByZXYsIG5ld1RlbXBsYXRlXSk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbVRlbXBsYXRlcycpO1xuICAgICAgICBjb25zdCBsaXN0OiBCb2R5VGVtcGxhdGVbXSA9IHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IFtdO1xuICAgICAgICBsaXN0LnB1c2gobmV3VGVtcGxhdGUpO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1c3RvbVRlbXBsYXRlcycsIEpTT04uc3RyaW5naWZ5KGxpc3QpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgY3VzdG9tIGJvZHkgdGVtcGxhdGUnLCBlcnIpO1xuICAgIH1cbiAgICBzZXROZXdCb2R5TmFtZSgnJyk7XG4gICAgc2V0TmV3Qm9keUh0bWwoJycpO1xuICB9O1xuICBjb25zdCBhZGROZXdIZWFkZXJUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gbmV3SGVhZGVyTmFtZS50cmltKCk7XG4gICAgY29uc3QgaHRtbCA9IG5ld0hlYWRlckh0bWwudHJpbSgpO1xuICAgIGlmICghbmFtZSB8fCAhaHRtbCkgcmV0dXJuO1xuICAgIGNvbnN0IGlkID0gYCR7bmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKX0tJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3QgbmV3VGVtcGxhdGU6IEhlYWRlclRlbXBsYXRlID0geyBpZCwgbmFtZSwgaHRtbCB9O1xuICAgIHNldEhlYWRlclRlbXBsYXRlcygocHJldikgPT4gWy4uLnByZXYsIG5ld1RlbXBsYXRlXSk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUhlYWRlclRlbXBsYXRlcycpO1xuICAgICAgICBjb25zdCBsaXN0OiBIZWFkZXJUZW1wbGF0ZVtdID0gc3RvcmVkID8gSlNPTi5wYXJzZShzdG9yZWQpIDogW107XG4gICAgICAgIGxpc3QucHVzaChuZXdUZW1wbGF0ZSk7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VzdG9tSGVhZGVyVGVtcGxhdGVzJywgSlNPTi5zdHJpbmdpZnkobGlzdCkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc2F2ZSBjdXN0b20gaGVhZGVyIHRlbXBsYXRlJywgZXJyKTtcbiAgICB9XG4gICAgc2V0TmV3SGVhZGVyTmFtZSgnJyk7XG4gICAgc2V0TmV3SGVhZGVySHRtbCgnJyk7XG4gIH07XG4gIGNvbnN0IGFkZE5ld0Jhbm5lclRlbXBsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBuZXdCYW5uZXJOYW1lLnRyaW0oKTtcbiAgICBjb25zdCBodG1sID0gbmV3QmFubmVySHRtbC50cmltKCk7XG4gICAgaWYgKCFuYW1lIHx8ICFodG1sKSByZXR1cm47XG4gICAgY29uc3QgaWQgPSBgJHtuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpfS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBuZXdUZW1wbGF0ZTogQmFubmVyVGVtcGxhdGUgPSB7IGlkLCBuYW1lLCBodG1sIH07XG4gICAgc2V0QmFubmVyVGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3VGVtcGxhdGVdKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tQmFubmVyVGVtcGxhdGVzJyk7XG4gICAgICAgIGNvbnN0IGxpc3Q6IEJhbm5lclRlbXBsYXRlW10gPSBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgICAgICAgbGlzdC5wdXNoKG5ld1RlbXBsYXRlKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXN0b21CYW5uZXJUZW1wbGF0ZXMnLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIGN1c3RvbSBiYW5uZXIgdGVtcGxhdGUnLCBlcnIpO1xuICAgIH1cbiAgICBzZXROZXdCYW5uZXJOYW1lKCcnKTtcbiAgICBzZXROZXdCYW5uZXJIdG1sKCcnKTtcbiAgfTtcbiAgY29uc3QgYWRkTmV3Rm9vdGVyVGVtcGxhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IG5ld0Zvb3Rlck5hbWUudHJpbSgpO1xuICAgIGNvbnN0IGh0bWwgPSBuZXdGb290ZXJIdG1sLnRyaW0oKTtcbiAgICBpZiAoIW5hbWUgfHwgIWh0bWwpIHJldHVybjtcbiAgICBjb25zdCBpZCA9IGAke25hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9LSR7RGF0ZS5ub3coKX1gO1xuICAgIGNvbnN0IG5ld1RlbXBsYXRlOiBGb290ZXJUZW1wbGF0ZSA9IHsgaWQsIG5hbWUsIGh0bWwgfTtcbiAgICBzZXRGb290ZXJUZW1wbGF0ZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdUZW1wbGF0ZV0pO1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21Gb290ZXJUZW1wbGF0ZXMnKTtcbiAgICAgICAgY29uc3QgbGlzdDogRm9vdGVyVGVtcGxhdGVbXSA9IHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IFtdO1xuICAgICAgICBsaXN0LnB1c2gobmV3VGVtcGxhdGUpO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1c3RvbUZvb3RlclRlbXBsYXRlcycsIEpTT04uc3RyaW5naWZ5KGxpc3QpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgY3VzdG9tIGZvb3RlciB0ZW1wbGF0ZScsIGVycik7XG4gICAgfVxuICAgIHNldE5ld0Zvb3Rlck5hbWUoJycpO1xuICAgIHNldE5ld0Zvb3Rlckh0bWwoJycpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBFRE06IHNlbmRzIHRoZSBsaXN0IG9mIHByb2R1Y3QgVVJMcyB0byB0aGUgQVBJIHJvdXRlXG4gICAqIHdoaWNoIGZldGNoZXMgYW5kIHBhcnNlcyB0aGUgcHJvZHVjdCBkZXRhaWxzLiBSZXR1cm5zIHRoZSByYXdcbiAgICogSFRNTCAodW51c2VkIGhlcmUpIGFuZCBhIGxpc3Qgb2YgcHJvZHVjdCBvYmplY3RzLiBXZSBpZ25vcmVcbiAgICogdGhlIHJldHVybmVkIEhUTUwgYW5kIGJ1aWxkIG91ciBvd24gdXNpbmcgdGVtcGxhdGVzLiBJZiB0aGVcbiAgICogc2VydmVyIHJlc3BvbmRzIHdpdGggYW4gZXJyb3Igd2UgYWxlcnQgdGhlIHVzZXIuXG4gICAqL1xuICAvKipcbiAgICogR2VuZXJhdGUgYSBzaW5nbGUgYm9keSBzZWN0aW9uLiBTZW5kcyB0aGUgc2VjdGlvbidzIHByb2R1Y3QgVVJMcyB0b1xuICAgKiB0aGUgQVBJIHJvdXRlIHdoaWNoIGZldGNoZXMgYW5kIHBhcnNlcyB0aGUgcHJvZHVjdCBkZXRhaWxzLiBUaGVcbiAgICogcGFyc2VkIHByb2R1Y3RzIGFyZSBzdG9yZWQgb24gdGhlIHNlY3Rpb24gYW5kIHRoZSBsb2FkaW5nIGZsYWdcbiAgICogY2xlYXJlZC4gSWYgbm8gVVJMcyBhcmUgcHJvdmlkZWQgYW4gYWxlcnQgaXMgc2hvd24uIEFmdGVyIHRoZVxuICAgKiBmaXJzdCBzdWNjZXNzZnVsIGdlbmVyYXRpb24gdGhlIGhlcm8gaW1hZ2UgaXMgYXV0b21hdGljYWxseVxuICAgKiBmZXRjaGVkIGJhc2VkIG9uIHRoZSBvcmlnaW4gb2YgdGhlIGZpcnN0IHByb2R1Y3QgVVJMIGlmIG5vIGhlcm9cbiAgICogaW1hZ2UgaGFzIGJlZW4gc2V0IHlldC5cbiAgICovXG4gIGNvbnN0IGdlbmVyYXRlU2VjdGlvbiA9IGFzeW5jIChzZWN0aW9uSWQ6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHNlY3Rpb24gPSBib2R5U2VjdGlvbnMuZmluZCgocykgPT4gcy5pZCA9PT0gc2VjdGlvbklkKTtcbiAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcbiAgICAvLyBBbHdheXMgdXBkYXRlIHRoZSBzZWN0aW9uJ3MgVVJMcyB3aXRoIHRoZSBsYXRlc3QgZHJhZnQgYmVmb3JlIGdlbmVyYXRpbmdcbiAgICBjb25zdCBmaWx0ZXJlZCA9IChkcmFmdFVybHNbc2VjdGlvbklkXSA/PyBzZWN0aW9uLnVybHMpLm1hcCgodSkgPT4gdS50cmltKCkpLmZpbHRlcigodSkgPT4gdSk7XG4gICAgaWYgKGZpbHRlcmVkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgYWxlcnQoJ1BsZWFzZSBwcm92aWRlIGF0IGxlYXN0IG9uZSBwcm9kdWN0IFVSTC4nKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gU2F2ZSB0aGUgbGF0ZXN0IFVSTHMgdG8gdGhlIHNlY3Rpb24gaW1tZWRpYXRlbHkgc28gcHJldmlldyB1cGRhdGVzIG9uIGZpcnN0IGNsaWNrXG4gICAgc2V0Qm9keVNlY3Rpb25zKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHMpID0+XG4gICAgICAgIHMuaWQgPT09IHNlY3Rpb25JZCA/IHsgLi4ucywgdXJsczogWy4uLmZpbHRlcmVkXSwgbG9hZGluZzogdHJ1ZSwgcHJvZHVjdHM6IFtdIH0gOiBzXG4gICAgICApXG4gICAgKTtcbiAgICB0cnkge1xuICAgICAgLy8gU3RhcnQgbG9hZGluZyBiYXIgaW1tZWRpYXRlbHlcbiAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRQcm9ncmVzcygwKTtcbiAgICAgIHNldEJ1ZmZlcigxNSk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgnL2FwaS9nZW5lcmF0ZScsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVybHM6IGZpbHRlcmVkLCB0ZW1wbGF0ZUlkOiBzZWN0aW9uLnNlbGVjdGVkQm9keUlkIH0pXG4gICAgICB9KTtcbiAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgJHtyZXMuc3RhdHVzfWApO1xuICAgICAgfVxuICAgICAgLy8gUmVzcG9uc2UgcmVjZWl2ZWRcbiAgICAgIHNldFByb2dyZXNzKDIwKTtcbiAgICAgIHNldEJ1ZmZlcig0MCk7XG4gICAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIEdlbmVyYXRlUmVzcG9uc2U7XG4gICAgICAvLyBQYXJzZWQgSlNPTlxuICAgICAgc2V0UHJvZ3Jlc3MoMzApO1xuICAgICAgc2V0QnVmZmVyKDUwKTtcbiAgICAgIGNvbnN0IHByb2Nlc3NlZDogUHJvZHVjdERhdGFbXSA9IFtdO1xuICAgICAgY29uc3QgdmFsaWRVcmxzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgY29uc3QgdG90YWxJdGVtcyA9IE1hdGgubWF4KDEsIGRhdGEucHJvZHVjdHMubGVuZ3RoIHx8IDApO1xuICAgICAgZGF0YS5wcm9kdWN0cy5mb3JFYWNoKChwOiBhbnksIGlkeDogbnVtYmVyKSA9PiB7XG4gICAgICAgIGNvbnN0IGhhc0luZm8gPSBPYmplY3Qua2V5cyhwIHx8IHt9KS5zb21lKFxuICAgICAgICAgIChrZXkpID0+IGtleSAhPT0gJ3VybCcgJiYgcFtrZXldXG4gICAgICAgICk7XG4gICAgICAgIGlmICghaGFzSW5mbykge1xuICAgICAgICAgIGNvbnN0IGJhZFVybCA9IGZpbHRlcmVkW2lkeF0gfHwgcC51cmwgfHwgJ1Vua25vd24gVVJMJztcbiAgICAgICAgICBhZGROb3RpZmljYXRpb24oYEVycm9yIG9uIGZldGNoaW5nIGRhdGEgZnJvbSB0aGUgdXJsICR7YmFkVXJsfWApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZFVybHMucHVzaChmaWx0ZXJlZFtpZHhdKTtcbiAgICAgICAgcHJvY2Vzc2VkLnB1c2goe1xuICAgICAgICAgIHVybDogcC51cmwsXG4gICAgICAgICAgcHJldGl0bGU6IHAucHJldGl0bGUgfHwgJycsXG4gICAgICAgICAgdGl0bGU6IHAudGl0bGUgfHwgJycsXG4gICAgICAgICAgcHJpY2U6IHAucHJpY2UgfHwgJycsXG4gICAgICAgICAgb3JpZ2luYWxQcmljZTogcC5vcmlnaW5hbFByaWNlIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAvLyBBZGRpdGlvbmFsIGRlc2NyaXB0aW9uIHNvdXJjZXMgc2NyYXBlZCBmcm9tIC5wcm9kdWN0X19kZXNjcmlwdGlvblxuICAgICAgICAgIC8vIChwbGFpbiB0ZXh0IGZyb20gPHA+IGFuZCBqb2luZWQgdGV4dCBmcm9tIDx1bD4pXG4gICAgICAgICAgZGVzY3JpcHRpb25QOiBwLmRlc2NyaXB0aW9uUCB8fCAnJyxcbiAgICAgICAgICBkZXNjcmlwdGlvblVsOiBwLmRlc2NyaXB0aW9uVWwgfHwgJycsXG4gICAgICAgICAgaW1hZ2U6IHAuaW1hZ2UgfHwgJycsXG4gICAgICAgICAgaW1hZ2VzOiBBcnJheS5pc0FycmF5KHAuaW1hZ2VzKSA/IHAuaW1hZ2VzIDogdW5kZWZpbmVkLFxuICAgICAgICAgIGN0YTogcC5jdGEgfHwgcC51cmwsXG4gICAgICAgICAgY3RhTGFiZWw6IChwIGFzIGFueSkuY3RhTGFiZWwgfHwgJ1NIT1AgTk9XJ1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gUHJvY2VzcyBpdGVtcyBsaW5lYXJseTogYWR2YW5jZSBmcm9tIDMwJSB1cCB0byA5MCVcbiAgICAgICAgY29uc3QgcGN0ID0gMzAgKyBNYXRoLnJvdW5kKCgoaWR4ICsgMSkgLyB0b3RhbEl0ZW1zKSAqIDYwKTtcbiAgICAgICAgY29uc3QgcHJvZyA9IE1hdGgubWluKDkwLCBwY3QpO1xuICAgICAgICBzZXRQcm9ncmVzcyhwcm9nKTtcbiAgICAgICAgc2V0QnVmZmVyKE1hdGgubWluKDEwMCwgcHJvZyArIDEwKSk7XG4gICAgICB9KTtcbiAgICAgIC8vIEZpbmFsIGNvbXBvc2l0aW9uXG4gICAgICBzZXRQcm9ncmVzcyg5NSk7XG4gICAgICBzZXRCdWZmZXIoMTAwKTtcbiAgICAgIHNldEJvZHlTZWN0aW9ucygocHJldikgPT5cbiAgICAgICAgcHJldi5tYXAoKHMpID0+XG4gICAgICAgICAgcy5pZCA9PT0gc2VjdGlvbklkXG4gICAgICAgICAgICA/IHsgLi4ucywgcHJvZHVjdHM6IHByb2Nlc3NlZCwgdXJsczogWy4uLnZhbGlkVXJscywgJyddLCBsb2FkaW5nOiBmYWxzZSB9XG4gICAgICAgICAgICA6IHNcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHNldERyYWZ0VXJscygocHJldikgPT4gKHsgLi4ucHJldiwgW3NlY3Rpb25JZF06IFsuLi52YWxpZFVybHMsICcnXSB9KSk7XG4gICAgICBzZXRQcm9ncmVzcygxMDApOyAvLyBjb21wbGV0ZVxuICAgICAgLy8gSGlkZSBhZnRlciBhIHNob3J0IGRlbGF5IHRvIGF2b2lkIGZsaWNrZXIsIHRoZW4gcmVzZXRcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgc2V0UHJvZ3Jlc3MoLTEpO1xuICAgICAgICBzZXRCdWZmZXIoLTEpO1xuICAgICAgfSwgMjAwKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0dlbmVyYXRpb24gZmFpbGVkJywgZXJyb3IpO1xuICBjb25zb2xlLmxvZyhgRmFpbGVkIHRvIGdlbmVyYXRlIHByb2R1Y3RzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBzZXRCb2R5U2VjdGlvbnMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChzKSA9PiAocy5pZCA9PT0gc2VjdGlvbklkID8geyAuLi5zLCBsb2FkaW5nOiBmYWxzZSB9IDogcykpXG4gICAgICApO1xuICAgICAgLy8gRW5zdXJlIHRoZSBsb2FkaW5nIGJhciBoaWRlcyBvbiBlcnJvclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICBzZXRQcm9ncmVzcygtMSk7XG4gICAgICBzZXRCdWZmZXIoLTEpO1xuICAgIH1cbiAgfTtcbiAgLy8gQXV0b21hdGljYWxseSBnZW5lcmF0ZSB0aGUgZmlyc3QgYm9keSBzZWN0aW9uIHdoZW4gaXQgaXMgY3JlYXRlZCAoYWZ0ZXIgdXNlciBzdWJtaXRzIHByb2R1Y3QgVVJMKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChcbiAgICAgIGJvZHlTZWN0aW9ucy5sZW5ndGggPT09IDEgJiZcbiAgICAgIGJvZHlTZWN0aW9uc1swXS5wcm9kdWN0cy5sZW5ndGggPT09IDAgJiZcbiAgICAgIGJvZHlTZWN0aW9uc1swXS51cmxzWzBdICYmXG4gICAgICAhYm9keVNlY3Rpb25zWzBdLmxvYWRpbmdcbiAgICApIHtcbiAgICAgIGdlbmVyYXRlU2VjdGlvbihib2R5U2VjdGlvbnNbMF0uaWQpO1xuICAgIH1cbiAgfSwgW2JvZHlTZWN0aW9uc10pO1xuXG4gIC8vIEZldGNoIGluaXRpYWwgcHJvZHVjdCBkYXRhIGZvciB0aGUgZmlyc3QgYm9keSBzZWN0aW9uIG9uIHBhZ2UgbG9hZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGdlbmVyYXRlU2VjdGlvbigxKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogR2VuZXJhdGUgYWxsIHNlY3Rpb25zIGluIHRoZSBFRE0uIEl0ZXJhdGVzIHRocm91Z2ggZWFjaCBib2R5IHNlY3Rpb25cbiAgICogc2VxdWVudGlhbGx5IGFuZCB0cmlnZ2VycyBpdHMgZ2VuZXJhdGlvbi4gVGhpcyBpcyBpbnZva2VkIGJ5IHRoZVxuICAgKiB1bml2ZXJzYWwgXCJHZW5lcmF0ZSBFRE1cIiBidXR0b24gYW5kIHVwZGF0ZXMgdGhlIHByZXZpZXcgYW5kXG4gICAqIGNvZGUgZm9yIGV2ZXJ5IG1vZHVsZS5cbiAgICovXG4gIGNvbnN0IGdlbmVyYXRlQWxsU2VjdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gRGVsZWdhdGUgcHJvZ3Jlc3MgdXBkYXRlcyB0byBlYWNoIHNlY3Rpb24ncyBnZW5lcmF0aW9uIHRvIGF2b2lkIGNvbmZsaWN0aW5nIHZhbHVlc1xuICAgIGZvciAoY29uc3Qgc2VjdGlvbiBvZiBib2R5U2VjdGlvbnMpIHtcbiAgICAgIGF3YWl0IGdlbmVyYXRlU2VjdGlvbihzZWN0aW9uLmlkKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhIHByb2R1Y3QgZmllbGQgaW4gcmVzcG9uc2UgdG8gZWRpdHMgbWFkZSBpbiB0aGUgcHJldmlldy5cbiAgICogVGhpcyBlbnN1cmVzIHR3b+KAkXdheSBiaW5kaW5nIGJldHdlZW4gdGhlIGVkaXRhYmxlIHByZXZpZXcgYW5kXG4gICAqIHRoZSB1bmRlcmx5aW5nIGRhdGEgbW9kZWwuIFVwZGF0aW5nIHRoZSBzdGF0ZSB0cmlnZ2VycyB0aGVcbiAgICogZWZmZWN0IGJlbG93IHdoaWNoIHJlY29tcHV0ZXMgdGhlIEhUTUwuXG4gICAqL1xuICAvKipcbiAgICogVXBkYXRlIGEgZmllbGQgd2l0aGluIGEgcHJvZHVjdCBpbnNpZGUgYSBzcGVjaWZpYyBib2R5IHNlY3Rpb24uIEVkaXRzXG4gICAqIG1hZGUgaW4gdGhlIHByZXZpZXcgdXBkYXRlIHRoZSB1bmRlcmx5aW5nIHByb2R1Y3QgYXJyYXkgd2hpY2hcbiAgICogdHJpZ2dlcnMgYSByZeKAkXJlbmRlciBvZiB0aGUgY29tcG9zZWQgSFRNTC5cbiAgICovXG4gIGNvbnN0IHVwZGF0ZVByb2R1Y3RJblNlY3Rpb24gPSAoc2VjdGlvbklkOiBudW1iZXIsIGluZGV4OiBudW1iZXIsIGZpZWxkOiBrZXlvZiBQcm9kdWN0RGF0YSwgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldEJvZHlTZWN0aW9ucygocHJldikgPT5cbiAgICAgIHByZXYubWFwKChzZWN0aW9uKSA9PiB7XG4gICAgICAgIGlmIChzZWN0aW9uLmlkICE9PSBzZWN0aW9uSWQpIHJldHVybiBzZWN0aW9uO1xuICAgICAgICBjb25zdCBuZXdQcm9kdWN0cyA9IFsuLi5zZWN0aW9uLnByb2R1Y3RzXTtcbiAgICAgICAgY29uc3QgcHJvZCA9IHsgLi4ubmV3UHJvZHVjdHNbaW5kZXhdIH0gYXMgYW55O1xuICAgICAgICBwcm9kW2ZpZWxkXSA9IHZhbHVlO1xuICAgICAgICBuZXdQcm9kdWN0c1tpbmRleF0gPSBwcm9kO1xuICAgICAgICByZXR1cm4geyAuLi5zZWN0aW9uLCBwcm9kdWN0czogbmV3UHJvZHVjdHMgfTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgSFRNTCBmb3IgaGVhZGVyLCBib2R5IGFuZCBmb290ZXIgd2hlbmV2ZXIgdGhlIGRhdGFcbiAgICogb3Igc2VsZWN0ZWQgdGVtcGxhdGVzIGNoYW5nZS4gQ29sb3VycyBhcmUgbGltaXRlZCB0byB0aHJlZSBhbmRcbiAgICogYSArbiBpbmRpY2F0b3IgaXMgYWRkZWQgaWYgYWRkaXRpb25hbCBjb2xvdXJzIGFyZSBhdmFpbGFibGUuXG4gICAqL1xuLy9cbi8vIFRoZSBib2R5LCBoZWFkZXIgYW5kIGZvb3RlciBIVE1MIGlzIG5vdyBjb21wdXRlZCBpbiBhIHNpbmdsZVxuLy8gdXNlRWZmZWN0IGRlZmluZWQgZWFybGllciAoc2VlIE9wdGlvbsKgQSBpbXBsZW1lbnRhdGlvbikuIFRoZVxuLy8gZm9sbG93aW5nIGxlZ2FjeSBlZmZlY3QgaGFzIGJlZW4gcmVtb3ZlZCB0byBwcmV2ZW50IGR1cGxpY2F0ZVxuLy8gdXBkYXRlcyBhbmQgaW5jb25zaXN0ZW50IG91dHB1dC5cblxuICAvKipcbiAgICogQ29weSBhIGdpdmVuIHN0cmluZyB0byB0aGUgY2xpcGJvYXJkLiBGZWVkYmFjayBjb3VsZCBiZSBhZGRlZFxuICAgKiBsYXRlciAoZS5nLiB0b2FzdCBub3RpZmljYXRpb25zKSBidXQgaXMgb21pdHRlZCBmb3IgYnJldml0eS5cbiAgICovXG4gIGNvbnN0IGNvcHlUb0NsaXBib2FyZCA9ICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLmNsaXBib2FyZCkge1xuICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQodGV4dClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbignQ29kZSBjb3BpZWQhJyk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gY29weSB0byBjbGlwYm9hcmQnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBoaWdobGlnaHQgSFRNTCBmb3IgY29kZSBkaXNwbGF5LiBQcmlzbSByZXR1cm5zIGFuXG4gICAqIEhUTUwgc3RyaW5nIGNvbnRhaW5pbmcgPHNwYW4+IGVsZW1lbnRzIHdpdGggY2xhc3NlcyBmb3IgZWFjaFxuICAgKiB0b2tlbi4gV2Ugc2V0IHRoZSBsYW5ndWFnZSB0byBtYXJrdXAgc2luY2Ugb3VyIHRlbXBsYXRlcyBhcmVcbiAgICogSFRNTC5cbiAgICovXG4gIGNvbnN0IGhpZ2hsaWdodCA9IChjb2RlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBQcmlzbSA9IHByaXNtUmVmLmN1cnJlbnQ7XG4gICAgLy8gSWYgUHJpc20gaGFzIG5vdCBsb2FkZWQgeWV0LCByZXR1cm4gdGhlIHJhdyBjb2RlLiBUaGlzIGF2b2lkc1xuICAgIC8vIHJ1bnRpbWUgZXJyb3JzIGR1cmluZyBpbml0aWFsIHJlbmRlciBvciBzZXJ2ZXLigJFzaWRlIHJlbmRlcmluZy5cbiAgICBpZiAoIVByaXNtKSByZXR1cm4gY29kZTtcbiAgICByZXR1cm4gUHJpc20uaGlnaGxpZ2h0KGNvZGUsIFByaXNtLmxhbmd1YWdlcy5tYXJrdXAsICdtYXJrdXAnKTtcbiAgfTtcblxuICBjb25zdCBhdmFpbGFibGVTZWN0aW9uVHlwZXMgPSBbXG4gICAgLi4uKCFzaG93SGVhZGVyU2VjdGlvbiA/IFt7IGtleTogJ2hlYWRlcicsIGxhYmVsOiAnSGVhZGVyJyB9XSA6IFtdKSxcbiAgICAuLi4oIXNob3dIZXJvU2VjdGlvbiA/IFt7IGtleTogJ2hlcm8nLCBsYWJlbDogJ0hlcm8nIH1dIDogW10pLFxuICAgIHsga2V5OiAnYm9keScsIGxhYmVsOiAnQm9keScgfSxcbiAgICAuLi4oIXNob3dCYW5uZXJTZWN0aW9uID8gW3sga2V5OiAnYmFubmVyJywgbGFiZWw6ICdCYW5uZXInIH1dIDogW10pLFxuICAgIC4uLighc2hvd0Zvb3RlclNlY3Rpb24gPyBbeyBrZXk6ICdmb290ZXInLCBsYWJlbDogJ0Zvb3RlcicgfV0gOiBbXSksXG4gIF07XG5cbiAgLy8gVG9wIGhlYWRpbmcgbW92ZWQgaW50byBBcHBCYXIgdmlhIEFwcExheW91dFxuXG4gIGlmICghYnJhbmRXZWJzaXRlKSB7XG4gICAgLy8gU2hvdyBhIHNpbXBsZSBkaWFsb2cgdG8gcHJvbXB0IGZvciBhIHByb2R1Y3QgVVJMXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLCBoZWlnaHQ6ICcxMDB2aCcsIGJhY2tncm91bmQ6ICcjZmFmYmZjJyB9fT5cbiAgICAgICAgPGZvcm0gb25TdWJtaXQ9e2hhbmRsZUJyYW5kVXJsU3VibWl0fSBzdHlsZT17eyBiYWNrZ3JvdW5kOiAnI2ZmZicsIHBhZGRpbmc6IDMyLCBib3JkZXJSYWRpdXM6IDgsIGJveFNoYWRvdzogJzAgNHB4IDI0cHggcmdiYSgwLDAsMCwwLjA4KScgfX0+XG4gICAgICAgICAgPGgyIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMTYgfX0+RW50ZXIgYSBwcm9kdWN0IFVSTCB0byBnZXQgc3RhcnRlZDwvaDI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidXJsXCJcbiAgICAgICAgICAgIHZhbHVlPXticmFuZFVybElucHV0fVxuICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gc2V0QnJhbmRVcmxJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cImh0dHBzOi8veW91cnN0b3JlLmNvbS9wcm9kdWN0cy9leGFtcGxlXCJcbiAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiAzNjAsIHBhZGRpbmc6IDgsIGZvbnRTaXplOiAxNiwgYm9yZGVyUmFkaXVzOiA0LCBib3JkZXI6ICcxcHggc29saWQgI2NjYycsIG1hcmdpbkJvdHRvbTogMTYgfX1cbiAgICAgICAgICAgIHJlcXVpcmVkXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHRleHRBbGlnbjogJ3JpZ2h0JyB9fT5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cInN1Ym1pdFwiIHN0eWxlPXt7IHBhZGRpbmc6ICc4cHggMjBweCcsIGZvbnRTaXplOiAxNiwgYm9yZGVyUmFkaXVzOiA0LCBiYWNrZ3JvdW5kOiAnI2QxOWFhMCcsIGNvbG9yOiAnI2ZmZicsIGJvcmRlcjogJ25vbmUnLCBjdXJzb3I6ICdwb2ludGVyJyB9fT5Db250aW51ZTwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Zvcm0+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5FRE0gRXhwcmVzc288L3RpdGxlPlxuICAgICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwiQnVpbGQgbW9kdWxhciBFRE1zIGZyb20gcHJvZHVjdCBwYWdlc1wiIC8+XG4gICAgICA8L0hlYWQ+XG4gICAgICA8QXBwTGF5b3V0XG4gICAgICAgIHRpdGxlPVwiRURNIEVzcHJlc3NvXCJcbiAgICAgICAgbGVmdD17PGRpdiBjbGFzc05hbWU9e2BhY2NvcmRpb24tbGlzdCR7b3BlblNlY3Rpb24gPyAnIGhhcy1vcGVuJyA6ICcnfWB9IHN0eWxlPXt7IGhlaWdodDogJzEwMCUnLCBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nIH19PlxuICAgICAgICAgICAgey8qIEJ1dHRvbiB0byBhZGQgYW5vdGhlciBib2R5IHNlY3Rpb24gKi99XG4gICAgICAgICAgICB7LyogVGhlIEFkZCBCb2R5IFNlY3Rpb24gYnV0dG9uIGhhcyBiZWVuIHJlbG9jYXRlZCB0byB0aGUgYm90dG9tIHJvd1xuICAgICAgICAgICAgICAgbmV4dCB0byB0aGUgR2VuZXJhdGUgRURNIGJ1dHRvbi4gVGhlIG9yaWdpbmFsIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgaGFzIGJlZW4gcmVtb3ZlZCB0byBhdm9pZCBkdXBsaWNhdGUgY29udHJvbHMuICovfVxuICAgICAgICAgICAgey8qIEhlYWRlciBzZWN0aW9uICovfVxuICAgICAgICAgICAge3Nob3dIZWFkZXJTZWN0aW9uICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BhY2NvcmRpb24tc2VjdGlvbiR7b3BlblNlY3Rpb24gPT09ICdoZWFkZXInID8gJyBvcGVuJyA6ICcnfWB9PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLWhlYWRlciR7b3BlblNlY3Rpb24gPT09ICdoZWFkZXInID8gJyBvcGVuJyA6ICcnfWB9IG9uQ2xpY2s9eygpID0+IGhhbmRsZUFjY29yZGlvblRvZ2dsZSgnaGVhZGVyJyl9PlxuICAgICAgICAgICAgICAgICAgPHNwYW4+SGVhZGVyPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5MZWZ0OiAnYXV0bycsIGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJ3ZhcigtLWdhcC0yKScgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVIZWFkZXJTZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIlJlbW92ZSBzZWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxEZWxldGVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlQWNjb3JkaW9uVG9nZ2xlKCdoZWFkZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtvcGVuU2VjdGlvbiA9PT0gJ2hlYWRlcicgPyAnQ29sbGFwc2Ugc2VjdGlvbicgOiAnRXhwYW5kIHNlY3Rpb24nfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge29wZW5TZWN0aW9uID09PSAnaGVhZGVyJyA/IDxFeHBhbmRMZXNzSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+IDogPEV4cGFuZE1vcmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz59XG4gICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIHtvcGVuU2VjdGlvbiA9PT0gJ2hlYWRlcicgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhY2NvcmRpb24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICB7LyogUmVuZGVyIG9ubHkgdGhlIGFjdGl2ZSBoZWFkZXIgdGVtcGxhdGUgdGh1bWJuYWlsICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleFdyYXA6ICd3cmFwJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVRwbCA9IGhlYWRlclRlbXBsYXRlcy5maW5kKHRwbCA9PiB0cGwuaWQgPT09IHNlbGVjdGVkSGVhZGVySWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3RpdmVUcGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2FjdGl2ZVRwbC5pZH0gc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgYWxpZ25JdGVtczogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEh0bWxUaHVtYm5haWwgaHRtbD17YWN0aXZlVHBsLmh0bWx9IHdpZHRoPXs2MDB9IGZvcmNlQXV0b0hlaWdodCAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBUZW1wbGF0ZSBzZWxlY3RvciByb3cgLSBtb3ZlZCBiZWxvdyB0aHVtYm5haWxzICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBsYXRlLXJvd1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIG1hcmdpblRvcDogJzFyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgICAgIDxGb3JtQ29udHJvbCBmdWxsV2lkdGggdmFyaWFudD1cIm91dGxpbmVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRMYWJlbCBpZD1cImhlYWRlci10ZW1wbGF0ZS1sYWJlbFwiPlRlbXBsYXRlPC9JbnB1dExhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBsYWJlbElkPVwiaGVhZGVyLXRlbXBsYXRlLWxhYmVsXCIgaWQ9XCJoZWFkZXItdGVtcGxhdGUtc2VsZWN0XCIgbGFiZWw9XCJUZW1wbGF0ZVwiIHZhbHVlPXtzZWxlY3RlZEhlYWRlcklkfSBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkSGVhZGVySWQoZS50YXJnZXQudmFsdWUpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2hlYWRlclRlbXBsYXRlcy5tYXAoKHRwbCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBrZXk9e3RwbC5pZH0gdmFsdWU9e3RwbC5pZH0+e3RwbC5uYW1lfTwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRIZWFkZXJFZGl0TW9kZSgodikgPT4gIXYpfSB0aXRsZT17aGVhZGVyRWRpdE1vZGUgPyAnQ2xvc2UgZWRpdG9yJyA6ICdFZGl0IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgICAgICAgICA8RWRpdEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TmV3SGVhZGVyKCh2KSA9PiAhdil9IHRpdGxlPXtzaG93TmV3SGVhZGVyID8gJ0NhbmNlbCBuZXcgdGVtcGxhdGUnIDogJ0FkZCBuZXcgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBZGRJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7aGVhZGVyRWRpdE1vZGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiaGVhZGVyLWRyYWZ0LWh0bWxcIiBsYWJlbD1cIlRlbXBsYXRlIEhUTUxcIiB2YWx1ZT17ZHJhZnRIZWFkZXJIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldERyYWZ0SGVhZGVySHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezh9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LXRlbXBsYXRlLWFjdGlvbnNcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIG1hcmdpblRvcDogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEhlYWRlckVkaXRNb2RlKGZhbHNlKX0gdGl0bGU9XCJDYW5jZWwgZWRpdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNhdmVIZWFkZXJFZGl0cygpOyBzZXRIZWFkZXJFZGl0TW9kZShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7c2hvd05ld0hlYWRlciAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtZm9ybVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImhlYWRlci1uZXctbmFtZVwiIGxhYmVsPVwiVGVtcGxhdGUgbmFtZVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e25ld0hlYWRlck5hbWV9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3SGVhZGVyTmFtZShlLnRhcmdldC52YWx1ZSl9IGZ1bGxXaWR0aCBzeD17eyBtYjogMSB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImhlYWRlci1uZXctaHRtbFwiIGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtuZXdIZWFkZXJIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0hlYWRlckh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs2fSBmdWxsV2lkdGggbXVsdGlsaW5lIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNldFNob3dOZXdIZWFkZXIoZmFsc2UpOyBzZXROZXdIZWFkZXJOYW1lKCcnKTsgc2V0TmV3SGVhZGVySHRtbCgnJyk7IH19IHRpdGxlPVwiQ2FuY2VsIG5ldyB0ZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IGFkZE5ld0hlYWRlclRlbXBsYXRlKCk7IHNldFNob3dOZXdIZWFkZXIoZmFsc2UpOyB9fSB0aXRsZT1cIlNhdmUgbmV3IHRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHsvKiBIZWFkZXIgYm90dG9tIHBhZGRpbmcgY29udHJvbHMgcmVtb3ZlZCAqL31cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIERyYWdnYWJsZSBzZWN0aW9ucyAoaGVybywgYm9keSwgYmFubmVyKSAqL31cbiAgICAgICAgICAgIDxEbmRDb250ZXh0XG4gICAgICAgICAgICAgIHNlbnNvcnM9e3NlbnNvcnN9XG4gICAgICAgICAgICAgIGNvbGxpc2lvbkRldGVjdGlvbj17Y2xvc2VzdENlbnRlcn1cbiAgICAgICAgICAgICAgbW9kaWZpZXJzPXtbcmVzdHJpY3RUb1ZlcnRpY2FsQXhpc119XG4gICAgICAgICAgICAgIG9uRHJhZ0VuZD17aGFuZGxlU2VjdGlvbkRyYWdFbmR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTb3J0YWJsZUNvbnRleHQgaXRlbXM9e3NlY3Rpb25PcmRlcn0gc3RyYXRlZ3k9e3ZlcnRpY2FsTGlzdFNvcnRpbmdTdHJhdGVneX0+XG4gICAgICAgICAgICAgICAge3NlY3Rpb25PcmRlci5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoaWQgPT09ICdoZXJvJyAmJiBzaG93SGVyb1NlY3Rpb24pIHJldHVybiA8U29ydGFibGVIZXJvU2VjdGlvbiBrZXk9XCJoZXJvXCIgLz47XG4gICAgICAgICAgICAgICAgICBpZiAoaWQgPT09ICdiYW5uZXInICYmIHNob3dCYW5uZXJTZWN0aW9uKSByZXR1cm4gPFNvcnRhYmxlQmFubmVyU2VjdGlvbiBrZXk9XCJiYW5uZXJcIiAvPjtcbiAgICAgICAgICAgICAgICAgIGlmIChpZC5zdGFydHNXaXRoKCdib2R5LScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSBib2R5U2VjdGlvbnMuZmluZCgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlY3Rpb24gPyA8U29ydGFibGVCb2R5U2VjdGlvbiBrZXk9e2lkfSBzZWN0aW9uPXtzZWN0aW9ufSAvPiA6IG51bGw7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9Tb3J0YWJsZUNvbnRleHQ+XG4gICAgICAgICAgICA8L0RuZENvbnRleHQ+XG5cbiAgICAgICAgICAgIHsvKiBGb290ZXIgc2VjdGlvbiAqL31cbiAgICAgICAgICAgIHtzaG93Rm9vdGVyU2VjdGlvbiAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgYWNjb3JkaW9uLXNlY3Rpb24ke29wZW5TZWN0aW9uID09PSAnZm9vdGVyJyA/ICcgb3BlbicgOiAnJ31gfT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YGFjY29yZGlvbi1oZWFkZXIke29wZW5TZWN0aW9uID09PSAnZm9vdGVyJyA/ICcgb3BlbicgOiAnJ31gfSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoJ2Zvb3RlcicpfT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuPkZvb3Rlcjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luTGVmdDogJ2F1dG8nLCBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6ICd2YXIoLS1nYXAtMiknIH19PlxuICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlRm9vdGVyU2VjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJSZW1vdmUgc2VjdGlvblwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8RGVsZXRlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZUFjY29yZGlvblRvZ2dsZSgnZm9vdGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZT17b3BlblNlY3Rpb24gPT09ICdmb290ZXInID8gJ0NvbGxhcHNlIHNlY3Rpb24nIDogJ0V4cGFuZCBzZWN0aW9uJ31cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHtvcGVuU2VjdGlvbiA9PT0gJ2Zvb3RlcicgPyA8RXhwYW5kTGVzc0ljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPiA6IDxFeHBhbmRNb3JlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+fVxuICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICB7b3BlblNlY3Rpb24gPT09ICdmb290ZXInICYmIChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWNjb3JkaW9uLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgIHsvKiBSZW5kZXIgb25seSB0aGUgYWN0aXZlIGZvb3RlciB0ZW1wbGF0ZSB0aHVtYm5haWwgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleFdyYXA6ICd3cmFwJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlVHBsID0gZm9vdGVyVGVtcGxhdGVzLmZpbmQodHBsID0+IHRwbC5pZCA9PT0gc2VsZWN0ZWRGb290ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3RpdmVUcGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YWN0aXZlVHBsLmlkfSBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEh0bWxUaHVtYm5haWwgaHRtbD17YWN0aXZlVHBsLmh0bWx9IHdpZHRoPXs2MDB9IGZvcmNlQXV0b0hlaWdodCAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgey8qIFRlbXBsYXRlIHNlbGVjdG9yIHJvdyAtIG1vdmVkIGJlbG93IHRodW1ibmFpbHMgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBsYXRlLXJvd1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIG1hcmdpblRvcDogJzFyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2wgZnVsbFdpZHRoIHZhcmlhbnQ9XCJvdXRsaW5lZFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxJbnB1dExhYmVsIGlkPVwiZm9vdGVyLXRlbXBsYXRlLWxhYmVsXCI+VGVtcGxhdGU8L0lucHV0TGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPFNlbGVjdCBsYWJlbElkPVwiZm9vdGVyLXRlbXBsYXRlLWxhYmVsXCIgaWQ9XCJmb290ZXItdGVtcGxhdGUtc2VsZWN0XCIgbGFiZWw9XCJUZW1wbGF0ZVwiIHZhbHVlPXtzZWxlY3RlZEZvb3RlcklkfSAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZEZvb3RlcklkKGUudGFyZ2V0LnZhbHVlKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9vdGVyVGVtcGxhdGVzLm1hcCgodHBsKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBrZXk9e3RwbC5pZH0gdmFsdWU9e3RwbC5pZH0+e3RwbC5uYW1lfTwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICAgICAgPC9Gb3JtQ29udHJvbD5cbiAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0Rm9vdGVyRWRpdE1vZGUoKHYpID0+ICF2KX0gdGl0bGU9e2Zvb3RlckVkaXRNb2RlID8gJ0Nsb3NlIGVkaXRvcicgOiAnRWRpdCB0ZW1wbGF0ZSd9PlxuICAgICAgICAgICAgICAgICAgICAgIDxFZGl0SWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd05ld0Zvb3RlcigodikgPT4gIXYpfSB0aXRsZT17c2hvd05ld0Zvb3RlciA/ICdDYW5jZWwgbmV3IHRlbXBsYXRlJyA6ICdBZGQgbmV3IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgICAgICAgPEFkZEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIHtmb290ZXJFZGl0TW9kZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiZm9vdGVyLWRyYWZ0LWh0bWxcIiBsYWJlbD1cIlRlbXBsYXRlIEhUTUxcIiB2YWx1ZT17ZHJhZnRGb290ZXJIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldERyYWZ0Rm9vdGVySHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezh9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0Rm9vdGVyRWRpdE1vZGUoZmFsc2UpfSB0aXRsZT1cIkNhbmNlbCBlZGl0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2F2ZUZvb3RlckVkaXRzKCk7IHNldEZvb3RlckVkaXRNb2RlKGZhbHNlKTsgfX0gdGl0bGU9XCJTYXZlIGVkaXRzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIHtzaG93TmV3Rm9vdGVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtZm9ybVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XCJmb290ZXItbmV3LW5hbWVcIiBsYWJlbD1cIlRlbXBsYXRlIG5hbWVcIiB0eXBlPVwidGV4dFwiIHZhbHVlPXtuZXdGb290ZXJOYW1lfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0Zvb3Rlck5hbWUoZS50YXJnZXQudmFsdWUpfSBmdWxsV2lkdGggc3g9e3sgbWI6IDEgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiZm9vdGVyLW5ldy1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e25ld0Zvb3Rlckh0bWx9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3Rm9vdGVySHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezZ9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTaG93TmV3Rm9vdGVyKGZhbHNlKTsgc2V0TmV3Rm9vdGVyTmFtZSgnJyk7IHNldE5ld0Zvb3Rlckh0bWwoJycpOyB9fSB0aXRsZT1cIkNhbmNlbCBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBhZGROZXdGb290ZXJUZW1wbGF0ZSgpOyBzZXRTaG93TmV3Rm9vdGVyKGZhbHNlKTsgfX0gdGl0bGU9XCJTYXZlIG5ldyB0ZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICB7LyogRm9vdGVyIGJvdHRvbSBwYWRkaW5nIGNvbnRyb2xzIHJlbW92ZWQgKi99XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIFVuaXZlcnNhbCBHZW5lcmF0ZSBFRE0gYnV0dG9uIGFuZCBBZGQgU2VjdGlvbiBidXR0b24gKi99XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIG1hcmdpblRvcDogJzFyZW0nIH19PlxuICAgICAgICAgICAgICA8QnV0dG9uIG9uQ2xpY2s9e2dlbmVyYXRlQWxsU2VjdGlvbnN9PkdlbmVyYXRlIEVETTwvQnV0dG9uPlxuICAgICAgICAgICAgICA8ZGl2IHJlZj17YWRkU2VjdGlvblJlZn0gc3R5bGU9e3sgcG9zaXRpb246ICdyZWxhdGl2ZScsIG1hcmdpbkxlZnQ6ICcxcmVtJyB9fT5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QWRkU2VjdGlvbk1lbnUoKHYpID0+ICF2KX0gdGl0bGU9XCJBZGQgc2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgQWRkIFNlY3Rpb24ge3Nob3dBZGRTZWN0aW9uTWVudSA/IDxFeHBhbmRMZXNzSWNvbiBzeD17eyBtbDogMC41IH19IC8+IDogPEV4cGFuZE1vcmVJY29uIHN4PXt7IG1sOiAwLjUgfX0gLz59XG4gICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAge3Nob3dBZGRTZWN0aW9uTWVudSAmJiAoXG4gICAgICAgICAgICAgICAgICA8UGFwZXIgZWxldmF0aW9uPXszfSBzeD17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgdG9wOiAnMTAwJScsIGxlZnQ6IDAsIG10OiAwLjUsIHpJbmRleDogMTAsIG1pbldpZHRoOiAnMTJyZW0nLCBtYXhIZWlnaHQ6ICcxMnJlbScsIG92ZXJmbG93WTogJ2F1dG8nIH19PlxuICAgICAgICAgICAgICAgICAgICA8U3RhY2s+XG4gICAgICAgICAgICAgICAgICAgICAge2F2YWlsYWJsZVNlY3Rpb25UeXBlcy5tYXAoKG9wdCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvbiBrZXk9e29wdC5rZXl9IG9uQ2xpY2s9eygpID0+IGFkZFNlY3Rpb25CeVR5cGUob3B0LmtleSl9IHN4PXt7IGp1c3RpZnlDb250ZW50OiAnZmxleC1zdGFydCcsIHB4OiAyIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7b3B0LmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgICAgICAgICAgICA8L1BhcGVyPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2Pn1cbiAgICAgICAgcmlnaHRPcGVuPXtzaG93QnJhbmRQYW5lbH1cbiAgICAgICAgb25SaWdodENsb3NlPXsoKSA9PiBzZXRTaG93QnJhbmRQYW5lbChmYWxzZSl9XG4gICAgICAgIG9uUmlnaHRUb2dnbGU9eygpID0+IHNldFNob3dCcmFuZFBhbmVsKCh2KT0+IXYpfVxuICAgICAgICBwcm9ncmVzcz17cHJvZ3Jlc3N9XG4gICAgICAgIGJ1ZmZlcj17YnVmZmVyfVxuICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICByaWdodD17XG4gICAgICAgICAgPD5cbiAgICAgICAgICAgIDxCb3ggc3g9e3sgcDogMCB9fT5cbiAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImg2XCIgY29tcG9uZW50PVwiaDJcIj5CcmFuZCBDdXN0b21pc2F0aW9uPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICA8RGl2aWRlciBzeD17eyBteTogMiB9fSAvPlxuICAgICAgICAgICAgPFN0YWNrIHNwYWNpbmc9ezJ9PlxuICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgaWQ9XCJicmFuZC1uYW1lXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkJyYW5kIE5hbWVcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXticmFuZE5hbWV9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRCcmFuZE5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgc2VsZWN0XG4gICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJGb250XCJcbiAgICAgICAgICAgICAgICBpZD1cImJyYW5kLWZvbnRcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXticmFuZEZvbnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRCcmFuZEZvbnQoZS50YXJnZXQudmFsdWUgYXMgc3RyaW5nKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxNZW51SXRlbSB2YWx1ZT1cIlwiPkRlZmF1bHQgKE1vbnRzZXJyYXQpPC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9XCJBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmXCI+QXJpYWw8L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgIDxNZW51SXRlbSB2YWx1ZT1cIkdlb3JnaWEsIHNlcmlmXCI+R2VvcmdpYTwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgPE1lbnVJdGVtIHZhbHVlPVwiVGltZXMgTmV3IFJvbWFuLCBzZXJpZlwiPlRpbWVzIE5ldyBSb21hbjwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgPE1lbnVJdGVtIHZhbHVlPVwiQ291cmllciBOZXcsIG1vbm9zcGFjZVwiPkNvdXJpZXIgTmV3PC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgPC9UZXh0RmllbGQ+XG5cbiAgICAgICAgICAgICAgPE11aUNvbG9ySW5wdXRcbiAgICAgICAgICAgICAgICBpZD1cImJyYW5kLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiUHJpbWFyeSBDb2xvdXJcIlxuICAgICAgICAgICAgICAgIGZvcm1hdD1cImhleFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2JyYW5kUHJpbWFyeX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlKSA9PiBzZXRCcmFuZFByaW1hcnkodmFsdWUgfHwgYnJhbmRQcmltYXJ5KX1cbiAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxNdWlDb2xvcklucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJicmFuZC1zZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiU2Vjb25kYXJ5IENvbG91clwiXG4gICAgICAgICAgICAgICAgZm9ybWF0PVwiaGV4XCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17YnJhbmRTZWNvbmRhcnl9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSkgPT4gc2V0QnJhbmRTZWNvbmRhcnkodmFsdWUgfHwgYnJhbmRTZWNvbmRhcnkpfVxuICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgIGlkPVwiYnJhbmQtd2Vic2l0ZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJXZWJzaXRlIFVSTFwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInVybFwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e2JyYW5kV2Vic2l0ZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEJyYW5kV2Vic2l0ZShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gc2V0QnJhbmRXZWJzaXRlKHNhbml0aXplVXJsKGUuY3VycmVudFRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiaHR0cHM6Ly9leGFtcGxlLmNvbVwiXG4gICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgIGlkPVwiYnJhbmQtbG9nb1wiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJDb21wYW55IExvZ29cIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiTm8gZmlsZSBjaG9zZW5cIlxuICAgICAgICAgICAgICAgIHZhbHVlPXticmFuZExvZ28gPyAoYnJhbmRMb2dvIGFzIEZpbGUpLm5hbWUgOiAnJ31cbiAgICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgICBJbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgICByZWFkT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGVuZEFkb3JubWVudDogKFxuICAgICAgICAgICAgICAgICAgICA8SW5wdXRBZG9ybm1lbnQgcG9zaXRpb249XCJlbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8QnV0dG9uIHN0YXJ0SWNvbj17PFVwbG9hZEZpbGVJY29uIC8+fSBjb21wb25lbnQ9XCJsYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgQnJvd3NlXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGlkZGVuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcyA/IGUudGFyZ2V0LmZpbGVzWzBdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCcmFuZExvZ28oZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L0lucHV0QWRvcm5tZW50PlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgPEJveCBzeD17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogMSwgcHQ6IDEgfX0+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QnJhbmRQYW5lbChmYWxzZSl9PkNsb3NlPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93QnJhbmRQYW5lbChmYWxzZSl9PlNhdmU8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICA8L1N0YWNrPlxuICAgICAgICAgIDwvPlxuICAgICAgICB9XG4gICAgICA+XG4gICAgICAgICAgICB7LyogR2xvYmFsIHRvcCBwcm9ncmVzcyB3aGVuIGFueSBzZWN0aW9uIGxvYWRpbmcgKi99XG4gICAgICAgICAgICB7LyogVG9wIHByb2dyZXNzIGlzIG5vdyBoYW5kbGVkIGJ5IEFwcExheW91dCdzIExpbmVhclByb2dyZXNzOyByZW1vdmUgcGFnZS1sZXZlbCBza2VsZXRvbiAqL31cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgaGVpZ2h0OiAnY2FsYygxMDB2aCAtIDY0cHgpJyB9fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3LWJhclwiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJ3ZhcigtLWdhcC0yKScgfX0+XG4gICAgICAgICAgICAgICAgPFR5cG9ncmFwaHlcbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJoNlwiXG4gICAgICAgICAgICAgICAgICBzeD17eyBmbGV4OiAxLCBmb250U2l6ZTogJzAuOXJlbScsIGZvbnRXZWlnaHQ6IDQwMCB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt2aWV3TW9kZSA9PT0gJ3ByZXZpZXcnID8gJ0VtYWlsIFByZXZpZXcnIDogJ0VtYWlsIENvZGUnfVxuICAgICAgICAgICAgICAgIDwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXctYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0Vmlld01vZGUodmlld01vZGUgPT09ICdwcmV2aWV3JyA/ICdjb2RlJyA6ICdwcmV2aWV3Jyl9IHRpdGxlPXt2aWV3TW9kZSA9PT0gJ3ByZXZpZXcnID8gJ1Nob3cgY29kZScgOiAnU2hvdyBwcmV2aWV3J30+XG4gICAgICAgICAgICAgICAgICAgIHt2aWV3TW9kZSA9PT0gJ3ByZXZpZXcnID8gPENvZGVJY29uIC8+IDogPFZpc2liaWxpdHlJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBjb3B5VG9DbGlwYm9hcmQoZmluYWxIdG1sKTsgYWRkTm90aWZpY2F0aW9uKCdDb2RlIGNvcGllZCEnKTsgfX0gdGl0bGU9XCJDb3B5IGZ1bGwgZW1haWwgSFRNTCB0byBjbGlwYm9hcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPENvbnRlbnRDb3B5SWNvbiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBvdmVyZmxvd1k6ICdhdXRvJywgb3ZlcmZsb3dYOiAnaGlkZGVuJywgcGFkZGluZzogJzFyZW0nLCBwYWRkaW5nVG9wOiAnMCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxuICAgICAgICAgICAgICAgIHt2aWV3TW9kZSA9PT0gJ3ByZXZpZXcnID8gKFxuICAgICAgICAgICAgICAgICAgPGRpdiByZWY9e3ByZXZpZXdSZWZ9IGRhdGEtcHJldmlldy1jb250YWluZXI9XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgICAgIHtzaG93SGVhZGVyU2VjdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBkYXRhLXNlY3Rpb249XCJoZWFkZXJcIiBvbkNsaWNrPXsoKSA9PiBzZXRPcGVuU2VjdGlvbignaGVhZGVyJyl9IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaGVhZGVySHRtbCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbk9yZGVyLm1hcCgoaWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkID09PSAnaGVybycgJiYgc2hvd0hlcm9TZWN0aW9uICYmIGhlcm9JbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT1cImhlcm9cIiBkYXRhLXNlY3Rpb249XCJoZXJvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIZXJvVGFibGVNb2R1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXJvSW1hZ2U9e2hlcm9JbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXJvQWx0PXtoZXJvQWx0IHx8IGJyYW5kTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXJvSHJlZj17aGVyb0hyZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0ltYWdlcz17aGVyb0ltYWdlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVIZXJvPXt1cGRhdGVIZXJvfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlSWQ9e3NlbGVjdGVkSGVyb0lkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWN0aXZhdGU9eygpID0+IHNldE9wZW5TZWN0aW9uKCdoZXJvJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlkID09PSAnYmFubmVyJyAmJiBzaG93QmFubmVyU2VjdGlvbiAmJiBiYW5uZXJJbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT1cImJhbm5lclwiIGRhdGEtc2VjdGlvbj1cImJhbm5lclwiIG9uQ2xpY2s9eygpID0+IHNldE9wZW5TZWN0aW9uKCdiYW5uZXInKX0gZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBiYW5uZXJIdG1sIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQuc3RhcnRzV2l0aCgnYm9keS0nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VjdGlvbiA9IGJvZHlTZWN0aW9ucy5maW5kKChzKSA9PiBgYm9keS0ke3MuaWR9YCA9PT0gaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWN0aW9uKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2lkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtc2VjdGlvbj17YGJvZHktJHtzZWN0aW9uLmlkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0T3BlblNlY3Rpb24oYGJvZHktJHtzZWN0aW9uLmlkfWApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY3Rpb24ubG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbi51cmxzLmZpbHRlcih1PT51LnRyaW0oKSkubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInJlY3Rhbmd1bGFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbj1cIndhdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWI6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG14OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJveFNoYWRvdzogJ3ZhcigtLXNoYWRvdy1saWdodCknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi51cmxzLmZpbHRlcih1PT51LnRyaW0oKSkubWFwKChfLGkpPT4oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwicmVjdGFuZ3VsYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249XCJ3YXZlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXg6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDE4MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAndmFyKC0tc2hhZG93LWxpZ2h0KSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3NlY3Rpb24uc2VsZWN0ZWRCb2R5SWQgPT09ICdncmlkJyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRwbCA9IGJvZHlUZW1wbGF0ZXMuZmluZCgodCkgPT4gdC5pZCA9PT0gJ2dyaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgZ3JpZCB3aXRoIGNsaWNrYWJsZSBpbWFnZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBzYW1lIHRhYmxlIHN0cnVjdHVyZSBhcyB0aGUgYWN0dWFsIGdyaWQgdGVtcGxhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIHJvbGU9XCJwcmVzZW50YXRpb25cIiB3aWR0aD1cIjEwMCVcIiBjZWxsUGFkZGluZz17MH0gY2VsbFNwYWNpbmc9ezB9IGJvcmRlcj17MH0gYWxpZ249XCJjZW50ZXJcIiBzdHlsZT17eyBtYXJnaW46IDAsIHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgYWxpZ249XCJjZW50ZXJcIiBzdHlsZT17eyBtYXJnaW46IDAsIHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSByb2xlPVwicHJlc2VudGF0aW9uXCIgd2lkdGg9XCIxMDAlXCIgY2VsbFBhZGRpbmc9ezB9IGNlbGxTcGFjaW5nPXswfSBib3JkZXI9ezB9IHN0eWxlPXt7IG1heFdpZHRoOiA2MDAsIG1hcmdpbjogJzAgYXV0bycsIGJhY2tncm91bmQ6ICcjRkZGRkZGJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSByb2xlPVwicHJlc2VudGF0aW9uXCIgd2lkdGg9XCIxMDAlXCIgY2VsbFBhZGRpbmc9ezB9IGNlbGxTcGFjaW5nPXswfSBib3JkZXI9ezB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIG1hcmdpbjogMCwgcGFkZGluZzogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLnByb2R1Y3RzLm1hcCgocHJvZCwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQga2V5PXtpZHh9IGFsaWduPVwiY2VudGVyXCIgdmFsaWduPVwidG9wXCIgc3R5bGU9e3sgcGFkZGluZzogMCwgcG9zaXRpb246ICdyZWxhdGl2ZScsIGN1cnNvcjogJ3BvaW50ZXInLCBvdmVyZmxvdzogJ2hpZGRlbicgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJbWFnZVNlbGVjdG9yKHsgc2VjdGlvbklkOiBzZWN0aW9uLmlkLCBwcm9kdWN0SWR4OiBpZHggfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZyA9IGUuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGljb24gPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLmVkaXQtaWNvbicpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZykgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMC43JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpY29uKSBpY29uLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC0zOHB4KSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZS5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWNvbiA9IGUuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1pY29uJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nKSBpbWcuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpY29uKSBpY29uLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtwcm9kLmltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17cHJvZC50aXRsZSB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnYmxvY2snLCB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdhdXRvJywgYm9yZGVyOiAwLCBvdXRsaW5lOiAwLCB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLCB0cmFuc2l0aW9uOiAnb3BhY2l0eSAwLjJzIGVhc2UtaW4tb3V0JyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogRWRpdCBpY29uIG92ZXJsYXk7IG9ubHkgc2hvdyBpZiB0aGVyZSBhcmUgYWRkaXRpb25hbCBpbWFnZXMuICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvZC5pbWFnZXMgJiYgcHJvZC5pbWFnZXMubGVuZ3RoID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZWRpdC1pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IC0zMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMC41KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnlDb250ZW50OiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIDAuM3MgZWFzZS1pbi1vdXQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IHNldEltYWdlU2VsZWN0b3IoeyBzZWN0aW9uSWQ6IHNlY3Rpb24uaWQsIHByb2R1Y3RJZHg6IGlkeCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RWRpdEljb24gc3R5bGU9e3sgY29sb3I6ICcjZmZmJywgZm9udFNpemU6IDE2IH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBVbml2ZXJzYWwgSW1hZ2VTZWxlY3RvciBmb3IgZ3JpZCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpbWFnZVNlbGVjdG9yICYmIGltYWdlU2VsZWN0b3Iuc2VjdGlvbklkID09PSBzZWN0aW9uLmlkICYmIHNlY3Rpb24ucHJvZHVjdHNbaW1hZ2VTZWxlY3Rvci5wcm9kdWN0SWR4XSAmJiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW1pdCBiYWNrZHJvcCB0byBtYWluIGFyZWFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWFpblBhbmVsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJykgYXMgSFRNTEVsZW1lbnQgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZWN0ID0gbWFpblBhbmVsPy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlU2VsZWN0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlcz17c2VjdGlvbi5wcm9kdWN0c1tpbWFnZVNlbGVjdG9yLnByb2R1Y3RJZHhdLmltYWdlcyB8fCBbXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkPXtzZWN0aW9uLnByb2R1Y3RzW2ltYWdlU2VsZWN0b3IucHJvZHVjdElkeF0uaW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Q9eyhpbWcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJvZHVjdEluU2VjdGlvbihzZWN0aW9uLmlkLCBpbWFnZVNlbGVjdG9yLnByb2R1Y3RJZHgsICdpbWFnZScsIGltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEltYWdlU2VsZWN0b3IobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0SW1hZ2VTZWxlY3RvcihudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuY2hvclJlY3Q9e3JlY3R9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucHJvZHVjdHMubWFwKChwcm9kLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9yaWVudGF0aW9uOiAnbGVmdC1pbWFnZScgfCAncmlnaHQtaW1hZ2UnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbi5zZWxlY3RlZEJvZHlJZCA9PT0gJ3Byb2R1Y3QtaW1hZ2UtbGVmdC1jb3B5LXJpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gaWR4ICUgMiA9PT0gMCA/ICdsZWZ0LWltYWdlJyA6ICdyaWdodC1pbWFnZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSBpZHggJSAyID09PSAwID8gJ3JpZ2h0LWltYWdlJyA6ICdsZWZ0LWltYWdlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaG9vc2UgZGVzY3JpcHRpb24gc291cmNlIGZvciBwcmV2aWV3IChwZXItcHJvZHVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZHNQcmV2ID0gKHByb2QgYXMgYW55KS5kZXNjU291cmNlIHx8ICdtZXRhZGF0YSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaG9zZW5EZXNjcmlwdGlvbiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkc1ByZXYgPT09ICdwJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uUCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob3NlbkRlc2NyaXB0aW9uID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblAgYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRzUHJldiA9PT0gJ3VsJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9zZW5EZXNjcmlwdGlvbiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UHJvZHVjdFRhYmxlTW9kdWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2Ake3NlY3Rpb24uaWR9LSR7aWR4fWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0PXt7IC4uLnByb2QsIGRlc2NyaXB0aW9uOiBjaG9zZW5EZXNjcmlwdGlvbiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg9e2lkeH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uPXtvcmllbnRhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2R1Y3Q9eyhpLCBmaWVsZCwgdmFsdWUpID0+IHVwZGF0ZVByb2R1Y3RJblNlY3Rpb24oc2VjdGlvbi5pZCwgaSwgZmllbGQsIHZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWN0aXZhdGU9eygpID0+IHNldE9wZW5TZWN0aW9uKGBib2R5LSR7c2VjdGlvbi5pZH1gKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0YUJnPXticmFuZFByaW1hcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5Q29udGFpbmVyUmVmPXtwcmV2aWV3UmVmIGFzIGFueX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5kTmFtZT17YnJhbmROYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY1NvdXJjZT17KHByb2QgYXMgYW55KS5kZXNjU291cmNlIGFzIGFueX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlRGVzY1NvdXJjZT17KHNyYykgPT4gdXBkYXRlUHJvZHVjdEluU2VjdGlvbihzZWN0aW9uLmlkLCBpZHgsICdkZXNjU291cmNlJyBhcyBhbnksIHNyYyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgIHtzaG93Rm9vdGVyU2VjdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBkYXRhLXNlY3Rpb249XCJmb290ZXJcIiBvbkNsaWNrPXsoKSA9PiBzZXRPcGVuU2VjdGlvbignZm9vdGVyJyl9IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogZm9vdGVySHRtbCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29kZS1hY2NvcmRpb25cIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBnYXA6ICd2YXIoLS1nYXAtMiknIH19PlxuICAgICAgICAgICAgICAgICAgICB7Y29kZVNlY3Rpb25zLm1hcCgoc2VjdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzT3BlbiA9IG9wZW5Db2RlU2VjdGlvbnNbc2VjdGlvbi5rZXldICE9PSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3NlY3Rpb24ua2V5fSBjbGFzc05hbWU9XCJjb2RlLXNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvZGUtc2VjdGlvbi1oZWFkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUNvZGVTZWN0aW9uKHNlY3Rpb24ua2V5KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLCBjdXJzb3I6ICdwb2ludGVyJywgcGFkZGluZzogJzAuNnJlbSAxcmVtJywgYmFja2dyb3VuZDogJyNmOWZhZmInLCBib3JkZXJCb3R0b206ICcxcHggc29saWQgI2U1ZTdlYicgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPntzZWN0aW9uLnRpdGxlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvZGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJ3ZhcigtLWdhcC0yKScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyB0b2dnbGVDb2RlU2VjdGlvbihzZWN0aW9uLmtleSk7IH19IHRpdGxlPXtpc09wZW4gPyAnQ29sbGFwc2Ugc2VjdGlvbicgOiAnRXhwYW5kIHNlY3Rpb24nfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzT3BlbiA/IDxFeHBhbmRMZXNzSWNvbiAvPiA6IDxFeHBhbmRNb3JlSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGNvcHlUb0NsaXBib2FyZChzZWN0aW9uLmNvZGUpOyBhZGROb3RpZmljYXRpb24oJ0NvZGUgY29waWVkIScpOyB9fSB0aXRsZT1cIkNvcHkgY29kZSB0byBjbGlwYm9hcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbnRlbnRDb3B5SWNvbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzT3BlbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHByZSBzdHlsZT17eyBtYXJnaW46IDAsIG1heEhlaWdodDogJzIwMHB4Jywgb3ZlcmZsb3c6ICdhdXRvJywgYmFja2dyb3VuZDogJyNmZmZmZmYnLCBwYWRkaW5nOiAnMC41cmVtIDFyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNvZGUgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBoaWdobGlnaHQoc2VjdGlvbi5jb2RlKSB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcHJlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgPC9BcHBMYXlvdXQ+XG5cbiAgICAgIDxTbmFja2JhclxuICAgICAgICBvcGVuPXtzbmFja2Jhck9wZW59XG4gICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezMwMDB9XG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNuYWNrYmFyT3BlbihmYWxzZSl9XG4gICAgICAgIG1lc3NhZ2U9e3NuYWNrYmFyTXNnIGFzIGFueX1cbiAgICAgICAgYW5jaG9yT3JpZ2luPXt7IHZlcnRpY2FsOiAnYm90dG9tJywgaG9yaXpvbnRhbDogJ2xlZnQnIH19XG4gICAgICAvPlxuICAgIDwvPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsIkhlYWQiLCJBcHBMYXlvdXQiLCJTa2VsZXRvbiIsIlNuYWNrYmFyIiwiVHlwb2dyYXBoeSIsIkJveCIsIlN0YWNrIiwiRm9ybUNvbnRyb2wiLCJJbnB1dExhYmVsIiwiU2VsZWN0IiwiTWVudUl0ZW0iLCJUZXh0RmllbGQiLCJCdXR0b24iLCJJY29uQnV0dG9uIiwiRGl2aWRlciIsIlBhcGVyIiwiTXVpQ29sb3JJbnB1dCIsIklucHV0QWRvcm5tZW50IiwiVXBsb2FkRmlsZUljb24iLCJkZWZhdWx0VGVtcGxhdGVzIiwiZGVmYXVsdEJvZHlUZW1wbGF0ZXMiLCJyZW5kZXJUZW1wbGF0ZSIsImRlZmF1bHRIZWFkZXJUZW1wbGF0ZXMiLCJkZWZhdWx0Rm9vdGVyVGVtcGxhdGVzIiwiZGVmYXVsdEhlcm9UZW1wbGF0ZXMiLCJkZWZhdWx0QmFubmVyVGVtcGxhdGVzIiwiUHJvZHVjdFRhYmxlTW9kdWxlIiwiSW1hZ2VTZWxlY3RvciIsIkhlcm9UYWJsZU1vZHVsZSIsIkNvbnRlbnRDb3B5SWNvbiIsIkNvZGVJY29uIiwiVmlzaWJpbGl0eUljb24iLCJBZGRJY29uIiwiQ2xvc2VJY29uMiIsIlNhdmVJY29uIiwiRWRpdEljb24iLCJEZWxldGVJY29uIiwiRXhwYW5kTGVzc0ljb24iLCJFeHBhbmRNb3JlSWNvbiIsIkRyYWdJbmRpY2F0b3JJY29uIiwiRG5kQ29udGV4dCIsImNsb3Nlc3RDZW50ZXIiLCJQb2ludGVyU2Vuc29yIiwidXNlU2Vuc29yIiwidXNlU2Vuc29ycyIsImFycmF5TW92ZSIsIlNvcnRhYmxlQ29udGV4dCIsInZlcnRpY2FsTGlzdFNvcnRpbmdTdHJhdGVneSIsInVzZVNvcnRhYmxlIiwicmVzdHJpY3RUb1ZlcnRpY2FsQXhpcyIsIkNTUyIsIkh0bWxUaHVtYm5haWwiLCJhbHRlcm5hdGVNYXAiLCJIb21lIiwiaW1hZ2VTZWxlY3RvciIsInNldEltYWdlU2VsZWN0b3IiLCJvcGVuU2VjdGlvbiIsInNldE9wZW5TZWN0aW9uIiwiaGFuZGxlQWNjb3JkaW9uVG9nZ2xlIiwiaWQiLCJwcmV2Iiwidmlld01vZGUiLCJzZXRWaWV3TW9kZSIsImJvZHlTZWN0aW9ucyIsInNldEJvZHlTZWN0aW9ucyIsImRyYWZ0VXJscyIsInNldERyYWZ0VXJscyIsImdldERyYWZ0VXJscyIsInNlY3Rpb25JZCIsImV4aXN0aW5nIiwic2VjdGlvbiIsImZpbmQiLCJzIiwidXJscyIsInNob3dIZWFkZXJTZWN0aW9uIiwic2V0U2hvd0hlYWRlclNlY3Rpb24iLCJzaG93SGVyb1NlY3Rpb24iLCJzZXRTaG93SGVyb1NlY3Rpb24iLCJzaG93QmFubmVyU2VjdGlvbiIsInNldFNob3dCYW5uZXJTZWN0aW9uIiwic2hvd0Zvb3RlclNlY3Rpb24iLCJzZXRTaG93Rm9vdGVyU2VjdGlvbiIsInNlY3Rpb25PcmRlciIsInNldFNlY3Rpb25PcmRlciIsIm1hcCIsImZpbHRlcmVkIiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsInNvbWUiLCJkZXNpcmVkIiwiZm9yRWFjaCIsImluY2x1ZGVzIiwic3BsaWNlIiwiaW5kZXhPZiIsInB1c2giLCJzZW5zb3JzIiwiaGFuZGxlU2VjdGlvbkRyYWdFbmQiLCJldmVudCIsImFjdGl2ZSIsIm92ZXIiLCJvbGRJbmRleCIsIm5ld0luZGV4IiwiU3RyaW5nIiwic2VjdGlvbnMiLCJmaW5kSW5kZXgiLCJTb3J0YWJsZUJvZHlTZWN0aW9uIiwiYXR0cmlidXRlcyIsImxpc3RlbmVycyIsInNldE5vZGVSZWYiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uIiwiX2FyaWFEZXNjcmliZWRCeSIsInNvcnRhYmxlQXR0cmlidXRlcyIsInN0eWxlIiwiVHJhbnNmb3JtIiwidG9TdHJpbmciLCJkaXYiLCJjbGFzc05hbWUiLCJyZWYiLCJvbkNsaWNrIiwic2l6ZSIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJ0aXRsZSIsImZvbnRTaXplIiwic3BhbiIsIm5hbWUiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImdhcCIsIm1hcmdpbkxlZnQiLCJyZW1vdmVCb2R5U2VjdGlvbiIsImZ1bGxXaWR0aCIsInZhcmlhbnQiLCJsYWJlbElkIiwibGFiZWwiLCJ2YWx1ZSIsInNlbGVjdGVkQm9keUlkIiwib25DaGFuZ2UiLCJzZXRTZWN0aW9uVGVtcGxhdGUiLCJ0YXJnZXQiLCJib2R5VGVtcGxhdGVzIiwidHBsIiwic2V0Qm9keUVkaXRNb2RlIiwidiIsImJvZHlFZGl0TW9kZSIsInNldFNob3dOZXdCb2R5Iiwic2hvd05ld0JvZHkiLCJkcmFmdEJvZHlIdG1sIiwic2V0RHJhZnRCb2R5SHRtbCIsInJvd3MiLCJtdWx0aWxpbmUiLCJzeCIsImZvbnRGYW1pbHkiLCJtYXJnaW5Ub3AiLCJzYXZlQm9keUVkaXRzIiwidHlwZSIsIm5ld0JvZHlOYW1lIiwic2V0TmV3Qm9keU5hbWUiLCJtYiIsIm5ld0JvZHlIdG1sIiwic2V0TmV3Qm9keUh0bWwiLCJhZGROZXdCb2R5VGVtcGxhdGUiLCJtdCIsInVybCIsImluZGV4IiwiZGVmYXVsdFZhbHVlIiwib25CbHVyIiwiY2xlYW5lZCIsInNhbml0aXplVXJsIiwiY3VycmVudFRhcmdldCIsImhhbmRsZVVybENoYW5nZSIsIklucHV0UHJvcHMiLCJlbmRBZG9ybm1lbnQiLCJsZW5ndGgiLCJwb3NpdGlvbiIsInJlbW92ZVVybEZpZWxkIiwiZWRnZSIsImlucHV0UHJvcHMiLCJvbktleURvd24iLCJjdXJyIiwidHJpbSIsImxpc3RMZW4iLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsImFkZFVybEZpZWxkIiwiYmx1ciIsInNoaWZ0S2V5IiwiZ2VuZXJhdGVTZWN0aW9uIiwiZGlzYWJsZWQiLCJsb2FkaW5nIiwiU29ydGFibGVIZXJvU2VjdGlvbiIsInJlbW92ZUhlcm9TZWN0aW9uIiwiaGVyb0ltYWdlIiwibWFyZ2luQm90dG9tIiwiaW1nIiwic3JjIiwiYWx0IiwiaGVyb0FsdCIsIndpZHRoIiwiaGVpZ2h0IiwicCIsInNlbGVjdGVkSGVyb0lkIiwic2V0U2VsZWN0ZWRIZXJvSWQiLCJoZXJvVGVtcGxhdGVzIiwic2V0SGVyb0VkaXRNb2RlIiwiaGVyb0VkaXRNb2RlIiwic2V0U2hvd05ld0hlcm8iLCJzaG93TmV3SGVybyIsImRyYWZ0SGVyb0h0bWwiLCJzZXREcmFmdEhlcm9IdG1sIiwic2F2ZUhlcm9FZGl0cyIsImhlcm9IcmVmIiwic2V0SGVyb0hyZWYiLCJzZXRIZXJvQWx0IiwibmV3SGVyb05hbWUiLCJzZXROZXdIZXJvTmFtZSIsIm5ld0hlcm9IdG1sIiwic2V0TmV3SGVyb0h0bWwiLCJhZGROZXdIZXJvVGVtcGxhdGUiLCJTb3J0YWJsZUJhbm5lclNlY3Rpb24iLCJyZW1vdmVCYW5uZXJTZWN0aW9uIiwiYmFubmVySW1hZ2UiLCJiYW5uZXJBbHQiLCJzZWxlY3RlZEJhbm5lcklkIiwic2V0U2VsZWN0ZWRCYW5uZXJJZCIsImJhbm5lclRlbXBsYXRlcyIsInNldEJhbm5lckVkaXRNb2RlIiwiYmFubmVyRWRpdE1vZGUiLCJzZXRTaG93TmV3QmFubmVyIiwic2hvd05ld0Jhbm5lciIsImRyYWZ0QmFubmVySHRtbCIsInNldERyYWZ0QmFubmVySHRtbCIsInNhdmVCYW5uZXJFZGl0cyIsIm5ld0Jhbm5lck5hbWUiLCJzZXROZXdCYW5uZXJOYW1lIiwibmV3QmFubmVySHRtbCIsInNldE5ld0Jhbm5lckh0bWwiLCJhZGROZXdCYW5uZXJUZW1wbGF0ZSIsImJhbm5lckhyZWYiLCJzZXRCYW5uZXJIcmVmIiwic2V0QmFubmVyQWx0Iiwic2V0Qm9keVRlbXBsYXRlcyIsInNldFNlbGVjdGVkQm9keUlkIiwiaGVhZGVyVGVtcGxhdGVzIiwic2V0SGVhZGVyVGVtcGxhdGVzIiwic2VsZWN0ZWRIZWFkZXJJZCIsInNldFNlbGVjdGVkSGVhZGVySWQiLCJoZWFkZXJFZGl0TW9kZSIsInNldEhlYWRlckVkaXRNb2RlIiwiZHJhZnRIZWFkZXJIdG1sIiwic2V0RHJhZnRIZWFkZXJIdG1sIiwibmV3SGVhZGVyTmFtZSIsInNldE5ld0hlYWRlck5hbWUiLCJuZXdIZWFkZXJIdG1sIiwic2V0TmV3SGVhZGVySHRtbCIsImZvb3RlclRlbXBsYXRlcyIsInNldEZvb3RlclRlbXBsYXRlcyIsInNlbGVjdGVkRm9vdGVySWQiLCJzZXRTZWxlY3RlZEZvb3RlcklkIiwiZm9vdGVyRWRpdE1vZGUiLCJzZXRGb290ZXJFZGl0TW9kZSIsImRyYWZ0Rm9vdGVySHRtbCIsInNldERyYWZ0Rm9vdGVySHRtbCIsIm5ld0Zvb3Rlck5hbWUiLCJzZXROZXdGb290ZXJOYW1lIiwibmV3Rm9vdGVySHRtbCIsInNldE5ld0Zvb3Rlckh0bWwiLCJzaG93TmV3SGVhZGVyIiwic2V0U2hvd05ld0hlYWRlciIsInNob3dOZXdGb290ZXIiLCJzZXRTaG93TmV3Rm9vdGVyIiwiaGVhZGVySHRtbCIsInNldEhlYWRlckh0bWwiLCJib2R5SHRtbCIsInNldEJvZHlIdG1sIiwiZm9vdGVySHRtbCIsInNldEZvb3Rlckh0bWwiLCJmaW5hbEh0bWwiLCJzZXRGaW5hbEh0bWwiLCJzaG93QWRkU2VjdGlvbk1lbnUiLCJzZXRTaG93QWRkU2VjdGlvbk1lbnUiLCJhZGRTZWN0aW9uUmVmIiwicHJldmlld1JlZiIsImhhbmRsZUNsaWNrT3V0c2lkZSIsImN1cnJlbnQiLCJjb250YWlucyIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzaG93QnJhbmRQYW5lbCIsInNldFNob3dCcmFuZFBhbmVsIiwiYnJhbmROYW1lIiwic2V0QnJhbmROYW1lIiwicHJvZ3Jlc3MiLCJzZXRQcm9ncmVzcyIsImJ1ZmZlciIsInNldEJ1ZmZlciIsInNldExvYWRpbmciLCJicmFuZEZvbnQiLCJzZXRCcmFuZEZvbnQiLCJicmFuZFByaW1hcnkiLCJzZXRCcmFuZFByaW1hcnkiLCJicmFuZFNlY29uZGFyeSIsInNldEJyYW5kU2Vjb25kYXJ5IiwiYnJhbmRXZWJzaXRlIiwic2V0QnJhbmRXZWJzaXRlIiwic2hvd0JyYW5kVXJsRGlhbG9nIiwic2V0U2hvd0JyYW5kVXJsRGlhbG9nIiwiYnJhbmRVcmxJbnB1dCIsInNldEJyYW5kVXJsSW5wdXQiLCJwcm9kdWN0cyIsImRlc2NyaXB0aW9uU291cmNlIiwiZXh0cmFjdEJhc2VEb21haW4iLCJ1IiwiVVJMIiwib3JpZ2luIiwiZXh0cmFjdEJyYW5kTmFtZSIsImhvc3QiLCJob3N0bmFtZSIsInJlcGxhY2UiLCJwYXJ0cyIsInNwbGl0IiwiYnJhbmRMb2dvIiwic2V0QnJhbmRMb2dvIiwic25hY2tiYXJPcGVuIiwic2V0U25hY2tiYXJPcGVuIiwic25hY2tiYXJNc2ciLCJzZXRTbmFja2Jhck1zZyIsIm9wZW5Db2RlU2VjdGlvbnMiLCJzZXRPcGVuQ29kZVNlY3Rpb25zIiwidG9nZ2xlQ29kZVNlY3Rpb24iLCJpc09wZW4iLCJhZGROb3RpZmljYXRpb24iLCJtZXNzYWdlIiwiaGFuZGxlQnJhbmRVcmxTdWJtaXQiLCJiYXNlIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInNldEJyYW5kTG9nb0RhdGFVcmwiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZWwiLCJoYW5kbGVDbGljayIsImFuY2hvciIsImNsb3Nlc3QiLCJocmVmIiwiZ2V0QXR0cmlidXRlIiwiYSIsInJlbCIsInNlY3Rpb25FbCIsImFwcGx5QnJhbmRDb2xvdXJzQW5kRm9udCIsImh0bWwiLCJvdXQiLCJyZWdleCIsIlJlZ0V4cCIsImFwcGx5QnJhbmRMb2dvIiwiYnJhbmRMb2dvRGF0YVVybCIsInNldEhlcm9UZW1wbGF0ZXMiLCJzZXRIZXJvSW1hZ2UiLCJoZXJvSHRtbCIsInNldEhlcm9IdG1sIiwiaGVyb0ltYWdlcyIsInNldEhlcm9JbWFnZXMiLCJzZXRCYW5uZXJUZW1wbGF0ZXMiLCJzZXRCYW5uZXJJbWFnZSIsImJhbm5lckh0bWwiLCJzZXRCYW5uZXJIdG1sIiwiZmV0Y2hIZXJvRm9yQnJhbmQiLCJoZXJvUmVzIiwiZmV0Y2giLCJlbmNvZGVVUklDb21wb25lbnQiLCJvayIsImhlcm9EYXRhIiwianNvbiIsImltYWdlcyIsIkFycmF5IiwiaXNBcnJheSIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwiZmV0Y2hCYW5uZXJGb3JCcmFuZCIsInJlcyIsImRhdGEiLCJpbWFnZSIsInVwZGF0ZUhlcm8iLCJmaWVsZCIsImFkZEJvZHlTZWN0aW9uIiwibmV4dElkIiwiTWF0aCIsIm1heCIsIm5ld1NlY3Rpb24iLCJhcnIiLCJuZXdLZXkiLCJiYW5uZXJJZHgiLCJyZW1vdmVIZWFkZXJTZWN0aW9uIiwicmVtb3ZlRm9vdGVyU2VjdGlvbiIsImFkZFNlY3Rpb25CeVR5cGUiLCJ0ZW1wbGF0ZUlkIiwic3RvcmVkIiwid2luZG93IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImxpc3QiLCJKU09OIiwicGFyc2UiLCJ1cGRhdGVkIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIkRhdGUiLCJ0b0xvd2VyQ2FzZSIsIm5vdyIsIm5ld1RwbCIsInN0b3JlZEhlcm8iLCJwYXJzZWQiLCJoZWFkZXJTdHIiLCJoZWFkZXJUZW1wbGF0ZSIsInQiLCJoZXJvU3RyIiwiaGVyb1RlbXBsYXRlIiwiYm9keUh0bWxNYXAiLCJzZWN0aW9uSHRtbCIsInByb2QiLCJpZHgiLCJ0ZW1wbGF0ZUlkVG9Vc2UiLCJzYWxlUHJpY2UiLCJwcmljZSIsIm9yaWdpbmFsUHJpY2UiLCJwcmljZUh0bWwiLCJjaG9zZW5EZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb25QIiwiZGVzY3JpcHRpb25VbCIsImRzIiwiZGVzY1NvdXJjZSIsImRlc2NGb3JUZW1wbGF0ZSIsInByb2R1Y3REYXRhIiwiY3RhTGFiZWwiLCJjdGFCZyIsIm1vZHVsZUh0bWwiLCJ1bEh0bWwiLCJiYW5uZXJTdHIiLCJiYW5uZXJUZW1wbGF0ZSIsImZvb3RlclN0ciIsImZvb3RlclRlbXBsYXRlIiwib3JkZXJlZEh0bWwiLCJqb2luIiwicHJpc21SZWYiLCJwcmlzbUxvYWRlZCIsInNldFByaXNtTG9hZGVkIiwiUHJpc21Nb2R1bGUiLCJkZWZhdWx0IiwiY29kZVNlY3Rpb25zIiwiY29kZSIsImNvbWJpbmVkSHRtbCIsImNob3NlbkRlc2MyIiwic3RvcmVkQm9keSIsInBhcnNlZEJvZHkiLCJzdG9yZWRIZWFkZXIiLCJwYXJzZWRIZWFkZXIiLCJzdG9yZWRGb290ZXIiLCJwYXJzZWRGb290ZXIiLCJhbGwiLCJzZWVuIiwiU2V0IiwiaGFzIiwiYWRkIiwic3RvcmVkQmFubmVyIiwicGFyc2VkQmFubmVyIiwiY3VycmVudEJvZHkiLCJjdXJyZW50SGVhZGVyIiwiY3VycmVudEJhbm5lciIsImN1cnJlbnRGb290ZXIiLCJjdXJyZW50SGVybyIsIm5leHQiLCJmb2N1c0luZGV4IiwidW5kZWZpbmVkIiwic2V0VGltZW91dCIsImdldEVsZW1lbnRCeUlkIiwiZm9jdXMiLCJfIiwiaSIsInNhdmVIZWFkZXJFZGl0cyIsInNhdmVGb290ZXJFZGl0cyIsIm5ld1RlbXBsYXRlIiwiYWRkTmV3SGVhZGVyVGVtcGxhdGUiLCJhZGROZXdGb290ZXJUZW1wbGF0ZSIsImFsZXJ0IiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJFcnJvciIsInN0YXR1cyIsInByb2Nlc3NlZCIsInZhbGlkVXJscyIsInRvdGFsSXRlbXMiLCJoYXNJbmZvIiwiT2JqZWN0Iiwia2V5cyIsImJhZFVybCIsInByZXRpdGxlIiwiY3RhIiwicGN0Iiwicm91bmQiLCJwcm9nIiwibWluIiwiZXJyb3IiLCJsb2ciLCJnZW5lcmF0ZUFsbFNlY3Rpb25zIiwidXBkYXRlUHJvZHVjdEluU2VjdGlvbiIsIm5ld1Byb2R1Y3RzIiwiY29weVRvQ2xpcGJvYXJkIiwidGV4dCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInRoZW4iLCJjYXRjaCIsImhpZ2hsaWdodCIsIlByaXNtIiwibGFuZ3VhZ2VzIiwibWFya3VwIiwiYXZhaWxhYmxlU2VjdGlvblR5cGVzIiwianVzdGlmeUNvbnRlbnQiLCJiYWNrZ3JvdW5kIiwiZm9ybSIsIm9uU3VibWl0IiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImJveFNoYWRvdyIsImgyIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsImJvcmRlciIsInJlcXVpcmVkIiwidGV4dEFsaWduIiwiYnV0dG9uIiwiY29sb3IiLCJjdXJzb3IiLCJtZXRhIiwiY29udGVudCIsImxlZnQiLCJmbGV4RGlyZWN0aW9uIiwiZmxleFdyYXAiLCJhY3RpdmVUcGwiLCJmb3JjZUF1dG9IZWlnaHQiLCJjb2xsaXNpb25EZXRlY3Rpb24iLCJtb2RpZmllcnMiLCJvbkRyYWdFbmQiLCJpdGVtcyIsInN0cmF0ZWd5IiwibWwiLCJlbGV2YXRpb24iLCJ0b3AiLCJ6SW5kZXgiLCJtaW5XaWR0aCIsIm1heEhlaWdodCIsIm92ZXJmbG93WSIsIm9wdCIsInB4IiwicmlnaHRPcGVuIiwib25SaWdodENsb3NlIiwib25SaWdodFRvZ2dsZSIsInJpZ2h0IiwiY29tcG9uZW50IiwibXkiLCJzcGFjaW5nIiwic2VsZWN0IiwiZm9ybWF0IiwicmVhZE9ubHkiLCJzdGFydEljb24iLCJhY2NlcHQiLCJoaWRkZW4iLCJmaWxlIiwiZmlsZXMiLCJwdCIsImZsZXgiLCJmb250V2VpZ2h0Iiwib3ZlcmZsb3dYIiwicGFkZGluZ1RvcCIsImRhdGEtcHJldmlldy1jb250YWluZXIiLCJkYXRhLXNlY3Rpb24iLCJkYW5nZXJvdXNseVNldElubmVySFRNTCIsIl9faHRtbCIsIm9uQWN0aXZhdGUiLCJhbmltYXRpb24iLCJtYXhXaWR0aCIsIm14IiwidGFibGUiLCJyb2xlIiwiY2VsbFBhZGRpbmciLCJjZWxsU3BhY2luZyIsImFsaWduIiwibWFyZ2luIiwidGJvZHkiLCJ0ciIsInRkIiwidmFsaWduIiwib3ZlcmZsb3ciLCJwcm9kdWN0SWR4Iiwib25Nb3VzZUVudGVyIiwicXVlcnlTZWxlY3RvciIsImljb24iLCJvcGFjaXR5Iiwib25Nb3VzZUxlYXZlIiwib3V0bGluZSIsInRleHREZWNvcmF0aW9uIiwiYm90dG9tIiwiYmFja2dyb3VuZENvbG9yIiwibWFpblBhbmVsIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInNlbGVjdGVkIiwib3BlbiIsIm9uU2VsZWN0Iiwib25DbG9zZSIsImFuY2hvclJlY3QiLCJvcmllbnRhdGlvbiIsImRzUHJldiIsInByb2R1Y3QiLCJ1cGRhdGVQcm9kdWN0Iiwib3ZlcmxheUNvbnRhaW5lclJlZiIsIm9uQ2hhbmdlRGVzY1NvdXJjZSIsImJvcmRlckJvdHRvbSIsInByZSIsImF1dG9IaWRlRHVyYXRpb24iLCJhbmNob3JPcmlnaW4iLCJ2ZXJ0aWNhbCIsImhvcml6b250YWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.tsx\n"));

/***/ })

});