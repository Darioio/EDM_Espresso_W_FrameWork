"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/index",{

/***/ "./pages/index.tsx":
/*!*************************!*\
  !*** ./pages/index.tsx ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Home; }\n/* harmony export */ });\n/* harmony import */ var _swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @swc/helpers/_/_tagged_template_literal */ \"./node_modules/@swc/helpers/esm/_tagged_template_literal.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_useLiveEditable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/useLiveEditable */ \"./lib/useLiveEditable.ts\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _components_shared_SectionAccordion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/shared/SectionAccordion */ \"./components/shared/SectionAccordion.tsx\");\n/* harmony import */ var _components_AppLayout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/AppLayout */ \"./components/AppLayout.tsx\");\n/* harmony import */ var _components_shared_LabeledSelect__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../components/shared/LabeledSelect */ \"./components/shared/LabeledSelect.tsx\");\n/* harmony import */ var _mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__ = __webpack_require__(/*! @mui/material/Skeleton */ \"./node_modules/@mui/material/esm/Skeleton/index.js\");\n/* harmony import */ var _mui_material_Switch__WEBPACK_IMPORTED_MODULE_54__ = __webpack_require__(/*! @mui/material/Switch */ \"./node_modules/@mui/material/esm/Switch/index.js\");\n/* harmony import */ var _mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_53__ = __webpack_require__(/*! @mui/material/FormControlLabel */ \"./node_modules/@mui/material/esm/FormControlLabel/index.js\");\n/* harmony import */ var _mui_material_Snackbar__WEBPACK_IMPORTED_MODULE_72__ = __webpack_require__(/*! @mui/material/Snackbar */ \"./node_modules/@mui/material/esm/Snackbar/index.js\");\n/* harmony import */ var _mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @mui/material/Typography */ \"./node_modules/@mui/material/esm/Typography/index.js\");\n/* harmony import */ var _mui_material_Box__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @mui/material/Box */ \"./node_modules/@mui/material/esm/Box/index.js\");\n/* harmony import */ var _mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__ = __webpack_require__(/*! @mui/material/Stack */ \"./node_modules/@mui/material/esm/Stack/index.js\");\n/* harmony import */ var _mui_material_Collapse__WEBPACK_IMPORTED_MODULE_51__ = __webpack_require__(/*! @mui/material/Collapse */ \"./node_modules/@mui/material/esm/Collapse/index.js\");\n/* harmony import */ var _mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @mui/material/MenuItem */ \"./node_modules/@mui/material/esm/MenuItem/index.js\");\n/* harmony import */ var _mui_material_Menu__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @mui/material/Menu */ \"./node_modules/@mui/material/esm/Menu/index.js\");\n/* harmony import */ var _mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! @mui/material/ListItemIcon */ \"./node_modules/@mui/material/esm/ListItemIcon/index.js\");\n/* harmony import */ var _mui_material_ListItemText__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @mui/material/ListItemText */ \"./node_modules/@mui/material/esm/ListItemText/index.js\");\n/* harmony import */ var _mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @mui/material/TextField */ \"./node_modules/@mui/material/esm/TextField/index.js\");\n/* harmony import */ var _mui_material_Button__WEBPACK_IMPORTED_MODULE_49__ = __webpack_require__(/*! @mui/material/Button */ \"./node_modules/@mui/material/esm/Button/index.js\");\n/* harmony import */ var _mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @mui/material/IconButton */ \"./node_modules/@mui/material/esm/IconButton/index.js\");\n/* harmony import */ var _mui_material_Divider__WEBPACK_IMPORTED_MODULE_52__ = __webpack_require__(/*! @mui/material/Divider */ \"./node_modules/@mui/material/esm/Divider/index.js\");\n/* harmony import */ var _mui_material_Tabs__WEBPACK_IMPORTED_MODULE_59__ = __webpack_require__(/*! @mui/material/Tabs */ \"./node_modules/@mui/material/esm/Tabs/index.js\");\n/* harmony import */ var _mui_x_data_grid__WEBPACK_IMPORTED_MODULE_61__ = __webpack_require__(/*! @mui/x-data-grid */ \"./node_modules/@mui/x-data-grid/index.js\");\n/* harmony import */ var _mui_material_Tab__WEBPACK_IMPORTED_MODULE_60__ = __webpack_require__(/*! @mui/material/Tab */ \"./node_modules/@mui/material/esm/Tab/index.js\");\n/* harmony import */ var _mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_66__ = __webpack_require__(/*! @mui/material/CircularProgress */ \"./node_modules/@mui/material/esm/CircularProgress/index.js\");\n/* harmony import */ var _mui_material_Paper__WEBPACK_IMPORTED_MODULE_58__ = __webpack_require__(/*! @mui/material/Paper */ \"./node_modules/@mui/material/esm/Paper/index.js\");\n/* harmony import */ var _mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @mui/material/Tooltip */ \"./node_modules/@mui/material/esm/Tooltip/index.js\");\n/* harmony import */ var mui_color_input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! mui-color-input */ \"./node_modules/mui-color-input/dist/mui-color-input.es.js\");\n/* harmony import */ var _mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @mui/material/InputAdornment */ \"./node_modules/@mui/material/esm/InputAdornment/index.js\");\n/* harmony import */ var _mui_material_SvgIcon__WEBPACK_IMPORTED_MODULE_63__ = __webpack_require__(/*! @mui/material/SvgIcon */ \"./node_modules/@mui/material/esm/SvgIcon/index.js\");\n/* harmony import */ var _mui_material_styles__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @mui/material/styles */ \"./node_modules/@mui/material/esm/styles/index.js\");\n/* harmony import */ var _data_templates__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../data/templates */ \"./data/templates.ts\");\n/* harmony import */ var _lib_gridUtils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @lib/gridUtils */ \"./lib/gridUtils.ts\");\n/* harmony import */ var _data_headerTemplates__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../data/headerTemplates */ \"./data/headerTemplates.ts\");\n/* harmony import */ var _data_footerTemplates__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../data/footerTemplates */ \"./data/footerTemplates.ts\");\n/* harmony import */ var _data_heroTemplates__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../data/heroTemplates */ \"./data/heroTemplates.ts\");\n/* harmony import */ var _data_bannerTemplates__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../data/bannerTemplates */ \"./data/bannerTemplates.ts\");\n/* harmony import */ var _components_ProductTableModule__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../components/ProductTableModule */ \"./components/ProductTableModule.tsx\");\n/* harmony import */ var _components_shared_ImageSelector__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../components/shared/ImageSelector */ \"./components/shared/ImageSelector.tsx\");\n/* harmony import */ var _components_shared_RichTextField__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../components/shared/RichTextField */ \"./components/shared/RichTextField.tsx\");\n/* harmony import */ var _components_HeroTableModule__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../components/HeroTableModule */ \"./components/HeroTableModule.tsx\");\n/* harmony import */ var _components_shared_PaddingControls__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../components/shared/PaddingControls */ \"./components/shared/PaddingControls.tsx\");\n/* harmony import */ var _lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../lib/imageUtils */ \"./lib/imageUtils.ts\");\n/* harmony import */ var _lib_sanitize__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../lib/sanitize */ \"./lib/sanitize.ts\");\n/* harmony import */ var _lib_htmlUtils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../lib/htmlUtils */ \"./lib/htmlUtils.ts\");\n/* harmony import */ var _mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @mui/icons-material/ContentCopy */ \"./node_modules/@mui/icons-material/esm/ContentCopy.js\");\n/* harmony import */ var _mui_icons_material_Code__WEBPACK_IMPORTED_MODULE_64__ = __webpack_require__(/*! @mui/icons-material/Code */ \"./node_modules/@mui/icons-material/esm/Code.js\");\n/* harmony import */ var _mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_65__ = __webpack_require__(/*! @mui/icons-material/Visibility */ \"./node_modules/@mui/icons-material/esm/Visibility.js\");\n/* harmony import */ var _mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_47__ = __webpack_require__(/*! @mui/icons-material/Add */ \"./node_modules/@mui/icons-material/esm/Add.js\");\n/* harmony import */ var _mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @mui/icons-material/Close */ \"./node_modules/@mui/icons-material/esm/Close.js\");\n/* harmony import */ var _mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__ = __webpack_require__(/*! @mui/icons-material/Save */ \"./node_modules/@mui/icons-material/esm/Save.js\");\n/* harmony import */ var _mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! @mui/icons-material/Edit */ \"./node_modules/@mui/icons-material/esm/Edit.js\");\n/* harmony import */ var _mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @mui/icons-material/Delete */ \"./node_modules/@mui/icons-material/esm/Delete.js\");\n/* harmony import */ var _mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_57__ = __webpack_require__(/*! @mui/icons-material/ExpandLess */ \"./node_modules/@mui/icons-material/esm/ExpandLess.js\");\n/* harmony import */ var _mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_50__ = __webpack_require__(/*! @mui/icons-material/ExpandMore */ \"./node_modules/@mui/icons-material/esm/ExpandMore.js\");\n/* harmony import */ var _mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @mui/icons-material/DragIndicator */ \"./node_modules/@mui/icons-material/esm/DragIndicator.js\");\n/* harmony import */ var _mui_icons_material_OpenInNew__WEBPACK_IMPORTED_MODULE_62__ = __webpack_require__(/*! @mui/icons-material/OpenInNew */ \"./node_modules/@mui/icons-material/esm/OpenInNew.js\");\n/* harmony import */ var _mui_icons_material_MoreVert__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @mui/icons-material/MoreVert */ \"./node_modules/@mui/icons-material/esm/MoreVert.js\");\n/* harmony import */ var _mui_icons_material_ArrowUpward__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @mui/icons-material/ArrowUpward */ \"./node_modules/@mui/icons-material/esm/ArrowUpward.js\");\n/* harmony import */ var _mui_icons_material_ArrowDownward__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! @mui/icons-material/ArrowDownward */ \"./node_modules/@mui/icons-material/esm/ArrowDownward.js\");\n/* harmony import */ var _mui_material_SpeedDial__WEBPACK_IMPORTED_MODULE_68__ = __webpack_require__(/*! @mui/material/SpeedDial */ \"./node_modules/@mui/material/esm/SpeedDial/index.js\");\n/* harmony import */ var _mui_material_SpeedDialAction__WEBPACK_IMPORTED_MODULE_70__ = __webpack_require__(/*! @mui/material/SpeedDialAction */ \"./node_modules/@mui/material/esm/SpeedDialAction/index.js\");\n/* harmony import */ var _mui_material_SpeedDialIcon__WEBPACK_IMPORTED_MODULE_69__ = __webpack_require__(/*! @mui/material/SpeedDialIcon */ \"./node_modules/@mui/material/esm/SpeedDialIcon/index.js\");\n/* harmony import */ var _mui_material_Dialog__WEBPACK_IMPORTED_MODULE_73__ = __webpack_require__(/*! @mui/material/Dialog */ \"./node_modules/@mui/material/esm/Dialog/index.js\");\n/* harmony import */ var _mui_material_DialogTitle__WEBPACK_IMPORTED_MODULE_74__ = __webpack_require__(/*! @mui/material/DialogTitle */ \"./node_modules/@mui/material/esm/DialogTitle/index.js\");\n/* harmony import */ var _mui_material_DialogContent__WEBPACK_IMPORTED_MODULE_75__ = __webpack_require__(/*! @mui/material/DialogContent */ \"./node_modules/@mui/material/esm/DialogContent/index.js\");\n/* harmony import */ var _mui_material_DialogActions__WEBPACK_IMPORTED_MODULE_76__ = __webpack_require__(/*! @mui/material/DialogActions */ \"./node_modules/@mui/material/esm/DialogActions/index.js\");\n/* harmony import */ var _mui_icons_material_Download__WEBPACK_IMPORTED_MODULE_71__ = __webpack_require__(/*! @mui/icons-material/Download */ \"./node_modules/@mui/icons-material/esm/Download.js\");\n/* harmony import */ var _dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @dnd-kit/core */ \"./node_modules/@dnd-kit/core/dist/core.esm.js\");\n/* harmony import */ var _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @dnd-kit/sortable */ \"./node_modules/@dnd-kit/sortable/dist/sortable.esm.js\");\n/* harmony import */ var _dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @dnd-kit/modifiers */ \"./node_modules/@dnd-kit/modifiers/dist/modifiers.esm.js\");\n/* harmony import */ var _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @dnd-kit/utilities */ \"./node_modules/@dnd-kit/utilities/dist/utilities.esm.js\");\n/* harmony import */ var _components_shared_HtmlThumbnail__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../components/shared/HtmlThumbnail */ \"./components/shared/HtmlThumbnail.tsx\");\n/* harmony import */ var _mui_material_ButtonBase_TouchRipple__WEBPACK_IMPORTED_MODULE_67__ = __webpack_require__(/*! @mui/material/ButtonBase/TouchRipple */ \"./node_modules/@mui/material/esm/ButtonBase/TouchRipple.js\");\n// ...existing code...\n// ...existing code...\n// ...existing code...\n// ...existing code...\n// Place this after bodySections and generateSection are defined\n\nfunction _templateObject() {\n    const data = (0,_swc_helpers_tagged_template_literal__WEBPACK_IMPORTED_MODULE_0__._)([\n        \"\\n    clip: rect(0 0 0 0);\\n    clip-path: inset(50%);\\n    height: 1px;\\n    overflow: hidden;\\n    position: absolute;\\n    bottom: 0;\\n    left: 0;\\n    white-space: nowrap;\\n    width: 1px;\\n  \"\n    ]);\n    _templateObject = function() {\n        return data;\n    };\n    return data;\n}\n\nvar _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n// MUI components for Brand Customisation panel\n// import Drawer from '@mui/material/Drawer';\n\n\n\n// Removed modal-based wizard, these imports are no longer used\n// import FormControl from '@mui/material/FormControl';\n// import Dialog from '@mui/material/Dialog';\n// import DialogTitle from '@mui/material/DialogTitle';\n// import DialogContent from '@mui/material/DialogContent';\n// import DialogActions from '@mui/material/DialogActions';\n\n// Grid removed; using Box with CSS grid for layout\n// import Card from '@mui/material/Card';\n// import CardContent from '@mui/material/CardContent';\n// import CardMedia from '@mui/material/CardMedia';\n// import Checkbox from '@mui/material/Checkbox';\n// import FormControlLabel from '@mui/material/FormControlLabel';\n// import InputLabel from '@mui/material/InputLabel';\n// import Select from '@mui/material/Select';\n\n\n\n\n\n\n\n\n\n\n\n\n// Padding toggles removed\n\n\n// import CloseIcon from '@mui/icons-material/Close';\n\n\n// Removed padding controls\n\n\n// import Backdrop from '@mui/material/Backdrop';\n// import ImageList from '@mui/material/ImageList';\n// import ImageListItem from '@mui/material/ImageListItem';\n// import ToggleButton from '@mui/material/ToggleButton';\n// import ToggleButtonGroup from '@mui/material/ToggleButtonGroup';\n\n// chunkGrid no longer needed directly here; grid helpers centralised in gridUtils\n\n\n\n\n\n// Import interactive modules for preview. ProductTableModule renders\n// each product module with inline editing and image selection. The\n// HeroTableModule renders the hero section with image selection.\n\n\n\n\n\n\n\n\n// ProductTableModule was used for an interactive preview in earlier versions. When\n// rendering via OptionÂ A the preview uses the compiled HTML directly so we\n// no longer import or use ProductTableModule here.\n// MUI Icons\n\n\n\n\n\n\n\n// import SettingsIcon from '@mui/icons-material/Settings';\n\n\n\n\n\n\n\n\n// SpeedDial\n\n\n\n\n\n\n\n\n// Floating formatting icons removed for preview copy-only behavior\n\n\n\n\n\n// Use MUI's internal ripple component to provide visual feedback in preview\n// eslint-disable-next-line import/no-extraneous-dependencies\n\n// nested component remounts from capturing local versions\nconst sanitizeUrl = (url)=>(url || \"\").split(\"?\")[0];\nconst isHttpUrl = (url)=>{\n    try {\n        const u = new URL(url);\n        return u.protocol === \"http:\" || u.protocol === \"https:\";\n    } catch (e) {\n        return false;\n    }\n};\nconst SortableUrlRow = (param)=>{\n    let { rowId, sectionId, index, value, isLast, canRemove, onChange, onFocusIndex, onBlurIndex, onRemoveIndex, onAddAfterIndex, onSyncToParent, caretRef } = param;\n    _s();\n    const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.useSortable)({\n        id: rowId\n    });\n    const style = {\n        transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_26__.CSS.Transform.toString(transform),\n        transition\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n        ref: setNodeRef,\n        style: style,\n        sx: {\n            mb: 2,\n            position: \"relative\",\n            width: \"100%\",\n            overflow: \"visible\"\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n            id: \"url-\".concat(sectionId, \"-\").concat(index),\n            type: \"url\",\n            label: \"Product URL \".concat(index + 1),\n            value: value,\n            fullWidth: true,\n            onChange: (e)=>onChange(index, e.target.value),\n            onFocus: ()=>onFocusIndex(index),\n            onBlur: ()=>onBlurIndex(index),\n            InputProps: {\n                startAdornment: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                    position: \"start\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                        title: \"Reorder\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                            size: \"small\",\n                            ...attributes,\n                            ...listeners,\n                            edge: \"start\",\n                            tabIndex: -1,\n                            sx: {\n                                cursor: \"grab\"\n                            },\n                            \"aria-label\": \"Reorder product URL\",\n                            \"aria-describedby\": undefined,\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                                fontSize: \"small\"\n                            }, void 0, false, void 0, void 0)\n                        }, void 0, false, void 0, void 0)\n                    }, void 0, false, void 0, void 0)\n                }, void 0, false, void 0, void 0),\n                endAdornment: canRemove ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                    position: \"end\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                        onClick: ()=>onRemoveIndex(index),\n                        title: \"Remove URL\",\n                        edge: \"end\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                            fontSize: \"medium\"\n                        }, void 0, false, void 0, void 0)\n                    }, void 0, false, void 0, void 0)\n                }, void 0, false, void 0, void 0) : null\n            },\n            inputProps: {\n                onClick: (e)=>{\n                    const t = e.currentTarget;\n                    var _t_selectionStart, _t_selectionEnd;\n                    caretRef.current = {\n                        index,\n                        start: (_t_selectionStart = t.selectionStart) !== null && _t_selectionStart !== void 0 ? _t_selectionStart : t.value.length,\n                        end: (_t_selectionEnd = t.selectionEnd) !== null && _t_selectionEnd !== void 0 ? _t_selectionEnd : t.value.length\n                    };\n                },\n                onKeyUp: (e)=>{\n                    const t = e.currentTarget;\n                    var _t_selectionStart, _t_selectionEnd;\n                    caretRef.current = {\n                        index,\n                        start: (_t_selectionStart = t.selectionStart) !== null && _t_selectionStart !== void 0 ? _t_selectionStart : t.value.length,\n                        end: (_t_selectionEnd = t.selectionEnd) !== null && _t_selectionEnd !== void 0 ? _t_selectionEnd : t.value.length\n                    };\n                },\n                onSelect: (e)=>{\n                    const t = e.currentTarget;\n                    var _t_selectionStart, _t_selectionEnd;\n                    caretRef.current = {\n                        index,\n                        start: (_t_selectionStart = t.selectionStart) !== null && _t_selectionStart !== void 0 ? _t_selectionStart : t.value.length,\n                        end: (_t_selectionEnd = t.selectionEnd) !== null && _t_selectionEnd !== void 0 ? _t_selectionEnd : t.value.length\n                    };\n                },\n                onKeyDown: (e)=>{\n                    const curr = e.currentTarget;\n                    const val = curr.value.trim();\n                    if (e.key === \"Enter\") {\n                        e.preventDefault();\n                        onSyncToParent(index, curr.value);\n                        if (val && isLast) {\n                            onAddAfterIndex(index);\n                            setTimeout(()=>{\n                                const next = document.getElementById(\"url-\".concat(sectionId, \"-\").concat(index + 1));\n                                next === null || next === void 0 ? void 0 : next.focus();\n                            }, 0);\n                        }\n                        curr.blur();\n                        if (isLast) {\n                            try {\n                                const cleaned = sanitizeUrl(curr.value.trim());\n                                if (isHttpUrl(cleaned)) {\n                                    const btn = document.getElementById(\"update-button-\".concat(sectionId));\n                                    btn === null || btn === void 0 ? void 0 : btn.click();\n                                }\n                            } catch (e) {}\n                        }\n                    } else if (e.key === \"Tab\" && !e.shiftKey && isLast) {\n                        e.preventDefault();\n                        onSyncToParent(index, curr.value);\n                        onAddAfterIndex(index);\n                        setTimeout(()=>{\n                            const next = document.getElementById(\"url-\".concat(sectionId, \"-\").concat(index + 1));\n                            next === null || next === void 0 ? void 0 : next.focus();\n                        }, 0);\n                        curr.blur();\n                        try {\n                            const cleaned = sanitizeUrl(curr.value.trim());\n                            if (isHttpUrl(cleaned)) {\n                                const btn = document.getElementById(\"update-button-\".concat(sectionId));\n                                btn === null || btn === void 0 ? void 0 : btn.click();\n                            }\n                        } catch (e) {}\n                    }\n                }\n            },\n            variant: \"standard\",\n            sx: {\n                \"& .MuiInput-underline:before\": {\n                    borderBottomColor: \"grey.400\"\n                },\n                \"& .MuiInput-underline:after\": {\n                    borderBottomColor: \"var(--color-primary)\"\n                }\n            }\n        }, void 0, false, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 213,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n        lineNumber: 212,\n        columnNumber: 5\n    }, undefined);\n};\n_s(SortableUrlRow, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function() {\n    return [\n        _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.useSortable\n    ];\n});\n_c = SortableUrlRow;\nconst ProductUrlFieldsImpl = (param)=>{\n    let { sectionId, urls, onUrlChange, onAddField, onRemoveField, addNotification, onReorder } = param;\n    _s1();\n    const [localValues, setLocalValues] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(()=>urls.length > 0 ? urls : [\n            \"\"\n        ]);\n    const prevUrlsRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)([]);\n    const [focusedIndex, setFocusedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const caretRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const urlsChanged = urls.length !== prevUrlsRef.current.length || urls.some((url, i)=>url !== prevUrlsRef.current[i]);\n        if (urlsChanged && focusedIndex === null) {\n            setLocalValues(urls.length > 0 ? urls : [\n                \"\"\n            ]);\n            prevUrlsRef.current = [\n                ...urls\n            ];\n        }\n    }, [\n        urls,\n        focusedIndex\n    ]);\n    react__WEBPACK_IMPORTED_MODULE_2___default().useLayoutEffect(()=>{\n        if (focusedIndex === null) return;\n        const el = document.getElementById(\"url-\".concat(sectionId, \"-\").concat(focusedIndex));\n        if (el) {\n            try {\n                el.focus();\n                const c = caretRef.current;\n                if (c && c.index === focusedIndex && typeof el.setSelectionRange === \"function\") {\n                    el.setSelectionRange(c.start, c.end);\n                }\n            } catch (e) {}\n        }\n    }, [\n        focusedIndex,\n        localValues.length,\n        sectionId\n    ]);\n    const updateLocalValue = (index, value)=>{\n        setLocalValues((prev)=>{\n            const next = [\n                ...prev\n            ];\n            next[index] = value;\n            return next;\n        });\n    };\n    const syncToParent = (index, rawValue)=>{\n        const source = rawValue !== undefined ? rawValue : localValues[index] || \"\";\n        const cleaned = sanitizeUrl(source);\n        if (cleaned && !isHttpUrl(cleaned)) {\n            addNotification(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                children: [\n                    \"Invalid product URL: \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                        style: {\n                            fontWeight: \"bold\"\n                        },\n                        children: cleaned\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 357,\n                        columnNumber: 32\n                    }, undefined),\n                    \"\\xa0|\\xa0Please enter a valid http(s) link.\"\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 356,\n                columnNumber: 9\n            }, undefined));\n        }\n        setLocalValues((prev)=>{\n            const next = [\n                ...prev\n            ];\n            next[index] = cleaned;\n            return next;\n        });\n        onUrlChange(sectionId, index, cleaned);\n    };\n    const sensors = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.useSensors)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.PointerSensor));\n    // Row component moved to module scope as SortableUrlRow\n    // Maintain stable row ids for DnD items\n    const [rowIds, setRowIds] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(()=>localValues.map((_, i)=>\"url-\".concat(sectionId, \"-\").concat(i, \"-init\")));\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        setRowIds((prev)=>{\n            const next = [\n                ...prev\n            ];\n            if (localValues.length > next.length) {\n                for(let i = next.length; i < localValues.length; i++){\n                    next.push(\"url-\".concat(sectionId, \"-\").concat(i, \"-\").concat(i));\n                }\n            } else if (localValues.length < next.length) {\n                next.length = localValues.length;\n            }\n            return next;\n        });\n    }, [\n        localValues.length,\n        sectionId\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n        style: {\n            width: \"100%\",\n            paddingRight: \"0px\"\n        },\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                variant: \"subtitle1\",\n                sx: {\n                    mb: 1,\n                    mt: 1,\n                    fontWeight: \"600\"\n                },\n                children: \"Product URLs\"\n            }, void 0, false, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 391,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.DndContext, {\n                sensors: sensors,\n                collisionDetection: _dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.closestCenter,\n                onDragEnd: (param)=>{\n                    let { active, over } = param;\n                    if (!over || active.id === over.id) return;\n                    const oldIndex = rowIds.indexOf(String(active.id));\n                    const newIndex = rowIds.indexOf(String(over.id));\n                    if (oldIndex === -1 || newIndex === -1 || oldIndex === newIndex) return;\n                    setRowIds((prev)=>(0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.arrayMove)(prev, oldIndex, newIndex));\n                    setLocalValues((prev)=>(0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.arrayMove)(prev, oldIndex, newIndex));\n                    onReorder(sectionId, oldIndex, newIndex);\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.SortableContext, {\n                    items: rowIds,\n                    strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.verticalListSortingStrategy,\n                    children: rowIds.map((rowId, index)=>/*#__PURE__*/ {\n                        var _localValues_index;\n                        return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(SortableUrlRow, {\n                            rowId: rowId,\n                            sectionId: sectionId,\n                            index: index,\n                            value: (_localValues_index = localValues[index]) !== null && _localValues_index !== void 0 ? _localValues_index : \"\",\n                            isLast: index === localValues.length - 1,\n                            canRemove: localValues.length > 1,\n                            onChange: updateLocalValue,\n                            onFocusIndex: (i)=>setFocusedIndex(i),\n                            onBlurIndex: (i)=>{\n                                syncToParent(i);\n                                setFocusedIndex((curr)=>curr === i ? null : curr);\n                            },\n                            onRemoveIndex: (i)=>onRemoveField(sectionId, i),\n                            onAddAfterIndex: (i)=>{\n                                onAddField(sectionId, i + 1);\n                                setFocusedIndex(i + 1);\n                            },\n                            onSyncToParent: syncToParent,\n                            caretRef: caretRef\n                        }, rowId, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 407,\n                            columnNumber: 13\n                        }, undefined);\n                    })\n                }, void 0, false, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 405,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 392,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n        lineNumber: 390,\n        columnNumber: 5\n    }, undefined);\n};\n_s1(ProductUrlFieldsImpl, \"D/ahdhQEGjAvp6T8lyZGsemmWvY=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.useSensors\n    ];\n});\n_c1 = ProductUrlFieldsImpl;\nconst areProductUrlFieldsEqual = (prev, next)=>{\n    // Only re-render if the section changes or the urls reference changes.\n    // Ignore function prop identity to avoid unnecessary renders while typing.\n    return prev.sectionId === next.sectionId && prev.urls === next.urls;\n};\nconst ProductUrlFields = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2___default().memo(ProductUrlFieldsImpl, areProductUrlFieldsEqual);\n_c2 = ProductUrlFields;\nProductUrlFields.displayName = \"ProductUrlFields\";\n/**\n * Map a body template to its alternating variant. When rendering\n * multiple products from the same template, every other product\n * alternates orientation to provide visual variety. Keys correspond\n * to template IDs defined in data/templates.ts. This constant is\n * defined here to avoid ReferenceError when referenced before its\n * declaration. See code sections where alternateMap is used.\n */ const alternateMap = {\n    \"product-image-left-copy-right\": \"product-copy-left-image-right\",\n    \"product-copy-left-image-right\": \"product-image-left-copy-right\"\n};\nfunction Home() {\n    var _bodySections_find_products_selectedProductCtx_index, _bodySections_find_products, _bodySections_find, _analyzeData_product, _bodySections_find_products_selectedProductCtx_index1, _bodySections_find_products1, _bodySections_find1, _analyzeData_product1, _bodySections_find_products_selectedProductCtx_index2, _bodySections_find_products2, _bodySections_find2, _analyzeData_product2, _this, _bodySections_find_products3, _bodySections_find3, _this1, _this2, _bodySections_find_products4, _bodySections_find4, _this3, _this4, _bodySections_find_products5, _bodySections_find5, _this5, _bodySections_find_products_selectedProductCtx_index3, _bodySections_find_products6, _bodySections_find6, _analyzeData_product3, _bodySections_find_products_selectedProductCtx_index4, _bodySections_find_products7, _bodySections_find7, _analyzeData_product4, _bodySections_find_products_selectedProductCtx_index5, _bodySections_find_products8, _bodySections_find8, _analyzeData_product5, _bodySections_find_products_selectedProductCtx_index_images, _bodySections_find_products_selectedProductCtx_index6, _bodySections_find_products9, _bodySections_find9, _analyzeData_product_images, _analyzeData_product6, _bodySections_find_products_selectedProductCtx_index7, _bodySections_find_products10, _bodySections_find10, _analyzeData_product7, _analyzeData_bannerImages;\n    _s2();\n    var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$();\n    const VisuallyHiddenInput = (0,_mui_material_styles__WEBPACK_IMPORTED_MODULE_36__.styled)(\"input\")(_templateObject());\n    // Prevent repeated auto-generation loops; only attempt once after initial URL\n    const autoGenTriedRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n    const landingInputRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const [platformVisible, setPlatformVisible] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [advancedSettingsOpen, setAdvancedSettingsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    // Universal image selector state: which section and product index is open\n    const [imageSelector, setImageSelector] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    /**\n   * Currently selected module section. Users can switch between\n   * editing the header, body or footer. Default to the body\n   * section as it contains the main product modules.\n   */ // Accordion open section state. Only one section (header, body or\n    // footer) can be expanded at a time. Defaults to body because the\n    // body contains the product list and is the primary focus.\n    // Track which accordion panel is open. Keys include 'header', 'hero',\n    // 'footer' and dynamic body identifiers like 'body-1', 'body-2', etc.\n    const [openSection, setOpenSection] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"body-1\");\n    // Toggle email-safe sanitization for rich text fields (announcement, titles, descriptions)\n    const [emailSafe, setEmailSafe] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    /**\n   * Toggle an accordion panel open or closed. When the given\n   * identifier matches the current openSection, the panel is\n   * collapsed. Otherwise it becomes the new open panel. This helper\n   * prevents additional logic from being duplicated on click\n   * handlers throughout the UI.\n   */ const handleAccordionToggle = (id)=>{\n        setOpenSection((prev)=>prev === id ? \"\" : id);\n    };\n    const handleAdvancedToggle = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((key)=>{\n        setAdvancedSettingsOpen((prev)=>({\n                ...prev,\n                [key]: !prev[key]\n            }));\n    }, []);\n    const isAdvancedOpen = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((key)=>Boolean(advancedSettingsOpen[key]), [\n        advancedSettingsOpen\n    ]);\n    /**\n   * View mode within a module. Users can toggle between a live\n   * preview of the selected module or the generated HTML code. This\n   * toggle is scoped to the preview/edit area and not the module\n   * tabs themselves. Default to preview.\n   */ // View mode toggles between a full email preview and the generated HTML\n    // code for the body modules. This applies to the entire message\n    // (header + body modules + footer) and not individual sections. Default\n    // to preview.\n    const [viewMode, setViewMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"preview\");\n    /**\n   * Body sections. Each section has its own list of URLs, parsed\n   * products and selected template. Sections are rendered in order and\n   * can be independently generated. A loading flag is stored per\n   * section.\n   */ const [bodySections, setBodySections] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    // Draft URLs per section id; keeps typing local without re-rendering main compose\n    const [draftUrls, setDraftUrls] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    // Selected product context for collection pages and per-section selection\n    const [selectedProductCtx, setSelectedProductCtx] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    const getDraftUrls = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((sectionId)=>{\n        const existing = draftUrls[sectionId];\n        if (existing) return existing;\n        const section = bodySections.find((s)=>s.id === sectionId);\n        return section ? section.urls : [];\n    }, [\n        draftUrls,\n        bodySections\n    ]);\n    // Visibility toggles for optional sections\n    const [showHeaderSection, setShowHeaderSection] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [showHeroSection, setShowHeroSection] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [showBannerSection, setShowBannerSection] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [showFooterSection, setShowFooterSection] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    // Order of draggable sections including header/footer\n    const [sectionOrder, setSectionOrder] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([\n        \"hero\",\n        ...bodySections.map((s)=>\"body-\".concat(s.id)),\n        \"banner\"\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        setSectionOrder((prev)=>{\n            const filtered = prev.filter((id)=>{\n                if (id === \"hero\" && !showHeroSection) return false;\n                if (id === \"banner\" && !showBannerSection) return false;\n                if (id.startsWith(\"body-\")) {\n                    return bodySections.some((s)=>\"body-\".concat(s.id) === id);\n                }\n                return true;\n            });\n            const desired = [\n                ...showHeroSection ? [\n                    \"hero\"\n                ] : [],\n                ...bodySections.map((s)=>\"body-\".concat(s.id)),\n                ...showBannerSection ? [\n                    \"banner\"\n                ] : []\n            ];\n            desired.forEach((id)=>{\n                if (!filtered.includes(id)) {\n                    if (id.startsWith(\"body-\") && filtered.includes(\"banner\")) {\n                        filtered.splice(filtered.indexOf(\"banner\"), 0, id);\n                    } else {\n                        filtered.push(id);\n                    }\n                }\n            });\n            return filtered;\n        });\n    }, [\n        bodySections,\n        showHeroSection,\n        showBannerSection\n    ]);\n    // Drag-and-drop sensors and handler for reordering sections\n    const sensors = (0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.useSensors)((0,_dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.useSensor)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.PointerSensor));\n    const handleSectionDragEnd = (event)=>{\n        const { active, over } = event;\n        if (!over || active.id === over.id) return;\n        setSectionOrder((prev)=>{\n            const oldIndex = prev.indexOf(active.id);\n            const newIndex = prev.indexOf(over.id);\n            return (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.arrayMove)(prev, oldIndex, newIndex);\n        });\n        if (String(active.id).startsWith(\"body-\") && String(over.id).startsWith(\"body-\")) {\n            // Sections are rendered based on sectionOrder; bodySections data order can remain unchanged.\n            return;\n        }\n    };\n    // Snackbar state for lightweight notifications\n    const [snackbarOpen, setSnackbarOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [snackbarMsg, setSnackbarMsg] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const addNotification = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((message)=>{\n        setSnackbarMsg(message);\n        setSnackbarOpen(true);\n    }, []);\n    // Helper to move an item within sectionOrder and mirror bodySections order when applicable\n    const moveSectionUp = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((key)=>{\n        setSectionOrder((prev)=>{\n            const i = prev.indexOf(key);\n            if (i <= 0) return prev;\n            const next = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.arrayMove)(prev, i, i - 1);\n            if (key.startsWith(\"body-\")) {\n                // Rebuild bodySections to match the order of body-* keys\n                setBodySections((sections)=>{\n                    const byId = new Map(sections.map((s)=>[\n                            s.id,\n                            s\n                        ]));\n                    const orderedIds = next.filter((k)=>k.startsWith(\"body-\")).map((k)=>Number(k.replace(\"body-\", \"\")));\n                    return orderedIds.map((id)=>byId.get(id)).filter(Boolean);\n                });\n            }\n            return next;\n        });\n    }, []);\n    const moveSectionDown = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((key)=>{\n        setSectionOrder((prev)=>{\n            const i = prev.indexOf(key);\n            if (i === -1 || i >= prev.length - 1) return prev;\n            const next = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.arrayMove)(prev, i, i + 1);\n            if (key.startsWith(\"body-\")) {\n                setBodySections((sections)=>{\n                    const byId = new Map(sections.map((s)=>[\n                            s.id,\n                            s\n                        ]));\n                    const orderedIds = next.filter((k)=>k.startsWith(\"body-\")).map((k)=>Number(k.replace(\"body-\", \"\")));\n                    return orderedIds.map((id)=>byId.get(id)).filter(Boolean);\n                });\n            }\n            return next;\n        });\n    }, []);\n    // Deep-clone a body section: products, urls (draft), padding, and insert after source\n    const cloneBodySection = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((sectionId)=>{\n        const src = bodySections.find((s)=>s.id === sectionId);\n        if (!src) return;\n        const newId = (bodySections.reduce((m, s)=>Math.max(m, s.id), 0) || 0) + 1;\n        var _draftUrls_sectionId, _ref;\n        const urlsClone = ((_ref = (_draftUrls_sectionId = draftUrls[sectionId]) !== null && _draftUrls_sectionId !== void 0 ? _draftUrls_sectionId : src.urls) !== null && _ref !== void 0 ? _ref : []).map((u)=>u);\n        var _src_products;\n        const productsClone = ((_src_products = src.products) !== null && _src_products !== void 0 ? _src_products : []).map((p)=>({\n                ...p\n            }));\n        const cloned = {\n            id: newId,\n            name: src.name,\n            urls: urlsClone,\n            products: productsClone,\n            selectedBodyId: src.selectedBodyId,\n            loading: false\n        };\n        setBodySections((prev)=>{\n            const i = prev.findIndex((s)=>s.id === sectionId);\n            const next = [\n                ...prev\n            ];\n            next.splice(i + 1, 0, cloned);\n            return next;\n        });\n        setDraftUrls((prev)=>({\n                ...prev,\n                [newId]: urlsClone\n            }));\n        setBodySectionPaddings((prev)=>{\n            const next = new Map(prev);\n            const pad = next.get(sectionId);\n            if (pad) next.set(newId, {\n                ...pad\n            });\n            return next;\n        });\n        setSectionOrder((prev)=>{\n            const key = \"body-\".concat(sectionId);\n            const pos = prev.indexOf(key);\n            if (pos === -1) return prev;\n            const next = [\n                ...prev\n            ];\n            next.splice(pos + 1, 0, \"body-\".concat(newId));\n            return next;\n        });\n        setOpenSection(\"body-\".concat(newId));\n        if (selectedProductCtx && selectedProductCtx.sectionId === sectionId) {\n            const idx = Math.min(selectedProductCtx.index, Math.max(0, productsClone.length - 1));\n            setSelectedProductCtx({\n                sectionId: newId,\n                index: idx\n            });\n        }\n        addNotification(\"Section cloned\");\n    }, [\n        bodySections,\n        draftUrls,\n        selectedProductCtx,\n        addNotification\n    ]);\n    // Reusable \"more actions\" button with MUI Menu\n    const MoreActions = (param)=>{\n        let { size = \"medium\", items, title = \"More actions\" } = param;\n        _s();\n        const [anchorEl, setAnchorEl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n        const open = Boolean(anchorEl);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                    component: \"span\",\n                    size: size,\n                    onClick: (e)=>{\n                        e.stopPropagation();\n                        setAnchorEl(e.currentTarget);\n                    },\n                    title: title,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_MoreVert__WEBPACK_IMPORTED_MODULE_37__[\"default\"], {\n                        fontSize: size\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 718,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 717,\n                    columnNumber: 11\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Menu__WEBPACK_IMPORTED_MODULE_38__[\"default\"], {\n                    anchorEl: anchorEl,\n                    open: open,\n                    onClose: ()=>setAnchorEl(null),\n                    onClick: (e)=>e.stopPropagation(),\n                    children: items.map((it, idx)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                            disabled: !!it.disabled,\n                            onClick: ()=>{\n                                var _it_onClick;\n                                setAnchorEl(null);\n                                (_it_onClick = it.onClick) === null || _it_onClick === void 0 ? void 0 : _it_onClick.call(it);\n                            },\n                            children: [\n                                it.icon && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_ListItemIcon__WEBPACK_IMPORTED_MODULE_40__[\"default\"], {\n                                    children: it.icon\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 723,\n                                    columnNumber: 29\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_ListItemText__WEBPACK_IMPORTED_MODULE_41__[\"default\"], {\n                                    children: it.label\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 724,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, idx, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 722,\n                            columnNumber: 15\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                    lineNumber: 720,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true);\n    };\n    _s(MoreActions, \"+aMDa7FPcESUyQDF1vq0RSMn4/k=\");\n    // ProductUrlFields moved to module scope above\n    const SortableBodySection = (param)=>{\n        let { section, isOpen } = param;\n        _s1();\n        const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.useSortable)({\n            id: \"body-\".concat(section.id)\n        });\n        const { [\"aria-describedby\"]: _ariaDescribedBy, ...sortableAttributes } = attributes;\n        const style = {\n            transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_26__.CSS.Transform.toString(transform),\n            transition\n        };\n        // Stable handler so PaddingControls.onChange identity doesn't change across renders\n        const handlePaddingChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((p)=>setBodySectionPadding(section.id, p), [\n            section.id,\n            setBodySectionPadding\n        ]);\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n            ref: setNodeRef,\n            style: {\n                ...style,\n                borderRadius: 5\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_SectionAccordion__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                id: \"left-body-\".concat(section.id),\n                title: section.name,\n                expanded: isOpen,\n                onToggle: ()=>handleAccordionToggle(\"body-\".concat(section.id)),\n                startAdornment: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                    component: \"span\",\n                    size: \"medium\",\n                    ...sortableAttributes,\n                    ...listeners,\n                    onClick: (e)=>e.stopPropagation(),\n                    title: \"Reorder section\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                        fontSize: \"medium\"\n                    }, void 0, false, void 0, void 0)\n                }, void 0, false, void 0, void 0),\n                actions: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(MoreActions, {\n                    size: \"medium\",\n                    items: (()=>{\n                        const key = \"body-\".concat(section.id);\n                        const idx = sectionOrder.indexOf(key);\n                        return [\n                            {\n                                label: \"Move up\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowUpward__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                disabled: idx <= 0,\n                                onClick: ()=>moveSectionUp(key)\n                            },\n                            {\n                                label: \"Move down\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowDownward__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                disabled: idx === -1 || idx >= sectionOrder.length - 1,\n                                onClick: ()=>moveSectionDown(key)\n                            },\n                            {\n                                label: \"Clone\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                onClick: ()=>cloneBodySection(section.id)\n                            },\n                            {\n                                label: \"Delete\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                onClick: ()=>removeBodySection(section.id)\n                            }\n                        ];\n                    })()\n                }, void 0, false, void 0, void 0),\n                detailsSx: {\n                    pt: 1.25\n                },\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"template-row\",\n                        style: {\n                            display: \"flex\",\n                            gap: \"var(--gap-2)\",\n                            alignItems: \"center\",\n                            marginTop: \"0.5rem\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_LabeledSelect__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                idBase: \"body-template-\".concat(section.id),\n                                label: \"Template\",\n                                value: section.selectedBodyId,\n                                onChange: (e)=>setSectionTemplate(section.id, e.target.value),\n                                children: bodyTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                        value: tpl.id,\n                                        children: tpl.name\n                                    }, tpl.id, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 786,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 779,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                onClick: ()=>setBodyEditMode((v)=>!v),\n                                title: bodyEditMode ? \"Close editor\" : \"Edit template\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                    fontSize: \"medium\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 790,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 789,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                onClick: ()=>setShowNewBody((v)=>!v),\n                                title: showNewBody ? \"Cancel new template\" : \"Add new template\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                    fontSize: \"medium\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 793,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 792,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 778,\n                        columnNumber: 13\n                    }, this),\n                    bodyEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                id: \"body-draft-html-\".concat(section.id),\n                                label: \"Template HTML\",\n                                value: draftBodyHtml,\n                                onChange: (e)=>setDraftBodyHtml(e.target.value),\n                                rows: 8,\n                                fullWidth: true,\n                                multiline: true,\n                                variant: \"standard\",\n                                sx: {\n                                    fontFamily: \"monospace\",\n                                    \"& .MuiInput-underline:before\": {\n                                        borderBottomColor: \"grey.400\"\n                                    },\n                                    \"& .MuiInput-underline:after\": {\n                                        borderBottomColor: \"var(--color-primary)\"\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 798,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                className: \"new-template-actions\",\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"var(--gap-2)\",\n                                    marginTop: \"0.5rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>setBodyEditMode(false),\n                                        title: \"Cancel edit\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 801,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 800,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>{\n                                            saveBodyEdits();\n                                            setBodyEditMode(false);\n                                        },\n                                        title: \"Save edits\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 804,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 803,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 799,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 797,\n                        columnNumber: 15\n                    }, this),\n                    showNewBody && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"new-template-form\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                id: \"body-new-name-\".concat(section.id),\n                                label: \"Template name\",\n                                type: \"text\",\n                                value: newBodyName,\n                                onChange: (e)=>setNewBodyName(e.target.value),\n                                fullWidth: true,\n                                variant: \"standard\",\n                                sx: {\n                                    mb: 1,\n                                    \"& .MuiInput-underline:before\": {\n                                        borderBottomColor: \"grey.400\"\n                                    },\n                                    \"& .MuiInput-underline:after\": {\n                                        borderBottomColor: \"var(--color-primary)\"\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 811,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                id: \"body-new-html-\".concat(section.id),\n                                label: \"Template HTML\",\n                                value: newBodyHtml,\n                                onChange: (e)=>setNewBodyHtml(e.target.value),\n                                rows: 6,\n                                fullWidth: true,\n                                multiline: true,\n                                variant: \"standard\",\n                                sx: {\n                                    fontFamily: \"monospace\",\n                                    \"& .MuiInput-underline:before\": {\n                                        borderBottomColor: \"grey.400\"\n                                    },\n                                    \"& .MuiInput-underline:after\": {\n                                        borderBottomColor: \"var(--color-primary)\"\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 812,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                className: \"new-template-actions\",\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"var(--gap-2)\",\n                                    marginTop: \"0.5rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>{\n                                            setShowNewBody(false);\n                                            setNewBodyName(\"\");\n                                            setNewBodyHtml(\"\");\n                                        },\n                                        title: \"Cancel new template\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 815,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 814,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>{\n                                            addNewBodyTemplate();\n                                            setShowNewBody(false);\n                                        },\n                                        title: \"Save new template\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 818,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 817,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 813,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 810,\n                        columnNumber: 15\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(ProductUrlFields, {\n                        sectionId: section.id,\n                        urls: getDraftUrls(section.id),\n                        onUrlChange: handleUrlChange,\n                        onAddField: addUrlField,\n                        onRemoveField: removeUrlField,\n                        addNotification: addNotification,\n                        onReorder: (sectionId, oldIndex, newIndex)=>{\n                            // Reorder draftUrls immediately for UI continuity\n                            setDraftUrls((prev)=>{\n                                var _prev_sectionId;\n                                const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n                                const next = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.arrayMove)(current, oldIndex, newIndex);\n                                return {\n                                    ...prev,\n                                    [sectionId]: next\n                                };\n                            });\n                            // Reorder section.urls and products to reflect in preview\n                            setBodySections((prev)=>prev.map((s)=>{\n                                    if (s.id !== sectionId) return s;\n                                    const urls = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.arrayMove)(s.urls, oldIndex, newIndex);\n                                    const products = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.arrayMove)(s.products, oldIndex, newIndex);\n                                    return {\n                                        ...s,\n                                        urls,\n                                        products\n                                    };\n                                }));\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 823,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        style: {\n                            marginTop: \"1rem\",\n                            display: \"flex\",\n                            alignItems: \"center\",\n                            gap: \"var(--gap-2)\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                id: \"update-button-\".concat(section.id),\n                                onClick: ()=>{\n                                    // Blur any focused element to trigger onBlur syncs\n                                    if (document.activeElement instanceof HTMLElement) {\n                                        document.activeElement.blur();\n                                    }\n                                    // Commit the latest values from all URL inputs of this section into draftUrls\n                                    try {\n                                        const nodeList = Array.from(document.querySelectorAll('input[id^=\"url-'.concat(section.id, '-\"]')));\n                                        // Sort by index extracted from id `url-sectionId-index`\n                                        const sorted = nodeList.map((el)=>{\n                                            const m = el.id.match(new RegExp(\"^url-\".concat(section.id, \"-(\\\\d+)$\")));\n                                            const idx = m ? parseInt(m[1], 10) : Number.MAX_SAFE_INTEGER;\n                                            return {\n                                                idx,\n                                                el\n                                            };\n                                        }).sort((a, b)=>a.idx - b.idx);\n                                        const valuesRaw = sorted.map((param)=>{\n                                            let { el } = param;\n                                            var _el_value;\n                                            return (_el_value = el.value) !== null && _el_value !== void 0 ? _el_value : \"\";\n                                        });\n                                        // Normalize and sanitize (strip query params) to match server mapping keys\n                                        const values = valuesRaw.map((v)=>sanitizeUrl((v || \"\").trim())).filter((v)=>v.length > 0 || valuesRaw.includes(v));\n                                        setDraftUrls((prev)=>({\n                                                ...prev,\n                                                [section.id]: values\n                                            }));\n                                        // Trigger generation using explicit values to avoid stale state\n                                        setTimeout(()=>generateSection(section.id, values), 0);\n                                    } catch (err) {\n                                        // Non-fatal; fall back to existing draftUrls/section.urls\n                                        console.warn(\"Failed to collect URL inputs before update\", err);\n                                        // Fallback: still call generate using current state\n                                        setTimeout(()=>generateSection(section.id), 0);\n                                    }\n                                },\n                                disabled: section.loading,\n                                children: section.loading ? \"Generatingâ¦\" : \"Update\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 847,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                onClick: ()=>{\n                                    var _getDraftUrls;\n                                    var _getDraftUrls_length;\n                                    // Add a new URL row at the end and focus it\n                                    const nextIndex = (_getDraftUrls_length = (_getDraftUrls = getDraftUrls(section.id)) === null || _getDraftUrls === void 0 ? void 0 : _getDraftUrls.length) !== null && _getDraftUrls_length !== void 0 ? _getDraftUrls_length : 0;\n                                    addUrlField(section.id, nextIndex);\n                                },\n                                title: \"Add product URL\",\n                                \"aria-label\": \"Add product URL\",\n                                sx: {\n                                    ml: \"auto\",\n                                    backgroundColor: \"var(--color-primary)\",\n                                    color: \"#fff\",\n                                    display: \"inline-flex\",\n                                    alignItems: \"center\",\n                                    justifyContent: \"center\",\n                                    lineHeight: 1,\n                                    width: 40,\n                                    height: 40,\n                                    padding: 0,\n                                    \"& svg path\": {\n                                        fill: \"#fff\"\n                                    },\n                                    \"&:hover\": {\n                                        backgroundColor: \"var(--color-primary-dark)\",\n                                        color: \"#fff\",\n                                        \"& svg path\": {\n                                            fill: \"#fff\"\n                                        }\n                                    }\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                    sx: {\n                                        fontSize: 28,\n                                        width: 28,\n                                        height: 28\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 909,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 882,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 846,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                        variant: \"text\",\n                        size: \"small\",\n                        onClick: ()=>handleAdvancedToggle(\"body-\".concat(section.id)),\n                        endIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                            sx: {\n                                transform: isAdvancedOpen(\"body-\".concat(section.id)) ? \"rotate(180deg)\" : \"rotate(0deg)\",\n                                transition: \"transform 0.2s ease\"\n                            }\n                        }, void 0, false, void 0, void 0),\n                        sx: {\n                            alignSelf: \"flex-start\",\n                            mt: 2,\n                            color: \"text.secondary\",\n                            backgroundColor: \"transparent\",\n                            \"&:hover\": {\n                                backgroundColor: \"action.hover\"\n                            }\n                        },\n                        children: \"Advanced settings\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 913,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                        in: isAdvancedOpen(\"body-\".concat(section.id)),\n                        timeout: \"auto\",\n                        unmountOnExit: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                            sx: {\n                                mt: 2\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Divider__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                    sx: {\n                                        mb: 2\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 937,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_PaddingControls__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                    label: \"Section padding (px)\",\n                                    value: getBodySectionPadding(section.id),\n                                    onChange: handlePaddingChange,\n                                    persistKey: \"body:\".concat(section.id, \":padding\")\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 938,\n                                    columnNumber: 17\n                                }, this),\n                                (()=>{\n                                    const pad = getBodySectionPadding(section.id);\n                                    const allZero = pad.top === 0 && pad.right === 0 && pad.bottom === 0 && pad.left === 0;\n                                    if (!allZero) return null;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                        variant: \"caption\",\n                                        sx: {\n                                            mt: 0.5,\n                                            display: \"block\",\n                                            color: \"text.secondary\"\n                                        },\n                                        children: \"Using default padding (25px desktop / 15px mobile)\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 949,\n                                        columnNumber: 21\n                                    }, this);\n                                })(),\n                                (section.selectedBodyId === \"product-image-left-copy-right\" || section.selectedBodyId === \"product-copy-left-image-right\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_FormControlLabel__WEBPACK_IMPORTED_MODULE_53__[\"default\"], {\n                                            sx: {\n                                                mt: 2,\n                                                ml: 0\n                                            },\n                                            control: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Switch__WEBPACK_IMPORTED_MODULE_54__[\"default\"], {\n                                                size: \"small\",\n                                                checked: section.alternate !== false,\n                                                onChange: (e)=>{\n                                                    const checked = e.target.checked;\n                                                    setBodySections((prev)=>prev.map((s)=>s.id === section.id ? {\n                                                                ...s,\n                                                                alternate: checked\n                                                            } : s));\n                                                }\n                                            }, void 0, false, void 0, void 0),\n                                            label: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                variant: \"body2\",\n                                                children: \"Alternate image/copy orientation\"\n                                            }, void 0, false, void 0, void 0)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 956,\n                                            columnNumber: 21\n                                        }, this),\n                                        section.alternate === false && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                            variant: \"caption\",\n                                            sx: {\n                                                display: \"block\",\n                                                color: \"text.secondary\",\n                                                ml: 0\n                                            },\n                                            children: \"Alternation disabled â all products use base orientation.\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 971,\n                                            columnNumber: 23\n                                        }, this)\n                                    ]\n                                }, void 0, true)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 936,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 935,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 743,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 742,\n            columnNumber: 3\n        }, this);\n    };\n    _s1(SortableBodySection, \"eI6yAybhG7wp9UABI9Sdg5hwkdI=\", false, function() {\n        return [\n            _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.useSortable\n        ];\n    });\n    // Avoid re-rendering body sections when only unrelated state (like padding map) changes.\n    const MemoizedSortableBodySection = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2___default().memo(SortableBodySection, (prev, next)=>prev.section === next.section && prev.isOpen === next.isOpen);\n    const SortableHeroSection = (param)=>{\n        let { isOpen } = param;\n        _s3();\n        const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.useSortable)({\n            id: \"hero\"\n        });\n        const { [\"aria-describedby\"]: _ariaDescribedBy, ...sortableAttributes } = attributes;\n        const style = {\n            transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_26__.CSS.Transform.toString(transform),\n            transition\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n            ref: setNodeRef,\n            style: {\n                ...style,\n                borderRadius: 5\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_SectionAccordion__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                id: \"left-hero\",\n                title: \"Hero\",\n                expanded: isOpen,\n                onToggle: ()=>handleAccordionToggle(\"hero\"),\n                startAdornment: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                    component: \"span\",\n                    size: \"medium\",\n                    ...sortableAttributes,\n                    ...listeners,\n                    onClick: (e)=>e.stopPropagation(),\n                    title: \"Reorder section\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                        fontSize: \"medium\"\n                    }, void 0, false, void 0, void 0)\n                }, void 0, false, void 0, void 0),\n                actions: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(MoreActions, {\n                    size: \"medium\",\n                    items: (()=>{\n                        const idx = sectionOrder.indexOf(\"hero\");\n                        return [\n                            {\n                                label: \"Move up\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowUpward__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                disabled: idx <= 0,\n                                onClick: ()=>moveSectionUp(\"hero\")\n                            },\n                            {\n                                label: \"Move down\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowDownward__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                disabled: idx === -1 || idx >= sectionOrder.length - 1,\n                                onClick: ()=>moveSectionDown(\"hero\")\n                            },\n                            {\n                                label: \"Clone\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                disabled: true\n                            },\n                            {\n                                label: \"Delete\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                onClick: ()=>removeHeroSection()\n                            }\n                        ];\n                    })()\n                }, void 0, false, void 0, void 0),\n                detailsSx: {\n                    pt: 1.25\n                },\n                children: [\n                    heroImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"0.5rem\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                            src: heroImage,\n                            alt: heroAlt || \"\",\n                            style: {\n                                width: \"100%\",\n                                height: \"auto\",\n                                border: \"1px solid rgba(0, 0, 0, 0.2)\",\n                                borderRadius: \"6px\",\n                                overflow: \"hidden\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 1032,\n                            columnNumber: 17\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1031,\n                        columnNumber: 15\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                        children: \"No hero image selected.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1035,\n                        columnNumber: 15\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"template-row\",\n                        style: {\n                            display: \"flex\",\n                            gap: \"var(--gap-2)\",\n                            alignItems: \"center\",\n                            marginTop: \"1.5rem\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_LabeledSelect__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                idBase: \"hero-template\",\n                                label: \"Template\",\n                                value: selectedHeroId,\n                                onChange: (e)=>setSelectedHeroId(String(e.target.value)),\n                                children: heroTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                        value: tpl.id,\n                                        children: tpl.name\n                                    }, tpl.id, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1040,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1038,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                onClick: ()=>setHeroEditMode((v)=>!v),\n                                title: heroEditMode ? \"Close editor\" : \"Edit template\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                    fontSize: \"medium\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 1044,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1043,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                onClick: ()=>setShowNewHero((v)=>!v),\n                                title: showNewHero ? \"Cancel new template\" : \"Add new template\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                    fontSize: \"medium\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 1047,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1046,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1037,\n                        columnNumber: 13\n                    }, this),\n                    heroEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                id: \"hero-draft-html\",\n                                label: \"Template HTML\",\n                                value: draftHeroHtml,\n                                onChange: (e)=>setDraftHeroHtml(e.target.value),\n                                rows: 6,\n                                fullWidth: true,\n                                multiline: true,\n                                variant: \"standard\",\n                                sx: {\n                                    fontFamily: \"monospace\",\n                                    \"& .MuiInput-underline:before\": {\n                                        borderBottomColor: \"grey.400\"\n                                    },\n                                    \"& .MuiInput-underline:after\": {\n                                        borderBottomColor: \"var(--color-primary)\"\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1052,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                className: \"new-template-actions\",\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"var(--gap-2)\",\n                                    marginTop: \"0.5rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>setHeroEditMode(false),\n                                        title: \"Cancel edit\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 1055,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1054,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>{\n                                            saveHeroEdits();\n                                            setHeroEditMode(false);\n                                        },\n                                        title: \"Save edits\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 1058,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1057,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1053,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1051,\n                        columnNumber: 15\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                        id: \"hero-href\",\n                        name: \"hero-href\",\n                        label: \"Hero Link URL\",\n                        defaultValue: heroHref,\n                        onBlur: (e)=>setHeroHref(sanitizeUrl(e.currentTarget.value)),\n                        fullWidth: true,\n                        variant: \"standard\",\n                        sx: {\n                            mt: 2,\n                            \"& .MuiInput-underline:before\": {\n                                borderBottomColor: \"grey.400\"\n                            },\n                            \"& .MuiInput-underline:after\": {\n                                borderBottomColor: \"var(--color-primary)\"\n                            }\n                        },\n                        inputProps: {\n                            onKeyDown: (e)=>{\n                                if (e.key === \"Enter\") {\n                                    e.preventDefault();\n                                    e.currentTarget.blur();\n                                }\n                            }\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1063,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                        id: \"hero-alt\",\n                        name: \"hero-alt\",\n                        label: \"Hero Alt Text\",\n                        defaultValue: heroAlt,\n                        onBlur: (e)=>setHeroAlt(e.currentTarget.value),\n                        fullWidth: true,\n                        variant: \"standard\",\n                        sx: {\n                            mt: 2,\n                            \"& .MuiInput-underline:before\": {\n                                borderBottomColor: \"grey.400\"\n                            },\n                            \"& .MuiInput-underline:after\": {\n                                borderBottomColor: \"var(--color-primary)\"\n                            }\n                        },\n                        inputProps: {\n                            onKeyDown: (e)=>{\n                                if (e.key === \"Enter\") {\n                                    e.preventDefault();\n                                    e.currentTarget.blur();\n                                }\n                            }\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1081,\n                        columnNumber: 13\n                    }, this),\n                    showNewHero && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"new-template-form\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                id: \"hero-new-name\",\n                                label: \"Template name\",\n                                type: \"text\",\n                                value: newHeroName,\n                                onChange: (e)=>setNewHeroName(e.target.value),\n                                fullWidth: true,\n                                variant: \"standard\",\n                                sx: {\n                                    mb: 1,\n                                    \"& .MuiInput-underline:before\": {\n                                        borderBottomColor: \"grey.400\"\n                                    },\n                                    \"& .MuiInput-underline:after\": {\n                                        borderBottomColor: \"var(--color-primary)\"\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1101,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                id: \"hero-new-html\",\n                                label: \"Template HTML\",\n                                value: newHeroHtml,\n                                onChange: (e)=>setNewHeroHtml(e.target.value),\n                                rows: 6,\n                                fullWidth: true,\n                                multiline: true,\n                                variant: \"standard\",\n                                sx: {\n                                    fontFamily: \"monospace\",\n                                    \"& .MuiInput-underline:before\": {\n                                        borderBottomColor: \"grey.400\"\n                                    },\n                                    \"& .MuiInput-underline:after\": {\n                                        borderBottomColor: \"var(--color-primary)\"\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1102,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                className: \"new-template-actions\",\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"var(--gap-2)\",\n                                    marginTop: \"0.5rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>{\n                                            setShowNewHero(false);\n                                            setNewHeroName(\"\");\n                                            setNewHeroHtml(\"\");\n                                        },\n                                        title: \"Cancel new template\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 1105,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1104,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>{\n                                            addNewHeroTemplate();\n                                            setShowNewHero(false);\n                                        },\n                                        title: \"Save new template\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 1108,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1107,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1103,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1100,\n                        columnNumber: 15\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                        variant: \"text\",\n                        size: \"small\",\n                        onClick: ()=>handleAdvancedToggle(\"hero\"),\n                        endIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                            sx: {\n                                transform: isAdvancedOpen(\"hero\") ? \"rotate(180deg)\" : \"rotate(0deg)\",\n                                transition: \"transform 0.2s ease\"\n                            }\n                        }, void 0, false, void 0, void 0),\n                        sx: {\n                            alignSelf: \"flex-start\",\n                            mt: 2,\n                            color: \"rgba(0, 0, 0, 0.6)\",\n                            backgroundColor: \"transparent\",\n                            \"&:hover\": {\n                                backgroundColor: \"rgba(0, 0, 0, 0.05)\"\n                            }\n                        },\n                        children: \"Advanced settings\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1113,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                        in: isAdvancedOpen(\"hero\"),\n                        timeout: \"auto\",\n                        unmountOnExit: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                            sx: {\n                                mt: 2\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Divider__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                    sx: {\n                                        mb: 2\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 1139,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_PaddingControls__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                    label: \"Section padding (px)\",\n                                    value: heroPadding,\n                                    onChange: onHeroPaddingChange,\n                                    persistKey: \"hero:padding\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 1140,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 1138,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1137,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 997,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 996,\n            columnNumber: 3\n        }, this);\n    };\n    _s3(SortableHeroSection, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function() {\n        return [\n            _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.useSortable\n        ];\n    });\n    const SortableBannerSection = (param)=>{\n        let { isOpen } = param;\n        _s4();\n        const { attributes, listeners, setNodeRef, transform, transition } = (0,_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.useSortable)({\n            id: \"banner\"\n        });\n        const { [\"aria-describedby\"]: _ariaDescribedBy, ...sortableAttributes } = attributes;\n        const style = {\n            transform: _dnd_kit_utilities__WEBPACK_IMPORTED_MODULE_26__.CSS.Transform.toString(transform),\n            transition\n        };\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n            ref: setNodeRef,\n            style: {\n                ...style,\n                borderRadius: 5\n            },\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_SectionAccordion__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                id: \"left-banner\",\n                title: \"Banner\",\n                expanded: isOpen,\n                onToggle: ()=>handleAccordionToggle(\"banner\"),\n                startAdornment: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                    component: \"span\",\n                    size: \"medium\",\n                    ...sortableAttributes,\n                    ...listeners,\n                    onClick: (e)=>e.stopPropagation(),\n                    title: \"Reorder section\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_DragIndicator__WEBPACK_IMPORTED_MODULE_33__[\"default\"], {\n                        fontSize: \"medium\"\n                    }, void 0, false, void 0, void 0)\n                }, void 0, false, void 0, void 0),\n                actions: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(MoreActions, {\n                    size: \"medium\",\n                    items: (()=>{\n                        const idx = sectionOrder.indexOf(\"banner\");\n                        return [\n                            {\n                                label: \"Move up\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowUpward__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                disabled: idx <= 0,\n                                onClick: ()=>moveSectionUp(\"banner\")\n                            },\n                            {\n                                label: \"Move down\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowDownward__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                disabled: idx === -1 || idx >= sectionOrder.length - 1,\n                                onClick: ()=>moveSectionDown(\"banner\")\n                            },\n                            {\n                                label: \"Clone\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                disabled: true\n                            },\n                            {\n                                label: \"Delete\",\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                    fontSize: \"small\"\n                                }, void 0, false, void 0, void 0),\n                                onClick: ()=>removeBannerSection()\n                            }\n                        ];\n                    })()\n                }, void 0, false, void 0, void 0),\n                detailsSx: {\n                    pt: 1.25\n                },\n                children: [\n                    bannerImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        style: {\n                            marginBottom: \"0.5rem\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                            src: bannerImage,\n                            alt: bannerAlt || \"\",\n                            style: {\n                                width: \"100%\",\n                                height: \"auto\",\n                                border: \"1px solid rgba(0, 0, 0, 0.2)\",\n                                borderRadius: \"6px\",\n                                overflow: \"hidden\"\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 1189,\n                            columnNumber: 17\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1188,\n                        columnNumber: 15\n                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                        children: \"No hero image selected.\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1192,\n                        columnNumber: 15\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"template-row\",\n                        style: {\n                            display: \"flex\",\n                            gap: \"var(--gap-2)\",\n                            alignItems: \"center\",\n                            marginTop: \"1.5rem\"\n                        },\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_LabeledSelect__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                idBase: \"banner-template\",\n                                label: \"Template\",\n                                value: selectedBannerId,\n                                onChange: (e)=>setSelectedBannerId(String(e.target.value)),\n                                children: bannerTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                        value: tpl.id,\n                                        children: tpl.name\n                                    }, tpl.id, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1197,\n                                        columnNumber: 19\n                                    }, this))\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1195,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                onClick: ()=>setBannerEditMode((v)=>!v),\n                                title: bannerEditMode ? \"Close editor\" : \"Edit template\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                    fontSize: \"medium\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 1201,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1200,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                onClick: ()=>setShowNewBanner((v)=>!v),\n                                title: showNewBanner ? \"Cancel new template\" : \"Add new template\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                    fontSize: \"medium\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 1204,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1203,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1194,\n                        columnNumber: 15\n                    }, this),\n                    bannerEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                id: \"banner-draft-html\",\n                                label: \"Template HTML\",\n                                value: draftBannerHtml,\n                                onChange: (e)=>setDraftBannerHtml(e.target.value),\n                                rows: 8,\n                                fullWidth: true,\n                                multiline: true,\n                                variant: \"standard\",\n                                sx: {\n                                    fontFamily: \"monospace\",\n                                    \"& .MuiInput-underline:before\": {\n                                        borderBottomColor: \"grey.400\"\n                                    },\n                                    \"& .MuiInput-underline:after\": {\n                                        borderBottomColor: \"var(--color-primary)\"\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1209,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                className: \"new-template-actions\",\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"var(--gap-2)\",\n                                    marginTop: \"0.5rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>setBannerEditMode(false),\n                                        title: \"Cancel edit\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 1212,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1211,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>{\n                                            saveBannerEdits();\n                                            setBannerEditMode(false);\n                                        },\n                                        title: \"Save edits\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 1215,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1214,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1210,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1208,\n                        columnNumber: 15\n                    }, this),\n                    showNewBanner && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"new-template-form\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                id: \"banner-new-name\",\n                                label: \"Template name\",\n                                type: \"text\",\n                                value: newBannerName,\n                                onChange: (e)=>setNewBannerName(e.target.value),\n                                fullWidth: true,\n                                variant: \"standard\",\n                                sx: {\n                                    mb: 1,\n                                    \"& .MuiInput-underline:before\": {\n                                        borderBottomColor: \"grey.400\"\n                                    },\n                                    \"& .MuiInput-underline:after\": {\n                                        borderBottomColor: \"var(--color-primary)\"\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1222,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                id: \"banner-new-html\",\n                                label: \"Template HTML\",\n                                value: newBannerHtml,\n                                onChange: (e)=>setNewBannerHtml(e.target.value),\n                                rows: 6,\n                                fullWidth: true,\n                                multiline: true,\n                                variant: \"standard\",\n                                sx: {\n                                    fontFamily: \"monospace\",\n                                    \"& .MuiInput-underline:before\": {\n                                        borderBottomColor: \"grey.400\"\n                                    },\n                                    \"& .MuiInput-underline:after\": {\n                                        borderBottomColor: \"var(--color-primary)\"\n                                    }\n                                }\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1223,\n                                columnNumber: 17\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                className: \"new-template-actions\",\n                                style: {\n                                    display: \"flex\",\n                                    gap: \"var(--gap-2)\",\n                                    marginTop: \"0.5rem\"\n                                },\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>{\n                                            setShowNewBanner(false);\n                                            setNewBannerName(\"\");\n                                            setNewBannerHtml(\"\");\n                                        },\n                                        title: \"Cancel new template\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 1226,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1225,\n                                        columnNumber: 19\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                        onClick: ()=>{\n                                            addNewBannerTemplate();\n                                            setShowNewBanner(false);\n                                        },\n                                        title: \"Save new template\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                            fontSize: \"medium\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 1229,\n                                            columnNumber: 21\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 1228,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 1224,\n                                columnNumber: 17\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1221,\n                        columnNumber: 15\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                        id: \"banner-href\",\n                        label: \"Banner Link URL\",\n                        defaultValue: bannerHref,\n                        onBlur: (e)=>setBannerHref(sanitizeUrl(e.currentTarget.value)),\n                        fullWidth: true,\n                        variant: \"standard\",\n                        sx: {\n                            mt: 2,\n                            \"& .MuiInput-underline:before\": {\n                                borderBottomColor: \"grey.400\"\n                            },\n                            \"& .MuiInput-underline:after\": {\n                                borderBottomColor: \"var(--color-primary)\"\n                            }\n                        },\n                        inputProps: {\n                            onKeyDown: (e)=>{\n                                if (e.key === \"Enter\") {\n                                    e.preventDefault();\n                                    e.currentTarget.blur();\n                                }\n                            }\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1234,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                        id: \"banner-alt\",\n                        label: \"Banner Alt Text\",\n                        defaultValue: bannerAlt,\n                        onBlur: (e)=>setBannerAlt(e.currentTarget.value),\n                        fullWidth: true,\n                        variant: \"standard\",\n                        sx: {\n                            mt: 2,\n                            \"& .MuiInput-underline:before\": {\n                                borderBottomColor: \"grey.400\"\n                            },\n                            \"& .MuiInput-underline:after\": {\n                                borderBottomColor: \"var(--color-primary)\"\n                            }\n                        },\n                        inputProps: {\n                            onKeyDown: (e)=>{\n                                if (e.key === \"Enter\") {\n                                    e.preventDefault();\n                                    e.currentTarget.blur();\n                                }\n                            }\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1251,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                        variant: \"text\",\n                        size: \"small\",\n                        onClick: ()=>handleAdvancedToggle(\"banner\"),\n                        endIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                            sx: {\n                                transform: isAdvancedOpen(\"banner\") ? \"rotate(180deg)\" : \"rotate(0deg)\",\n                                transition: \"transform 0.2s ease\"\n                            }\n                        }, void 0, false, void 0, void 0),\n                        sx: {\n                            alignSelf: \"flex-start\",\n                            mt: 2,\n                            color: \"rgba(0, 0, 0, 0.6)\",\n                            backgroundColor: \"transparent\",\n                            \"&:hover\": {\n                                backgroundColor: \"rgba(0, 0, 0, 0.05)\"\n                            }\n                        },\n                        children: \"Advanced settings\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1268,\n                        columnNumber: 13\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                        in: isAdvancedOpen(\"banner\"),\n                        timeout: \"auto\",\n                        unmountOnExit: true,\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                            sx: {\n                                mt: 2\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Divider__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                    sx: {\n                                        mb: 2\n                                    }\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 1294,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_PaddingControls__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                    label: \"Section padding (px)\",\n                                    value: bannerPadding,\n                                    onChange: onBannerPaddingChange,\n                                    persistKey: \"banner:padding\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 1295,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 1293,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1292,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 1154,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 1153,\n            columnNumber: 3\n        }, this);\n    };\n    _s4(SortableBannerSection, \"FTUh0JV0KNM2MI3tYtLrQh0rr1U=\", false, function() {\n        return [\n            _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.useSortable\n        ];\n    });\n    const MemoizedSortableHeroSection = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2___default().memo(SortableHeroSection);\n    const MemoizedSortableBannerSection = /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_2___default().memo(SortableBannerSection);\n    /**\n   * Body templates and selection state. Body templates define\n   * modules for each product. They support alternating layout via\n   * alternateMap. Users can select a template, edit it, and add\n   * new ones which are persisted in localStorage.\n   */ const [bodyTemplates, setBodyTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_templates__WEBPACK_IMPORTED_MODULE_9__.defaultTemplates);\n    const [selectedBodyId, setSelectedBodyId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_templates__WEBPACK_IMPORTED_MODULE_9__.defaultTemplates[0].id);\n    const [bodyEditMode, setBodyEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [draftBodyHtml, setDraftBodyHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newBodyName, setNewBodyName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newBodyHtml, setNewBodyHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    /**\n   * Header templates and selection state. Headers render at the top\n   * of the final email. They are static by default but can be\n   * customised through editing and additional templates.\n   */ const [headerTemplates, setHeaderTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_headerTemplates__WEBPACK_IMPORTED_MODULE_11__.defaultHeaderTemplates);\n    const [selectedHeaderId, setSelectedHeaderId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_headerTemplates__WEBPACK_IMPORTED_MODULE_11__.defaultHeaderTemplates[0].id);\n    const [headerEditMode, setHeaderEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [draftHeaderHtml, setDraftHeaderHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newHeaderName, setNewHeaderName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newHeaderHtml, setNewHeaderHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    /**\n   * Footer templates and selection state. Footers render at the\n   * bottom of the final email. Like headers they can be edited and\n   * extended by the user.\n   */ const [footerTemplates, setFooterTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_footerTemplates__WEBPACK_IMPORTED_MODULE_12__.defaultFooterTemplates);\n    const [selectedFooterId, setSelectedFooterId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_footerTemplates__WEBPACK_IMPORTED_MODULE_12__.defaultFooterTemplates[0].id);\n    const [footerEditMode, setFooterEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [draftFooterHtml, setDraftFooterHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newFooterName, setNewFooterName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newFooterHtml, setNewFooterHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    /**\n   * Visibility flags for new template forms. When true, the form\n   * fields for adding a custom template are displayed in the\n   * accordion content. When false, the form is hidden and only the\n   * add icon is visible. Separate flags are used for header, body\n   * and footer sections.\n   */ const [showNewHeader, setShowNewHeader] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showNewBody, setShowNewBody] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [showNewFooter, setShowNewFooter] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    // Summary drawer tab state\n    const [summaryTab, setSummaryTab] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(0); // 0: Product, 1: Assets, 2: Brand\n    // Collection listing state (populated when a collection URL is detected)\n    const [collectionItems, setCollectionItems] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const [collectionLoading, setCollectionLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [collectionSelection, setCollectionSelection] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    const lastCollectionSelectionRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)([]);\n    const [collectionQuery, setCollectionQuery] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Indicates we are enriching selected collection rows by fetching product pages\n    const [collectionEnriching, setCollectionEnriching] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    // Selected product context is declared earlier so helpers can reference it\n    // Track most recently added product (for auto scroll + fade-in highlight)\n    const [recentlyAdded, setRecentlyAdded] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Track product field updates (non-add changes) for brief highlight\n    const [recentlyUpdated, setRecentlyUpdated] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Fallback: if a collection section gains its first product and no selection is set yet, select index 0\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!selectedProductCtx) {\n            const collection = bodySections.find((s)=>s.name === \"Collection\");\n            if (collection && collection.products.length > 0) {\n                setSelectedProductCtx({\n                    sectionId: collection.id,\n                    index: 0\n                });\n            }\n        }\n    }, [\n        bodySections,\n        selectedProductCtx\n    ]);\n    // If multiple products shrink down to exactly one (after removals), auto-focus that remaining one\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const collection = bodySections.find((s)=>s.name === \"Collection\");\n        if (!collection) return;\n        if (collection.products.length === 1) {\n            const onlyIndex = 0;\n            if (!selectedProductCtx || selectedProductCtx.sectionId !== collection.id || selectedProductCtx.index !== onlyIndex) {\n                setSelectedProductCtx({\n                    sectionId: collection.id,\n                    index: onlyIndex\n                });\n            }\n        }\n    }, [\n        bodySections,\n        selectedProductCtx\n    ]);\n    // Scroll newly added product into view & fade highlight\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!recentlyAdded) return;\n        const { sectionId, index } = recentlyAdded;\n        let cancelled = false;\n        let attempts = 0;\n        const tryLocate = ()=>{\n            if (cancelled) return;\n            const el = document.querySelector('[data-product-cell=\"'.concat(sectionId, \"-\").concat(index, '\"]'));\n            if (!el) {\n                attempts++;\n                if (attempts < 15) setTimeout(tryLocate, 80);\n                return;\n            }\n            const rect = el.getBoundingClientRect();\n            const vh = window.innerHeight || document.documentElement.clientHeight;\n            const fullyVisible = rect.top >= 0 && rect.bottom <= vh;\n            if (fullyVisible) {\n                // Animate immediately even if already visible\n                el.classList.add(\"recently-added\");\n                setTimeout(()=>el.classList.remove(\"recently-added\"), 1000);\n            } else {\n                const observer = new IntersectionObserver((entries)=>{\n                    const entry = entries[0];\n                    if (entry.isIntersecting) {\n                        el.classList.add(\"recently-added\");\n                        setTimeout(()=>el.classList.remove(\"recently-added\"), 1000);\n                        observer.disconnect();\n                    }\n                }, {\n                    threshold: 0.4\n                });\n                observer.observe(el);\n                el.scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"center\"\n                });\n            }\n        };\n        tryLocate();\n        return ()=>{\n            cancelled = true;\n        };\n    }, [\n        recentlyAdded\n    ]);\n    // Animate updated (non-add) product cell\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!recentlyUpdated) return;\n        const { sectionId, index } = recentlyUpdated;\n        const el = document.querySelector('[data-product-cell=\"'.concat(sectionId, \"-\").concat(index, '\"]'));\n        if (el) {\n            el.classList.add(\"recently-updated\");\n            const timer = setTimeout(()=>el.classList.remove(\"recently-updated\"), 900);\n            return ()=>clearTimeout(timer);\n        }\n    }, [\n        recentlyUpdated\n    ]);\n    // Debounce timer for selection changes\n    const collectionDebounceRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    // Cache for fetched product details keyed by URL to avoid refetching\n    const productCacheRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(new Map());\n    // Track selection operations to avoid applying stale results\n    const selectionVersionRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(0);\n    // Abort controller for in-flight selection fetches\n    const selectionAbortRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    // Format collection price values into a consistent currency string\n    const formatCollectionPrice = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((val)=>{\n        if (val == null) return \"\";\n        const raw = String(val).trim();\n        if (!raw) return \"\";\n        // Attempt to infer currency code from symbol or code hints\n        let code;\n        if (/CA\\$/.test(raw)) code = \"CAD\";\n        else if (/A\\$/.test(raw)) code = \"AUD\";\n        else if (/NZ\\$/.test(raw)) code = \"NZD\";\n        else if (/C\\$/.test(raw)) code = \"CAD\";\n        else if (/US\\$|USD/i.test(raw)) code = \"USD\";\n        else if (/EUR|â¬/.test(raw)) code = \"EUR\";\n        else if (/GBP|Â£/.test(raw)) code = \"GBP\";\n        else if (/JPY|Â¥/.test(raw)) code = \"JPY\";\n        else if (raw.includes(\"$\")) code = \"USD\";\n        // Normalize numeric part\n        const rawNumeric = raw.replace(/[^0-9.,-]/g, \"\");\n        let digits = rawNumeric;\n        if (!digits) return raw;\n        const hadDot = digits.includes(\".\");\n        const hadComma = digits.includes(\",\");\n        if (hadComma && hadDot) {\n            // Decide decimal separator by last occurrence\n            if (digits.lastIndexOf(\".\") > digits.lastIndexOf(\",\")) {\n                digits = digits.replace(/,/g, \"\");\n            } else {\n                digits = digits.replace(/\\./g, \"\").replace(\",\", \".\");\n            }\n        } else if (hadComma && !hadDot) {\n            // Treat comma as decimal\n            digits = digits.replace(\",\", \".\");\n        } else {\n            // Strip thousands commas if any\n            digits = digits.replace(/,/g, \"\");\n        }\n        let amount = parseFloat(digits);\n        if (!isFinite(amount)) return raw;\n        // Heuristic: if original numeric had no decimal separators and looks like cents (e.g., 16995),\n        // assume cents and divide by 100 to get 169.95.\n        if (!hadDot && !hadComma && /^\\d{4,}$/.test(rawNumeric)) {\n            amount = amount / 100;\n        }\n        try {\n            return new Intl.NumberFormat(\"en-US\", {\n                style: \"currency\",\n                currency: code || \"USD\"\n            }).format(amount);\n        } catch (e) {\n            return new Intl.NumberFormat(\"en-US\", {\n                style: \"currency\",\n                currency: \"USD\"\n            }).format(amount);\n        }\n    }, []);\n    /**\n   * Final generated HTML pieces. headerHtml/bodyHtml/footerHtml\n   * contain the markup for each section. finalHtml concatenates\n   * them for convenience but is not displayed directly. The code\n   * view uses the individual pieces so that users can copy each\n   * section separately.\n   */ const [headerHtml, setHeaderHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [bodyHtml, setBodyHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [footerHtml, setFooterHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [finalHtml, setFinalHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Bottom padding controls removed\n    const [showAddSectionMenu, setShowAddSectionMenu] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const addSectionRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const previewRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const [confirmNewOpen, setConfirmNewOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    // Control SpeedDial manually (open on click only)\n    const [speedDialOpen, setSpeedDialOpen] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [previewMode, setPreviewMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"desktop\");\n    // Apply persisted mode on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        try {\n            const saved = localStorage.getItem(\"previewMode\");\n            if (saved === \"desktop\" || saved === \"mobile\") setPreviewMode(saved);\n        } catch (e) {}\n    }, []);\n    // Persist when changed\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        try {\n            localStorage.setItem(\"previewMode\", previewMode);\n        } catch (e) {}\n    }, [\n        previewMode\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const handleClickOutside = (e)=>{\n            if (addSectionRef.current && !addSectionRef.current.contains(e.target)) {\n                setShowAddSectionMenu(false);\n            }\n        };\n        if (showAddSectionMenu) {\n            document.addEventListener(\"mousedown\", handleClickOutside);\n        }\n        return ()=>{\n            document.removeEventListener(\"mousedown\", handleClickOutside);\n        };\n    }, [\n        showAddSectionMenu\n    ]);\n    /** Brand customisation panel visibility. When true a sliding\n   * panel appears allowing the user to customise the default font,\n   * primary/secondary colours, website URL and upload a logo. Settings\n   * are not persisted or applied in this version, but the UI is prepared\n   * for future extension.\n   */ // Open brand / right panel by default on initial load per request\n    const [showBrandPanel, setShowBrandPanel] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    // Shimmer always enabled (toggle removed)\n    const skelAnim = \"wave\";\n    const [brandName, setBrandName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Top loading bar (buffer variant)\n    const [progress, setProgress] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(-1);\n    const [buffer, setBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(-1);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    // Debounced loading to avoid flicker for very fast loads\n    const [debouncedLoading, setDebouncedLoading] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (loading) {\n            const t = setTimeout(()=>setDebouncedLoading(true), 120);\n            return ()=>clearTimeout(t);\n        } else {\n            setDebouncedLoading(false);\n        }\n    }, [\n        loading\n    ]);\n    const [brandFont, setBrandFont] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [brandPrimary, setBrandPrimary] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"#d19aa0\");\n    const [brandSecondary, setBrandSecondary] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"#F0C3C7\");\n    const [brandWebsite, setBrandWebsite] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Track last detected page type\n    const [detectedPageType, setDetectedPageType] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"unknown\");\n    // Auto-switch to Product tab is handled on click handlers only, to avoid locking the tab.\n    // Section paddings (px)\n    const [headerPadding, setHeaderPadding] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    });\n    const [heroPadding, setHeroPadding] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    });\n    const [bannerPadding, setBannerPadding] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    });\n    const [footerPadding, setFooterPadding] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n    });\n    const [bodySectionPaddings, setBodySectionPaddings] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(new Map());\n    const onHeroPaddingChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((p)=>setHeroPadding(p), []);\n    const onBannerPaddingChange = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((p)=>setBannerPadding(p), []);\n    // Helper functions for body section paddings\n    const getBodySectionPadding = (sectionId)=>{\n        return bodySectionPaddings.get(sectionId) || {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        };\n    };\n    const setBodySectionPadding = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((sectionId, padding)=>{\n        setBodySectionPaddings((prev)=>new Map(prev).set(sectionId, padding));\n    }, []);\n    // Show a dialog to prompt for a product URL on first load\n    const [showBrandUrlDialog, setShowBrandUrlDialog] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(true);\n    const [brandUrlInput, setBrandUrlInput] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // When the user submits a URL, only auto-initialize a body section for PRODUCT pages (not collections)\n    // moved below after analyzeData declaration\n    // Helper to extract base domain from a product URL\n    function extractBaseDomain(url) {\n        try {\n            const u = new URL(url);\n            return u.origin;\n        } catch (e) {\n            return \"\";\n        }\n    }\n    // Helper to extract a readable brand name from a domain\n    function extractBrandName(url) {\n        try {\n            const u = new URL(url);\n            const host = u.hostname.replace(/^www\\./, \"\");\n            const parts = host.split(\".\");\n            return parts.length > 1 ? parts[0].replace(/-/g, \" \") : host;\n        } catch (e) {\n            return \"\";\n        }\n    }\n    const detectPageInfo = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)((url, data)=>{\n        if (!url) return {\n            type: \"unknown\",\n            title: \"Summary\"\n        };\n        let u = null;\n        try {\n            u = new URL(url);\n        } catch (e) {}\n        const path = ((u === null || u === void 0 ? void 0 : u.pathname) || url).toLowerCase();\n        // Define registry of detectors for scalability\n        const detectors = [\n            // Product pages\n            ()=>{\n                if (/\\/product(s)?\\//.test(path)) {\n                    var _data_product;\n                    const name = (data === null || data === void 0 ? void 0 : (_data_product = data.product) === null || _data_product === void 0 ? void 0 : _data_product.title) || \"\";\n                    return {\n                        type: \"product\",\n                        title: \"Product Page Detected\",\n                        subline: name ? \"Product: \".concat(name) : undefined,\n                        name\n                    };\n                }\n                return null;\n            },\n            // Collection pages\n            ()=>{\n                if (/\\/collection(s)?\\//.test(path)) {\n                    return {\n                        type: \"collection\",\n                        title: \"Collection Page Detected\"\n                    };\n                }\n                return null;\n            },\n            // Blog index pages\n            ()=>{\n                if (/\\/blog(s)?\\//.test(path) && !/\\/article(s)?\\//.test(path)) {\n                    return {\n                        type: \"blog\",\n                        title: \"Blog Page Detected\"\n                    };\n                }\n                return null;\n            },\n            // Article pages\n            ()=>{\n                if (/\\/article(s)?\\//.test(path)) {\n                    return {\n                        type: \"article\",\n                        title: \"Article Page Detected\"\n                    };\n                }\n                return null;\n            },\n            // Home page\n            ()=>{\n                if (path === \"/\" || path === \"\") return {\n                    type: \"home\",\n                    title: \"Homepage Detected\"\n                };\n                return null;\n            }\n        ];\n        for (const fn of detectors){\n            const res = fn();\n            if (res) return res;\n        }\n        return {\n            type: \"unknown\",\n            title: \"Summary\"\n        };\n    }, []);\n    const [brandLogo, setBrandLogo] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Wizard modal removed; analysis results feed the persistent right panel\n    const [analyzeData, setAnalyzeData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Freeze the summary header (e.g., \"Product Page Detected\" and the initial\n    // \"Product: <name>\") so it doesn't change while editing. We capture the first\n    // meaningful detection for product pages and reuse it for display.\n    const [initialSummary, setInitialSummary] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n    // Removed previous modal-based wizard selection state; selections apply directly in-panel\n    // Optional announcement bar content to inject into header template\n    const [brandAnnouncement, setBrandAnnouncement] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Selected text color for contrast on CTA/announcement (black or white)\n    const [brandTextColor, setBrandTextColor] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"black\");\n    // When URL changes or analyzeData updates, update detected page type and fetch collection items if relevant\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const info = detectPageInfo(brandUrlInput, analyzeData);\n        setDetectedPageType(info.type);\n        if (info.type === \"collection\" && brandUrlInput) {\n            setCollectionLoading(true);\n            (async ()=>{\n                try {\n                    const res = await fetch(\"/api/collection?url=\".concat(encodeURIComponent(brandUrlInput)));\n                    if (!res.ok) throw new Error(\"collection fetch failed: \".concat(res.status));\n                    const json = await res.json();\n                    const rows = json.items.map((it, idx)=>({\n                            id: it.url || String(idx),\n                            title: it.title || \"\",\n                            price: it.price || \"\",\n                            image: it.image || \"\",\n                            url: it.url\n                        }));\n                    setCollectionItems(rows);\n                } catch (e) {\n                    console.warn(e);\n                    setCollectionItems([]);\n                } finally{\n                    setCollectionLoading(false);\n                }\n            })();\n        } else {\n            setCollectionItems([]);\n            setCollectionSelection([]);\n        }\n    }, [\n        brandUrlInput,\n        analyzeData\n    ]);\n    // Capture the initial product summary so it stays fixed.\n    // - Set it once when product page is detected\n    // - If the subline wasn't available immediately, fill it in exactly once\n    //   when it first becomes available (e.g., after analysis finishes).\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const info = detectPageInfo(brandUrlInput, analyzeData);\n        if (info.type !== \"product\") return;\n        // If nothing captured yet, capture title and (if present) subline\n        if (!initialSummary) {\n            if (info.title || info.subline) {\n                setInitialSummary({\n                    title: info.title,\n                    subline: info.subline\n                });\n            }\n            return;\n        }\n        // If we already captured, but subline was missing and now exists, set it once\n        if (!initialSummary.subline && info.subline) {\n            setInitialSummary({\n                title: initialSummary.title,\n                subline: info.subline\n            });\n        }\n    }, [\n        brandUrlInput,\n        analyzeData,\n        detectPageInfo,\n        initialSummary\n    ]);\n    // When a collection page is detected, make the Collection tab the default (index 0 when present)\n    // When leaving collection context, remap indices so Product stays selected if it was selected\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (detectedPageType === \"collection\") {\n            setSummaryTab(0); // Collection is at index 0 when present\n        } else {\n            // Map: 1->0 (Product), 2->1 (Assets), 3->2 (Brand). Leave 0 as 0 (already Product without Collection)\n            setSummaryTab((prev)=>prev === 1 ? 0 : prev >= 2 ? prev - 1 : prev);\n        }\n    }, [\n        detectedPageType\n    ]);\n    // When the user submits a URL, only auto-initialize a body section for PRODUCT pages (not collections)\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const info = detectPageInfo(brandUrlInput, analyzeData);\n        if (brandWebsite && bodySections.length === 0 && brandUrlInput && info.type === \"product\") {\n            setBodySections([\n                {\n                    id: 1,\n                    name: \"Products\",\n                    urls: [\n                        brandUrlInput\n                    ],\n                    products: [],\n                    selectedBodyId: _data_templates__WEBPACK_IMPORTED_MODULE_9__.defaultTemplates[0].id,\n                    loading: false\n                }\n            ]);\n        }\n    }, [\n        brandWebsite,\n        brandUrlInput,\n        analyzeData,\n        bodySections.length\n    ]);\n    // Cleanup timers and abort controllers on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        return ()=>{\n            if (collectionDebounceRef.current) clearTimeout(collectionDebounceRef.current);\n            if (selectionAbortRef.current) {\n                try {\n                    selectionAbortRef.current.abort();\n                } catch (e) {}\n            }\n        };\n    }, []);\n    /**\n   * Track which code blocks are expanded in the rightâpanel accordion. Keys\n   * correspond to the blocks: 'header', 'hero', 'footer' and each\n   * body/product block like 'body-<section>-prod-<index>'. A value\n   * of true means the block is open; false collapses it. Defaults\n   * empty, which is treated as open when first rendered.\n   */ const [openCodeSections, setOpenCodeSections] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({});\n    /**\n   * Toggle a code block open or closed. When a key is not present\n   * in the state it is treated as open by default. Calling this\n   * toggles the current value.\n   */ const toggleCodeSection = (key)=>{\n        setOpenCodeSections((prev)=>{\n            const isOpen = prev[key] !== false; // default open if not false\n            return {\n                ...prev,\n                [key]: !isOpen\n            };\n        });\n    };\n    /**\n   * Add a notification message. The notification will persist for a\n   * few seconds then automatically disappear. Use this helper after\n   * actions like copying code or generating sections to provide\n   * feedback to the user.\n   */ /**\n   * Compute a data URI for the uploaded brand logo. When a file is\n   * selected the FileReader API is used to convert it into a base64\n   * string. If no file is selected the data URI is reset to empty.\n   */ // On first load, if no brandWebsite, show dialog\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!brandWebsite) {\n            setShowBrandUrlDialog(true);\n        }\n    }, [\n        brandWebsite\n    ]);\n    // When user submits a URL, set brandWebsite and brandName\n    const handleBrandUrlSubmit = (e)=>{\n        if (e) e.preventDefault();\n        const base = extractBaseDomain(brandUrlInput);\n        if (base) {\n            setBrandWebsite(base);\n            setBrandName(extractBrandName(brandUrlInput));\n            // Analyze product page and show Summary in right drawer\n            (async ()=>{\n                try {\n                    const res = await fetch(\"/api/analyze?url=\".concat(encodeURIComponent(brandUrlInput)));\n                    if (!res.ok) throw new Error(\"Analyze failed: \".concat(res.status));\n                    const data = await res.json();\n                    setAnalyzeData(data);\n                    // Open the right summary panel\n                    setShowBrandPanel(true);\n                } catch (err) {\n                    console.error(err);\n                    addNotification(\"Failed to analyze page. You can continue manually.\");\n                } finally{\n                    setShowBrandUrlDialog(false);\n                }\n            })();\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (brandLogo) {\n            const reader = new FileReader();\n            reader.onload = (e)=>{\n                var _e_target;\n                setBrandLogoDataUrl((_e_target = e.target) === null || _e_target === void 0 ? void 0 : _e_target.result);\n            };\n            reader.readAsDataURL(brandLogo);\n        } else {\n            setBrandLogoDataUrl(\"\");\n        }\n    }, [\n        brandLogo\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Intercept all navigation attempts on anchors within the preview area\n        const containsInPreview = (node)=>!!(previewRef.current && node && previewRef.current.contains(node));\n        const showLinkNotification = (evt, anchor)=>{\n            const href = anchor.getAttribute(\"href\");\n            if (!href) return;\n            evt._linkNotified = true;\n            addNotification(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                children: [\n                    \"External link: \",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"a\", {\n                        href: href,\n                        target: \"_blank\",\n                        rel: \"noopener noreferrer\",\n                        children: href\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 1894,\n                        columnNumber: 26\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 1893,\n                columnNumber: 9\n            }, this));\n            const sectionEl = anchor.closest(\"[data-section]\");\n            const sectionId = sectionEl === null || sectionEl === void 0 ? void 0 : sectionEl.getAttribute(\"data-section\");\n            if (sectionId) {\n                setOpenSection(sectionId);\n            }\n        };\n        const onClickCapture = (e)=>{\n            const target = e.target;\n            if (!target || !containsInPreview(target)) return;\n            const anchor = target.closest(\"a\");\n            if (!anchor) return;\n            e.preventDefault();\n            e.stopPropagation();\n            // If an editor is focused, blur it so any editor popovers/menus close\n            if (document.activeElement instanceof HTMLElement) {\n                try {\n                    document.activeElement.blur();\n                } catch (e) {}\n            }\n            // Ensure no other handlers run\n            if (typeof e.stopImmediatePropagation === \"function\") {\n                e.stopImmediatePropagation();\n            }\n            showLinkNotification(e, anchor);\n        };\n        // Prevent middle-click (auxclick) opening new tab\n        const onAuxClickCapture = (e)=>{\n            const target = e.target;\n            if (!target || !containsInPreview(target)) return;\n            const anchor = target.closest(\"a\");\n            if (!anchor) return;\n            e.preventDefault();\n            e.stopPropagation();\n            if (document.activeElement instanceof HTMLElement) {\n                try {\n                    document.activeElement.blur();\n                } catch (e) {}\n            }\n            if (typeof e.stopImmediatePropagation === \"function\") {\n                e.stopImmediatePropagation();\n            }\n            showLinkNotification(e, anchor);\n        };\n        // Prevent keyboard-initiated navigation (Enter on focused link)\n        const onKeyDownCapture = (e)=>{\n            const target = e.target;\n            if (!target || !containsInPreview(target)) return;\n            if (e.key !== \"Enter\") return;\n            const anchor = target.tagName.toLowerCase() === \"a\" ? target : target.closest(\"a\");\n            if (!anchor) return;\n            e.preventDefault();\n            e.stopPropagation();\n            if (document.activeElement instanceof HTMLElement) {\n                try {\n                    document.activeElement.blur();\n                } catch (e) {}\n            }\n            if (typeof e.stopImmediatePropagation === \"function\") {\n                e.stopImmediatePropagation();\n            }\n            showLinkNotification(e, anchor);\n        };\n        // Attach at document level in capture phase to reliably preempt default navigation\n        document.addEventListener(\"click\", onClickCapture, true);\n        document.addEventListener(\"auxclick\", onAuxClickCapture, true);\n        document.addEventListener(\"keydown\", onKeyDownCapture, true);\n        return ()=>{\n            document.removeEventListener(\"click\", onClickCapture, true);\n            document.removeEventListener(\"auxclick\", onAuxClickCapture, true);\n            document.removeEventListener(\"keydown\", onKeyDownCapture, true);\n        };\n    }, [\n        viewMode,\n        addNotification,\n        setOpenSection\n    ]);\n    /**\n   * Apply the brand primary and secondary colours and font to a block\n   * of HTML. Occurrences of the default accent colours (#d19aa0 and\n   * #F0C3C7) are replaced with the chosen primary and secondary\n   * colours. The default font stack 'Montserrat', Arial, Helvetica,\n   * sans-serif is replaced with the selected font if provided.\n   */ const applyBrandColoursAndFont = (html)=>{\n        let out = html;\n        if (brandPrimary) {\n            const regex = new RegExp(\"#d19aa0\", \"gi\");\n            out = out.replace(regex, brandPrimary);\n        }\n        if (brandSecondary) {\n            const regex = new RegExp(\"#F0C3C7\", \"gi\");\n            out = out.replace(regex, brandSecondary);\n        }\n        if (brandFont && brandFont.trim()) {\n            // Replace the default font stack. We do a simple replace on the\n            // exact string used in the templates. If more variants are\n            // needed this could be expanded.\n            const regex = new RegExp(\"'Montserrat',Arial,Helvetica,sans-serif\", \"gi\");\n            out = out.replace(regex, brandFont);\n        }\n        return out;\n    };\n    /**\n   * Inject the brand logo into the header. The first <img> tag found\n   * in the header HTML is replaced with one that uses the\n   * brandLogoDataUrl if it is defined. If no logo has been\n   * uploaded the HTML is returned unchanged.\n   */ const applyBrandLogo = (html)=>{\n        if (!brandLogoDataUrl) return html;\n        return html.replace(/<img([^>]+)src=\"[^\">]*\"/, '<img$1src=\"'.concat(brandLogoDataUrl, '\"'));\n    };\n    // Inject announcement copy (if available) into the header template.\n    // This targets the Default Header template using the \"<!-- Announcement Bar -->\" marker.\n    const applyAnnouncementCopy = (html)=>{\n        if (!brandAnnouncement || !html) return html;\n        const marker = \"<!-- Announcement Bar -->\";\n        const idx = html.indexOf(marker);\n        if (idx === -1) return html;\n        const after = html.slice(idx + marker.length);\n        const tdStart = after.indexOf(\"<td\");\n        if (tdStart === -1) return html;\n        const tdOpenEnd = after.indexOf(\">\", tdStart);\n        if (tdOpenEnd === -1) return html;\n        const tdClose = after.indexOf(\"</td>\", tdOpenEnd + 1);\n        if (tdClose === -1) return html;\n        // Extract the td opening tag and adjust its text color according to brandTextColor\n        const tdOpenTag = after.slice(tdStart, tdOpenEnd + 1);\n        const desiredHex = brandTextColor === \"white\" ? \"#FFFFFF\" : \"#000000\";\n        let newTdOpen = tdOpenTag;\n        const hasStyle = /style=\"([^\"]*)\"/i.test(newTdOpen);\n        if (hasStyle) {\n            // Replace existing color:... if present, else append color:...\n            if (/color\\s*:\\s*[^;\"']+/.test(newTdOpen)) {\n                newTdOpen = newTdOpen.replace(/color\\s*:\\s*[^;\"']+/i, \"color:\".concat(desiredHex));\n            } else {\n                newTdOpen = newTdOpen.replace(/style=\"([^\"]*)\"/i, (m, s)=>{\n                    const sep = s && s.trim().length > 0 && !s.trim().endsWith(\";\") ? \";\" : \"\";\n                    return 'style=\"'.concat(s).concat(sep, \"color:\").concat(desiredHex, ';\"');\n                });\n            }\n        } else {\n            // No style attribute â add one with the color\n            newTdOpen = newTdOpen.replace(\"<td\", '<td style=\"color:'.concat(desiredHex, ';\"'));\n        }\n        // Add a stable hook to find and make this area editable in the preview\n        if (!/data-announcement=/.test(newTdOpen)) {\n            newTdOpen = newTdOpen.replace(\"<td\", '<td data-announcement=\"true\"');\n        }\n        const beforeHead = html.slice(0, idx + marker.length);\n        const beforeTd = after.slice(0, tdStart);\n        const afterPart = after.slice(tdClose);\n        const annHtml = emailSafe ? (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.sanitizeEmailHtml)(brandAnnouncement) : brandAnnouncement;\n        return beforeHead + beforeTd + newTdOpen + annHtml + afterPart;\n    };\n    // Floating toolbar removed: announcement is copy-only in preview like titles/descriptions\n    // Inject padding into the wrapper table (the one with max-width:600px)\n    const applyWrapperPadding = (html, padding)=>{\n        if (!padding) return html;\n        const allZero = padding.top === 0 && padding.right === 0 && padding.bottom === 0 && padding.left === 0;\n        // If all zeros, treat as \"no override\" so template default padding (if any) remains.\n        if (allZero) return html;\n        const pr = \"\".concat(padding.top, \"px \").concat(padding.right, \"px \").concat(padding.bottom, \"px \").concat(padding.left, \"px\");\n        const regex = /(<table\\b[^>]*style=\")(.*?max-width\\s*:\\s*600px[^\\\"]*)(\")[^>]*>/i;\n        return html.replace(regex, (_m, p1, styleStr, p3)=>{\n            let newStyle = styleStr.replace(/padding\\s*:\\s*[^;\\\"]*;?/gi, \"\");\n            if (newStyle.length > 0 && !newStyle.trim().endsWith(\";\")) newStyle += \";\";\n            newStyle += \"padding:\".concat(pr, \";\");\n            return \"\".concat(p1).concat(newStyle).concat(p3);\n        });\n    };\n    // Wrap a full body section's combined modules inside a single 600px wrapper table\n    const wrapSectionWithWrapper = (innerHtml, padding)=>{\n        // Detect if this is a product section via a marker comment we can embed or presence of product module signatures.\n        const isProductSection = /data-product-cell=/.test(innerHtml) || /product-module-wrapper/.test(innerHtml);\n        const allZero = !padding || padding.top === 0 && padding.right === 0 && padding.bottom === 0 && padding.left === 0;\n        const effectivePadding = isProductSection && allZero ? {\n            top: 25,\n            right: 25,\n            bottom: 25,\n            left: 25\n        } : padding || {\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        };\n        const pr = \"\".concat(effectivePadding.top, \"px \").concat(effectivePadding.right, \"px \").concat(effectivePadding.bottom, \"px \").concat(effectivePadding.left, \"px\");\n        const cls = isProductSection ? \"product-wrapper\" : \"\";\n        return '\\n<table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\" style=\"margin:0;padding:0;\">\\n  <tr>\\n    <td align=\"center\" style=\"margin:0;padding:0;\">\\n      <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"'.concat(cls, '\" style=\"max-width:600px;margin:0 auto;background:#FFFFFF;padding:').concat(pr, ';\">\\n        <tr>\\n          <td style=\"padding:0;\">\\n            ').concat(innerHtml, \"\\n          </td>\\n        </tr>\\n      </table>\\n    </td>\\n  </tr>\\n</table>\");\n    };\n    // Remove a module's own 600px wrapper table and return its inner content.\n    // This prevents per-item padding and keeps a single outer wrapper per section.\n    const stripModuleWrapper = (html)=>{\n        const re = /<table\\b[^>]*style=\\\"[^\\\"]*max-width\\s*:\\s*600px[^\\\"]*\\\"[^>]*>\\s*<tr>\\s*<td[^>]*>([\\s\\S]*?)<\\/td>\\s*<\\/tr>\\s*<\\/table>/i;\n        const m = html.match(re);\n        if (m && m[1]) return html.replace(re, m[1]);\n        return html;\n    };\n    /**\n   * Hero section state. A hero consists of a single banner image and\n   * optional link/alt text. The hero template can be selected from\n   * defaultHeroTemplates or userâdefined templates. When heroImage is\n   * empty no hero section will be rendered. heroHtml holds the\n   * compiled markup and is updated whenever heroImage or templates\n   * change.\n   */ const [heroTemplates, setHeroTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_heroTemplates__WEBPACK_IMPORTED_MODULE_13__.defaultHeroTemplates);\n    const [selectedHeroId, setSelectedHeroId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_heroTemplates__WEBPACK_IMPORTED_MODULE_13__.defaultHeroTemplates[0].id);\n    const [heroImage, setHeroImage] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Pre-fill hero alt with brand name (or a sensible default)\n    const [heroAlt, setHeroAlt] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(brandName || \"Brand\");\n    const [heroHref, setHeroHref] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [heroHtml, setHeroHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [heroEditMode, setHeroEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [draftHeroHtml, setDraftHeroHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newHeroName, setNewHeroName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newHeroHtml, setNewHeroHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [showNewHero, setShowNewHero] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    /**\n   * List of alternate hero images extracted from the site. When the\n   * hero image is fetched via the API the endpoint returns an array\n   * of image URLs. The first image is used as the default heroImage\n   * and the rest are available for selection in the interactive\n   * preview. When the list is empty no alternative images are\n   * available. heroImages is not persisted across sessions.\n  */ const [heroImages, setHeroImages] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)([]);\n    /**\n   * Banner section state. The banner is a single image module that appears\n   * above the footer. It reuses the templating/editing behaviour of the\n   * header section but renders with its own template and image. The image\n   * is fetched from the configured brand website by looking for an element\n   * with the class `mobile-banner`.\n   */ const [bannerTemplates, setBannerTemplates] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_bannerTemplates__WEBPACK_IMPORTED_MODULE_14__.defaultBannerTemplates);\n    const [selectedBannerId, setSelectedBannerId] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_data_bannerTemplates__WEBPACK_IMPORTED_MODULE_14__.defaultBannerTemplates[0].id);\n    const [bannerImage, setBannerImage] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Pre-fill banner alt with brand name (or a sensible default)\n    const [bannerAlt, setBannerAlt] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(brandName || \"Brand\");\n    const [bannerHref, setBannerHref] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // Banner image selector overlay state (main preview)\n    const [showBannerSelector, setShowBannerSelector] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [bannerHtml, setBannerHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [bannerEditMode, setBannerEditMode] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [draftBannerHtml, setDraftBannerHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newBannerName, setNewBannerName] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [newBannerHtml, setNewBannerHtml] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    const [showNewBanner, setShowNewBanner] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const fetchHeroForBrand = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async ()=>{\n        if (!brandWebsite) return;\n        try {\n            const heroRes = await fetch(\"/api/hero?url=\".concat(encodeURIComponent(brandWebsite)));\n            if (heroRes.ok) {\n                const heroData = await heroRes.json();\n                if (heroData.images && Array.isArray(heroData.images) && heroData.images.length > 0) {\n                    setHeroImages(heroData.images);\n                    setHeroImage(heroData.images[0]);\n                    setHeroHref(brandWebsite);\n                    // Prefill alt with brand name so input is not empty/placeholder\n                    setHeroAlt((analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.storeName) || brandName || \"Brand\");\n                }\n            }\n        } catch (err) {\n            console.warn(\"Failed to fetch hero images\", err);\n        }\n    }, [\n        brandWebsite,\n        brandName\n    ]);\n    const fetchBannerForBrand = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(async ()=>{\n        if (!brandWebsite) return;\n        try {\n            const res = await fetch(\"/api/banner?url=\".concat(encodeURIComponent(brandWebsite)));\n            if (res.ok) {\n                const data = await res.json();\n                if (data.image) {\n                    setBannerImage(data.image);\n                    setBannerHref(brandWebsite);\n                    // Prefill alt with brand name so input is not empty/placeholder\n                    setBannerAlt((analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.storeName) || brandName || \"Brand\");\n                }\n            }\n        } catch (err) {\n            console.warn(\"Failed to fetch banner image\", err);\n        }\n    }, [\n        brandWebsite,\n        brandName\n    ]);\n    /**\n   * Fetch hero images for the configured brand website. This runs on\n   * initial load, whenever the website URL changes, or when the hero\n   * section is added. The first image returned becomes the default\n   * hero image and link target.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (showHeroSection) {\n            fetchHeroForBrand();\n        }\n    }, [\n        fetchHeroForBrand,\n        showHeroSection\n    ]);\n    // Fetch banner image for the configured brand website. On success the\n    // first image with the class `mobile-banner` is used as the banner\n    // image. Images are fetched on initial load, when the website URL\n    // changes, or when the banner section is added.\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (showBannerSection) {\n            fetchBannerForBrand();\n        }\n    }, [\n        fetchBannerForBrand,\n        showBannerSection\n    ]);\n    /**\n   * Update a hero property. This callback is passed to the\n   * HeroTableModule so edits in the preview propagate to the\n   * underlying state. Supported fields are 'image', 'alt' and\n   * 'href'. The heroHtml string will be recomputed in the\n   * useEffect below when these values change.\n   */ const updateHero = (field, value)=>{\n        if (field === \"image\") setHeroImage(value);\n        else if (field === \"alt\") setHeroAlt(value);\n        else if (field === \"href\") setHeroHref(value);\n    };\n    /**\n   * Brand logo data URI. When a user uploads a logo file the file\n   * contents are converted into a data URI that can be embedded\n   * directly into the HTML. brandLogoDataUrl is empty if no logo\n   * has been selected.\n   */ const [brandLogoDataUrl, setBrandLogoDataUrl] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(\"\");\n    // When analyzeData arrives, initialize brand font and announcement if not set\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!analyzeData) return;\n        // Prefill brand font: prefer first detected font family; else Montserrat default\n        if (!brandFont || !brandFont.trim()) {\n            const detected = analyzeData.fontFamilies && analyzeData.fontFamilies[0] || \"\";\n            if (detected) {\n                const needsQuote = /[^a-z0-9-]/i.test(detected);\n                const css = \"\".concat(needsQuote ? \"'\".concat(detected, \"'\") : detected, \",Arial,Helvetica,sans-serif\");\n                setBrandFont(css);\n            } else {\n                setBrandFont(\"'Montserrat',Arial,Helvetica,sans-serif\");\n            }\n        }\n        // Prefill announcement content with fetched copy if our field is empty\n        if ((!brandAnnouncement || !brandAnnouncement.trim()) && analyzeData.announcementCopy) {\n            setBrandAnnouncement(analyzeData.announcementCopy);\n        }\n        // If we have a logo URL and no uploaded file override, use it for preview in the field adornment\n        if (!brandLogoDataUrl && analyzeData.logo) {\n            setBrandLogoDataUrl(analyzeData.logo);\n        }\n    }, [\n        analyzeData\n    ]);\n    // Make the announcement bar editable directly in the preview\n    // Make the announcement bar editable directly in the preview with live sync\n    (0,_lib_useLiveEditable__WEBPACK_IMPORTED_MODULE_3__.useLiveEditable)(()=>{\n        var _previewRef_current;\n        return (_previewRef_current = previewRef.current) === null || _previewRef_current === void 0 ? void 0 : _previewRef_current.querySelector('[data-announcement=\"true\"]');\n    }, brandAnnouncement, (html)=>{\n        // Copy-only: strip formatting and store as <p> with <br>\n        const stored = (0,_lib_htmlUtils__WEBPACK_IMPORTED_MODULE_22__.inlineHtmlToParagraphHtml)(html || \"\");\n        setBrandAnnouncement((0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.normalizeFontColorHtml)(stored));\n    }, {\n        debounceMs: 60,\n        attributes: {\n            contenteditable: \"true\",\n            spellcheck: \"false\"\n        }\n    });\n    // Track when the announcement element has focus to avoid re-rendering headerHtml mid-typing\n    const annEditingRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        var _previewRef_current;\n        const el = (_previewRef_current = previewRef.current) === null || _previewRef_current === void 0 ? void 0 : _previewRef_current.querySelector('[data-announcement=\"true\"]');\n        if (!el) return;\n        const onFocusIn = ()=>{\n            annEditingRef.current = true;\n        };\n        const onFocusOut = ()=>{\n            annEditingRef.current = false;\n        };\n        el.addEventListener(\"focusin\", onFocusIn);\n        el.addEventListener(\"focusout\", onFocusOut);\n        return ()=>{\n            el.removeEventListener(\"focusin\", onFocusIn);\n            el.removeEventListener(\"focusout\", onFocusOut);\n        };\n    }, [\n        headerHtml,\n        previewRef\n    ]);\n    // Ripple overlay for announcement bar interactions\n    const annRippleRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const startAnnRipple = (event)=>{\n        try {\n            var _annRippleRef_current;\n            (_annRippleRef_current = annRippleRef.current) === null || _annRippleRef_current === void 0 ? void 0 : _annRippleRef_current.start(event);\n        } catch (e) {}\n    };\n    const stopAnnRipple = ()=>{\n        try {\n            var _annRippleRef_current;\n            (_annRippleRef_current = annRippleRef.current) === null || _annRippleRef_current === void 0 ? void 0 : _annRippleRef_current.stop({});\n        } catch (e) {}\n    };\n    // Ripple overlay for footer interactions (confined to 600px table)\n    const footerRippleRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const handleFooterRippleMouseDown = (e)=>{\n        try {\n            var _footerRippleRef_current;\n            (_footerRippleRef_current = footerRippleRef.current) === null || _footerRippleRef_current === void 0 ? void 0 : _footerRippleRef_current.start(e);\n        } catch (e) {}\n    };\n    const handleFooterRippleMouseUp = (e)=>{\n        try {\n            var _footerRippleRef_current;\n            (_footerRippleRef_current = footerRippleRef.current) === null || _footerRippleRef_current === void 0 ? void 0 : _footerRippleRef_current.stop(e);\n        } catch (e) {}\n    };\n    const handleFooterRippleMouseLeave = (e)=>{\n        try {\n            var _footerRippleRef_current;\n            (_footerRippleRef_current = footerRippleRef.current) === null || _footerRippleRef_current === void 0 ? void 0 : _footerRippleRef_current.stop(e);\n        } catch (e) {}\n    };\n    // Attach pointer events to announcement bar to trigger ripple\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        var _previewRef_current;\n        const el = (_previewRef_current = previewRef.current) === null || _previewRef_current === void 0 ? void 0 : _previewRef_current.querySelector('[data-announcement=\"true\"]');\n        if (!el) return;\n        const onDown = (e)=>startAnnRipple(e);\n        const onUp = ()=>stopAnnRipple();\n        const onLeave = ()=>stopAnnRipple();\n        const onClick = (e)=>{\n            // Prevent any anchor inside announcement from stealing focus/navigation during editing\n            const target = e.target;\n            if (target && target.closest(\"a\")) {\n                e.preventDefault();\n                e.stopPropagation();\n                const a = target.closest(\"a\");\n                const href = (a === null || a === void 0 ? void 0 : a.getAttribute(\"href\")) || \"\";\n                if (href && !e._linkNotified) {\n                    addNotification(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                        children: [\n                            \"External link: \",\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"a\", {\n                                href: href,\n                                target: \"_blank\",\n                                rel: \"noopener noreferrer\",\n                                children: href\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 2314,\n                                columnNumber: 30\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 2313,\n                        columnNumber: 13\n                    }, this));\n                }\n            }\n            // When the announcement bar is clicked, open the right panel and highlight the Brand tab\n            setShowBrandPanel(true);\n            setSummaryTab(detectedPageType === \"collection\" ? 3 : 2);\n        };\n        el.addEventListener(\"mousedown\", onDown);\n        el.addEventListener(\"mouseup\", onUp);\n        el.addEventListener(\"mouseleave\", onLeave);\n        el.addEventListener(\"click\", onClick);\n        return ()=>{\n            el.removeEventListener(\"mousedown\", onDown);\n            el.removeEventListener(\"mouseup\", onUp);\n            el.removeEventListener(\"mouseleave\", onLeave);\n            el.removeEventListener(\"click\", onClick);\n        };\n    }, [\n        headerHtml,\n        previewRef,\n        detectedPageType,\n        addNotification\n    ]);\n    // Subtle hover affordance (visual only)\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        var _previewRef_current;\n        const el = (_previewRef_current = previewRef.current) === null || _previewRef_current === void 0 ? void 0 : _previewRef_current.querySelector('[data-announcement=\"true\"]');\n        if (!el) return;\n        const onEnter = ()=>{\n            el.style.opacity = \"0.6\";\n        };\n        const onLeave = ()=>{\n            el.style.opacity = \"1\";\n        };\n        el.addEventListener(\"mouseenter\", onEnter);\n        el.addEventListener(\"mouseleave\", onLeave);\n        return ()=>{\n            el.removeEventListener(\"mouseenter\", onEnter);\n            el.removeEventListener(\"mouseleave\", onLeave);\n        };\n    }, [\n        headerHtml,\n        previewRef\n    ]);\n    // If hero image not set yet, preselect the first detected hero image\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        var _analyzeData_heroImages;\n        if (!heroImage && ((analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_heroImages = analyzeData.heroImages) === null || _analyzeData_heroImages === void 0 ? void 0 : _analyzeData_heroImages.length) || 0) > 0) {\n            const first = analyzeData.heroImages[0];\n            setHeroImage(first);\n            setHeroHref(brandWebsite || \"\");\n            setHeroAlt((analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.storeName) || brandName || \"Brand\");\n        }\n    }, [\n        analyzeData,\n        heroImage,\n        brandWebsite,\n        brandName\n    ]);\n    // If banner image not set yet, preselect the first detected banner image\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        var _analyzeData_bannerImages;\n        if (!bannerImage && ((analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_bannerImages = analyzeData.bannerImages) === null || _analyzeData_bannerImages === void 0 ? void 0 : _analyzeData_bannerImages.length) || 0) > 0) {\n            const first = analyzeData.bannerImages[0];\n            setBannerImage(first);\n            setBannerHref(brandWebsite || \"\");\n            setBannerAlt((analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.storeName) || brandName || \"Brand\");\n        }\n    }, [\n        analyzeData,\n        bannerImage,\n        brandWebsite,\n        brandName\n    ]);\n    /**\n   * Helper to add a new body section. When invoked, this creates a\n   * new entry in the bodySections array with its own blank URL list,\n   * empty products and default template selection. The new section\n   * name is autoâincremented (Body 2, Body 3, etc.). After\n   * creation, the newly added section is opened automatically so\n   * users can start editing it.\n   */ const addBodySection = ()=>{\n        // Determine a unique next id based on existing sections\n        const nextId = bodySections.length ? Math.max(...bodySections.map((s)=>s.id)) + 1 : 1;\n        const newSection = {\n            id: nextId,\n            name: \"Body \".concat(nextId),\n            urls: [\n                \"\"\n            ],\n            products: [],\n            selectedBodyId: _data_templates__WEBPACK_IMPORTED_MODULE_9__.defaultTemplates[0].id,\n            loading: false,\n            alternate: true\n        };\n        setBodySections((prev)=>[\n                ...prev,\n                newSection\n            ]);\n        setSectionOrder((prev)=>{\n            const arr = [\n                ...prev\n            ];\n            const newKey = \"body-\".concat(nextId);\n            const bannerIdx = arr.indexOf(\"banner\");\n            if (bannerIdx >= 0) arr.splice(bannerIdx, 0, newKey);\n            else arr.push(newKey);\n            return arr;\n        });\n        setOpenSection(\"body-\".concat(nextId));\n    };\n    const removeHeaderSection = ()=>{\n        setShowHeaderSection(false);\n        setHeaderHtml(\"\");\n        setOpenSection((prev)=>prev === \"header\" ? \"\" : prev);\n    };\n    const removeHeroSection = ()=>{\n        setShowHeroSection(false);\n        setHeroImage(\"\");\n        setHeroAlt(\"\");\n        setHeroHref(\"\");\n        setHeroHtml(\"\");\n        setSectionOrder((prev)=>prev.filter((id)=>id !== \"hero\"));\n        setOpenSection((prev)=>prev === \"hero\" ? \"\" : prev);\n    };\n    const removeBannerSection = ()=>{\n        setShowBannerSection(false);\n        setBannerImage(\"\");\n        setBannerAlt(\"\");\n        setBannerHref(\"\");\n        setBannerHtml(\"\");\n        setSectionOrder((prev)=>prev.filter((id)=>id !== \"banner\"));\n        setOpenSection((prev)=>prev === \"banner\" ? \"\" : prev);\n    };\n    const removeFooterSection = ()=>{\n        setShowFooterSection(false);\n        setFooterHtml(\"\");\n        setOpenSection((prev)=>prev === \"footer\" ? \"\" : prev);\n    };\n    /**\n   * Remove a body section entirely. When invoked, this deletes the\n   * section from the bodySections array. If the removed section is\n   * currently open, the accordion is collapsed. This helper is\n   * triggered by the trash icon in each body section header.\n   */ const removeBodySection = (sectionId)=>{\n        // Capture the section being removed to decide follow-up actions\n        const removedSection = bodySections.find((s)=>s.id === sectionId);\n        setBodySections((prev)=>prev.filter((section)=>section.id !== sectionId));\n        setSectionOrder((prev)=>prev.filter((id)=>id !== \"body-\".concat(sectionId)));\n        setOpenSection((prev)=>prev === \"body-\".concat(sectionId) ? \"\" : prev);\n        // If the removed section is the Collection module, reset selection and right-panel Product tab state\n        if ((removedSection === null || removedSection === void 0 ? void 0 : removedSection.name) === \"Collection\") {\n            // Deselect all rows in the DataGrid\n            setCollectionSelection([]);\n            // Cancel any pending debounce and in-flight enrichment\n            if (collectionDebounceRef.current) clearTimeout(collectionDebounceRef.current);\n            if (selectionAbortRef.current) {\n                try {\n                    selectionAbortRef.current.abort();\n                } catch (e) {}\n            }\n            setCollectionEnriching(false);\n            // Reset the selected product context so Product tab goes blank on collection pages\n            setSelectedProductCtx(null);\n        }\n        // If the currently selected product belonged to the removed section, clear it\n        if ((selectedProductCtx === null || selectedProductCtx === void 0 ? void 0 : selectedProductCtx.sectionId) === sectionId) {\n            setSelectedProductCtx(null);\n        }\n    };\n    const addSectionByType = (type)=>{\n        switch(type){\n            case \"header\":\n                setShowHeaderSection(true);\n                setOpenSection(\"header\");\n                break;\n            case \"hero\":\n                setShowHeroSection(true);\n                setSectionOrder((prev)=>prev.includes(\"hero\") ? prev : [\n                        \"hero\",\n                        ...prev\n                    ]);\n                setOpenSection(\"hero\");\n                break;\n            case \"banner\":\n                setShowBannerSection(true);\n                setSectionOrder((prev)=>prev.includes(\"banner\") ? prev : [\n                        ...prev,\n                        \"banner\"\n                    ]);\n                setOpenSection(\"banner\");\n                break;\n            case \"footer\":\n                setShowFooterSection(true);\n                setOpenSection(\"footer\");\n                break;\n            case \"body\":\n            default:\n                addBodySection();\n                break;\n        }\n        setShowAddSectionMenu(false);\n    };\n    /**\n   * Update the selected template for a specific body section. This\n   * updates the sectionâs selectedBodyId and also updates the\n   * global selectedBodyId so that the edit form displays the\n   * correct template source when editing. Without this the edit\n   * textarea would show the wrong HTML if switching between\n   * sections with different templates.\n   */ const setSectionTemplate = (sectionId, templateId)=>{\n        setBodySections((prev)=>prev.map((section)=>section.id === sectionId ? {\n                    ...section,\n                    selectedBodyId: templateId\n                } : section));\n        setSelectedBodyId(templateId);\n    };\n    /**\n   * Save edits to the currently selected hero template. The hero\n   * templateâs HTML is replaced with the contents of draftHeroHtml.\n   * If the template is userâdefined it is persisted back to\n   * localStorage under 'customHeroTemplates'.\n   */ const saveHeroEdits = ()=>{\n        setHeroTemplates((prev)=>prev.map((tpl)=>tpl.id === selectedHeroId ? {\n                    ...tpl,\n                    html: draftHeroHtml\n                } : tpl));\n        setHeroEditMode(false);\n        // Persist edits for custom templates\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customHeroTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                const updated = list.map((tpl)=>tpl.id === selectedHeroId ? {\n                        ...tpl,\n                        html: draftHeroHtml\n                    } : tpl);\n                window.localStorage.setItem(\"customHeroTemplates\", JSON.stringify(updated));\n            }\n        } catch (err) {\n            console.warn(\"Failed to persist hero template edits\", err);\n        }\n    };\n    /**\n   * Add a new hero template. The name and HTML are taken from the\n   * newHeroName and newHeroHtml fields. A unique id is generated\n   * based on the name and timestamp. The new template is stored\n   * alongside existing templates and persisted into localStorage.\n   */ const addNewHeroTemplate = ()=>{\n        const name = newHeroName.trim();\n        const html = newHeroHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTpl = {\n            id,\n            name,\n            html\n        };\n        setHeroTemplates((prev)=>[\n                ...prev,\n                newTpl\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customHeroTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTpl);\n                window.localStorage.setItem(\"customHeroTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom hero template\", err);\n        }\n        setNewHeroName(\"\");\n        setNewHeroHtml(\"\");\n    };\n    /**\n   * Load any custom hero templates from localStorage. This mirrors\n   * the behaviour for body/header/footer templates. Custom hero\n   * templates are stored under the key 'customHeroTemplates'.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (true) {\n            try {\n                const storedHero = window.localStorage.getItem(\"customHeroTemplates\");\n                if (storedHero) {\n                    const parsed = JSON.parse(storedHero);\n                    if (Array.isArray(parsed) && parsed.length) {\n                        setHeroTemplates((prev)=>[\n                                ...prev,\n                                ...parsed\n                            ]);\n                    }\n                }\n            } catch (err) {\n                console.warn(\"Failed to load custom hero templates\", err);\n            }\n        }\n    }, []);\n    /**\n   * Compose the full email whenever any part of the data changes. This\n   * includes header/footer/hero template selection, body sections,\n   * products, hero image and brand customisations. The composed\n   * HTML uses OptionÂ A semantics: the same HTML string is used for\n   * both preview and code output. Brand colours, fonts and logos\n   * are applied uniformly across all sections.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        // Compose header\n        let headerStr = headerHtml;\n        const isAnnFocused = annEditingRef.current === true;\n        if (!isAnnFocused) {\n            if (showHeaderSection) {\n                const headerTemplate = headerTemplates.find((t)=>t.id === selectedHeaderId);\n                headerStr = headerTemplate ? headerTemplate.html : \"\";\n                headerStr = applyBrandColoursAndFont(headerStr);\n                headerStr = applyBrandLogo(headerStr);\n                headerStr = applyAnnouncementCopy(headerStr);\n                headerStr = applyWrapperPadding(headerStr, headerPadding);\n            } else {\n                headerStr = \"\";\n            }\n        }\n        // Compose hero if an image has been set\n        let heroStr = \"\";\n        const heroTemplate = heroTemplates.find((t)=>t.id === selectedHeroId);\n        if (showHeroSection && heroTemplate && heroImage) {\n            const heroData = {\n                heroImage,\n                heroAlt: heroAlt || \"\",\n                heroHref: heroHref || \"\"\n            };\n            if (!heroData.heroAlt && brandName) heroData.heroAlt = brandName;\n            // Render hero using the full template object. Passing the raw\n            // HTML string causes renderTemplate to receive undefined for\n            // template.html and results in runtime errors. See data/templates.ts.\n            heroStr = (0,_data_templates__WEBPACK_IMPORTED_MODULE_9__.renderTemplate)(heroTemplate, heroData);\n            heroStr = applyBrandColoursAndFont(heroStr);\n            heroStr = applyWrapperPadding(heroStr, heroPadding);\n        }\n        // Compose body across all sections\n        const bodyHtmlMap = {};\n        bodySections.forEach((section)=>{\n            let sectionHtml = \"\";\n            // Special handling for grid: build a single multi-row table with up to 3 images per row,\n            // 12px spacing between tiles (6px horizontal inset on each side, 12px vertical gap between rows).\n            if (section.selectedBodyId === \"grid\") {\n                const images = section.products.map((p)=>p.image).filter(Boolean);\n                if (images.length) {\n                    // Use shared helper to build independent row tables with spacing\n                    const rowsHtml = (0,_lib_gridUtils__WEBPACK_IMPORTED_MODULE_10__.buildGridRowsHtml)(images, {\n                        gap: 12,\n                        cellPad: 6,\n                        perRow: 3\n                    });\n                    // Apply desktop padding (25px default) and mobile override (12px via media query) using the same wrapper semantics as other body sections.\n                    const pad = getBodySectionPadding(section.id);\n                    // If no explicit padding set (all zeros), default to 25 on all sides like product sections.\n                    const effectivePad = !pad || pad.top === 0 && pad.right === 0 && pad.bottom === 0 && pad.left === 0 ? {\n                        top: 25,\n                        right: 25,\n                        bottom: 25,\n                        left: 25\n                    } : pad;\n                    const pr = \"\".concat(effectivePad.top, \"px \").concat(effectivePad.right, \"px \").concat(effectivePad.bottom, \"px \").concat(effectivePad.left, \"px\");\n                    const gridInner = '<!-- Dynamic Grid (max 3 per row, each row independent) -->\\n<table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" align=\"center\" style=\"margin:0;padding:0;\">\\n  <tr>\\n    <td align=\"center\" style=\"margin:0;padding:0;\">\\n      <table role=\"presentation\" width=\"100%\" cellpadding=\"0\" cellspacing=\"0\" border=\"0\" class=\"product-wrapper\" style=\"max-width:600px;margin:0 auto;background:#FFFFFF;padding:'.concat(pr, ';\">\\n        <tr>\\n          <td style=\"padding:0;\">\\n            ').concat(rowsHtml, \"\\n          </td>\\n        </tr>\\n      </table>\\n    </td>\\n  </tr>\\n</table>\");\n                    sectionHtml += applyBrandColoursAndFont(gridInner);\n                }\n                // Directly assign without an extra wrap (gridInner already includes wrapper semantics)\n                bodyHtmlMap[\"body-\".concat(section.id)] = sectionHtml;\n                return; // Skip per-product processing for grid\n            }\n            section.products.forEach((prod, idx)=>{\n                // Determine orientation based on index and alternate map\n                let templateIdToUse = section.selectedBodyId;\n                if (idx % 2 === 1 && alternateMap[section.selectedBodyId]) {\n                    templateIdToUse = alternateMap[section.selectedBodyId];\n                }\n                const tpl = bodyTemplates.find((t)=>t.id === templateIdToUse);\n                if (!tpl) return;\n                // Colour swatches removed per refactor\n                // Build price HTML: include a strikeâthrough original price if\n                // provided and different from the sale price. We leave the\n                // currency as provided by the parser. If no original price is\n                // present, show the sale price only. When both values are\n                // empty the priceHtml will be empty as well.\n                const rawSale = prod.price || \"\";\n                const rawOriginal = prod.originalPrice;\n                // Helper to ensure a leading $ unless another currency symbol already exists\n                const withDollar = (val)=>{\n                    if (!val) return \"\";\n                    return /^[\\$Â£â¬]/.test(val.trim()) ? val : \"$\".concat(val.trim());\n                };\n                const salePrice = withDollar(rawSale);\n                const originalPrice = rawOriginal && rawOriginal !== rawSale ? withDollar(rawOriginal) : undefined;\n                let priceHtml = \"\";\n                if (originalPrice && originalPrice !== salePrice) {\n                    priceHtml = '<span style=\"text-decoration:line-through;color:#888888;margin-right:8px;font-weight:400;\">'.concat(originalPrice, \"</span> \").concat(salePrice);\n                } else {\n                    priceHtml = salePrice;\n                }\n                // Choose description per product based on its own descSource (fallback metadata)\n                const prodDescSource = prod.descSource || \"metadata\";\n                let chosenDescription = prod.description || \"\";\n                if (prodDescSource === \"p\" && prod.descriptionP) {\n                    chosenDescription = prod.descriptionP;\n                } else if (prodDescSource === \"ul\" && prod.descriptionUl) {\n                    chosenDescription = prod.descriptionUl;\n                } else if (prodDescSource === \"metadata\") {\n                    const meta = prod.metadataDescription || prod.originalMetadataDescription || \"\";\n                    if (meta) chosenDescription = meta;\n                }\n                // Safety: if chosenDescription is still empty but metadata exists, prefer it\n                if (!chosenDescription) {\n                    const meta = prod.metadataDescription || prod.originalMetadataDescription || \"\";\n                    if (meta) chosenDescription = meta;\n                }\n                const ds = prodDescSource;\n                // For UL in code view, use a marker to later swap the paragraph with UL markup\n                const descForTemplate = ds === \"ul\" && prod.descriptionUl ? \"[[DESC_MARKER]]\" : chosenDescription;\n                const productData = {\n                    ...prod,\n                    // Sanitize title/description if enabled\n                    title: emailSafe ? (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.sanitizeInlineHtml)(prod.title || \"\") : prod.title,\n                    description: emailSafe ? (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.sanitizeEmailHtml)(descForTemplate) : descForTemplate,\n                    ctaLabel: prod.ctaLabel || \"SHOP NOW\",\n                    priceHtml,\n                    ctaBg: brandPrimary,\n                    ctaText: brandTextColor === \"white\" ? \"#FFFFFF\" : \"#000000\"\n                };\n                // Render module using the full template. For feature templates, alternate orientation by swapping template ids per index.\n                let effectiveTpl = tpl;\n                if (section.alternate !== false && (section.selectedBodyId === \"product-image-left-copy-right\" || section.selectedBodyId === \"product-copy-left-image-right\")) {\n                    const isBaseLeft = section.selectedBodyId === \"product-image-left-copy-right\";\n                    const altId = isBaseLeft ? \"product-copy-left-image-right\" : \"product-image-left-copy-right\";\n                    // Even indices use the base template orientation; odd indices use the alternate.\n                    if (idx % 2 === 1) {\n                        const altTpl = bodyTemplates.find((t)=>t.id === altId);\n                        if (altTpl) effectiveTpl = altTpl;\n                    }\n                }\n                // Render module HTML, then adjust top padding for subsequent feature modules using a placeholder.\n                let moduleHtmlRaw = (0,_data_templates__WEBPACK_IMPORTED_MODULE_9__.renderTemplate)(effectiveTpl, productData);\n                if (section.selectedBodyId === \"product-image-left-copy-right\" || section.selectedBodyId === \"product-copy-left-image-right\") {\n                    // Transform only the first canonical padding:25px; occurrence on the module-pad table into a tokenized form if not already transformed.\n                    // This avoids multiple regex passes and fragile replacements later.\n                    moduleHtmlRaw = moduleHtmlRaw.replace(/padding:25px;(?=(?:[^<]|<(?!table))*class=\\\"module-pad\\\")?/, \"padding:{{MODULE_TOP_PADDING}} 25px 25px 25px;\");\n                    const topPad = section.products.length > 1 && idx > 0 ? \"0\" : \"25px\";\n                    moduleHtmlRaw = moduleHtmlRaw.replace(/\\{\\{MODULE_TOP_PADDING\\}\\}/g, topPad);\n                }\n                let moduleHtml = moduleHtmlRaw;\n                if (ds === \"ul\" && prod.descriptionUl) {\n                    const rawUl = prod.descriptionUl;\n                    const processedUl = emailSafe ? (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.sanitizeEmailHtml)(rawUl) : rawUl;\n                    const ulHtml = (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.normalizeListHtml)(processedUl);\n                    moduleHtml = moduleHtml.replace(/<p[^>]*>\\s*\\[\\[DESC_MARKER\\]\\]\\s*<\\/p>/i, ulHtml);\n                }\n                moduleHtml = stripModuleWrapper(moduleHtml);\n                moduleHtml = applyBrandColoursAndFont(moduleHtml);\n                sectionHtml += moduleHtml;\n            });\n            // Apply padding once to a single outer wrapper around the whole section\n            bodyHtmlMap[\"body-\".concat(section.id)] = wrapSectionWithWrapper(sectionHtml, getBodySectionPadding(section.id));\n        });\n        // Compose banner if an image has been fetched\n        let bannerStr = \"\";\n        const bannerTemplate = bannerTemplates.find((t)=>t.id === selectedBannerId);\n        if (showBannerSection && bannerTemplate && bannerImage) {\n            const data = {\n                bannerImage,\n                bannerAlt: bannerAlt || \"\",\n                bannerHref: bannerHref || \"\"\n            };\n            if (!data.bannerAlt && brandName) data.bannerAlt = brandName;\n            bannerStr = (0,_data_templates__WEBPACK_IMPORTED_MODULE_9__.renderTemplate)(bannerTemplate, data);\n            bannerStr = applyBrandColoursAndFont(bannerStr);\n            bannerStr = applyWrapperPadding(bannerStr, bannerPadding);\n        }\n        // Compose footer\n        let footerStr = \"\";\n        if (showFooterSection) {\n            const footerTemplate = footerTemplates.find((t)=>t.id === selectedFooterId);\n            footerStr = footerTemplate ? footerTemplate.html : \"\";\n            footerStr = applyBrandColoursAndFont(footerStr);\n            footerStr = applyWrapperPadding(footerStr, footerPadding);\n        }\n        let orderedHtml = \"\";\n        sectionOrder.forEach((id)=>{\n            if (id === \"hero\") orderedHtml += heroStr;\n            else if (id === \"banner\") orderedHtml += bannerStr;\n            else if (id.startsWith(\"body-\")) orderedHtml += bodyHtmlMap[id] || \"\";\n        });\n        setHeaderHtml(headerStr);\n        setHeroHtml(heroStr);\n        setBodyHtml(sectionOrder.filter((id)=>id.startsWith(\"body-\")).map((id)=>bodyHtmlMap[id]).join(\"\"));\n        setBannerHtml(bannerStr);\n        setFooterHtml(footerStr);\n        let combined = \"\".concat(headerStr).concat(orderedHtml).concat(footerStr);\n        if (!/product-wrapper-mobile-style/.test(combined)) {\n            combined += '\\n<style id=\"product-wrapper-mobile-style\">@media only screen and (max-width:600px){.product-wrapper{padding:15px !important;}}</style>';\n        }\n        setFinalHtml(combined);\n    }, [\n        bodySections,\n        selectedBodyId,\n        selectedHeaderId,\n        selectedFooterId,\n        selectedBannerId,\n        bodyTemplates,\n        headerTemplates,\n        footerTemplates,\n        bannerTemplates,\n        brandPrimary,\n        brandSecondary,\n        brandFont,\n        brandLogoDataUrl,\n        brandAnnouncement,\n        heroImage,\n        heroAlt,\n        heroHref,\n        bannerImage,\n        bannerAlt,\n        bannerHref,\n        selectedHeroId,\n        heroTemplates,\n        showHeaderSection,\n        showHeroSection,\n        showBannerSection,\n        showFooterSection,\n        sectionOrder,\n        // Ensure wrapper padding changes trigger recomposition\n        headerPadding,\n        heroPadding,\n        bannerPadding,\n        footerPadding\n    ]);\n    /**\n   * PrismJS reference and load state. We load Prism only on the client. We also load the markup\n   * language component. Once loaded, we update the state to trigger\n   * re-render so syntax highlighting applies. The eslint comment\n   * suppresses warnings about asynchronous functions inside useEffect.\n   */ const prismRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const [prismLoaded, setPrismLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    // Load PrismJS dynamically on the client. We also load the markup\n    // language component. Once loaded, we update the state to trigger\n    // re-render so syntax highlighting applies. The eslint comment\n    // suppresses warnings about asynchronous functions inside useEffect.\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (true) {\n            (async ()=>{\n                try {\n                    const PrismModule = await __webpack_require__.e(/*! import() */ \"node_modules_prismjs_prism_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! prismjs */ \"./node_modules/prismjs/prism.js\", 23));\n                    await __webpack_require__.e(/*! import() */ \"node_modules_prismjs_components_prism-markup_js\").then(__webpack_require__.t.bind(__webpack_require__, /*! prismjs/components/prism-markup */ \"./node_modules/prismjs/components/prism-markup.js\", 23));\n                    prismRef.current = PrismModule.default;\n                    setPrismLoaded(true);\n                } catch (err) {\n                    console.warn(\"Failed to load PrismJS\", err);\n                }\n            })();\n        }\n    }, []);\n    /**\n   * Compose a list of code sections for the rightâpanel accordion. Each\n   * item contains a unique key, a humanâreadable title and the\n   * corresponding HTML string. The structure mirrors the left side\n  * panels: header, hero, each body section (containing all associated\n  * products) and footer. Colours and prices are computed inline for\n  * each product to match the final output. This list is\n   * recomputed on every render because the dependent data (body\n   * sections, templates, brand customisations, etc.) may change. If\n   * performance becomes an issue use React.useMemo.\n   */ const codeSections = [];\n    // Header section\n    if (headerHtml) {\n        codeSections.push({\n            key: \"header\",\n            title: \"Header\",\n            code: headerHtml\n        });\n    }\n    sectionOrder.forEach((id)=>{\n        if (id === \"hero\" && heroHtml) {\n            codeSections.push({\n                key: \"hero\",\n                title: \"Hero\",\n                code: heroHtml\n            });\n            return;\n        }\n        if (id === \"banner\" && bannerHtml) {\n            codeSections.push({\n                key: \"banner\",\n                title: \"Banner\",\n                code: bannerHtml\n            });\n            return;\n        }\n        if (id.startsWith(\"body-\")) {\n            const section = bodySections.find((s)=>\"body-\".concat(s.id) === id);\n            if (!section) return;\n            let combinedHtml = \"\";\n            section.products.forEach((prod, idx)=>{\n                // Determine which template to use: alternate every other product\n                let templateIdToUse = section.selectedBodyId;\n                if (idx % 2 === 1 && alternateMap[section.selectedBodyId]) {\n                    templateIdToUse = alternateMap[section.selectedBodyId];\n                }\n                const tpl = bodyTemplates.find((t)=>t.id === templateIdToUse);\n                if (!tpl) return;\n                // Colour swatches removed in refactor\n                // Build price HTML: include original price if different\n                const rawSale = prod.price || \"\";\n                const rawOriginal = prod.originalPrice;\n                const withDollar = (val)=>{\n                    if (!val) return \"\";\n                    return /^[\\$Â£â¬]/.test(val.trim()) ? val : \"$\".concat(val.trim());\n                };\n                const salePrice = withDollar(rawSale);\n                const originalPrice = rawOriginal && rawOriginal !== rawSale ? withDollar(rawOriginal) : undefined;\n                let priceHtml = \"\";\n                if (originalPrice && originalPrice !== salePrice) {\n                    priceHtml = '<span style=\"text-decoration:line-through;color:#888888;margin-right:8px;font-weight:400;\">'.concat(originalPrice, \"</span> \").concat(salePrice);\n                } else {\n                    priceHtml = salePrice;\n                }\n                // Compose data object for templating\n                // Choose description for code view as well\n                const prodDescSource2 = prod.descSource || \"metadata\";\n                let chosenDesc2 = prod.description || \"\";\n                if (prodDescSource2 === \"p\" && prod.descriptionP) {\n                    chosenDesc2 = prod.descriptionP;\n                } else if (prodDescSource2 === \"ul\" && prod.descriptionUl) {\n                    chosenDesc2 = prod.descriptionUl;\n                } else if (prodDescSource2 === \"metadata\") {\n                    const meta2 = prod.metadataDescription || prod.originalMetadataDescription || \"\";\n                    if (meta2) chosenDesc2 = meta2;\n                }\n                if (!chosenDesc2) {\n                    const meta2 = prod.metadataDescription || prod.originalMetadataDescription || \"\";\n                    if (meta2) chosenDesc2 = meta2;\n                }\n                const data = {\n                    ...prod,\n                    title: emailSafe ? (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.sanitizeInlineHtml)(prod.title || \"\") : prod.title,\n                    description: emailSafe ? (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.sanitizeEmailHtml)(chosenDesc2) : chosenDesc2,\n                    ctaLabel: prod.ctaLabel || \"SHOP NOW\",\n                    priceHtml,\n                    ctaBg: brandPrimary,\n                    ctaText: brandTextColor === \"white\" ? \"#FFFFFF\" : \"#000000\"\n                };\n                // Render HTML and apply brand customisations (no per-item wrapper padding)\n                let html = (0,_data_templates__WEBPACK_IMPORTED_MODULE_9__.renderTemplate)(tpl, data);\n                // If the chosen description source is UL, mirror the preview replacement in code view\n                if (prodDescSource2 === \"ul\" && prod.descriptionUl) {\n                    const rawUl = prod.descriptionUl;\n                    const processedUl = emailSafe ? (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.sanitizeEmailHtml)(rawUl) : rawUl;\n                    const ulHtml = (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.normalizeListHtml)(processedUl);\n                    html = html.replace(/<p[^>]*>\\s*\\{\\{\\s*description\\s*\\}\\}\\s*<\\/p>/i, ulHtml);\n                }\n                html = stripModuleWrapper(html);\n                html = applyBrandColoursAndFont(html);\n                combinedHtml += html;\n            });\n            if (combinedHtml) {\n                // Wrap entire section in a single 600px wrapper so padding applies once per section\n                codeSections.push({\n                    key: id,\n                    title: section.name,\n                    code: wrapSectionWithWrapper(combinedHtml, getBodySectionPadding(section.id))\n                });\n            }\n        }\n    });\n    // Footer section\n    if (footerHtml) {\n        codeSections.push({\n            key: \"footer\",\n            title: \"Footer\",\n            code: footerHtml\n        });\n    }\n    // alternateMap is now defined at the top of the file. Duplicate definitions\n    // here have been removed to prevent ReferenceError when used earlier.\n    /**\n   * Load custom templates for body, header and footer from\n   * localStorage. Each collection is stored under its own key. The\n   * try/catch guards against JSON parsing errors and localStorage\n   * access errors (e.g. in serverâside rendering).\n   */ (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (true) {\n            try {\n                // Body templates\n                const storedBody = window.localStorage.getItem(\"customTemplates\");\n                if (storedBody) {\n                    const parsedBody = JSON.parse(storedBody);\n                    if (Array.isArray(parsedBody) && parsedBody.length) {\n                        setBodyTemplates((prev)=>[\n                                ...prev,\n                                ...parsedBody\n                            ]);\n                    }\n                }\n                // Header templates\n                const storedHeader = window.localStorage.getItem(\"customHeaderTemplates\");\n                if (storedHeader) {\n                    const parsedHeader = JSON.parse(storedHeader);\n                    if (Array.isArray(parsedHeader) && parsedHeader.length) {\n                        setHeaderTemplates((prev)=>[\n                                ...prev,\n                                ...parsedHeader\n                            ]);\n                    }\n                }\n                // Footer templates\n                const storedFooter = window.localStorage.getItem(\"customFooterTemplates\");\n                if (storedFooter) {\n                    const parsedFooter = JSON.parse(storedFooter);\n                    if (Array.isArray(parsedFooter) && parsedFooter.length) {\n                        setFooterTemplates((prev)=>{\n                            const all = [\n                                ...prev,\n                                ...parsedFooter\n                            ];\n                            const seen = new Set();\n                            return all.filter((tpl)=>{\n                                if (seen.has(tpl.id)) return false;\n                                seen.add(tpl.id);\n                                return true;\n                            });\n                        });\n                    }\n                }\n                // Banner templates\n                const storedBanner = window.localStorage.getItem(\"customBannerTemplates\");\n                if (storedBanner) {\n                    const parsedBanner = JSON.parse(storedBanner);\n                    if (Array.isArray(parsedBanner) && parsedBanner.length) {\n                        setBannerTemplates((prev)=>[\n                                ...prev,\n                                ...parsedBanner\n                            ]);\n                    }\n                }\n            } catch (err) {\n                console.warn(\"Failed to load custom templates from localStorage\", err);\n            }\n        }\n    }, []);\n    /**\n   * Synchronise the draft HTML when the selected template for each\n   * section changes. This allows the editing textareas to display\n   * the current template. We deliberately keep the drafts separate\n   * so that editing one section doesnât override the others.\n   */ (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const currentBody = bodyTemplates.find((t)=>t.id === selectedBodyId);\n        if (currentBody) {\n            setDraftBodyHtml(currentBody.html);\n        }\n    }, [\n        selectedBodyId,\n        bodyTemplates\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const currentHeader = headerTemplates.find((t)=>t.id === selectedHeaderId);\n        if (currentHeader) {\n            setDraftHeaderHtml(currentHeader.html);\n        }\n    }, [\n        selectedHeaderId,\n        headerTemplates\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const currentBanner = bannerTemplates.find((t)=>t.id === selectedBannerId);\n        if (currentBanner) {\n            setDraftBannerHtml(currentBanner.html);\n        }\n    }, [\n        selectedBannerId,\n        bannerTemplates\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const currentFooter = footerTemplates.find((t)=>t.id === selectedFooterId);\n        if (currentFooter) {\n            setDraftFooterHtml(currentFooter.html);\n        }\n    }, [\n        selectedFooterId,\n        footerTemplates\n    ]);\n    // Synchronise draft hero HTML when the selected hero template changes\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const currentHero = heroTemplates.find((t)=>t.id === selectedHeroId);\n        if (currentHero) {\n            setDraftHeroHtml(currentHero.html);\n        }\n    }, [\n        selectedHeroId,\n        heroTemplates\n    ]);\n    /**\n   * Strip any query parameters from a URL, returning the base URL\n   * before the '?' character.\n   */ // Use module-scope sanitizeUrl and isHttpUrl helpers\n    /**\n   * Update a URL within a body section. Called whenever the user\n   * edits one of the URL inputs. Accepts the section id, the\n   * index of the URL within that section and the new value. State\n   * is updated immutably to ensure React re-renders appropriately.\n   */ const handleUrlChange = (sectionId, index, value)=>{\n        // Update draftUrls (input model)\n        setDraftUrls((prev)=>{\n            var _prev_sectionId;\n            const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n            const next = [\n                ...current\n            ];\n            next[index] = value;\n            return {\n                ...prev,\n                [sectionId]: next\n            };\n        });\n    };\n    // Add a new blank URL input to a section. Optionally focus the newly\n    // created field by passing its index.\n    const addUrlField = (sectionId, focusIndex)=>{\n        setDraftUrls((prev)=>{\n            var _prev_sectionId;\n            const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n            return {\n                ...prev,\n                [sectionId]: [\n                    ...current,\n                    \"\"\n                ]\n            };\n        });\n        if (focusIndex !== undefined) {\n            setTimeout(()=>{\n                const el = document.getElementById(\"url-\".concat(sectionId, \"-\").concat(focusIndex));\n                el === null || el === void 0 ? void 0 : el.focus();\n            }, 0);\n        }\n    };\n    // Remove a URL input from a section at index.\n    const removeUrlField = (sectionId, index)=>{\n        setDraftUrls((prev)=>{\n            var _prev_sectionId;\n            const current = (_prev_sectionId = prev[sectionId]) !== null && _prev_sectionId !== void 0 ? _prev_sectionId : getDraftUrls(sectionId);\n            return {\n                ...prev,\n                [sectionId]: current.filter((_, i)=>i !== index)\n            };\n        });\n    };\n    /**\n   * Toggle edit mode for a given section. When in edit mode a\n   * textarea is displayed allowing the user to modify the raw HTML\n   * template. Saving will update the template collection and exit\n   * edit mode.\n   */ // Legacy toggle handlers removed. Editing modes are now toggled directly via inline callbacks.\n    /**\n   * Save template edits for each section. The modified HTML is\n   * stored back into the appropriate templates array. Edits are\n   * persisted into localStorage if the template is userâcreated (i.e.\n   * not part of the defaults). We do not differentiate here but\n   * simply update the selected template in place.\n   */ const saveBodyEdits = ()=>{\n        setBodyTemplates((prev)=>prev.map((t)=>t.id === selectedBodyId ? {\n                    ...t,\n                    html: draftBodyHtml\n                } : t));\n        setBodyEditMode(false);\n    };\n    const saveHeaderEdits = ()=>{\n        setHeaderTemplates((prev)=>prev.map((t)=>t.id === selectedHeaderId ? {\n                    ...t,\n                    html: draftHeaderHtml\n                } : t));\n        setHeaderEditMode(false);\n    };\n    const saveBannerEdits = ()=>{\n        setBannerTemplates((prev)=>prev.map((t)=>t.id === selectedBannerId ? {\n                    ...t,\n                    html: draftBannerHtml\n                } : t));\n        setBannerEditMode(false);\n    };\n    const saveFooterEdits = ()=>{\n        setFooterTemplates((prev)=>prev.map((t)=>t.id === selectedFooterId ? {\n                    ...t,\n                    html: draftFooterHtml\n                } : t));\n        setFooterEditMode(false);\n    };\n    /**\n   * Add a new custom template to a section. Each template must\n   * provide a unique id. We generate one by slugifying the name\n   * and appending a timestamp. New templates are persisted in\n   * localStorage so they survive page reloads.\n   */ const addNewBodyTemplate = ()=>{\n        const name = newBodyName.trim();\n        const html = newBodyHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setBodyTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom body template\", err);\n        }\n        setNewBodyName(\"\");\n        setNewBodyHtml(\"\");\n    };\n    const addNewHeaderTemplate = ()=>{\n        const name = newHeaderName.trim();\n        const html = newHeaderHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setHeaderTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customHeaderTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customHeaderTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom header template\", err);\n        }\n        setNewHeaderName(\"\");\n        setNewHeaderHtml(\"\");\n    };\n    const addNewBannerTemplate = ()=>{\n        const name = newBannerName.trim();\n        const html = newBannerHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setBannerTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customBannerTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customBannerTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom banner template\", err);\n        }\n        setNewBannerName(\"\");\n        setNewBannerHtml(\"\");\n    };\n    const addNewFooterTemplate = ()=>{\n        const name = newFooterName.trim();\n        const html = newFooterHtml.trim();\n        if (!name || !html) return;\n        const id = \"\".concat(name.toLowerCase().replace(/\\s+/g, \"-\"), \"-\").concat(Date.now());\n        const newTemplate = {\n            id,\n            name,\n            html\n        };\n        setFooterTemplates((prev)=>[\n                ...prev,\n                newTemplate\n            ]);\n        try {\n            if (true) {\n                const stored = window.localStorage.getItem(\"customFooterTemplates\");\n                const list = stored ? JSON.parse(stored) : [];\n                list.push(newTemplate);\n                window.localStorage.setItem(\"customFooterTemplates\", JSON.stringify(list));\n            }\n        } catch (err) {\n            console.warn(\"Failed to save custom footer template\", err);\n        }\n        setNewFooterName(\"\");\n        setNewFooterHtml(\"\");\n    };\n    /**\n   * Generate EDM: sends the list of product URLs to the API route\n   * which fetches and parses the product details. Returns the raw\n   * HTML (unused here) and a list of product objects. We ignore\n   * the returned HTML and build our own using templates. If the\n   * server responds with an error we alert the user.\n   */ /**\n   * Generate a single body section. Sends the section's product URLs to\n   * the API route which fetches and parses the product details. The\n   * parsed products are stored on the section and the loading flag\n   * cleared. If no URLs are provided an alert is shown. After the\n   * first successful generation the hero image is automatically\n   * fetched based on the origin of the first product URL if no hero\n   * image has been set yet.\n   */ const generateSection = async (sectionId, urlsOverride)=>{\n        const section = bodySections.find((s)=>s.id === sectionId);\n        if (!section) return;\n        var _draftUrls_sectionId;\n        // Always use the latest draftUrls for this section\n        const sourceUrls = urlsOverride !== null && urlsOverride !== void 0 ? urlsOverride : (_draftUrls_sectionId = draftUrls[sectionId]) !== null && _draftUrls_sectionId !== void 0 ? _draftUrls_sectionId : section.urls;\n        const filtered = sourceUrls.map((u)=>(u || \"\").trim()).filter((u)=>u);\n        if (filtered.length === 0) {\n            alert(\"Please provide at least one product URL.\");\n            return;\n        }\n        // Validate that all URLs are http(s)\n        const invalid = filtered.filter((u)=>!isHttpUrl(u));\n        if (invalid.length > 0) {\n            alert(\"Invalid URL(s):\\n\".concat(invalid.join(\"\\n\"), \"\\n\\nPlease enter full http(s) links.\"));\n            return;\n        }\n        // Save the latest URLs to the section immediately so preview updates on first click\n        setBodySections((prev)=>prev.map((s)=>s.id === sectionId ? {\n                    ...s,\n                    urls: [\n                        ...filtered\n                    ],\n                    loading: true,\n                    products: []\n                } : s));\n        try {\n            // Start loading bar immediately\n            setLoading(true);\n            setProgress(0);\n            setBuffer(15);\n            const res = await fetch(\"/api/generate\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    urls: filtered,\n                    templateId: section.selectedBodyId\n                })\n            });\n            if (!res.ok) {\n                let details = \"\";\n                try {\n                    details = await res.text();\n                } catch (e) {}\n                throw new Error(\"Request failed with status \".concat(res.status).concat(details ? \": \".concat(details) : \"\"));\n            }\n            // Response received\n            setProgress(20);\n            setBuffer(40);\n            const data = await res.json();\n            // Parsed JSON\n            setProgress(30);\n            setBuffer(50);\n            // Map returned products by url for lookup\n            const productMap = new Map();\n            data.products.forEach((p)=>{\n                const hasInfo = Object.keys(p || {}).some((key)=>key !== \"url\" && p[key]);\n                if (!hasInfo) {\n                    const badUrl = p.url || \"Unknown URL\";\n                    addNotification(\"Error on fetching data from the url \".concat(badUrl));\n                    return;\n                }\n                // Prefer mapping by original requested URL to avoid collisions when parser normalizes URLs\n                const key = p._sourceUrl || p.url;\n                // Build base product\n                let primaryImage = p.image || \"\";\n                const allImages = Array.isArray(p.images) ? p.images.filter((x)=>!!x) : undefined;\n                if (!primaryImage && allImages && allImages.length) {\n                    primaryImage = allImages[0]; // auto-select first image if none chosen\n                }\n                var _p_metadataDescription, _ref, _p_originalMetadataDescription, _ref1, _ref2;\n                productMap.set(key, {\n                    url: p.url,\n                    pretitle: p.pretitle || \"\",\n                    title: p.title || \"\",\n                    price: p.price || \"\",\n                    originalPrice: p.originalPrice || undefined,\n                    description: p.description || \"\",\n                    metadataDescription: (_ref = (_p_metadataDescription = p.metadataDescription) !== null && _p_metadataDescription !== void 0 ? _p_metadataDescription : p.description) !== null && _ref !== void 0 ? _ref : \"\",\n                    originalMetadataDescription: (_ref2 = (_ref1 = (_p_originalMetadataDescription = p.originalMetadataDescription) !== null && _p_originalMetadataDescription !== void 0 ? _p_originalMetadataDescription : p.metadataDescription) !== null && _ref1 !== void 0 ? _ref1 : p.description) !== null && _ref2 !== void 0 ? _ref2 : \"\",\n                    descriptionP: p.descriptionP || \"\",\n                    descriptionUl: p.descriptionUl || \"\",\n                    image: primaryImage,\n                    images: allImages,\n                    cta: p.cta || p.url,\n                    ctaLabel: p.ctaLabel || \"SHOP NOW\"\n                });\n            });\n            // Build product list in input order, but do not drop user-entered URLs.\n            // Keep all filtered URLs in the UI, and only render products for URLs that parsed successfully.\n            const processed = filtered.map((urlRaw)=>{\n                const url = sanitizeUrl(urlRaw);\n                return productMap.get(url) || productMap.get(urlRaw);\n            }).filter((p)=>Boolean(p));\n            const missingUrls = filtered.filter((urlRaw)=>{\n                const url = sanitizeUrl(urlRaw);\n                return !productMap.has(url) && !productMap.has(urlRaw);\n            });\n            // Update section with processed products and clear loading flag\n            // Force re-render by cloning each product object (in case references reused)\n            setBodySections((prev)=>prev.map((s)=>{\n                    if (s.id !== sectionId) return s;\n                    return {\n                        ...s,\n                        products: processed.map((p)=>({\n                                ...p\n                            })),\n                        loading: false\n                    };\n                }));\n            // Surface any missing URLs as notifications (non-blocking)\n            if (missingUrls.length) {\n                missingUrls.forEach((m)=>addNotification(\"No data returned for URL: \".concat(m)));\n            }\n            // Hide after a short delay to avoid flicker, then reset\n            setTimeout(()=>{\n                setLoading(false);\n                setProgress(-1);\n                setBuffer(-1);\n            }, 200);\n        } catch (error) {\n            console.error(\"Generation failed\", error);\n            console.log(\"Failed to generate products: \".concat(error.message));\n            setBodySections((prev)=>prev.map((s)=>s.id === sectionId ? {\n                        ...s,\n                        loading: false\n                    } : s));\n            // Ensure the loading bar hides on error\n            setLoading(false);\n            setProgress(-1);\n            setBuffer(-1);\n        }\n    };\n    // Automatically generate the first body section when it is created (after user submits product URL)\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!autoGenTriedRef.current && bodySections.length === 1 && bodySections[0].products.length === 0 && bodySections[0].urls[0] && !bodySections[0].loading) {\n            // Mark as tried before calling to avoid re-entry if the call fails\n            autoGenTriedRef.current = true;\n            generateSection(bodySections[0].id);\n        }\n    }, [\n        bodySections\n    ]);\n    // Helper to fully reset state for a new EDM (exposed to confirm dialog)\n    const resetAllState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useCallback)(()=>{\n        setBodySections([]);\n        setDraftUrls({});\n        setSectionOrder([\n            \"hero\",\n            \"banner\"\n        ]);\n        setOpenSection(\"\");\n        setShowHeaderSection(true);\n        setShowHeroSection(true);\n        setShowBannerSection(true);\n        setShowFooterSection(true);\n        setBodySectionPaddings(new Map());\n        setHeaderHtml(\"\");\n        setBodyHtml(\"\");\n        setFooterHtml(\"\");\n        setFinalHtml(\"\");\n        setBrandName(\"\");\n        setBrandFont(\"\");\n        setBrandPrimary(\"#d19aa0\");\n        setBrandSecondary(\"#F0C3C7\");\n        setBrandWebsite(\"\");\n        setBrandUrlInput(\"\");\n        setBrandAnnouncement(\"\");\n        setBrandTextColor(\"black\");\n        setBrandLogo(null);\n        setBrandLogoDataUrl(\"\");\n        setInitialSummary(undefined);\n        // Banner reset\n        setSelectedBannerId(_data_bannerTemplates__WEBPACK_IMPORTED_MODULE_14__.defaultBannerTemplates[0].id);\n        setBannerImage(\"\");\n        setBannerAlt(\"\");\n        setBannerHref(\"\");\n        setBannerHtml(\"\");\n        setBannerEditMode(false);\n        setNewBannerName(\"\");\n        setNewBannerHtml(\"\");\n        setShowNewBanner(false);\n        setBannerPadding({\n            top: 0,\n            right: 0,\n            bottom: 0,\n            left: 0\n        });\n        // Hero reset\n        setSelectedHeroId(_data_heroTemplates__WEBPACK_IMPORTED_MODULE_13__.defaultHeroTemplates[0].id);\n        setHeroImage(\"\");\n        setHeroAlt(\"Brand\");\n        setHeroHref(\"\");\n        setHeroHtml(\"\");\n        setHeroEditMode(false);\n        setDraftHeroHtml(\"\");\n        setNewHeroName(\"\");\n        setNewHeroHtml(\"\");\n        setShowNewHero(false);\n        setHeroImages([]);\n        // Editing states\n        setBodyEditMode(false);\n        setHeaderEditMode(false);\n        setFooterEditMode(false);\n        setShowNewBody(false);\n        setShowNewHeader(false);\n        setShowNewFooter(false);\n        setDraftBodyHtml(\"\");\n        setDraftHeaderHtml(\"\");\n        setDraftFooterHtml(\"\");\n        setNewBodyName(\"\");\n        setNewBodyHtml(\"\");\n        setNewHeaderName(\"\");\n        setNewHeaderHtml(\"\");\n        setNewFooterName(\"\");\n        setNewFooterHtml(\"\");\n        setShowAddSectionMenu(false);\n        setEmailSafe(true);\n        setSummaryTab(0);\n        setSelectedProductCtx(null);\n        autoGenTriedRef.current = false;\n        setShowBrandUrlDialog(true);\n        setViewMode(\"preview\");\n        addNotification(\"Started a new EDM\");\n    }, [\n        addNotification\n    ]);\n    // Removed unconditional generate on mount to prevent duplicate calls and loops\n    /**\n   * Generate all sections in the EDM. Iterates through each body section\n   * sequentially and triggers its generation. This is invoked by the\n   * universal \"Generate EDM\" button and updates the preview and\n   * code for every module.\n   */ const generateAllSections = async ()=>{\n        // Delegate progress updates to each section's generation to avoid conflicting values\n        for (const section of bodySections){\n            await generateSection(section.id);\n        }\n    };\n    /**\n   * Update a product field in response to edits made in the preview.\n   * This ensures twoâway binding between the editable preview and\n   * the underlying data model. Updating the state triggers the\n   * effect below which recomputes the HTML.\n   */ /**\n   * Update a field within a product inside a specific body section. Edits\n   * made in the preview update the underlying product array which\n   * triggers a reârender of the composed HTML.\n   */ const updateProductInSection = (sectionId, index, field, value)=>{\n        // Sanitize inline HTML for title updates to prevent unwanted <p> tags\n        let nextValue = value;\n        try {\n            const { sanitizeInlineHtml } = __webpack_require__(/*! ../lib/sanitize */ \"./lib/sanitize.ts\");\n            if (field === \"title\" && typeof sanitizeInlineHtml === \"function\") {\n                nextValue = sanitizeInlineHtml(value);\n            }\n        } catch (e) {}\n        setBodySections((prev)=>prev.map((section)=>{\n                if (section.id !== sectionId) return section;\n                const newProducts = [\n                    ...section.products\n                ];\n                const prod = {\n                    ...newProducts[index]\n                };\n                if (field === \"descSource\") {\n                    const v = value;\n                    prod.descSource = v;\n                    // Update displayed description field based on chosen source but only for this product\n                    if (v === \"metadata\") prod.description = prod.metadataDescription || prod.originalMetadataDescription || \"\";\n                    if (v === \"p\") prod.description = prod.descriptionP || \"\";\n                    if (v === \"ul\") prod.description = prod.descriptionUl || \"\";\n                } else {\n                    prod[field] = nextValue;\n                    // Keep base description in sync when editing the active variant\n                    if (field === \"descriptionP\" && (prod.descSource || \"metadata\") === \"p\") {\n                        prod.description = nextValue;\n                    }\n                    if (field === \"descriptionUl\" && (prod.descSource || \"metadata\") === \"ul\") {\n                        prod.description = nextValue;\n                    }\n                    if ((field === \"metadataDescription\" || field === \"description\") && (prod.descSource || \"metadata\") === \"metadata\") {\n                        prod.description = nextValue;\n                    }\n                }\n                newProducts[index] = prod;\n                return {\n                    ...section,\n                    products: newProducts\n                };\n            }));\n        // Ensure the right panel is bound to this product when editing in preview (collection mode)\n        if (detectedPageType === \"collection\") {\n            setSelectedProductCtx({\n                sectionId,\n                index\n            });\n        }\n        // If we're not on a collection page, also reflect key fields into analyzeData.product\n        // so the right side RichTextField (which reads from analyzeData) stays in sync.\n        if (detectedPageType !== \"collection\") {\n            if (field === \"title\") {\n                setAnalyzeData((d)=>d ? {\n                        ...d,\n                        product: {\n                            ...d.product,\n                            title: nextValue\n                        }\n                    } : d);\n            } else if (field === \"price\") {\n                setAnalyzeData((d)=>d ? {\n                        ...d,\n                        product: {\n                            ...d.product,\n                            price: nextValue\n                        }\n                    } : d);\n            } else if (field === \"ctaLabel\") {\n                setAnalyzeData((d)=>d ? {\n                        ...d,\n                        product: {\n                            ...d.product,\n                            ctaLabel: nextValue\n                        }\n                    } : d);\n            } else if (field === \"description\" || field === \"metadataDescription\" || field === \"descriptionP\" || field === \"descriptionUl\") {\n                // Mirror description updates to all variants for live sync\n                setAnalyzeData((d)=>{\n                    if (!d) return d;\n                    const prod = {\n                        ...d.product\n                    };\n                    const v = nextValue;\n                    prod.description = v;\n                    prod.metadataDescription = v;\n                    prod.descriptionP = v;\n                    prod.descriptionUl = v;\n                    return {\n                        ...d,\n                        product: prod\n                    };\n                });\n            } else if (field === \"descSource\") {\n                setAnalyzeData((d)=>{\n                    if (!d) return d;\n                    const prod = {\n                        ...d.product,\n                        descSource: value\n                    };\n                    if (prod.descSource === \"metadata\") prod.description = prod.metadataDescription || prod.originalMetadataDescription || \"\";\n                    if (prod.descSource === \"p\") prod.description = prod.descriptionP || \"\";\n                    if (prod.descSource === \"ul\") prod.description = prod.descriptionUl || \"\";\n                    return {\n                        ...d,\n                        product: prod\n                    };\n                });\n            }\n        // Additional fields can be mirrored here if needed in the future\n        }\n        // Trigger update pulse animation (throttling could be added later if needed)\n        setRecentlyUpdated({\n            sectionId,\n            index,\n            field: field,\n            ts: Date.now()\n        });\n    };\n    // Normalization effect: migrate any legacy descChoice field to descSource once\n    react__WEBPACK_IMPORTED_MODULE_2___default().useEffect(()=>{\n        setBodySections((prev)=>prev.map((section)=>{\n                let changed = false;\n                const products = section.products.map((p)=>{\n                    if (p.descChoice && !p.descSource) {\n                        const np = {\n                            ...p,\n                            descSource: p.descChoice\n                        };\n                        delete np.descChoice; // optional cleanup\n                        changed = true;\n                        return np;\n                    }\n                    return p;\n                });\n                return changed ? {\n                    ...section,\n                    products\n                } : section;\n            }));\n        setAnalyzeData((d)=>{\n            if (!d) return d;\n            const prod = d.product;\n            if (prod && prod.descChoice && !prod.descSource) {\n                const np = {\n                    ...prod,\n                    descSource: prod.descChoice\n                };\n                delete np.descChoice;\n                return {\n                    ...d,\n                    product: np\n                };\n            }\n            return d;\n        });\n    }, []);\n    /**\n   * Compute the HTML for header, body and footer whenever the data\n   * or selected templates change. Colours are limited to three and\n   * a +n indicator is added if additional colours are available.\n   */ //\n    // The body, header and footer HTML is now computed in a single\n    // useEffect defined earlier (see OptionÂ A implementation). The\n    // following legacy effect has been removed to prevent duplicate\n    // updates and inconsistent output.\n    /**\n   * Copy a given string to the clipboard. Feedback could be added\n   * later (e.g. toast notifications) but is omitted for brevity.\n   */ const copyToClipboard = (text)=>{\n        if (typeof navigator !== \"undefined\" && navigator.clipboard) {\n            navigator.clipboard.writeText(text).then(()=>{\n                addNotification(\"Code copied!\");\n            }).catch((err)=>{\n                console.warn(\"Failed to copy to clipboard\", err);\n            });\n        }\n    };\n    // Download a given string as a file with the provided filename\n    const downloadAsFile = function(filename, content) {\n        let type = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : \"text/html;charset=utf-8\";\n        try {\n            const blob = new Blob([\n                content\n            ], {\n                type\n            });\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\"a\");\n            a.href = url;\n            a.download = filename;\n            document.body.appendChild(a);\n            a.click();\n            document.body.removeChild(a);\n            URL.revokeObjectURL(url);\n        } catch (err) {\n            console.warn(\"Failed to download file\", err);\n        }\n    };\n    /**\n   * Helper to highlight HTML for code display. Prism returns an\n   * HTML string containing <span> elements with classes for each\n   * token. We set the language to markup since our templates are\n   * HTML.\n   */ const highlight = (code)=>{\n        const Prism = prismRef.current;\n        // If Prism has not loaded yet, return the raw code. This avoids\n        // runtime errors during initial render or serverâside rendering.\n        if (!Prism) return code;\n        return Prism.highlight(code, Prism.languages.markup, \"markup\");\n    };\n    const availableSectionTypes = [\n        ...!showHeaderSection ? [\n            {\n                key: \"header\",\n                label: \"Header\"\n            }\n        ] : [],\n        ...!showHeroSection ? [\n            {\n                key: \"hero\",\n                label: \"Hero\"\n            }\n        ] : [],\n        {\n            key: \"body\",\n            label: \"Body\"\n        },\n        ...!showBannerSection ? [\n            {\n                key: \"banner\",\n                label: \"Banner\"\n            }\n        ] : [],\n        ...!showFooterSection ? [\n            {\n                key: \"footer\",\n                label: \"Footer\"\n            }\n        ] : []\n    ];\n    // Top heading moved into AppBar via AppLayout\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!brandWebsite) {\n            var _landingInputRef_current;\n            (_landingInputRef_current = landingInputRef.current) === null || _landingInputRef_current === void 0 ? void 0 : _landingInputRef_current.focus();\n        }\n    }, [\n        brandWebsite\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        if (!brandWebsite) {\n            setPlatformVisible(false);\n            return;\n        }\n        const frame = requestAnimationFrame(()=>setPlatformVisible(true));\n        return ()=>cancelAnimationFrame(frame);\n    }, [\n        brandWebsite\n    ]);\n    if (!brandWebsite) {\n        // Show a simple dialog to prompt for a product URL\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n            className: \"landing-shell\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"form\", {\n                onSubmit: handleBrandUrlSubmit,\n                className: \"landing-form\",\n                \"aria-label\": \"Get started\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                        className: \"landing-copy\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"h1\", {\n                                className: \"landing-title\",\n                                children: \"EDMs Made Effortless.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 3662,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"p\", {\n                                className: \"landing-subtitle\",\n                                children: \"Paste a Shopify product or catalogue URL. We do the rest.\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 3663,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 3661,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                        spacing: 3,\n                        className: \"landing-input-stack\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                inputRef: landingInputRef,\n                                value: brandUrlInput,\n                                onChange: (e)=>setBrandUrlInput(e.target.value),\n                                placeholder: \"https://yourstore.com/products/example\",\n                                variant: \"standard\",\n                                className: \"landing-textfield\",\n                                fullWidth: true,\n                                required: true,\n                                autoComplete: \"url\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 3666,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                type: \"submit\",\n                                className: \"landing-ctal\",\n                                size: \"large\",\n                                sx: {\n                                    alignSelf: \"center\"\n                                },\n                                children: \"Generate Now\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 3677,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 3665,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 3660,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n            lineNumber: 3659,\n            columnNumber: 7\n        }, this);\n    }\n    var _headerPadding_top, _headerPadding_bottom, _footerPadding_top, _footerPadding_bottom;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_4___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"title\", {\n                        children: \"EDM Expresso\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 3690,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Build modular EDMs from product pages\"\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 3691,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 3689,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                className: \"platform-shell\".concat(platformVisible ? \" platform-shell--visible\" : \"\"),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_AppLayout__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        title: \"EDM Espresso\",\n                        left: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                            className: \"accordion-list\".concat(openSection ? \" has-open\" : \"\"),\n                            style: {\n                                height: \"100%\",\n                                display: \"flex\",\n                                flexDirection: \"column\",\n                                position: \"relative\",\n                                rowGap: \"5px\"\n                            },\n                            children: [\n                                debouncedLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                    style: {\n                                        display: \"flex\",\n                                        flexDirection: \"column\",\n                                        gap: 8\n                                    },\n                                    children: [\n                                        [\n                                            0,\n                                            1,\n                                            2,\n                                            3\n                                        ].map((i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    border: \"1px solid var(--mui-palette-divider, #e0e0e0)\",\n                                                    borderRadius: 5,\n                                                    padding: \"10px 12px\",\n                                                    background: \"var(--mui-palette-background-paper, #fff)\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                        variant: \"text\",\n                                                        animation: skelAnim,\n                                                        width: i % 2 === 0 ? \"60%\" : \"40%\",\n                                                        height: 20\n                                                    }, void 0, false, void 0, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                        variant: \"text\",\n                                                        animation: skelAnim,\n                                                        width: \"80%\",\n                                                        height: 14\n                                                    }, void 0, false, void 0, void 0)\n                                                ]\n                                            }, i, true, void 0, void 0)),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                            style: {\n                                                marginTop: 12\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                variant: \"rounded\",\n                                                animation: skelAnim,\n                                                width: \"60%\",\n                                                height: 36\n                                            }, void 0, false, void 0, void 0)\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                !debouncedLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                    children: [\n                                        showHeaderSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_SectionAccordion__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            id: \"left-header\",\n                                            title: \"Header\",\n                                            expanded: openSection === \"header\",\n                                            onToggle: ()=>handleAccordionToggle(\"header\"),\n                                            actions: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(MoreActions, {\n                                                items: [\n                                                    {\n                                                        label: \"Move up\",\n                                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowUpward__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {\n                                                            fontSize: \"small\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        disabled: true\n                                                    },\n                                                    {\n                                                        label: \"Move down\",\n                                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowDownward__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                                            fontSize: \"small\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        disabled: true\n                                                    },\n                                                    {\n                                                        label: \"Clone\",\n                                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                                                            fontSize: \"small\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        disabled: true\n                                                    },\n                                                    {\n                                                        label: \"Delete\",\n                                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                            fontSize: \"small\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        onClick: ()=>removeHeaderSection()\n                                                    }\n                                                ]\n                                            }, void 0, false, void 0, void 0),\n                                            detailsSx: {\n                                                pt: 1.25\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        flexWrap: \"wrap\",\n                                                        borderRadius: \"6px\",\n                                                        overflow: \"hidden\"\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        sx: {\n                                                            border: \"1px solid\",\n                                                            borderColor: \"divider\",\n                                                            borderRadius: 1,\n                                                            width: \"100%\"\n                                                        },\n                                                        children: (()=>{\n                                                            const activeTpl = headerTemplates.find((tpl)=>tpl.id === selectedHeaderId);\n                                                            if (!activeTpl) return null;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    flexDirection: \"column\",\n                                                                    alignItems: \"center\"\n                                                                },\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_HtmlThumbnail__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                                    html: activeTpl.html,\n                                                                    width: 600,\n                                                                    forceAutoHeight: true\n                                                                }, void 0, false, void 0, void 0)\n                                                            }, activeTpl.id, false, void 0, void 0);\n                                                        })()\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                    className: \"template-row\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        alignItems: \"center\",\n                                                        marginTop: \"1.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                            select: true,\n                                                            fullWidth: true,\n                                                            label: \"Template\",\n                                                            id: \"header-template-select\",\n                                                            InputLabelProps: {\n                                                                id: \"header-template-label\"\n                                                            },\n                                                            SelectProps: {\n                                                                labelId: \"header-template-label\",\n                                                                id: \"header-template-select\"\n                                                            },\n                                                            name: \"header-template\",\n                                                            value: selectedHeaderId,\n                                                            onChange: (e)=>setSelectedHeaderId(e.target.value),\n                                                            variant: \"standard\",\n                                                            sx: {\n                                                                \"& .MuiInput-underline:before\": {\n                                                                    borderBottomColor: \"grey.400\"\n                                                                },\n                                                                \"& .MuiInput-underline:after\": {\n                                                                    borderBottomColor: \"var(--color-primary)\"\n                                                                }\n                                                            },\n                                                            children: headerTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                                    value: tpl.id,\n                                                                    children: tpl.name\n                                                                }, tpl.id, false, void 0, void 0))\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                            onClick: ()=>setHeaderEditMode((v)=>!v),\n                                                            title: headerEditMode ? \"Close editor\" : \"Edit template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                            onClick: ()=>setShowNewHeader((v)=>!v),\n                                                            title: showNewHeader ? \"Cancel new template\" : \"Add new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                headerEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                            id: \"header-draft-html\",\n                                                            label: \"Template HTML\",\n                                                            value: draftHeaderHtml,\n                                                            onChange: (e)=>setDraftHeaderHtml(e.target.value),\n                                                            rows: 8,\n                                                            fullWidth: true,\n                                                            multiline: true,\n                                                            variant: \"standard\",\n                                                            sx: {\n                                                                fontFamily: \"monospace\",\n                                                                \"& .MuiInput-underline:before\": {\n                                                                    borderBottomColor: \"grey.400\"\n                                                                },\n                                                                \"& .MuiInput-underline:after\": {\n                                                                    borderBottomColor: \"var(--color-primary)\"\n                                                                }\n                                                            }\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                            className: \"new-template-actions\",\n                                                            style: {\n                                                                display: \"flex\",\n                                                                gap: \"var(--gap-2)\",\n                                                                marginTop: \"0.5rem\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                    onClick: ()=>setHeaderEditMode(false),\n                                                                    title: \"Cancel edit\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                                        fontSize: \"medium\"\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                    onClick: ()=>{\n                                                                        saveHeaderEdits();\n                                                                        setHeaderEditMode(false);\n                                                                    },\n                                                                    title: \"Save edits\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                                                        fontSize: \"medium\"\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0)\n                                                            ]\n                                                        }, void 0, true, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                showNewHeader && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-form\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                            id: \"header-new-name\",\n                                                            label: \"Template name\",\n                                                            type: \"text\",\n                                                            value: newHeaderName,\n                                                            onChange: (e)=>setNewHeaderName(e.target.value),\n                                                            fullWidth: true,\n                                                            variant: \"standard\",\n                                                            sx: {\n                                                                mb: 1,\n                                                                \"& .MuiInput-underline:before\": {\n                                                                    borderBottomColor: \"grey.400\"\n                                                                },\n                                                                \"& .MuiInput-underline:after\": {\n                                                                    borderBottomColor: \"var(--color-primary)\"\n                                                                }\n                                                            }\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                            id: \"header-new-html\",\n                                                            label: \"Template HTML\",\n                                                            value: newHeaderHtml,\n                                                            onChange: (e)=>setNewHeaderHtml(e.target.value),\n                                                            rows: 6,\n                                                            fullWidth: true,\n                                                            multiline: true,\n                                                            variant: \"standard\",\n                                                            sx: {\n                                                                fontFamily: \"monospace\",\n                                                                \"& .MuiInput-underline:before\": {\n                                                                    borderBottomColor: \"grey.400\"\n                                                                },\n                                                                \"& .MuiInput-underline:after\": {\n                                                                    borderBottomColor: \"var(--color-primary)\"\n                                                                }\n                                                            }\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                            className: \"new-template-actions\",\n                                                            style: {\n                                                                display: \"flex\",\n                                                                gap: \"var(--gap-2)\",\n                                                                marginTop: \"0.5rem\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                    onClick: ()=>{\n                                                                        setShowNewHeader(false);\n                                                                        setNewHeaderName(\"\");\n                                                                        setNewHeaderHtml(\"\");\n                                                                    },\n                                                                    title: \"Cancel new template\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                                        fontSize: \"medium\"\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                    onClick: ()=>{\n                                                                        addNewHeaderTemplate();\n                                                                        setShowNewHeader(false);\n                                                                    },\n                                                                    title: \"Save new template\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                                                        fontSize: \"medium\"\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0)\n                                                            ]\n                                                        }, void 0, true, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                    variant: \"text\",\n                                                    size: \"small\",\n                                                    onClick: ()=>handleAdvancedToggle(\"header\"),\n                                                    endIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                                                        sx: {\n                                                            transform: isAdvancedOpen(\"header\") ? \"rotate(180deg)\" : \"rotate(0deg)\",\n                                                            transition: \"transform 0.2s ease\"\n                                                        }\n                                                    }, void 0, false, void 0, void 0),\n                                                    sx: {\n                                                        alignSelf: \"flex-start\",\n                                                        mt: 2,\n                                                        color: \"text.secondary\",\n                                                        backgroundColor: \"transparent\",\n                                                        \"&:hover\": {\n                                                            backgroundColor: \"action.hover\"\n                                                        }\n                                                    },\n                                                    children: \"Advanced settings\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                                                    in: isAdvancedOpen(\"header\"),\n                                                    timeout: \"auto\",\n                                                    unmountOnExit: true,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        sx: {\n                                                            mt: 2\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Divider__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                                                sx: {\n                                                                    mb: 2\n                                                                }\n                                                            }, void 0, false, void 0, void 0),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_PaddingControls__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                                label: \"Section padding (px)\",\n                                                                value: headerPadding,\n                                                                onChange: setHeaderPadding,\n                                                                persistKey: \"header:padding\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        ]\n                                                    }, void 0, true, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.DndContext, {\n                                            sensors: sensors,\n                                            collisionDetection: _dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.closestCenter,\n                                            modifiers: [\n                                                _dnd_kit_modifiers__WEBPACK_IMPORTED_MODULE_25__.restrictToVerticalAxis\n                                            ],\n                                            onDragEnd: handleSectionDragEnd,\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.SortableContext, {\n                                                items: sectionOrder,\n                                                strategy: _dnd_kit_sortable__WEBPACK_IMPORTED_MODULE_24__.verticalListSortingStrategy,\n                                                children: sectionOrder.map((id)=>{\n                                                    if (id === \"hero\" && showHeroSection) {\n                                                        const isOpen = openSection === \"hero\";\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(MemoizedSortableHeroSection, {\n                                                            isOpen: isOpen\n                                                        }, \"hero\", false, void 0, void 0);\n                                                    }\n                                                    if (id === \"banner\" && showBannerSection) {\n                                                        const isOpen = openSection === \"banner\";\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(MemoizedSortableBannerSection, {\n                                                            isOpen: isOpen\n                                                        }, \"banner\", false, void 0, void 0);\n                                                    }\n                                                    if (id.startsWith(\"body-\")) {\n                                                        const section = bodySections.find((s)=>\"body-\".concat(s.id) === id);\n                                                        if (!section) return null;\n                                                        const isOpen = openSection === id;\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(MemoizedSortableBodySection, {\n                                                            section: section,\n                                                            isOpen: isOpen\n                                                        }, \"body-\".concat(section.id), false, void 0, void 0);\n                                                    }\n                                                    return null;\n                                                })\n                                            }, void 0, false, void 0, void 0)\n                                        }, void 0, false, void 0, void 0),\n                                        showFooterSection && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_SectionAccordion__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                            id: \"left-footer\",\n                                            title: \"Footer\",\n                                            expanded: openSection === \"footer\",\n                                            onToggle: ()=>handleAccordionToggle(\"footer\"),\n                                            actions: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(MoreActions, {\n                                                items: [\n                                                    {\n                                                        label: \"Move up\",\n                                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowUpward__WEBPACK_IMPORTED_MODULE_42__[\"default\"], {\n                                                            fontSize: \"small\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        disabled: true\n                                                    },\n                                                    {\n                                                        label: \"Move down\",\n                                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ArrowDownward__WEBPACK_IMPORTED_MODULE_43__[\"default\"], {\n                                                            fontSize: \"small\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        disabled: true\n                                                    },\n                                                    {\n                                                        label: \"Clone\",\n                                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {\n                                                            fontSize: \"small\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        disabled: true\n                                                    },\n                                                    {\n                                                        label: \"Delete\",\n                                                        icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Delete__WEBPACK_IMPORTED_MODULE_45__[\"default\"], {\n                                                            fontSize: \"small\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        onClick: ()=>removeFooterSection()\n                                                    }\n                                                ]\n                                            }, void 0, false, void 0, void 0),\n                                            detailsSx: {\n                                                pt: 1.25\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                    style: {\n                                                        display: \"flex\",\n                                                        flexWrap: \"wrap\",\n                                                        borderRadius: \"6px\",\n                                                        overflow: \"hidden\"\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        sx: {\n                                                            border: \"1px solid\",\n                                                            borderColor: \"divider\",\n                                                            borderRadius: 1,\n                                                            width: \"100%\"\n                                                        },\n                                                        children: (()=>{\n                                                            const activeTpl = footerTemplates.find((tpl)=>tpl.id === selectedFooterId);\n                                                            if (!activeTpl) return null;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                style: {\n                                                                    display: \"flex\",\n                                                                    flexDirection: \"column\",\n                                                                    alignItems: \"center\"\n                                                                },\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_HtmlThumbnail__WEBPACK_IMPORTED_MODULE_27__[\"default\"], {\n                                                                    html: activeTpl.html,\n                                                                    width: 600,\n                                                                    forceAutoHeight: true\n                                                                }, void 0, false, void 0, void 0)\n                                                            }, activeTpl.id, false, void 0, void 0);\n                                                        })()\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                    className: \"template-row\",\n                                                    style: {\n                                                        display: \"flex\",\n                                                        gap: \"var(--gap-2)\",\n                                                        alignItems: \"center\",\n                                                        marginTop: \"1.5rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                            select: true,\n                                                            fullWidth: true,\n                                                            label: \"Template\",\n                                                            id: \"footer-template-select\",\n                                                            InputLabelProps: {\n                                                                id: \"footer-template-label\"\n                                                            },\n                                                            SelectProps: {\n                                                                labelId: \"footer-template-label\",\n                                                                id: \"footer-template-select\"\n                                                            },\n                                                            name: \"footer-template\",\n                                                            value: selectedFooterId,\n                                                            onChange: (e)=>setSelectedFooterId(e.target.value),\n                                                            variant: \"standard\",\n                                                            sx: {\n                                                                \"& .MuiInput-underline:before\": {\n                                                                    borderBottomColor: \"grey.400\"\n                                                                },\n                                                                \"& .MuiInput-underline:after\": {\n                                                                    borderBottomColor: \"var(--color-primary)\"\n                                                                }\n                                                            },\n                                                            children: footerTemplates.map((tpl)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                                    value: tpl.id,\n                                                                    children: tpl.name\n                                                                }, tpl.id, false, void 0, void 0))\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                            onClick: ()=>setFooterEditMode((v)=>!v),\n                                                            title: footerEditMode ? \"Close editor\" : \"Edit template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                            onClick: ()=>setShowNewFooter((v)=>!v),\n                                                            title: showNewFooter ? \"Cancel new template\" : \"Add new template\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                                                fontSize: \"medium\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                footerEditMode && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                            id: \"footer-draft-html\",\n                                                            label: \"Template HTML\",\n                                                            value: draftFooterHtml,\n                                                            onChange: (e)=>setDraftFooterHtml(e.target.value),\n                                                            rows: 8,\n                                                            fullWidth: true,\n                                                            multiline: true,\n                                                            variant: \"standard\",\n                                                            sx: {\n                                                                fontFamily: \"monospace\",\n                                                                \"& .MuiInput-underline:before\": {\n                                                                    borderBottomColor: \"grey.400\"\n                                                                },\n                                                                \"& .MuiInput-underline:after\": {\n                                                                    borderBottomColor: \"var(--color-primary)\"\n                                                                }\n                                                            }\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                            className: \"new-template-actions\",\n                                                            style: {\n                                                                display: \"flex\",\n                                                                gap: \"var(--gap-2)\",\n                                                                marginTop: \"0.5rem\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                    onClick: ()=>setFooterEditMode(false),\n                                                                    title: \"Cancel edit\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                                        fontSize: \"medium\"\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                    onClick: ()=>{\n                                                                        saveFooterEdits();\n                                                                        setFooterEditMode(false);\n                                                                    },\n                                                                    title: \"Save edits\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                                                        fontSize: \"medium\"\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0)\n                                                            ]\n                                                        }, void 0, true, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                showNewFooter && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                    className: \"new-template-form\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                            id: \"footer-new-name\",\n                                                            label: \"Template name\",\n                                                            type: \"text\",\n                                                            value: newFooterName,\n                                                            onChange: (e)=>setNewFooterName(e.target.value),\n                                                            fullWidth: true,\n                                                            variant: \"standard\",\n                                                            sx: {\n                                                                mb: 1,\n                                                                \"& .MuiInput-underline:before\": {\n                                                                    borderBottomColor: \"grey.400\"\n                                                                },\n                                                                \"& .MuiInput-underline:after\": {\n                                                                    borderBottomColor: \"var(--color-primary)\"\n                                                                }\n                                                            }\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                            id: \"footer-new-html\",\n                                                            label: \"Template HTML\",\n                                                            value: newFooterHtml,\n                                                            onChange: (e)=>setNewFooterHtml(e.target.value),\n                                                            rows: 6,\n                                                            fullWidth: true,\n                                                            multiline: true,\n                                                            variant: \"standard\",\n                                                            sx: {\n                                                                fontFamily: \"monospace\",\n                                                                \"& .MuiInput-underline:before\": {\n                                                                    borderBottomColor: \"grey.400\"\n                                                                },\n                                                                \"& .MuiInput-underline:after\": {\n                                                                    borderBottomColor: \"var(--color-primary)\"\n                                                                }\n                                                            }\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                            className: \"new-template-actions\",\n                                                            style: {\n                                                                display: \"flex\",\n                                                                gap: \"var(--gap-2)\",\n                                                                marginTop: \"0.5rem\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                    onClick: ()=>{\n                                                                        setShowNewFooter(false);\n                                                                        setNewFooterName(\"\");\n                                                                        setNewFooterHtml(\"\");\n                                                                    },\n                                                                    title: \"Cancel new template\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                                                        fontSize: \"medium\"\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                    onClick: ()=>{\n                                                                        addNewFooterTemplate();\n                                                                        setShowNewFooter(false);\n                                                                    },\n                                                                    title: \"Save new template\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Save__WEBPACK_IMPORTED_MODULE_48__[\"default\"], {\n                                                                        fontSize: \"medium\"\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0)\n                                                            ]\n                                                        }, void 0, true, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                    variant: \"text\",\n                                                    size: \"small\",\n                                                    onClick: ()=>handleAdvancedToggle(\"footer\"),\n                                                    endIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                                                        sx: {\n                                                            transform: isAdvancedOpen(\"footer\") ? \"rotate(180deg)\" : \"rotate(0deg)\",\n                                                            transition: \"transform 0.2s ease\"\n                                                        }\n                                                    }, void 0, false, void 0, void 0),\n                                                    sx: {\n                                                        alignSelf: \"flex-start\",\n                                                        mt: 2,\n                                                        color: \"text.secondary\",\n                                                        backgroundColor: \"transparent\",\n                                                        \"&:hover\": {\n                                                            backgroundColor: \"action.hover\"\n                                                        }\n                                                    },\n                                                    children: \"Advanced settings\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Collapse__WEBPACK_IMPORTED_MODULE_51__[\"default\"], {\n                                                    in: isAdvancedOpen(\"footer\"),\n                                                    timeout: \"auto\",\n                                                    unmountOnExit: true,\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        sx: {\n                                                            mt: 2\n                                                        },\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Divider__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                                                sx: {\n                                                                    mb: 2\n                                                                }\n                                                            }, void 0, false, void 0, void 0),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_PaddingControls__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                                                label: \"Section padding (px)\",\n                                                                value: footerPadding,\n                                                                onChange: setFooterPadding,\n                                                                persistKey: \"footer:padding\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        ]\n                                                    }, void 0, true, void 0, void 0)\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                            style: {\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                justifyContent: \"flex-start\",\n                                                gap: \"var(--gap-2)\",\n                                                marginTop: \"1rem\"\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                    onClick: generateAllSections,\n                                                    children: \"Generate EDM\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                    ref: addSectionRef,\n                                                    style: {\n                                                        position: \"relative\",\n                                                        marginLeft: \"1rem\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                            onClick: ()=>setShowAddSectionMenu((v)=>!v),\n                                                            title: \"Add section\",\n                                                            children: [\n                                                                \"Add Section \",\n                                                                showAddSectionMenu ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_57__[\"default\"], {\n                                                                    sx: {\n                                                                        ml: 0.5\n                                                                    }\n                                                                }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {\n                                                                    sx: {\n                                                                        ml: 0.5\n                                                                    }\n                                                                }, void 0, false, void 0, void 0)\n                                                            ]\n                                                        }, void 0, true, void 0, void 0),\n                                                        showAddSectionMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Paper__WEBPACK_IMPORTED_MODULE_58__[\"default\"], {\n                                                            elevation: 3,\n                                                            sx: {\n                                                                position: \"absolute\",\n                                                                top: \"100%\",\n                                                                left: 0,\n                                                                mt: 0.5,\n                                                                zIndex: 10,\n                                                                minWidth: \"12rem\",\n                                                                maxHeight: \"12rem\",\n                                                                overflowY: \"auto\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                                                children: availableSectionTypes.map((opt)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                                        onClick: ()=>addSectionByType(opt.key),\n                                                                        sx: {\n                                                                            justifyContent: \"flex-start\",\n                                                                            px: 2\n                                                                        },\n                                                                        children: opt.label\n                                                                    }, opt.key, false, void 0, void 0))\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true) : null\n                            ]\n                        }, void 0, true, void 0, void 0),\n                        rightOpen: showBrandPanel,\n                        onRightClose: ()=>setShowBrandPanel(false),\n                        onRightToggle: ()=>setShowBrandPanel((v)=>!v),\n                        progress: progress,\n                        buffer: buffer,\n                        loading: loading,\n                        right: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                            className: \"summary-container\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                    sx: {\n                                        p: 0\n                                    },\n                                    children: debouncedLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                variant: \"text\",\n                                                animation: skelAnim,\n                                                width: \"70%\",\n                                                height: 32\n                                            }, void 0, false, void 0, void 0),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                variant: \"text\",\n                                                animation: skelAnim,\n                                                width: \"50%\",\n                                                height: 20\n                                            }, void 0, false, void 0, void 0)\n                                        ]\n                                    }, void 0, true) : (()=>{\n                                        const info = detectPageInfo(brandUrlInput, analyzeData);\n                                        var _initialSummary_title;\n                                        const title = (_initialSummary_title = initialSummary === null || initialSummary === void 0 ? void 0 : initialSummary.title) !== null && _initialSummary_title !== void 0 ? _initialSummary_title : info.title;\n                                        var _initialSummary_subline;\n                                        const subline = (_initialSummary_subline = initialSummary === null || initialSummary === void 0 ? void 0 : initialSummary.subline) !== null && _initialSummary_subline !== void 0 ? _initialSummary_subline : info.subline;\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    variant: \"h6\",\n                                                    component: \"h2\",\n                                                    children: title\n                                                }, void 0, false, void 0, void 0),\n                                                subline && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    variant: \"body2\",\n                                                    sx: {\n                                                        color: \"text.secondary\",\n                                                        mt: 0.5\n                                                    },\n                                                    children: subline\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true);\n                                    })()\n                                }, void 0, false, void 0, void 0),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Divider__WEBPACK_IMPORTED_MODULE_52__[\"default\"], {\n                                    sx: {\n                                        my: 2\n                                    }\n                                }, void 0, false, void 0, void 0),\n                                debouncedLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                    sx: {\n                                        display: \"flex\",\n                                        gap: 2,\n                                        mb: 2\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: 80,\n                                            height: 36\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: 80,\n                                            height: 36\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: 80,\n                                            height: 36\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: 80,\n                                            height: 36\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Tabs__WEBPACK_IMPORTED_MODULE_59__[\"default\"], {\n                                    value: summaryTab,\n                                    onChange: (_, v)=>setSummaryTab(v),\n                                    \"aria-label\": \"summary tabs\",\n                                    sx: {\n                                        mb: 2\n                                    },\n                                    children: [\n                                        detectedPageType === \"collection\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Tab__WEBPACK_IMPORTED_MODULE_60__[\"default\"], {\n                                            label: \"Collection\",\n                                            sx: {\n                                                minWidth: 80,\n                                                padding: \"12px 12px\"\n                                            }\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Tab__WEBPACK_IMPORTED_MODULE_60__[\"default\"], {\n                                            label: \"Product\",\n                                            sx: {\n                                                minWidth: 80,\n                                                padding: \"12px 12px\"\n                                            }\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Tab__WEBPACK_IMPORTED_MODULE_60__[\"default\"], {\n                                            label: \"Assets\",\n                                            sx: {\n                                                minWidth: 80,\n                                                padding: \"12px 12px\"\n                                            }\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Tab__WEBPACK_IMPORTED_MODULE_60__[\"default\"], {\n                                            label: \"Brand\",\n                                            sx: {\n                                                minWidth: 80,\n                                                padding: \"12px 12px\"\n                                            }\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                loading && detectedPageType === \"collection\" && summaryTab === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                    spacing: 1,\n                                    sx: {\n                                        mb: 2\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"text\",\n                                            animation: skelAnim,\n                                            width: \"40%\",\n                                            height: 24\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: \"100%\",\n                                            height: 38\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: \"100%\",\n                                            height: 220\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                !debouncedLoading && detectedPageType === \"collection\" && summaryTab === 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                    sx: {\n                                        mb: 2\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                            variant: \"subtitle2\",\n                                            sx: {\n                                                color: \"text.secondary\",\n                                                mb: 1\n                                            },\n                                            children: \"Collection products\"\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                            sx: {\n                                                display: \"flex\",\n                                                gap: 1,\n                                                mb: 1\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                    id: \"collection-search\",\n                                                    name: \"collection-search\",\n                                                    placeholder: \"Search products...\",\n                                                    value: collectionQuery,\n                                                    onChange: (e)=>setCollectionQuery(e.target.value),\n                                                    size: \"small\",\n                                                    fullWidth: true\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                    variant: \"outlined\",\n                                                    size: \"small\",\n                                                    onClick: ()=>{\n                                                        // Clear selection and in-flight work\n                                                        setCollectionSelection([]);\n                                                        if (collectionDebounceRef.current) clearTimeout(collectionDebounceRef.current);\n                                                        if (selectionAbortRef.current) {\n                                                            try {\n                                                                selectionAbortRef.current.abort();\n                                                            } catch (e) {}\n                                                        }\n                                                        setCollectionEnriching(false);\n                                                        // Empty the Collection section if present\n                                                        setBodySections((prev)=>{\n                                                            const next = [\n                                                                ...prev\n                                                            ];\n                                                            const section = next.find((s)=>s.name === \"Collection\");\n                                                            if (section) {\n                                                                section.urls = [];\n                                                                section.products = [];\n                                                            }\n                                                            return next;\n                                                        });\n                                                    },\n                                                    children: \"Clear\"\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                            style: {\n                                                width: \"100%\",\n                                                height: \"100%\"\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_x_data_grid__WEBPACK_IMPORTED_MODULE_61__.DataGrid, {\n                                                rowHeight: 64,\n                                                sx: {\n                                                    \"& .MuiDataGrid-cell:focus,& .MuiDataGrid-cell:focus-within\": {\n                                                        outline: \"none\"\n                                                    },\n                                                    \"& .MuiDataGrid-row.Mui-selected, & .MuiDataGrid-row.Mui-selected:hover\": {\n                                                        outline: \"none\"\n                                                    },\n                                                    \"& .MuiDataGrid-cell.Mui-selected\": {\n                                                        outline: \"none\"\n                                                    },\n                                                    \"& .MuiDataGrid-row:focus, & .MuiDataGrid-row:focus-within\": {\n                                                        outline: \"none\"\n                                                    }\n                                                },\n                                                rows: collectionItems.filter((r)=>!collectionQuery || r.title.toLowerCase().includes(collectionQuery.toLowerCase())),\n                                                columns: [\n                                                    {\n                                                        field: \"image\",\n                                                        headerName: \"Image\",\n                                                        width: 88,\n                                                        sortable: false,\n                                                        renderCell: (params)=>params.value ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                                sx: {\n                                                                    p: 0.5\n                                                                },\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                                    component: \"img\",\n                                                                    src: params.value,\n                                                                    alt: \"thumb\",\n                                                                    sx: {\n                                                                        width: 56,\n                                                                        height: 56,\n                                                                        objectFit: \"cover\",\n                                                                        borderRadius: 1,\n                                                                        display: \"block\"\n                                                                    }\n                                                                }, void 0, false, void 0, void 0)\n                                                            }, void 0, false, void 0, void 0) : null\n                                                    },\n                                                    {\n                                                        field: \"title\",\n                                                        headerName: \"Title\",\n                                                        flex: 1,\n                                                        minWidth: 160\n                                                    },\n                                                    {\n                                                        field: \"price\",\n                                                        headerName: \"Price\",\n                                                        renderCell: (params)=>{\n                                                            var _params_value;\n                                                            const raw = (_params_value = params.value) !== null && _params_value !== void 0 ? _params_value : \"\";\n                                                            const formatted = formatCollectionPrice(raw);\n                                                            const display = formatted || raw || \"\";\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                                                style: {\n                                                                    whiteSpace: \"nowrap\"\n                                                                },\n                                                                children: display\n                                                            }, void 0, false, void 0, void 0);\n                                                        }\n                                                    },\n                                                    {\n                                                        field: \"url\",\n                                                        headerName: \"URL\",\n                                                        flex: 1,\n                                                        minWidth: 200\n                                                    }\n                                                ],\n                                                checkboxSelection: true,\n                                                slotProps: {\n                                                    baseCheckbox: {\n                                                        color: \"primary\",\n                                                        size: \"small\"\n                                                    }\n                                                },\n                                                disableRowSelectionOnClick: true,\n                                                loading: collectionLoading,\n                                                onRowSelectionModelChange: (model)=>{\n                                                    const sel = model.map(String);\n                                                    const prevSel = lastCollectionSelectionRef.current;\n                                                    // Identify newly added ids (first pick scenario => all are new, use last for stability)\n                                                    const newlyAdded = sel.filter((id)=>!prevSel.includes(id));\n                                                    const removed = prevSel.filter((id)=>!sel.includes(id));\n                                                    setCollectionSelection(sel);\n                                                    lastCollectionSelectionRef.current = sel;\n                                                    // Debounce enrichment to avoid bursts on rapid selection changes\n                                                    if (collectionDebounceRef.current) clearTimeout(collectionDebounceRef.current);\n                                                    collectionDebounceRef.current = setTimeout(async ()=>{\n                                                        // Increment version and cancel any in-flight fetches\n                                                        const version = ++selectionVersionRef.current;\n                                                        if (selectionAbortRef.current) {\n                                                            try {\n                                                                selectionAbortRef.current.abort();\n                                                            } catch (e) {}\n                                                        }\n                                                        const ac = new AbortController();\n                                                        selectionAbortRef.current = ac;\n                                                        const selected = collectionItems.filter((r)=>sel.includes(r.id));\n                                                        setCollectionEnriching(true);\n                                                        try {\n                                                            // Build promises for selected items, using cache where available\n                                                            const promises = selected.map(async (row)=>{\n                                                                const cached = productCacheRef.current.get(row.url);\n                                                                if (cached) return {\n                                                                    ok: true,\n                                                                    url: row.url,\n                                                                    data: cached\n                                                                };\n                                                                const resp = await fetch(\"/api/product?url=\".concat(encodeURIComponent(row.url)), {\n                                                                    signal: ac.signal\n                                                                });\n                                                                if (!resp.ok) throw new Error(\"product fetch failed: \".concat(resp.status));\n                                                                const pd = await resp.json();\n                                                                const data = pd;\n                                                                // Ensure metadataDescription is present; if missing but description exists, copy it\n                                                                if (!(\"metadataDescription\" in data) || typeof data.metadataDescription === \"undefined\") {\n                                                                    data.metadataDescription = data.description || \"\";\n                                                                }\n                                                                productCacheRef.current.set(row.url, data);\n                                                                return {\n                                                                    ok: true,\n                                                                    url: row.url,\n                                                                    data\n                                                                };\n                                                            });\n                                                            const results = await Promise.allSettled(promises);\n                                                            // If a newer selection started, drop results\n                                                            if (version !== selectionVersionRef.current) return;\n                                                            const prods = [];\n                                                            const urls = [];\n                                                            results.forEach((res, i)=>{\n                                                                if (res.status === \"fulfilled\" && res.value.ok) {\n                                                                    prods.push(res.value.data);\n                                                                    urls.push(selected[i].url);\n                                                                } else {\n                                                                    var _selected_i;\n                                                                    console.warn(\"Selection product fetch failed for\", (_selected_i = selected[i]) === null || _selected_i === void 0 ? void 0 : _selected_i.url, res);\n                                                                }\n                                                            });\n                                                            let newCollectionSectionId = null;\n                                                            setBodySections((prev)=>{\n                                                                const next = [\n                                                                    ...prev\n                                                                ];\n                                                                let section = next.find((s)=>s.name === \"Collection\");\n                                                                if (!section) {\n                                                                    var _next_;\n                                                                    if (prods.length === 0) return next; // nothing to display yet\n                                                                    const id = (((_next_ = next[next.length - 1]) === null || _next_ === void 0 ? void 0 : _next_.id) || 0) + 1;\n                                                                    section = {\n                                                                        id,\n                                                                        name: \"Collection\",\n                                                                        urls,\n                                                                        products: prods,\n                                                                        selectedBodyId: \"product-image-left-copy-right\",\n                                                                        loading: false,\n                                                                        alternate: true\n                                                                    };\n                                                                    next.push(section);\n                                                                    newCollectionSectionId = id;\n                                                                } else {\n                                                                    section.urls = urls;\n                                                                    section.products = prods;\n                                                                    newCollectionSectionId = section.id;\n                                                                }\n                                                                return next;\n                                                            });\n                                                            // Immediately compute selection using newCollectionSectionId and prods\n                                                            if (prods.length === 0) {\n                                                                if (selectedProductCtx) setSelectedProductCtx(null);\n                                                            } else if (newCollectionSectionId != null) {\n                                                                let nextIndex = prods.length - 1; // default to last\n                                                                if (newlyAdded.length > 0) {\n                                                                    // Choose the last newly added id; map to its URL -> index\n                                                                    const targetId = newlyAdded[newlyAdded.length - 1];\n                                                                    const targetRow = selected.find((r)=>r.id === targetId);\n                                                                    if (targetRow) {\n                                                                        const idx = urls.indexOf(targetRow.url);\n                                                                        if (idx >= 0) nextIndex = idx;\n                                                                    }\n                                                                    // Mark this product for scroll/highlight (stay on Collection tab until user clicks a product)\n                                                                    setRecentlyAdded({\n                                                                        sectionId: newCollectionSectionId,\n                                                                        index: nextIndex,\n                                                                        ts: Date.now()\n                                                                    });\n                                                                } else if (removed.length > 0 && selectedProductCtx && selectedProductCtx.sectionId === newCollectionSectionId) {\n                                                                    // If items were removed, ensure selection still valid; if not, move to last\n                                                                    if (selectedProductCtx.index >= prods.length) {\n                                                                        nextIndex = prods.length - 1;\n                                                                        setRecentlyAdded({\n                                                                            sectionId: newCollectionSectionId,\n                                                                            index: nextIndex,\n                                                                            ts: Date.now()\n                                                                        });\n                                                                    } else {\n                                                                        nextIndex = selectedProductCtx.index;\n                                                                    }\n                                                                } else if (selectedProductCtx && selectedProductCtx.sectionId === newCollectionSectionId) {\n                                                                    // Preserve previous selection if still valid when no addition\n                                                                    const prevIdx = selectedProductCtx.index;\n                                                                    if (prevIdx >= 0 && prevIdx < prods.length) {\n                                                                        nextIndex = prevIdx;\n                                                                    }\n                                                                }\n                                                                const changed = !selectedProductCtx || selectedProductCtx.sectionId !== newCollectionSectionId || selectedProductCtx.index !== nextIndex;\n                                                                setSelectedProductCtx({\n                                                                    sectionId: newCollectionSectionId,\n                                                                    index: nextIndex\n                                                                });\n                                                                if (changed) addNotification(\"Product details updated\");\n                                                                setOpenSection(\"body-\".concat(newCollectionSectionId));\n                                                            }\n                                                        } catch (e) {\n                                                            if ((e === null || e === void 0 ? void 0 : e.name) === \"AbortError\") {\n                                                                // Swallow abort, a newer selection is in-flight\n                                                                return;\n                                                            }\n                                                            console.error(e);\n                                                            addNotification(\"Failed to fetch one or more selected products.\");\n                                                        } finally{\n                                                            if (version === selectionVersionRef.current) setCollectionEnriching(false);\n                                                        }\n                                                    }, 200);\n                                                },\n                                                rowSelectionModel: collectionSelection\n                                            }, void 0, false, void 0, void 0)\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                loading && summaryTab === (detectedPageType === \"collection\" ? 1 : 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                    spacing: 1,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"text\",\n                                            animation: skelAnim,\n                                            width: \"55%\",\n                                            height: 30\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: \"100%\",\n                                            height: 50\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: \"100%\",\n                                            height: 50\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: \"100%\",\n                                            height: 160\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"rounded\",\n                                            animation: skelAnim,\n                                            width: \"100%\",\n                                            height: 50\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                            variant: \"text\",\n                                            animation: skelAnim,\n                                            width: \"35%\",\n                                            height: 24\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                !debouncedLoading && summaryTab === (detectedPageType === \"collection\" ? 1 : 0) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                    spacing: 2,\n                                    children: (detectedPageType === \"collection\" ? !!selectedProductCtx : !!(analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.product)) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                sx: {\n                                                    mb: 2\n                                                },\n                                                id: detectedPageType === \"collection\" && selectedProductCtx ? \"product-title-\".concat(selectedProductCtx.sectionId, \"-\").concat(selectedProductCtx.index) : \"product-title\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_RichTextField__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                    label: \"Title\",\n                                                    className: \"customField\",\n                                                    value: detectedPageType === \"collection\" ? selectedProductCtx ? ((_bodySections_find = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find === void 0 ? void 0 : (_bodySections_find_products = _bodySections_find.products) === null || _bodySections_find_products === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index = _bodySections_find_products[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index.title) || \"\" : \"\" : (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product = analyzeData.product) === null || _analyzeData_product === void 0 ? void 0 : _analyzeData_product.title) || \"\",\n                                                    onChange: (html)=>{\n                                                        // Sanitize inline to avoid injecting block tags (e.g., <p>) into the title\n                                                        const cleaned = (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.sanitizeInlineHtml)(html);\n                                                        if (detectedPageType === \"collection\") {\n                                                            if (!selectedProductCtx) return;\n                                                            setBodySections((prev)=>{\n                                                                const next = [\n                                                                    ...prev\n                                                                ];\n                                                                const si = next.findIndex((s)=>s.id === selectedProductCtx.sectionId);\n                                                                if (si === -1) return prev;\n                                                                const arr = [\n                                                                    ...next[si].products\n                                                                ];\n                                                                arr[selectedProductCtx.index] = {\n                                                                    ...arr[selectedProductCtx.index],\n                                                                    title: cleaned\n                                                                };\n                                                                next[si] = {\n                                                                    ...next[si],\n                                                                    products: arr\n                                                                };\n                                                                return next;\n                                                            });\n                                                            setRecentlyUpdated({\n                                                                sectionId: selectedProductCtx.sectionId,\n                                                                index: selectedProductCtx.index,\n                                                                field: \"title\",\n                                                                ts: Date.now()\n                                                            });\n                                                        } else {\n                                                            setAnalyzeData((d)=>d ? {\n                                                                    ...d,\n                                                                    product: {\n                                                                        ...d.product,\n                                                                        title: cleaned\n                                                                    }\n                                                                } : d);\n                                                            setBodySections((prev)=>{\n                                                                var _prev__products;\n                                                                if (!prev.length || !((_prev__products = prev[0].products) === null || _prev__products === void 0 ? void 0 : _prev__products.length)) return prev;\n                                                                const next = [\n                                                                    ...prev\n                                                                ];\n                                                                const prod = {\n                                                                    ...next[0].products[0],\n                                                                    title: cleaned\n                                                                };\n                                                                next[0] = {\n                                                                    ...next[0],\n                                                                    products: [\n                                                                        prod,\n                                                                        ...next[0].products.slice(1)\n                                                                    ]\n                                                                };\n                                                                return next;\n                                                            });\n                                                        }\n                                                    },\n                                                    placeholder: \"Product title\",\n                                                    minHeight: 40\n                                                }, void 0, false, void 0, void 0)\n                                            }, void 0, false, void 0, void 0),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                id: detectedPageType === \"collection\" && selectedProductCtx ? \"product-price-\".concat(selectedProductCtx.sectionId, \"-\").concat(selectedProductCtx.index) : \"product-price\",\n                                                name: \"price\",\n                                                label: \"Price\",\n                                                value: detectedPageType === \"collection\" ? selectedProductCtx ? ((_bodySections_find1 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find1 === void 0 ? void 0 : (_bodySections_find_products1 = _bodySections_find1.products) === null || _bodySections_find_products1 === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index1 = _bodySections_find_products1[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index1 === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index1.price) || \"\" : \"\" : (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product1 = analyzeData.product) === null || _analyzeData_product1 === void 0 ? void 0 : _analyzeData_product1.price) || \"\",\n                                                onChange: (e)=>{\n                                                    const val = e.target.value;\n                                                    if (detectedPageType === \"collection\") {\n                                                        if (!selectedProductCtx) return;\n                                                        setBodySections((prev)=>{\n                                                            const next = [\n                                                                ...prev\n                                                            ];\n                                                            const si = next.findIndex((s)=>s.id === selectedProductCtx.sectionId);\n                                                            if (si === -1) return prev;\n                                                            const arr = [\n                                                                ...next[si].products\n                                                            ];\n                                                            arr[selectedProductCtx.index] = {\n                                                                ...arr[selectedProductCtx.index],\n                                                                price: val\n                                                            };\n                                                            next[si] = {\n                                                                ...next[si],\n                                                                products: arr\n                                                            };\n                                                            return next;\n                                                        });\n                                                        setRecentlyUpdated({\n                                                            sectionId: selectedProductCtx.sectionId,\n                                                            index: selectedProductCtx.index,\n                                                            field: \"price\",\n                                                            ts: Date.now()\n                                                        });\n                                                    } else {\n                                                        setAnalyzeData((d)=>d ? {\n                                                                ...d,\n                                                                product: {\n                                                                    ...d.product,\n                                                                    price: val\n                                                                }\n                                                            } : d);\n                                                        setBodySections((prev)=>{\n                                                            var _prev__products;\n                                                            if (!prev.length || !((_prev__products = prev[0].products) === null || _prev__products === void 0 ? void 0 : _prev__products.length)) return prev;\n                                                            const next = [\n                                                                ...prev\n                                                            ];\n                                                            const prod = {\n                                                                ...next[0].products[0],\n                                                                price: val\n                                                            };\n                                                            next[0] = {\n                                                                ...next[0],\n                                                                products: [\n                                                                    prod,\n                                                                    ...next[0].products.slice(1)\n                                                                ]\n                                                            };\n                                                            return next;\n                                                        });\n                                                    }\n                                                },\n                                                fullWidth: true,\n                                                variant: \"standard\",\n                                                sx: {\n                                                    mb: 2,\n                                                    \"& .MuiInput-underline:before\": {\n                                                        borderBottomColor: \"grey.400\"\n                                                    },\n                                                    \"& .MuiInput-underline:after\": {\n                                                        borderBottomColor: \"var(--color-primary)\"\n                                                    }\n                                                }\n                                            }, void 0, false, void 0, void 0),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                sx: {\n                                                    mb: 2\n                                                },\n                                                id: detectedPageType === \"collection\" && selectedProductCtx ? \"product-ctaLabel-\".concat(selectedProductCtx.sectionId, \"-\").concat(selectedProductCtx.index) : \"product-ctaLabel\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_RichTextField__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                    label: \"CTA Label\",\n                                                    className: \"customField\",\n                                                    value: detectedPageType === \"collection\" ? selectedProductCtx ? ((_bodySections_find2 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find2 === void 0 ? void 0 : (_bodySections_find_products2 = _bodySections_find2.products) === null || _bodySections_find_products2 === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index2 = _bodySections_find_products2[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index2 === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index2.ctaLabel) || \"SHOP NOW\" : \"SHOP NOW\" : (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product2 = analyzeData.product) === null || _analyzeData_product2 === void 0 ? void 0 : _analyzeData_product2.ctaLabel) || \"SHOP NOW\",\n                                                    onChange: (html)=>{\n                                                        const cleaned = (0,_lib_sanitize__WEBPACK_IMPORTED_MODULE_21__.sanitizeInlineHtml)(html || \"SHOP NOW\");\n                                                        if (detectedPageType === \"collection\") {\n                                                            if (!selectedProductCtx) return;\n                                                            setBodySections((prev)=>{\n                                                                const next = [\n                                                                    ...prev\n                                                                ];\n                                                                const si = next.findIndex((s)=>s.id === selectedProductCtx.sectionId);\n                                                                if (si === -1) return prev;\n                                                                const arr = [\n                                                                    ...next[si].products\n                                                                ];\n                                                                arr[selectedProductCtx.index] = {\n                                                                    ...arr[selectedProductCtx.index],\n                                                                    ctaLabel: cleaned\n                                                                };\n                                                                next[si] = {\n                                                                    ...next[si],\n                                                                    products: arr\n                                                                };\n                                                                return next;\n                                                            });\n                                                            setRecentlyUpdated({\n                                                                sectionId: selectedProductCtx.sectionId,\n                                                                index: selectedProductCtx.index,\n                                                                field: \"ctaLabel\",\n                                                                ts: Date.now()\n                                                            });\n                                                        } else {\n                                                            setAnalyzeData((d)=>d ? {\n                                                                    ...d,\n                                                                    product: {\n                                                                        ...d.product,\n                                                                        ctaLabel: cleaned\n                                                                    }\n                                                                } : d);\n                                                            setBodySections((prev)=>{\n                                                                var _prev__products;\n                                                                if (!prev.length || !((_prev__products = prev[0].products) === null || _prev__products === void 0 ? void 0 : _prev__products.length)) return prev;\n                                                                const next = [\n                                                                    ...prev\n                                                                ];\n                                                                const prod = {\n                                                                    ...next[0].products[0],\n                                                                    ctaLabel: cleaned\n                                                                };\n                                                                next[0] = {\n                                                                    ...next[0],\n                                                                    products: [\n                                                                        prod,\n                                                                        ...next[0].products.slice(1)\n                                                                    ]\n                                                                };\n                                                                return next;\n                                                            });\n                                                        }\n                                                    },\n                                                    placeholder: \"SHOP NOW\",\n                                                    minHeight: 40\n                                                }, void 0, false, void 0, void 0)\n                                            }, void 0, false, void 0, void 0),\n                                            (()=>{\n                                                var _bodySections_find_products, _bodySections_find;\n                                                const p = detectedPageType === \"collection\" ? selectedProductCtx ? (_bodySections_find = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find === void 0 ? void 0 : (_bodySections_find_products = _bodySections_find.products) === null || _bodySections_find_products === void 0 ? void 0 : _bodySections_find_products[selectedProductCtx.index] : undefined : analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.product;\n                                                // Mirror preview logic: choose description based on per-product descSource\n                                                let html = (p === null || p === void 0 ? void 0 : p.description) || \"\";\n                                                const dsRight = (p === null || p === void 0 ? void 0 : p.descSource) || \"metadata\";\n                                                if (dsRight === \"p\" && (p === null || p === void 0 ? void 0 : p.descriptionP)) html = p.descriptionP;\n                                                else if (dsRight === \"ul\" && (p === null || p === void 0 ? void 0 : p.descriptionUl)) html = p.descriptionUl;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                    sx: {\n                                                        mb: 0\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_RichTextField__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                        label: \"Description\",\n                                                        className: \"customField\",\n                                                        value: html,\n                                                        onChange: (newHtml)=>{\n                                                            if (detectedPageType === \"collection\") {\n                                                                if (!selectedProductCtx) return;\n                                                                // Mirror to all description variants for symmetry with preview\n                                                                updateProductInSection(selectedProductCtx.sectionId, selectedProductCtx.index, \"description\", newHtml);\n                                                                updateProductInSection(selectedProductCtx.sectionId, selectedProductCtx.index, \"metadataDescription\", newHtml);\n                                                                updateProductInSection(selectedProductCtx.sectionId, selectedProductCtx.index, \"descriptionP\", newHtml);\n                                                                updateProductInSection(selectedProductCtx.sectionId, selectedProductCtx.index, \"descriptionUl\", newHtml);\n                                                                setRecentlyUpdated({\n                                                                    sectionId: selectedProductCtx.sectionId,\n                                                                    index: selectedProductCtx.index,\n                                                                    field: \"description\",\n                                                                    ts: Date.now()\n                                                                });\n                                                            } else {\n                                                                // Single product context (non-collection page)\n                                                                setAnalyzeData((d)=>{\n                                                                    if (!d) return d;\n                                                                    const prod = {\n                                                                        ...d.product\n                                                                    };\n                                                                    prod.description = newHtml;\n                                                                    prod.metadataDescription = newHtml;\n                                                                    prod.descriptionP = newHtml;\n                                                                    prod.descriptionUl = newHtml;\n                                                                    return {\n                                                                        ...d,\n                                                                        product: prod\n                                                                    };\n                                                                });\n                                                                setBodySections((prev)=>{\n                                                                    var _prev__products;\n                                                                    if (!prev.length || !((_prev__products = prev[0].products) === null || _prev__products === void 0 ? void 0 : _prev__products.length)) return prev;\n                                                                    const next = [\n                                                                        ...prev\n                                                                    ];\n                                                                    const prod = {\n                                                                        ...next[0].products[0],\n                                                                        description: newHtml,\n                                                                        metadataDescription: newHtml,\n                                                                        descriptionP: newHtml,\n                                                                        descriptionUl: newHtml\n                                                                    };\n                                                                    next[0] = {\n                                                                        ...next[0],\n                                                                        products: [\n                                                                            prod,\n                                                                            ...next[0].products.slice(1)\n                                                                        ]\n                                                                    };\n                                                                    return next;\n                                                                });\n                                                            }\n                                                        },\n                                                        placeholder: \"Product description\",\n                                                        minHeight: 80\n                                                    }, void 0, false, void 0, void 0)\n                                                }, void 0, false, void 0, void 0);\n                                            })(),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                select: true,\n                                                fullWidth: true,\n                                                label: \"Description Source\",\n                                                id: \"desc-source-select\",\n                                                InputLabelProps: {\n                                                    id: \"desc-source-label\"\n                                                },\n                                                SelectProps: {\n                                                    labelId: \"desc-source-label\",\n                                                    id: \"desc-source-select\"\n                                                },\n                                                name: \"description-source\",\n                                                value: detectedPageType === \"collection\" ? selectedProductCtx ? ((_this = (_bodySections_find3 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find3 === void 0 ? void 0 : (_bodySections_find_products3 = _bodySections_find3.products) === null || _bodySections_find_products3 === void 0 ? void 0 : _bodySections_find_products3[selectedProductCtx.index]) === null || _this === void 0 ? void 0 : _this.descSource) || \"metadata\" : \"metadata\" : ((_this1 = analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.product) === null || _this1 === void 0 ? void 0 : _this1.descSource) || \"metadata\",\n                                                onChange: (e)=>{\n                                                    const v = e.target.value;\n                                                    if (detectedPageType === \"collection\") {\n                                                        if (!selectedProductCtx) return;\n                                                        updateProductInSection(selectedProductCtx.sectionId, selectedProductCtx.index, \"descSource\", v);\n                                                        // Persist descSource for right panel value rendering\n                                                        setBodySections((prev)=>prev.map((s)=>{\n                                                                if (s.id !== selectedProductCtx.sectionId) return s;\n                                                                const arr = [\n                                                                    ...s.products\n                                                                ];\n                                                                const prod = {\n                                                                    ...arr[selectedProductCtx.index]\n                                                                };\n                                                                prod.descSource = v;\n                                                                arr[selectedProductCtx.index] = prod;\n                                                                return {\n                                                                    ...s,\n                                                                    products: arr\n                                                                };\n                                                            }));\n                                                        setRecentlyUpdated({\n                                                            sectionId: selectedProductCtx.sectionId,\n                                                            index: selectedProductCtx.index,\n                                                            field: \"descSource\",\n                                                            ts: Date.now()\n                                                        });\n                                                    } else {\n                                                        var _bodySections_;\n                                                        // Non-collection: update analyzeData for the right panel value\n                                                        setAnalyzeData((d)=>d ? {\n                                                                ...d,\n                                                                product: {\n                                                                    ...d.product,\n                                                                    descSource: v,\n                                                                    description: v === \"metadata\" ? d.product.metadataDescription || d.product.originalMetadataDescription || \"\" : v === \"p\" ? d.product.descriptionP || \"\" : d.product.descriptionUl || \"\"\n                                                                }\n                                                            } : d);\n                                                        // Also mirror into the first body section product so the main preview updates\n                                                        setBodySections((prev)=>{\n                                                            var _prev__products;\n                                                            if (!prev.length || !((_prev__products = prev[0].products) === null || _prev__products === void 0 ? void 0 : _prev__products.length)) return prev;\n                                                            const next = [\n                                                                ...prev\n                                                            ];\n                                                            const prod = {\n                                                                ...next[0].products[0]\n                                                            };\n                                                            prod.descSource = v;\n                                                            if (v === \"metadata\") prod.description = prod.metadataDescription || prod.originalMetadataDescription || \"\";\n                                                            if (v === \"p\") prod.description = prod.descriptionP || \"\";\n                                                            if (v === \"ul\") prod.description = prod.descriptionUl || \"\";\n                                                            next[0] = {\n                                                                ...next[0],\n                                                                products: [\n                                                                    prod,\n                                                                    ...next[0].products.slice(1)\n                                                                ]\n                                                            };\n                                                            return next;\n                                                        });\n                                                        var _bodySections__id;\n                                                        // Nudge the composer so the code accordion recomputes immediately\n                                                        setRecentlyUpdated({\n                                                            sectionId: (_bodySections__id = (_bodySections_ = bodySections[0]) === null || _bodySections_ === void 0 ? void 0 : _bodySections_.id) !== null && _bodySections__id !== void 0 ? _bodySections__id : 0,\n                                                            index: 0,\n                                                            field: \"descSource\",\n                                                            ts: Date.now()\n                                                        });\n                                                    }\n                                                },\n                                                variant: \"standard\",\n                                                sx: {\n                                                    mb: 2,\n                                                    \"& .MuiInput-underline:before\": {\n                                                        borderBottomColor: \"grey.400\"\n                                                    },\n                                                    \"& .MuiInput-underline:after\": {\n                                                        borderBottomColor: \"var(--color-primary)\"\n                                                    }\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                        value: \"metadata\",\n                                                        children: \"Page metadata\"\n                                                    }, void 0, false, void 0, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                        value: \"p\",\n                                                        disabled: detectedPageType === \"collection\" ? !(selectedProductCtx && !!((_this2 = (_bodySections_find4 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find4 === void 0 ? void 0 : (_bodySections_find_products4 = _bodySections_find4.products) === null || _bodySections_find_products4 === void 0 ? void 0 : _bodySections_find_products4[selectedProductCtx.index]) === null || _this2 === void 0 ? void 0 : _this2.descriptionP)) : !((_this3 = analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.product) === null || _this3 === void 0 ? void 0 : _this3.descriptionP),\n                                                        children: \"First paragraph\"\n                                                    }, void 0, false, void 0, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                        value: \"ul\",\n                                                        disabled: detectedPageType === \"collection\" ? !(selectedProductCtx && !!((_this4 = (_bodySections_find5 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find5 === void 0 ? void 0 : (_bodySections_find_products5 = _bodySections_find5.products) === null || _bodySections_find_products5 === void 0 ? void 0 : _bodySections_find_products5[selectedProductCtx.index]) === null || _this4 === void 0 ? void 0 : _this4.descriptionUl)) : !((_this5 = analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.product) === null || _this5 === void 0 ? void 0 : _this5.descriptionUl),\n                                                        children: \"Bullet list\"\n                                                    }, void 0, false, void 0, void 0)\n                                                ]\n                                            }, void 0, true, void 0, void 0),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                id: detectedPageType === \"collection\" && selectedProductCtx ? \"product-exit-\".concat(selectedProductCtx.sectionId, \"-\").concat(selectedProductCtx.index) : \"product-exit\",\n                                                name: \"exitUrl\",\n                                                label: \"Exit URL\",\n                                                value: (()=>{\n                                                    var _analyzeData_product, _analyzeData_product1;\n                                                    if (detectedPageType === \"collection\") {\n                                                        var _sec_products;\n                                                        if (!selectedProductCtx) return \"\";\n                                                        const sec = bodySections.find((s)=>s.id === selectedProductCtx.sectionId);\n                                                        const prod = sec === null || sec === void 0 ? void 0 : (_sec_products = sec.products) === null || _sec_products === void 0 ? void 0 : _sec_products[selectedProductCtx.index];\n                                                        return (prod === null || prod === void 0 ? void 0 : prod.cta) || (prod === null || prod === void 0 ? void 0 : prod.url) || \"\";\n                                                    }\n                                                    return (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product = analyzeData.product) === null || _analyzeData_product === void 0 ? void 0 : _analyzeData_product.cta) || (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product1 = analyzeData.product) === null || _analyzeData_product1 === void 0 ? void 0 : _analyzeData_product1.url) || \"\";\n                                                })(),\n                                                onChange: (e)=>{\n                                                    const val = e.target.value;\n                                                    if (detectedPageType === \"collection\") {\n                                                        if (!selectedProductCtx) return;\n                                                        setBodySections((prev)=>{\n                                                            const next = [\n                                                                ...prev\n                                                            ];\n                                                            const si = next.findIndex((s)=>s.id === selectedProductCtx.sectionId);\n                                                            if (si === -1) return prev;\n                                                            const arr = [\n                                                                ...next[si].products\n                                                            ];\n                                                            arr[selectedProductCtx.index] = {\n                                                                ...arr[selectedProductCtx.index],\n                                                                cta: val\n                                                            };\n                                                            next[si] = {\n                                                                ...next[si],\n                                                                products: arr\n                                                            };\n                                                            return next;\n                                                        });\n                                                        setRecentlyUpdated({\n                                                            sectionId: selectedProductCtx.sectionId,\n                                                            index: selectedProductCtx.index,\n                                                            field: \"cta\",\n                                                            ts: Date.now()\n                                                        });\n                                                    } else {\n                                                        // Single product context\n                                                        setAnalyzeData((d)=>d ? {\n                                                                ...d,\n                                                                product: {\n                                                                    ...d.product,\n                                                                    cta: val\n                                                                }\n                                                            } : d);\n                                                        setBodySections((prev)=>{\n                                                            var _prev__products;\n                                                            if (!prev.length || !((_prev__products = prev[0].products) === null || _prev__products === void 0 ? void 0 : _prev__products.length)) return prev;\n                                                            const next = [\n                                                                ...prev\n                                                            ];\n                                                            const prod = {\n                                                                ...next[0].products[0],\n                                                                cta: val\n                                                            };\n                                                            next[0] = {\n                                                                ...next[0],\n                                                                products: [\n                                                                    prod,\n                                                                    ...next[0].products.slice(1)\n                                                                ]\n                                                            };\n                                                            return next;\n                                                        });\n                                                    }\n                                                },\n                                                onBlur: (e)=>{\n                                                    const raw = (e.target.value || \"\").trim();\n                                                    if (!raw) return;\n                                                    const cleaned = sanitizeUrl(raw);\n                                                    if (!isHttpUrl(cleaned)) {\n                                                        addNotification(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                                            children: [\n                                                                \"Invalid product URL: \",\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                                                    style: {\n                                                                        fontWeight: \"bold\"\n                                                                    },\n                                                                    children: cleaned\n                                                                }, void 0, false, void 0, void 0),\n                                                                \"\\xa0|\\xa0Please enter a valid http(s) link.\"\n                                                            ]\n                                                        }, void 0, true));\n                                                        return;\n                                                    }\n                                                    if (detectedPageType === \"collection\") {\n                                                        if (!selectedProductCtx) return;\n                                                        setBodySections((prev)=>{\n                                                            var _arr_selectedProductCtx_index;\n                                                            const next = [\n                                                                ...prev\n                                                            ];\n                                                            const si = next.findIndex((s)=>s.id === selectedProductCtx.sectionId);\n                                                            if (si === -1) return prev;\n                                                            const arr = [\n                                                                ...next[si].products\n                                                            ];\n                                                            const current = ((_arr_selectedProductCtx_index = arr[selectedProductCtx.index]) === null || _arr_selectedProductCtx_index === void 0 ? void 0 : _arr_selectedProductCtx_index.cta) || \"\";\n                                                            if (current !== cleaned) {\n                                                                arr[selectedProductCtx.index] = {\n                                                                    ...arr[selectedProductCtx.index],\n                                                                    cta: cleaned\n                                                                };\n                                                                next[si] = {\n                                                                    ...next[si],\n                                                                    products: arr\n                                                                };\n                                                            }\n                                                            return next;\n                                                        });\n                                                        setRecentlyUpdated({\n                                                            sectionId: selectedProductCtx.sectionId,\n                                                            index: selectedProductCtx.index,\n                                                            field: \"cta\",\n                                                            ts: Date.now()\n                                                        });\n                                                    } else {\n                                                        setAnalyzeData((d)=>d ? {\n                                                                ...d,\n                                                                product: {\n                                                                    ...d.product,\n                                                                    cta: cleaned\n                                                                }\n                                                            } : d);\n                                                        setBodySections((prev)=>{\n                                                            var _prev__products, _next__products_;\n                                                            if (!prev.length || !((_prev__products = prev[0].products) === null || _prev__products === void 0 ? void 0 : _prev__products.length)) return prev;\n                                                            const next = [\n                                                                ...prev\n                                                            ];\n                                                            const current = ((_next__products_ = next[0].products[0]) === null || _next__products_ === void 0 ? void 0 : _next__products_.cta) || \"\";\n                                                            if (current !== cleaned) {\n                                                                const prod = {\n                                                                    ...next[0].products[0],\n                                                                    cta: cleaned\n                                                                };\n                                                                next[0] = {\n                                                                    ...next[0],\n                                                                    products: [\n                                                                        prod,\n                                                                        ...next[0].products.slice(1)\n                                                                    ]\n                                                                };\n                                                            }\n                                                            return next;\n                                                        });\n                                                    }\n                                                },\n                                                InputProps: {\n                                                    endAdornment: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_InputAdornment__WEBPACK_IMPORTED_MODULE_30__[\"default\"], {\n                                                        position: \"end\",\n                                                        children: (()=>{\n                                                            const current = (()=>{\n                                                                var _analyzeData_product, _analyzeData_product1;\n                                                                if (detectedPageType === \"collection\") {\n                                                                    var _sec_products;\n                                                                    if (!selectedProductCtx) return \"\";\n                                                                    const sec = bodySections.find((s)=>s.id === selectedProductCtx.sectionId);\n                                                                    const prod = sec === null || sec === void 0 ? void 0 : (_sec_products = sec.products) === null || _sec_products === void 0 ? void 0 : _sec_products[selectedProductCtx.index];\n                                                                    return (prod === null || prod === void 0 ? void 0 : prod.cta) || (prod === null || prod === void 0 ? void 0 : prod.url) || \"\";\n                                                                }\n                                                                return (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product = analyzeData.product) === null || _analyzeData_product === void 0 ? void 0 : _analyzeData_product.cta) || (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product1 = analyzeData.product) === null || _analyzeData_product1 === void 0 ? void 0 : _analyzeData_product1.url) || \"\";\n                                                            })();\n                                                            const cleaned = sanitizeUrl((current || \"\").trim());\n                                                            const ok = !!cleaned && isHttpUrl(cleaned);\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Tooltip__WEBPACK_IMPORTED_MODULE_31__[\"default\"], {\n                                                                title: ok ? \"Open in new tab\" : \"Enter a valid http(s) URL\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                        size: \"small\",\n                                                                        onClick: (e)=>{\n                                                                            e.preventDefault();\n                                                                            e.stopPropagation();\n                                                                            if (!ok) return;\n                                                                            if (true) {\n                                                                                window.open(cleaned, \"_blank\", \"noopener,noreferrer\");\n                                                                            }\n                                                                        },\n                                                                        disabled: !ok,\n                                                                        edge: \"end\",\n                                                                        title: ok ? \"Open in new tab\" : \"Enter a valid http(s) URL\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_OpenInNew__WEBPACK_IMPORTED_MODULE_62__[\"default\"], {\n                                                                            fontSize: \"small\"\n                                                                        }, void 0, false, void 0, void 0)\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0)\n                                                            }, void 0, false, void 0, void 0);\n                                                        })()\n                                                    }, void 0, false, void 0, void 0)\n                                                },\n                                                fullWidth: true,\n                                                variant: \"standard\",\n                                                sx: {\n                                                    mb: 2,\n                                                    \"& .MuiInput-underline:before\": {\n                                                        borderBottomColor: \"grey.400\"\n                                                    },\n                                                    \"& .MuiInput-underline:after\": {\n                                                        borderBottomColor: \"var(--color-primary)\"\n                                                    }\n                                                }\n                                            }, void 0, false, void 0, void 0),\n                                            (detectedPageType === \"collection\" ? selectedProductCtx ? (_bodySections_find6 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find6 === void 0 ? void 0 : (_bodySections_find_products6 = _bodySections_find6.products) === null || _bodySections_find_products6 === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index3 = _bodySections_find_products6[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index3 === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index3.image : \"\" : (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product3 = analyzeData.product) === null || _analyzeData_product3 === void 0 ? void 0 : _analyzeData_product3.image) || \"\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                sx: {\n                                                    mb: 1,\n                                                    textAlign: \"center\"\n                                                },\n                                                \"data-product-cell\": detectedPageType === \"collection\" ? \"\".concat(selectedProductCtx === null || selectedProductCtx === void 0 ? void 0 : selectedProductCtx.sectionId, \"-\").concat(selectedProductCtx === null || selectedProductCtx === void 0 ? void 0 : selectedProductCtx.index) : \"0-0\",\n                                                onClick: (e)=>{\n                                                    if (detectedPageType === \"collection\" && summaryTab === 0 && selectedProductCtx) {\n                                                        setSummaryTab(1);\n                                                    }\n                                                    const el = e.currentTarget;\n                                                    el.classList.remove(\"product-click-ripple\");\n                                                    void el.offsetWidth;\n                                                    el.classList.add(\"product-click-ripple\");\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                                                    src: detectedPageType === \"collection\" ? selectedProductCtx ? ((_bodySections_find7 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find7 === void 0 ? void 0 : (_bodySections_find_products7 = _bodySections_find7.products) === null || _bodySections_find_products7 === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index4 = _bodySections_find_products7[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index4 === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index4.image) || \"\" : \"\" : (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product4 = analyzeData.product) === null || _analyzeData_product4 === void 0 ? void 0 : _analyzeData_product4.image) || \"\",\n                                                    alt: detectedPageType === \"collection\" ? selectedProductCtx ? ((_bodySections_find8 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find8 === void 0 ? void 0 : (_bodySections_find_products8 = _bodySections_find8.products) === null || _bodySections_find_products8 === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index5 = _bodySections_find_products8[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index5 === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index5.title) || \"\" : \"\" : (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product5 = analyzeData.product) === null || _analyzeData_product5 === void 0 ? void 0 : _analyzeData_product5.title) || \"\",\n                                                    style: {\n                                                        width: \"100%\",\n                                                        height: \"auto\",\n                                                        margin: \"0 auto\",\n                                                        display: \"block\",\n                                                        borderRadius: 6,\n                                                        border: \"1px solid rgba(0, 0, 0, 0.2)\"\n                                                    }\n                                                }, void 0, false, void 0, void 0)\n                                            }, void 0, false, void 0, void 0),\n                                            (detectedPageType === \"collection\" ? selectedProductCtx ? (((_bodySections_find9 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find9 === void 0 ? void 0 : (_bodySections_find_products9 = _bodySections_find9.products) === null || _bodySections_find_products9 === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index6 = _bodySections_find_products9[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index6 === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index_images = _bodySections_find_products_selectedProductCtx_index6.images) === null || _bodySections_find_products_selectedProductCtx_index_images === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index_images.length) || 0) > 0 : false : ((analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product6 = analyzeData.product) === null || _analyzeData_product6 === void 0 ? void 0 : (_analyzeData_product_images = _analyzeData_product6.images) === null || _analyzeData_product_images === void 0 ? void 0 : _analyzeData_product_images.length) || 0) > 0) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                        variant: \"subtitle2\",\n                                                        sx: {\n                                                            color: \"text.secondary\",\n                                                            mb: 1\n                                                        },\n                                                        children: \"Product images\"\n                                                    }, void 0, false, void 0, void 0),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                        className: \"summary-product-grid\",\n                                                        sx: {\n                                                            display: \"grid\",\n                                                            gap: 1,\n                                                            width: \"100%\"\n                                                        },\n                                                        children: (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.uniqueImages)((detectedPageType === \"collection\" ? selectedProductCtx ? ((_bodySections_find10 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find10 === void 0 ? void 0 : (_bodySections_find_products10 = _bodySections_find10.products) === null || _bodySections_find_products10 === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index7 = _bodySections_find_products10[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index7 === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index7.images) || [] : [] : (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product7 = analyzeData.product) === null || _analyzeData_product7 === void 0 ? void 0 : _analyzeData_product7.images) || []).map((s)=>s || \"\")).map((src)=>{\n                                                            var _bodySections_find_products_selectedProductCtx_index, _bodySections_find_products, _bodySections_find, _analyzeData_product, _bodySections_find_products_selectedProductCtx_index1, _bodySections_find_products1, _bodySections_find1, _analyzeData_product1;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                                sx: {\n                                                                    cursor: \"pointer\",\n                                                                    border: (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(detectedPageType === \"collection\" ? selectedProductCtx ? ((_bodySections_find = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find === void 0 ? void 0 : (_bodySections_find_products = _bodySections_find.products) === null || _bodySections_find_products === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index = _bodySections_find_products[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index.image) || \"\" : \"\" : (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product = analyzeData.product) === null || _analyzeData_product === void 0 ? void 0 : _analyzeData_product.image) || \"\") === (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(src) ? \"2px solid var(--color-primary)\" : \"2px solid #e0e0e0\",\n                                                                    borderRadius: 1,\n                                                                    opacity: (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(detectedPageType === \"collection\" ? selectedProductCtx ? ((_bodySections_find1 = bodySections.find((s)=>s.id === selectedProductCtx.sectionId)) === null || _bodySections_find1 === void 0 ? void 0 : (_bodySections_find_products1 = _bodySections_find1.products) === null || _bodySections_find_products1 === void 0 ? void 0 : (_bodySections_find_products_selectedProductCtx_index1 = _bodySections_find_products1[selectedProductCtx.index]) === null || _bodySections_find_products_selectedProductCtx_index1 === void 0 ? void 0 : _bodySections_find_products_selectedProductCtx_index1.image) || \"\" : \"\" : (analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_product1 = analyzeData.product) === null || _analyzeData_product1 === void 0 ? void 0 : _analyzeData_product1.image) || \"\") === (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(src) ? 1 : 0.9,\n                                                                    overflow: \"hidden\",\n                                                                    transition: \"opacity .15s ease, border-color .15s ease, box-shadow .15s ease\",\n                                                                    \"& img\": {\n                                                                        transition: \"transform .4s ease\"\n                                                                    },\n                                                                    \"&:hover\": {\n                                                                        opacity: 1,\n                                                                        borderColor: \"var(--color-primary)\",\n                                                                        boxShadow: \"0 0 0 1px rgba(0,0,0,0.02)\"\n                                                                    },\n                                                                    \"&:hover img\": {\n                                                                        transform: \"scale(1.075)\"\n                                                                    }\n                                                                },\n                                                                onClick: ()=>{\n                                                                    if (detectedPageType === \"collection\") {\n                                                                        if (!selectedProductCtx) return;\n                                                                        setBodySections((prev)=>{\n                                                                            const next = [\n                                                                                ...prev\n                                                                            ];\n                                                                            const si = next.findIndex((s)=>s.id === selectedProductCtx.sectionId);\n                                                                            if (si === -1) return prev;\n                                                                            const arr = [\n                                                                                ...next[si].products\n                                                                            ];\n                                                                            arr[selectedProductCtx.index] = {\n                                                                                ...arr[selectedProductCtx.index],\n                                                                                image: src\n                                                                            };\n                                                                            next[si] = {\n                                                                                ...next[si],\n                                                                                products: arr\n                                                                            };\n                                                                            return next;\n                                                                        });\n                                                                    } else {\n                                                                        setAnalyzeData((d)=>d ? {\n                                                                                ...d,\n                                                                                product: {\n                                                                                    ...d.product,\n                                                                                    image: src\n                                                                                }\n                                                                            } : d);\n                                                                        setBodySections((prev)=>{\n                                                                            var _prev__products;\n                                                                            if (!prev.length || !((_prev__products = prev[0].products) === null || _prev__products === void 0 ? void 0 : _prev__products.length)) return prev;\n                                                                            const next = [\n                                                                                ...prev\n                                                                            ];\n                                                                            const prod = {\n                                                                                ...next[0].products[0],\n                                                                                image: src\n                                                                            };\n                                                                            next[0] = {\n                                                                                ...next[0],\n                                                                                products: [\n                                                                                    prod,\n                                                                                    ...next[0].products.slice(1)\n                                                                                ]\n                                                                            };\n                                                                            return next;\n                                                                        });\n                                                                    }\n                                                                },\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                                                                    src: src,\n                                                                    alt: \"product\",\n                                                                    style: {\n                                                                        width: \"100%\",\n                                                                        height: \"100%\",\n                                                                        objectFit: \"cover\"\n                                                                    }\n                                                                }, void 0, false, void 0, void 0)\n                                                            }, (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(src) || src, false, void 0, void 0);\n                                                        })\n                                                    }, void 0, false, void 0, void 0)\n                                                ]\n                                            }, void 0, true, void 0, void 0) : null\n                                        ]\n                                    }, void 0, true)\n                                }, void 0, false, void 0, void 0),\n                                summaryTab === (detectedPageType === \"collection\" ? 2 : 1) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                    spacing: 2,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    variant: \"subtitle2\",\n                                                    sx: {\n                                                        color: \"text.secondary\",\n                                                        mb: 1\n                                                    },\n                                                    children: \"Hero images\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                    className: \"summary-product-grid\",\n                                                    sx: {\n                                                        display: \"grid\",\n                                                        gap: 1,\n                                                        width: \"100%\"\n                                                    },\n                                                    children: (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.uniqueImages)(heroImages && heroImages.length ? heroImages : (analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.heroImages) || []).map((src)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                            sx: {\n                                                                cursor: \"pointer\",\n                                                                border: (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(heroImage || \"\") === (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(src) ? \"2px solid var(--color-primary)\" : \"2px solid #e0e0e0\",\n                                                                borderRadius: 1,\n                                                                opacity: (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(heroImage || \"\") === (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(src) ? 1 : 0.9,\n                                                                overflow: \"hidden\",\n                                                                transition: \"opacity .15s ease, border-color .15s ease, box-shadow .15s ease\",\n                                                                \"& img\": {\n                                                                    transition: \"transform .4s ease\"\n                                                                },\n                                                                \"&:hover\": {\n                                                                    opacity: 1,\n                                                                    borderColor: \"var(--color-primary)\",\n                                                                    boxShadow: \"0 0 0 1px rgba(0,0,0,0.02)\"\n                                                                },\n                                                                \"&:hover img\": {\n                                                                    transform: \"scale(1.075)\"\n                                                                }\n                                                            },\n                                                            onClick: ()=>{\n                                                                setHeroImage(src);\n                                                                setHeroHref(brandWebsite || \"\");\n                                                                setHeroAlt((analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.storeName) || \"\");\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                                                                src: src,\n                                                                alt: \"hero\",\n                                                                style: {\n                                                                    width: \"100%\",\n                                                                    height: \"100%\",\n                                                                    objectFit: \"cover\"\n                                                                }\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(src) || src, false, void 0, void 0))\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        ((analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_bannerImages = analyzeData.bannerImages) === null || _analyzeData_bannerImages === void 0 ? void 0 : _analyzeData_bannerImages.length) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    variant: \"subtitle2\",\n                                                    sx: {\n                                                        color: \"text.secondary\",\n                                                        mb: 1\n                                                    },\n                                                    children: \"Banner images\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                    className: \"summary-product-grid\",\n                                                    sx: {\n                                                        display: \"grid\",\n                                                        gap: 1,\n                                                        width: \"100%\"\n                                                    },\n                                                    children: (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.uniqueImages)(analyzeData.bannerImages).map((src)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                            sx: {\n                                                                cursor: \"pointer\",\n                                                                border: (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(bannerImage || \"\") === (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(src) ? \"2px solid var(--color-primary)\" : \"2px solid #e0e0e0\",\n                                                                borderRadius: 1,\n                                                                opacity: (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(bannerImage || \"\") === (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(src) ? 1 : 0.9,\n                                                                overflow: \"hidden\",\n                                                                transition: \"opacity .15s ease, border-color .15s ease, box-shadow .15s ease\",\n                                                                \"& img\": {\n                                                                    transition: \"transform .4s ease\"\n                                                                },\n                                                                \"&:hover\": {\n                                                                    opacity: 1,\n                                                                    borderColor: \"var(--color-primary)\",\n                                                                    boxShadow: \"0 0 0 1px rgba(0,0,0,0.02)\"\n                                                                },\n                                                                \"&:hover img\": {\n                                                                    transform: \"scale(1.075)\"\n                                                                }\n                                                            },\n                                                            onClick: ()=>{\n                                                                setBannerImage(src);\n                                                                setBannerHref(brandWebsite || \"\");\n                                                                setBannerAlt((analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.storeName) || \"\");\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                                                                src: src,\n                                                                alt: \"banner\",\n                                                                style: {\n                                                                    width: \"100%\",\n                                                                    height: \"100%\",\n                                                                    objectFit: \"cover\"\n                                                                }\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.normalizeImage)(src) || src, false, void 0, void 0))\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0),\n                                summaryTab === (detectedPageType === \"collection\" ? 3 : 2) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                    spacing: 2,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    variant: \"subtitle2\",\n                                                    sx: {\n                                                        color: \"text.secondary\",\n                                                        mb: 1\n                                                    },\n                                                    children: \"Logo\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                                    direction: \"row\",\n                                                    alignItems: \"center\",\n                                                    justifyContent: \"space-between\",\n                                                    spacing: 2,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                            sx: {\n                                                                flex: 1\n                                                            },\n                                                            children: brandLogoDataUrl || (analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.logo) || (analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.logoSvg) ? brandLogoDataUrl ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                                                                src: brandLogoDataUrl,\n                                                                alt: \"logo\",\n                                                                style: {\n                                                                    height: 22,\n                                                                    width: \"auto\",\n                                                                    display: \"block\",\n                                                                    textAlign: \"left\"\n                                                                }\n                                                            }, void 0, false, void 0, void 0) : (analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.logo) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                                                                src: analyzeData.logo,\n                                                                alt: \"logo\",\n                                                                style: {\n                                                                    height: 22,\n                                                                    width: \"auto\",\n                                                                    display: \"block\",\n                                                                    textAlign: \"left\"\n                                                                }\n                                                            }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                                sx: {\n                                                                    height: 22,\n                                                                    \"& svg\": {\n                                                                        height: \"100%\"\n                                                                    }\n                                                                },\n                                                                dangerouslySetInnerHTML: {\n                                                                    __html: analyzeData.logoSvg\n                                                                }\n                                                            }, void 0, false, void 0, void 0) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                variant: \"caption\",\n                                                                sx: {\n                                                                    color: \"text.disabled\"\n                                                                },\n                                                                children: \"No logo\"\n                                                            }, void 0, false, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                                                component: \"label\",\n                                                                role: undefined,\n                                                                tabIndex: -1,\n                                                                variant: \"contained\",\n                                                                color: \"inherit\",\n                                                                startIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_SvgIcon__WEBPACK_IMPORTED_MODULE_63__[\"default\"], {\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"svg\", {\n                                                                        xmlns: \"http://www.w3.org/2000/svg\",\n                                                                        fill: \"none\",\n                                                                        viewBox: \"0 0 24 24\",\n                                                                        strokeWidth: 1.5,\n                                                                        stroke: \"currentColor\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"path\", {\n                                                                            strokeLinecap: \"round\",\n                                                                            strokeLinejoin: \"round\",\n                                                                            d: \"M12 16.5V9.75m0 0l3 3m-3-3l-3 3M6.75 19.5a4.5 4.5 0 01-1.41-8.775 5.25 5.25 0 0110.233-2.33 3 3 0 013.758 3.848A3.752 3.752 0 0118 19.5H6.75z\"\n                                                                        }, void 0, false, void 0, void 0)\n                                                                    }, void 0, false, void 0, void 0)\n                                                                }, void 0, false, void 0, void 0),\n                                                                children: [\n                                                                    \"Upload a file\",\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(VisuallyHiddenInput, {\n                                                                        id: \"brand-logo-upload\",\n                                                                        name: \"brand-logo\",\n                                                                        type: \"file\",\n                                                                        accept: \"image/*\",\n                                                                        onChange: (e)=>{\n                                                                            const file = e.target.files ? e.target.files[0] : null;\n                                                                            setBrandLogo(file);\n                                                                        }\n                                                                    }, void 0, false, void 0, void 0)\n                                                                ]\n                                                            }, void 0, true, void 0, void 0)\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0),\n                                                brandLogo && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    variant: \"caption\",\n                                                    sx: {\n                                                        display: \"block\",\n                                                        mt: 0.5,\n                                                        color: \"text.secondary\"\n                                                    },\n                                                    children: brandLogo.name\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                id: \"summary-website\",\n                                                name: \"website\",\n                                                label: \"Website URL\",\n                                                value: brandWebsite,\n                                                fullWidth: true,\n                                                variant: \"standard\",\n                                                sx: {\n                                                    \"& .MuiInput-underline:before\": {\n                                                        borderBottomColor: \"grey.400\"\n                                                    },\n                                                    \"& .MuiInput-underline:after\": {\n                                                        borderBottomColor: \"var(--color-primary)\"\n                                                    }\n                                                }\n                                            }, void 0, false, void 0, void 0)\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                                id: \"summary-store\",\n                                                name: \"store\",\n                                                label: \"Store\",\n                                                value: (analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.storeName) || \"\",\n                                                fullWidth: true,\n                                                onChange: (e)=>setAnalyzeData((d)=>d ? {\n                                                            ...d,\n                                                            storeName: e.target.value\n                                                        } : d),\n                                                variant: \"standard\",\n                                                sx: {\n                                                    \"& .MuiInput-underline:before\": {\n                                                        borderBottomColor: \"grey.400\"\n                                                    },\n                                                    \"& .MuiInput-underline:after\": {\n                                                        borderBottomColor: \"var(--color-primary)\"\n                                                    }\n                                                }\n                                            }, void 0, false, void 0, void 0)\n                                        }, void 0, false, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                    variant: \"subtitle2\",\n                                                    sx: {\n                                                        color: \"text.secondary\",\n                                                        mb: 1\n                                                    },\n                                                    children: \"Brand colors\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Stack__WEBPACK_IMPORTED_MODULE_55__[\"default\"], {\n                                                    direction: \"row\",\n                                                    spacing: 1,\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(mui_color_input__WEBPACK_IMPORTED_MODULE_8__.MuiColorInput, {\n                                                            id: \"brand-primary\",\n                                                            name: \"brand-primary\",\n                                                            label: \"Primary\",\n                                                            format: \"hex\",\n                                                            value: brandPrimary,\n                                                            onChange: (value)=>setBrandPrimary(value || brandPrimary),\n                                                            size: \"small\"\n                                                        }, void 0, false, void 0, void 0),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(mui_color_input__WEBPACK_IMPORTED_MODULE_8__.MuiColorInput, {\n                                                            id: \"brand-secondary\",\n                                                            name: \"brand-secondary\",\n                                                            label: \"Secondary\",\n                                                            format: \"hex\",\n                                                            value: brandSecondary,\n                                                            onChange: (value)=>setBrandSecondary(value || brandSecondary),\n                                                            size: \"small\"\n                                                        }, void 0, false, void 0, void 0)\n                                                    ]\n                                                }, void 0, true, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_TextField__WEBPACK_IMPORTED_MODULE_29__[\"default\"], {\n                                            select: true,\n                                            fullWidth: true,\n                                            label: \"Brand font\",\n                                            id: \"brand-font\",\n                                            InputLabelProps: {\n                                                id: \"brand-font-label\"\n                                            },\n                                            SelectProps: {\n                                                labelId: \"brand-font-label\",\n                                                id: \"brand-font\"\n                                            },\n                                            name: \"brand-font\",\n                                            value: brandFont,\n                                            onChange: (e)=>setBrandFont(e.target.value),\n                                            variant: \"standard\",\n                                            sx: {\n                                                \"& .MuiInput-underline:before\": {\n                                                    borderBottomColor: \"grey.400\"\n                                                },\n                                                \"& .MuiInput-underline:after\": {\n                                                    borderBottomColor: \"var(--color-primary)\"\n                                                }\n                                            },\n                                            children: [\n                                                Array.from(new Set((analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.fontFamilies) || [])).map((f)=>{\n                                                    const needsQuote = /[^a-z0-9-]/i.test(f);\n                                                    const css = \"\".concat(needsQuote ? \"'\".concat(f, \"'\") : f, \",Arial,Helvetica,sans-serif\");\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                        value: css,\n                                                        children: f\n                                                    }, \"det-\".concat(f), false, void 0, void 0);\n                                                }),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                    value: \"'Montserrat',Arial,Helvetica,sans-serif\",\n                                                    children: \"Default (Montserrat)\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                    value: \"Arial, Helvetica, sans-serif\",\n                                                    children: \"Arial\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                    value: \"Georgia, serif\",\n                                                    children: \"Georgia\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                    value: \"Times New Roman, serif\",\n                                                    children: \"Times New Roman\"\n                                                }, void 0, false, void 0, void 0),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_MenuItem__WEBPACK_IMPORTED_MODULE_39__[\"default\"], {\n                                                    value: \"Courier New, monospace\",\n                                                    children: \"Courier New\"\n                                                }, void 0, false, void 0, void 0)\n                                            ]\n                                        }, void 0, true, void 0, void 0),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_RichTextField__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                label: \"Announcement Bar\",\n                                                className: \"customField\",\n                                                value: brandAnnouncement,\n                                                onChange: (html)=>setBrandAnnouncement(html),\n                                                placeholder: \"E.g., Free shipping this week â¢ 20% off sitewide â¢ New arrivals\",\n                                                minHeight: 60\n                                            }, void 0, false, void 0, void 0)\n                                        }, void 0, false, void 0, void 0)\n                                    ]\n                                }, void 0, true, void 0, void 0)\n                            ]\n                        }, void 0, true, void 0, void 0),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                            style: {\n                                display: \"flex\",\n                                flexDirection: \"column\",\n                                height: \"calc(100vh - 64px)\"\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                    className: \"preview-bar\",\n                                    style: {\n                                        display: \"flex\",\n                                        alignItems: \"center\",\n                                        gap: \"var(--gap-2)\",\n                                        position: \"relative\"\n                                    },\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                            variant: \"h6\",\n                                            sx: {\n                                                flex: 1,\n                                                fontSize: \"0.9rem\",\n                                                fontWeight: 400,\n                                                color: \"inherit\"\n                                            },\n                                            children: viewMode === \"preview\" ? \"Email Preview\" : \"Email Code\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 4954,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                            role: \"group\",\n                                            \"aria-label\": \"Preview mode\",\n                                            style: {\n                                                position: \"absolute\",\n                                                left: \"50%\",\n                                                transform: \"translateX(-50%)\",\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                gap: 4,\n                                                background: \"rgba(0,0,0,0.04)\",\n                                                borderRadius: 999,\n                                                padding: \"2px\"\n                                            },\n                                            onKeyDown: (e)=>{\n                                                if (e.key === \"ArrowLeft\" || e.key === \"ArrowRight\") {\n                                                    e.preventDefault();\n                                                    setPreviewMode((m)=>m === \"desktop\" ? \"mobile\" : \"desktop\");\n                                                }\n                                            },\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    \"aria-label\": \"Desktop preview\",\n                                                    \"aria-pressed\": previewMode === \"desktop\",\n                                                    onClick: ()=>setPreviewMode(\"desktop\"),\n                                                    onKeyDown: (e)=>{\n                                                        if (e.key === \" \" || e.key === \"Enter\") {\n                                                            e.preventDefault();\n                                                            setPreviewMode(\"desktop\");\n                                                        }\n                                                        if (e.key === \"ArrowRight\") {\n                                                            e.preventDefault();\n                                                            setPreviewMode(\"mobile\");\n                                                        }\n                                                        if (e.key === \"ArrowLeft\") {\n                                                            e.preventDefault();\n                                                            setPreviewMode(\"mobile\");\n                                                        }\n                                                    },\n                                                    style: {\n                                                        display: \"inline-flex\",\n                                                        alignItems: \"center\",\n                                                        gap: 6,\n                                                        padding: \"6px 10px\",\n                                                        borderRadius: 999,\n                                                        border: \"1px solid transparent\",\n                                                        background: previewMode === \"desktop\" ? \"var(--color-primary)\" : \"transparent\",\n                                                        color: previewMode === \"desktop\" ? \"#fff\" : \"inherit\",\n                                                        cursor: \"pointer\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"svg\", {\n                                                            width: \"16\",\n                                                            height: \"16\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            fill: \"currentColor\",\n                                                            \"aria-hidden\": \"true\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"path\", {\n                                                                d: \"M3 5h18v10H3zM8 19h8v-2H8z\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 4991,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 4990,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                fontSize: 12,\n                                                                fontWeight: previewMode === \"desktop\" ? 700 : 500\n                                                            },\n                                                            children: \"Desktop\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 4993,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 4972,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"button\", {\n                                                    type: \"button\",\n                                                    \"aria-label\": \"Mobile preview\",\n                                                    \"aria-pressed\": previewMode === \"mobile\",\n                                                    onClick: ()=>setPreviewMode(\"mobile\"),\n                                                    onKeyDown: (e)=>{\n                                                        if (e.key === \" \" || e.key === \"Enter\") {\n                                                            e.preventDefault();\n                                                            setPreviewMode(\"mobile\");\n                                                        }\n                                                        if (e.key === \"ArrowLeft\") {\n                                                            e.preventDefault();\n                                                            setPreviewMode(\"desktop\");\n                                                        }\n                                                        if (e.key === \"ArrowRight\") {\n                                                            e.preventDefault();\n                                                            setPreviewMode(\"desktop\");\n                                                        }\n                                                    },\n                                                    style: {\n                                                        display: \"inline-flex\",\n                                                        alignItems: \"center\",\n                                                        gap: 6,\n                                                        padding: \"6px 10px\",\n                                                        borderRadius: 999,\n                                                        border: \"1px solid transparent\",\n                                                        background: previewMode === \"mobile\" ? \"var(--color-primary)\" : \"transparent\",\n                                                        color: previewMode === \"mobile\" ? \"#fff\" : \"inherit\",\n                                                        cursor: \"pointer\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"svg\", {\n                                                            width: \"12\",\n                                                            height: \"16\",\n                                                            viewBox: \"0 0 24 24\",\n                                                            fill: \"currentColor\",\n                                                            \"aria-hidden\": \"true\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"path\", {\n                                                                d: \"M7 2h10a2 2 0 012 2v16a2 2 0 01-2 2H7a2 2 0 01-2-2V4a2 2 0 012-2zm5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 5014,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 5013,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                                            style: {\n                                                                fontSize: 12,\n                                                                fontWeight: previewMode === \"mobile\" ? 700 : 500\n                                                            },\n                                                            children: \"Mobile\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 5016,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 4995,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 4961,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                            className: \"preview-actions\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                    onClick: ()=>setViewMode(viewMode === \"preview\" ? \"code\" : \"preview\"),\n                                                    title: viewMode === \"preview\" ? \"Show code\" : \"Show preview\",\n                                                    children: viewMode === \"preview\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Code__WEBPACK_IMPORTED_MODULE_64__[\"default\"], {}, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5021,\n                                                        columnNumber: 47\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Visibility__WEBPACK_IMPORTED_MODULE_65__[\"default\"], {}, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5021,\n                                                        columnNumber: 62\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 5020,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                    onClick: ()=>{\n                                                        copyToClipboard(finalHtml);\n                                                        addNotification(\"Code copied!\");\n                                                    },\n                                                    title: \"Copy full email HTML to clipboard\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {}, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5024,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 5023,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                    onClick: ()=>downloadAsFile(\"edm_espresso.html\", finalHtml),\n                                                    title: \"Download full email HTML\",\n                                                    \"aria-label\": \"Download full email HTML\",\n                                                    sx: {\n                                                        backgroundColor: \"var(--color-primary)\",\n                                                        color: \"#fff\",\n                                                        \"& svg path\": {\n                                                            fill: \"#fff\"\n                                                        },\n                                                        \"&:hover\": {\n                                                            backgroundColor: \"var(--color-primary-dark)\",\n                                                            color: \"#fff\",\n                                                            \"& svg path\": {\n                                                                fill: \"#fff\"\n                                                            }\n                                                        }\n                                                    },\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_SvgIcon__WEBPACK_IMPORTED_MODULE_63__[\"default\"], {\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"path\", {\n                                                            d: \"M5 20h14a1 1 0 001-1v-4h-2v3H6v-3H4v4a1 1 0 001 1zm7-3l5-5h-3V4h-4v8H7l5 5z\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 5042,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5041,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 5026,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 5019,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 4953,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                    id: \"preview\",\n                                    style: {\n                                        overflowY: \"auto\",\n                                        overflowX: \"hidden\",\n                                        padding: \"1rem\",\n                                        paddingTop: \"0\",\n                                        position: \"relative\",\n                                        paddingBottom: \"88px\"\n                                    },\n                                    children: [\n                                        collectionEnriching && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                            style: {\n                                                position: \"absolute\",\n                                                top: \"50%\",\n                                                right: 0,\n                                                bottom: 0,\n                                                left: 0,\n                                                display: \"flex\",\n                                                alignItems: \"center\",\n                                                justifyContent: \"center\",\n                                                zIndex: 2,\n                                                pointerEvents: \"none\"\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                style: {\n                                                    background: \"rgba(0,0,0,0.04)\",\n                                                    borderRadius: 20,\n                                                    padding: \"6px 12px\",\n                                                    display: \"flex\",\n                                                    alignItems: \"center\",\n                                                    gap: 8,\n                                                    boxShadow: \"0 1px 4px rgba(0,0,0,0.1)\"\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_CircularProgress__WEBPACK_IMPORTED_MODULE_66__[\"default\"], {\n                                                        size: 16\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5074,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"span\", {\n                                                        style: {\n                                                            fontSize: 12,\n                                                            color: \"inherit\"\n                                                        },\n                                                        children: \"Loading selectionâ¦\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5075,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 5063,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 5049,\n                                            columnNumber: 19\n                                        }, this),\n                                        viewMode === \"preview\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                            ref: previewRef,\n                                            \"data-preview-container\": \"true\",\n                                            sx: {\n                                                // Constrain viewport width based on previewMode; center it with margin auto\n                                                width: previewMode === \"mobile\" ? \"var(--mobile-preview-width, 390px)\" : \"min(var(--desktop-preview-max, 1280px), 100%)\",\n                                                transition: \"width 200ms ease\",\n                                                mx: \"auto\",\n                                                // Make this wrapper the named container for container queries\n                                                containerType: \"inline-size\",\n                                                containerName: \"preview\",\n                                                \"& a\": {\n                                                    color: \"primary.main\",\n                                                    textDecoration: \"underline\",\n                                                    textUnderlineOffset: \"2px\",\n                                                    cursor: \"pointer\",\n                                                    wordBreak: \"break-word\"\n                                                },\n                                                \"& a:hover\": {\n                                                    textDecorationThickness: \"2px\"\n                                                },\n                                                \"& a:focus-visible\": {\n                                                    outline: \"2px solid\",\n                                                    outlineColor: \"primary.light\",\n                                                    outlineOffset: \"2px\"\n                                                }\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                id: \"preview-inner\",\n                                                children: [\n                                                    showHeaderSection && (loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                        variant: \"rectangular\",\n                                                        animation: skelAnim,\n                                                        sx: {\n                                                            mb: 2,\n                                                            width: \"100%\",\n                                                            maxWidth: 600,\n                                                            mx: \"auto\",\n                                                            height: previewMode === \"mobile\" ? 60 : 80,\n                                                            borderRadius: 2,\n                                                            boxShadow: \"var(--shadow-light)\",\n                                                            paddingTop: \"\".concat((_headerPadding_top = headerPadding.top) !== null && _headerPadding_top !== void 0 ? _headerPadding_top : 0, \"px\"),\n                                                            paddingBottom: \"\".concat((_headerPadding_bottom = headerPadding.bottom) !== null && _headerPadding_bottom !== void 0 ? _headerPadding_bottom : 0, \"px\")\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5108,\n                                                        columnNumber: 25\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                        \"data-section\": \"header\",\n                                                        onClick: ()=>setOpenSection(\"header\"),\n                                                        style: {\n                                                            position: \"relative\"\n                                                        },\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                            style: {\n                                                                maxWidth: 600,\n                                                                width: \"100%\",\n                                                                margin: \"0 auto\",\n                                                                position: \"relative\",\n                                                                overflow: \"hidden\",\n                                                                background: \"#FFFFFF\",\n                                                                // Set text color so TouchRipple uses it via currentColor\n                                                                color: \"var(--color-accent)\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        position: \"absolute\",\n                                                                        inset: 0,\n                                                                        pointerEvents: \"none\"\n                                                                    },\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_ButtonBase_TouchRipple__WEBPACK_IMPORTED_MODULE_67__[\"default\"], {\n                                                                        ref: annRippleRef,\n                                                                        center: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                        lineNumber: 5140,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 5139,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                    dangerouslySetInnerHTML: {\n                                                                        __html: headerHtml\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 5142,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 5126,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5124,\n                                                        columnNumber: 25\n                                                    }, this)),\n                                                    sectionOrder.map((id)=>{\n                                                        if (id === \"hero\" && showHeroSection) {\n                                                            var _heroPadding_top, _heroPadding_bottom;\n                                                            return heroImage && !debouncedLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                \"data-section\": \"hero\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_HeroTableModule__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                                    heroImage: heroImage,\n                                                                    heroAlt: heroAlt || brandName,\n                                                                    heroHref: heroHref,\n                                                                    heroImages: heroImages,\n                                                                    updateHero: updateHero,\n                                                                    templateId: selectedHeroId,\n                                                                    onActivate: ()=>setOpenSection(\"hero\"),\n                                                                    wrapperPadding: heroPadding\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 5151,\n                                                                    columnNumber: 30\n                                                                }, this)\n                                                            }, \"hero\", false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 5150,\n                                                                columnNumber: 28\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                                variant: \"rectangular\",\n                                                                animation: skelAnim,\n                                                                sx: {\n                                                                    mb: 2,\n                                                                    width: \"100%\",\n                                                                    maxWidth: 600,\n                                                                    mx: \"auto\",\n                                                                    height: previewMode === \"mobile\" ? 140 : 180,\n                                                                    borderRadius: 2,\n                                                                    boxShadow: \"var(--shadow-light)\",\n                                                                    paddingTop: \"\".concat((_heroPadding_top = heroPadding.top) !== null && _heroPadding_top !== void 0 ? _heroPadding_top : 0, \"px\"),\n                                                                    paddingBottom: \"\".concat((_heroPadding_bottom = heroPadding.bottom) !== null && _heroPadding_bottom !== void 0 ? _heroPadding_bottom : 0, \"px\")\n                                                                }\n                                                            }, \"hero-skel\", false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 5163,\n                                                                columnNumber: 28\n                                                            }, this);\n                                                        }\n                                                        if (id === \"banner\" && showBannerSection) {\n                                                            var _analyzeData_bannerImages, _analyzeData_bannerImages1, _analyzeData_bannerImages2;\n                                                            var _bannerPadding_top, _bannerPadding_right, _bannerPadding_bottom, _bannerPadding_left, _bannerPadding_top1, _bannerPadding_bottom1;\n                                                            return bannerImage && !debouncedLoading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                \"data-section\": \"banner\",\n                                                                onClick: ()=>setOpenSection(\"banner\"),\n                                                                style: {\n                                                                    position: \"relative\"\n                                                                },\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"table\", {\n                                                                        role: \"presentation\",\n                                                                        width: \"100%\",\n                                                                        cellPadding: 0,\n                                                                        cellSpacing: 0,\n                                                                        border: 0,\n                                                                        align: \"center\",\n                                                                        style: {\n                                                                            margin: 0,\n                                                                            padding: 0\n                                                                        },\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tbody\", {\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tr\", {\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"td\", {\n                                                                                    align: \"center\",\n                                                                                    style: {\n                                                                                        margin: 0,\n                                                                                        padding: 0\n                                                                                    },\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"table\", {\n                                                                                        role: \"presentation\",\n                                                                                        width: \"100%\",\n                                                                                        cellPadding: 0,\n                                                                                        cellSpacing: 0,\n                                                                                        border: 0,\n                                                                                        style: {\n                                                                                            maxWidth: \"600px\",\n                                                                                            margin: \"0 auto\",\n                                                                                            padding: \"\".concat((_bannerPadding_top = bannerPadding.top) !== null && _bannerPadding_top !== void 0 ? _bannerPadding_top : 0, \"px \").concat((_bannerPadding_right = bannerPadding.right) !== null && _bannerPadding_right !== void 0 ? _bannerPadding_right : 0, \"px \").concat((_bannerPadding_bottom = bannerPadding.bottom) !== null && _bannerPadding_bottom !== void 0 ? _bannerPadding_bottom : 0, \"px \").concat((_bannerPadding_left = bannerPadding.left) !== null && _bannerPadding_left !== void 0 ? _bannerPadding_left : 0, \"px\"),\n                                                                                            background: \"#FFFFFF\"\n                                                                                        },\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tbody\", {\n                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tr\", {\n                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"td\", {\n                                                                                                    style: {\n                                                                                                        padding: 0\n                                                                                                    },\n                                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                                                        className: \"banner-image-wrapper\".concat(((analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_bannerImages = analyzeData.bannerImages) === null || _analyzeData_bannerImages === void 0 ? void 0 : _analyzeData_bannerImages.length) || 0) > 0 ? \" selectable\" : \"\"),\n                                                                                                        style: {\n                                                                                                            position: \"relative\",\n                                                                                                            cursor: ((analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_bannerImages1 = analyzeData.bannerImages) === null || _analyzeData_bannerImages1 === void 0 ? void 0 : _analyzeData_bannerImages1.length) || 0) > 0 ? \"pointer\" : \"default\",\n                                                                                                            overflow: \"hidden\"\n                                                                                                        },\n                                                                                                        onClick: ()=>{\n                                                                                                            var _analyzeData_bannerImages;\n                                                                                                            if (((analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_bannerImages = analyzeData.bannerImages) === null || _analyzeData_bannerImages === void 0 ? void 0 : _analyzeData_bannerImages.length) || 0) > 0) {\n                                                                                                                setShowBannerSelector(true);\n                                                                                                            }\n                                                                                                        },\n                                                                                                        onMouseEnter: (e)=>{\n                                                                                                            const img = e.currentTarget.querySelector(\"img\");\n                                                                                                            const editIcon = e.currentTarget.querySelector(\".edit-icon\");\n                                                                                                            if (img) img.style.opacity = \"0.7\";\n                                                                                                            if (editIcon) editIcon.style.transform = \"translateY(-38px)\";\n                                                                                                        },\n                                                                                                        onMouseLeave: (e)=>{\n                                                                                                            const img = e.currentTarget.querySelector(\"img\");\n                                                                                                            const editIcon = e.currentTarget.querySelector(\".edit-icon\");\n                                                                                                            if (img) img.style.opacity = \"1\";\n                                                                                                            if (editIcon) editIcon.style.transform = \"translateY(0)\";\n                                                                                                        },\n                                                                                                        children: [\n                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                                                                                                                src: bannerImage,\n                                                                                                                alt: bannerAlt || \"\",\n                                                                                                                style: {\n                                                                                                                    display: \"block\",\n                                                                                                                    width: \"100%\",\n                                                                                                                    height: \"auto\",\n                                                                                                                    border: 0,\n                                                                                                                    outline: 0,\n                                                                                                                    textDecoration: \"none\",\n                                                                                                                    transition: \"opacity 0.2s ease-in-out\"\n                                                                                                                }\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                lineNumber: 5244,\n                                                                                                                columnNumber: 47\n                                                                                                            }, this),\n                                                                                                            ((analyzeData === null || analyzeData === void 0 ? void 0 : (_analyzeData_bannerImages2 = analyzeData.bannerImages) === null || _analyzeData_bannerImages2 === void 0 ? void 0 : _analyzeData_bannerImages2.length) || 0) > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                                                                className: \"edit-icon\",\n                                                                                                                onClick: (e)=>{\n                                                                                                                    e.stopPropagation();\n                                                                                                                    setOpenSection(\"banner\");\n                                                                                                                    setShowBannerSelector(true);\n                                                                                                                },\n                                                                                                                style: {\n                                                                                                                    position: \"absolute\",\n                                                                                                                    bottom: -30,\n                                                                                                                    right: 8,\n                                                                                                                    backgroundColor: \"rgba(0,0,0,0.5)\",\n                                                                                                                    color: \"#ffffff\",\n                                                                                                                    borderRadius: \"50%\",\n                                                                                                                    padding: 4,\n                                                                                                                    display: \"flex\",\n                                                                                                                    alignItems: \"center\",\n                                                                                                                    justifyContent: \"center\",\n                                                                                                                    cursor: \"pointer\",\n                                                                                                                    transform: \"translateY(0)\",\n                                                                                                                    transition: \"transform 0.3s ease-in-out\"\n                                                                                                                },\n                                                                                                                \"aria-label\": \"Select banner image\",\n                                                                                                                title: \"Select banner image\",\n                                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"svg\", {\n                                                                                                                    viewBox: \"0 0 24 24\",\n                                                                                                                    width: \"16\",\n                                                                                                                    height: \"16\",\n                                                                                                                    fill: \"currentColor\",\n                                                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"path\", {\n                                                                                                                        d: \"M14.69 3.1l6.2 6.2c.27.27.27.7 0 .97l-8.2 8.2c-.17.17-.39.26-.62.26H6.5c-.55 0-1-.45-1-1v-5.57c0-.23.09-.45.26-.62l8.2-8.2c.27-.27.7-.27.97 0zM5 20h14v2H5v-2z\"\n                                                                                                                    }, void 0, false, {\n                                                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                        lineNumber: 5284,\n                                                                                                                        columnNumber: 53\n                                                                                                                    }, this)\n                                                                                                                }, void 0, false, {\n                                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                    lineNumber: 5283,\n                                                                                                                    columnNumber: 51\n                                                                                                                }, this)\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                lineNumber: 5258,\n                                                                                                                columnNumber: 49\n                                                                                                            }, this)\n                                                                                                        ]\n                                                                                                    }, void 0, true, {\n                                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                        lineNumber: 5219,\n                                                                                                        columnNumber: 45\n                                                                                                    }, this)\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                    lineNumber: 5218,\n                                                                                                    columnNumber: 43\n                                                                                                }, this)\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                lineNumber: 5217,\n                                                                                                columnNumber: 41\n                                                                                            }, this)\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                            lineNumber: 5216,\n                                                                                            columnNumber: 39\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                        lineNumber: 5203,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                    lineNumber: 5202,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                lineNumber: 5201,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                            lineNumber: 5200,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                        lineNumber: 5191,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    showBannerSelector && (()=>{\n                                                                        const previewPanel =  true ? document.getElementById(\"preview\") : 0;\n                                                                        const rect = (previewPanel === null || previewPanel === void 0 ? void 0 : previewPanel.getBoundingClientRect()) || undefined;\n                                                                        const imgs = (0,_lib_imageUtils__WEBPACK_IMPORTED_MODULE_20__.uniqueImages)((analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.bannerImages) || []);\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_ImageSelector__WEBPACK_IMPORTED_MODULE_16__.ImageSelector, {\n                                                                            images: imgs,\n                                                                            selected: bannerImage,\n                                                                            open: true,\n                                                                            onSelect: (img)=>{\n                                                                                setBannerImage(img);\n                                                                                setBannerHref(brandWebsite || \"\");\n                                                                                setBannerAlt((analyzeData === null || analyzeData === void 0 ? void 0 : analyzeData.storeName) || brandName || \"Brand\");\n                                                                                setShowBannerSelector(false);\n                                                                            },\n                                                                            onClose: ()=>setShowBannerSelector(false),\n                                                                            anchorRect: rect\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                            lineNumber: 5303,\n                                                                            columnNumber: 33\n                                                                        }, this);\n                                                                    })()\n                                                                ]\n                                                            }, \"banner\", true, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 5183,\n                                                                columnNumber: 27\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                                variant: \"rectangular\",\n                                                                animation: skelAnim,\n                                                                sx: {\n                                                                    mb: 2,\n                                                                    width: \"100%\",\n                                                                    maxWidth: 600,\n                                                                    mx: \"auto\",\n                                                                    height: previewMode === \"mobile\" ? 90 : 120,\n                                                                    borderRadius: 2,\n                                                                    boxShadow: \"var(--shadow-light)\",\n                                                                    paddingTop: \"\".concat((_bannerPadding_top1 = bannerPadding.top) !== null && _bannerPadding_top1 !== void 0 ? _bannerPadding_top1 : 0, \"px\"),\n                                                                    paddingBottom: \"\".concat((_bannerPadding_bottom1 = bannerPadding.bottom) !== null && _bannerPadding_bottom1 !== void 0 ? _bannerPadding_bottom1 : 0, \"px\")\n                                                                }\n                                                            }, \"banner-skel\", false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 5320,\n                                                                columnNumber: 27\n                                                            }, this);\n                                                        }\n                                                        if (id.startsWith(\"body-\")) {\n                                                            const section = bodySections.find((s)=>\"body-\".concat(s.id) === id);\n                                                            if (!section) return null;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                \"data-section\": \"body-\".concat(section.id),\n                                                                onClick: ()=>setOpenSection(\"body-\".concat(section.id)),\n                                                                children: [\n                                                                    section.loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                                                        children: (()=>{\n                                                                            const pad = getBodySectionPadding(section.id);\n                                                                            var _pad_top, _pad_bottom;\n                                                                            const skeletonSx = {\n                                                                                mb: 2,\n                                                                                width: \"100%\",\n                                                                                maxWidth: 600,\n                                                                                mx: \"auto\",\n                                                                                height: 180,\n                                                                                borderRadius: 2,\n                                                                                boxShadow: \"var(--shadow-light)\",\n                                                                                paddingTop: \"\".concat((_pad_top = pad.top) !== null && _pad_top !== void 0 ? _pad_top : 0, \"px\"),\n                                                                                paddingBottom: \"\".concat((_pad_bottom = pad.bottom) !== null && _pad_bottom !== void 0 ? _pad_bottom : 0, \"px\")\n                                                                            };\n                                                                            if (section.urls.filter((u)=>u.trim()).length === 0) {\n                                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                                                    variant: \"rectangular\",\n                                                                                    animation: skelAnim,\n                                                                                    sx: {\n                                                                                        ...skeletonSx,\n                                                                                        height: previewMode === \"mobile\" ? 140 : skeletonSx.height\n                                                                                    }\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                    lineNumber: 5364,\n                                                                                    columnNumber: 39\n                                                                                }, this);\n                                                                            }\n                                                                            return section.urls.filter((u)=>u.trim()).map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                                                    variant: \"rectangular\",\n                                                                                    animation: skelAnim,\n                                                                                    sx: {\n                                                                                        ...skeletonSx,\n                                                                                        height: previewMode === \"mobile\" ? 140 : skeletonSx.height\n                                                                                    }\n                                                                                }, \"url-skel-\".concat(section.id, \"-\").concat(i), false, {\n                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                    lineNumber: 5372,\n                                                                                    columnNumber: 37\n                                                                                }, this));\n                                                                        })()\n                                                                    }, void 0, false),\n                                                                    section.selectedBodyId === \"grid\" ? (()=>{\n                                                                        const tpl = bodyTemplates.find((t)=>t.id === \"grid\");\n                                                                        if (!tpl) return null;\n                                                                        // Render grid with clickable images\n                                                                        // Use the same table structure as the actual grid template\n                                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"table\", {\n                                                                                    role: \"presentation\",\n                                                                                    width: \"100%\",\n                                                                                    cellPadding: 0,\n                                                                                    cellSpacing: 0,\n                                                                                    border: 0,\n                                                                                    align: \"center\",\n                                                                                    style: {\n                                                                                        margin: 0,\n                                                                                        padding: 0\n                                                                                    },\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tbody\", {\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tr\", {\n                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"td\", {\n                                                                                                align: \"center\",\n                                                                                                style: {\n                                                                                                    margin: 0,\n                                                                                                    padding: 0\n                                                                                                },\n                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"table\", {\n                                                                                                    role: \"presentation\",\n                                                                                                    width: \"100%\",\n                                                                                                    cellPadding: 0,\n                                                                                                    cellSpacing: 0,\n                                                                                                    border: 0,\n                                                                                                    style: {\n                                                                                                        maxWidth: 600,\n                                                                                                        margin: \"0 auto\",\n                                                                                                        background: \"#FFFFFF\",\n                                                                                                        padding: (()=>{\n                                                                                                            const p = getBodySectionPadding(section.id);\n                                                                                                            const allZero = p.top === 0 && p.right === 0 && p.bottom === 0 && p.left === 0;\n                                                                                                            const base = previewMode === \"mobile\" ? 12 : 25;\n                                                                                                            return allZero ? \"\".concat(base, \"px\") : \"\".concat(p.top, \"px \").concat(p.right, \"px \").concat(p.bottom, \"px \").concat(p.left, \"px\");\n                                                                                                        })()\n                                                                                                    },\n                                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tbody\", {\n                                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tr\", {\n                                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"td\", {\n                                                                                                                style: {\n                                                                                                                    padding: 0\n                                                                                                                },\n                                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"table\", {\n                                                                                                                    role: \"presentation\",\n                                                                                                                    width: \"100%\",\n                                                                                                                    cellPadding: 0,\n                                                                                                                    cellSpacing: 0,\n                                                                                                                    border: 0,\n                                                                                                                    style: {\n                                                                                                                        width: \"100%\",\n                                                                                                                        margin: 0,\n                                                                                                                        padding: 0\n                                                                                                                    },\n                                                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tbody\", {\n                                                                                                                        children: (()=>{\n                                                                                                                            const rows = (0,_lib_gridUtils__WEBPACK_IMPORTED_MODULE_10__.gridRowChunks)(section.products, 3);\n                                                                                                                            let baseIndex = 0;\n                                                                                                                            return rows.map((row, rowIdx)=>{\n                                                                                                                                const colCount = row.length;\n                                                                                                                                const percent = colCount === 3 ? \"33.333%\" : colCount === 2 ? \"50%\" : \"100%\";\n                                                                                                                                const cells = row.map((prod, innerIdx)=>{\n                                                                                                                                    const globalIdx = baseIndex + innerIdx;\n                                                                                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"td\", {\n                                                                                                                                        \"data-product-cell\": \"\".concat(section.id, \"-\").concat(globalIdx),\n                                                                                                                                        align: \"center\",\n                                                                                                                                        valign: \"top\",\n                                                                                                                                        style: {\n                                                                                                                                            padding: \"0 6px 0 6px\",\n                                                                                                                                            position: \"relative\",\n                                                                                                                                            cursor: \"pointer\",\n                                                                                                                                            overflow: \"hidden\",\n                                                                                                                                            width: percent\n                                                                                                                                        },\n                                                                                                                                        onClick: (e)=>{\n                                                                                                                                            setImageSelector({\n                                                                                                                                                sectionId: section.id,\n                                                                                                                                                productIdx: globalIdx\n                                                                                                                                            });\n                                                                                                                                            if (detectedPageType === \"collection\") {\n                                                                                                                                                setSelectedProductCtx({\n                                                                                                                                                    sectionId: section.id,\n                                                                                                                                                    index: globalIdx\n                                                                                                                                                });\n                                                                                                                                                setSummaryTab(1);\n                                                                                                                                            }\n                                                                                                                                            const cell = e.currentTarget;\n                                                                                                                                            cell.classList.remove(\"product-click-ripple\");\n                                                                                                                                            void cell.offsetWidth;\n                                                                                                                                            cell.classList.add(\"product-click-ripple\");\n                                                                                                                                        },\n                                                                                                                                        onMouseEnter: (e)=>{\n                                                                                                                                            const img = e.currentTarget.querySelector(\"img\");\n                                                                                                                                            const icon = e.currentTarget.querySelector(\".edit-icon\");\n                                                                                                                                            if (img) img.style.opacity = \"0.7\";\n                                                                                                                                            if (icon) icon.style.transform = \"translateY(-38px)\";\n                                                                                                                                        },\n                                                                                                                                        onMouseLeave: (e)=>{\n                                                                                                                                            const img = e.currentTarget.querySelector(\"img\");\n                                                                                                                                            const icon = e.currentTarget.querySelector(\".edit-icon\");\n                                                                                                                                            if (img) img.style.opacity = \"1\";\n                                                                                                                                            if (icon) icon.style.transform = \"translateY(0)\";\n                                                                                                                                        },\n                                                                                                                                        children: [\n                                                                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"img\", {\n                                                                                                                                                src: prod.image,\n                                                                                                                                                alt: prod.title || \"\",\n                                                                                                                                                style: {\n                                                                                                                                                    display: \"block\",\n                                                                                                                                                    width: \"100%\",\n                                                                                                                                                    height: \"auto\",\n                                                                                                                                                    border: 0,\n                                                                                                                                                    outline: 0,\n                                                                                                                                                    textDecoration: \"none\",\n                                                                                                                                                    transition: \"opacity 0.2s ease-in-out\"\n                                                                                                                                                }\n                                                                                                                                            }, void 0, false, {\n                                                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                                lineNumber: 5439,\n                                                                                                                                                columnNumber: 67\n                                                                                                                                            }, this),\n                                                                                                                                            prod.images && prod.images.length > 1 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                                                                                                className: \"edit-icon\",\n                                                                                                                                                style: {\n                                                                                                                                                    position: \"absolute\",\n                                                                                                                                                    bottom: -30,\n                                                                                                                                                    right: 8,\n                                                                                                                                                    backgroundColor: \"rgba(0,0,0,0.5)\",\n                                                                                                                                                    color: \"#ffffff\",\n                                                                                                                                                    borderRadius: \"50%\",\n                                                                                                                                                    padding: 4,\n                                                                                                                                                    display: \"flex\",\n                                                                                                                                                    alignItems: \"center\",\n                                                                                                                                                    justifyContent: \"center\",\n                                                                                                                                                    cursor: \"pointer\",\n                                                                                                                                                    transform: \"translateY(0)\",\n                                                                                                                                                    transition: \"transform 0.3s ease-in-out\"\n                                                                                                                                                },\n                                                                                                                                                onClick: (e)=>{\n                                                                                                                                                    e.stopPropagation();\n                                                                                                                                                    setImageSelector({\n                                                                                                                                                        sectionId: section.id,\n                                                                                                                                                        productIdx: globalIdx\n                                                                                                                                                    });\n                                                                                                                                                },\n                                                                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Edit__WEBPACK_IMPORTED_MODULE_46__[\"default\"], {\n                                                                                                                                                    style: {\n                                                                                                                                                        color: \"#fff\",\n                                                                                                                                                        fontSize: 16\n                                                                                                                                                    }\n                                                                                                                                                }, void 0, false, {\n                                                                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                                    lineNumber: 5464,\n                                                                                                                                                    columnNumber: 71\n                                                                                                                                                }, this)\n                                                                                                                                            }, void 0, false, {\n                                                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                                lineNumber: 5445,\n                                                                                                                                                columnNumber: 69\n                                                                                                                                            }, this)\n                                                                                                                                        ]\n                                                                                                                                    }, \"grid-\".concat(section.id, \"-\").concat(rowIdx, \"-\").concat(innerIdx), true, {\n                                                                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                        lineNumber: 5409,\n                                                                                                                                        columnNumber: 65\n                                                                                                                                    }, this);\n                                                                                                                                });\n                                                                                                                                baseIndex += row.length;\n                                                                                                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)((react__WEBPACK_IMPORTED_MODULE_2___default().Fragment), {\n                                                                                                                                    children: [\n                                                                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"table\", {\n                                                                                                                                            role: \"presentation\",\n                                                                                                                                            width: \"100%\",\n                                                                                                                                            cellPadding: 0,\n                                                                                                                                            cellSpacing: 0,\n                                                                                                                                            border: 0,\n                                                                                                                                            style: {\n                                                                                                                                                width: \"100%\",\n                                                                                                                                                margin: 0,\n                                                                                                                                                padding: 0\n                                                                                                                                            },\n                                                                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tbody\", {\n                                                                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tr\", {\n                                                                                                                                                    children: cells\n                                                                                                                                                }, void 0, false, {\n                                                                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                                    lineNumber: 5475,\n                                                                                                                                                    columnNumber: 69\n                                                                                                                                                }, this)\n                                                                                                                                            }, void 0, false, {\n                                                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                                lineNumber: 5474,\n                                                                                                                                                columnNumber: 67\n                                                                                                                                            }, this)\n                                                                                                                                        }, void 0, false, {\n                                                                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                            lineNumber: 5473,\n                                                                                                                                            columnNumber: 65\n                                                                                                                                        }, this),\n                                                                                                                                        rowIdx === rows.length - 1 ? null : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"table\", {\n                                                                                                                                            role: \"presentation\",\n                                                                                                                                            width: \"100%\",\n                                                                                                                                            cellPadding: 0,\n                                                                                                                                            cellSpacing: 0,\n                                                                                                                                            border: 0,\n                                                                                                                                            style: {\n                                                                                                                                                width: \"100%\",\n                                                                                                                                                margin: 0,\n                                                                                                                                                padding: 0\n                                                                                                                                            },\n                                                                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tbody\", {\n                                                                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tr\", {\n                                                                                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"td\", {\n                                                                                                                                                        style: {\n                                                                                                                                                            height: 12,\n                                                                                                                                                            fontSize: 0,\n                                                                                                                                                            lineHeight: \"12px\"\n                                                                                                                                                        },\n                                                                                                                                                        children: \"\\xa0\"\n                                                                                                                                                    }, void 0, false, {\n                                                                                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                                        lineNumber: 5481,\n                                                                                                                                                        columnNumber: 75\n                                                                                                                                                    }, this)\n                                                                                                                                                }, void 0, false, {\n                                                                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                                    lineNumber: 5481,\n                                                                                                                                                    columnNumber: 71\n                                                                                                                                                }, this)\n                                                                                                                                            }, void 0, false, {\n                                                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                                lineNumber: 5480,\n                                                                                                                                                columnNumber: 69\n                                                                                                                                            }, this)\n                                                                                                                                        }, void 0, false, {\n                                                                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                            lineNumber: 5479,\n                                                                                                                                            columnNumber: 67\n                                                                                                                                        }, this)\n                                                                                                                                    ]\n                                                                                                                                }, \"grid-wrap-\".concat(section.id, \"-\").concat(rowIdx), true, {\n                                                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                                    lineNumber: 5472,\n                                                                                                                                    columnNumber: 63\n                                                                                                                                }, this);\n                                                                                                                            });\n                                                                                                                        })()\n                                                                                                                    }, void 0, false, {\n                                                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                        lineNumber: 5399,\n                                                                                                                        columnNumber: 55\n                                                                                                                    }, this)\n                                                                                                                }, void 0, false, {\n                                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                    lineNumber: 5398,\n                                                                                                                    columnNumber: 53\n                                                                                                                }, this)\n                                                                                                            }, void 0, false, {\n                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                lineNumber: 5397,\n                                                                                                                columnNumber: 51\n                                                                                                            }, this)\n                                                                                                        }, void 0, false, {\n                                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                            lineNumber: 5396,\n                                                                                                            columnNumber: 49\n                                                                                                        }, this)\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                        lineNumber: 5395,\n                                                                                                        columnNumber: 47\n                                                                                                    }, this)\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                    lineNumber: 5394,\n                                                                                                    columnNumber: 45\n                                                                                                }, this)\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                lineNumber: 5393,\n                                                                                                columnNumber: 43\n                                                                                            }, this)\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                            lineNumber: 5392,\n                                                                                            columnNumber: 41\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                        lineNumber: 5391,\n                                                                                        columnNumber: 39\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                    lineNumber: 5390,\n                                                                                    columnNumber: 37\n                                                                                }, this),\n                                                                                imageSelector && imageSelector.sectionId === section.id && section.products[imageSelector.productIdx] && (()=>{\n                                                                                    // Limit backdrop to main area\n                                                                                    const mainPanel =  true ? document.querySelector(\"main\") : 0;\n                                                                                    const rect = (mainPanel === null || mainPanel === void 0 ? void 0 : mainPanel.getBoundingClientRect()) || undefined;\n                                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_shared_ImageSelector__WEBPACK_IMPORTED_MODULE_16__.ImageSelector, {\n                                                                                        images: section.products[imageSelector.productIdx].images || [],\n                                                                                        selected: section.products[imageSelector.productIdx].image,\n                                                                                        open: true,\n                                                                                        onSelect: (img)=>{\n                                                                                            updateProductInSection(section.id, imageSelector.productIdx, \"image\", img);\n                                                                                            setImageSelector(null);\n                                                                                        },\n                                                                                        onClose: ()=>setImageSelector(null),\n                                                                                        anchorRect: rect\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                        lineNumber: 5505,\n                                                                                        columnNumber: 41\n                                                                                    }, this);\n                                                                                })()\n                                                                            ]\n                                                                        }, void 0, true);\n                                                                    })() : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"table\", {\n                                                                            role: \"presentation\",\n                                                                            width: \"100%\",\n                                                                            cellPadding: 0,\n                                                                            cellSpacing: 0,\n                                                                            border: 0,\n                                                                            align: \"center\",\n                                                                            style: {\n                                                                                margin: 0,\n                                                                                padding: 0\n                                                                            },\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tbody\", {\n                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tr\", {\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"td\", {\n                                                                                        align: \"center\",\n                                                                                        style: {\n                                                                                            margin: 0,\n                                                                                            padding: 0\n                                                                                        },\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"table\", {\n                                                                                            role: \"presentation\",\n                                                                                            width: \"100%\",\n                                                                                            cellPadding: 0,\n                                                                                            cellSpacing: 0,\n                                                                                            border: 0,\n                                                                                            style: {\n                                                                                                maxWidth: 600,\n                                                                                                margin: \"0 auto\",\n                                                                                                background: \"#FFFFFF\",\n                                                                                                padding: (()=>{\n                                                                                                    const p = getBodySectionPadding(section.id);\n                                                                                                    const allZero = p.top === 0 && p.right === 0 && p.bottom === 0 && p.left === 0;\n                                                                                                    const base = previewMode === \"mobile\" ? 12 : 25;\n                                                                                                    // If user supplied any non-zero padding, always honor it even for feature templates.\n                                                                                                    if (!allZero) {\n                                                                                                        return \"\".concat(p.top, \"px \").concat(p.right, \"px \").concat(p.bottom, \"px \").concat(p.left, \"px\");\n                                                                                                    }\n                                                                                                    // Otherwise, for feature templates preserve previous behavior (outer wrapper padding 0) to avoid double padding.\n                                                                                                    if (section.selectedBodyId === \"product-image-left-copy-right\" || section.selectedBodyId === \"product-copy-left-image-right\") {\n                                                                                                        return 0;\n                                                                                                    }\n                                                                                                    return \"\".concat(base, \"px\");\n                                                                                                })()\n                                                                                            },\n                                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tbody\", {\n                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"tr\", {\n                                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"td\", {\n                                                                                                        style: {\n                                                                                                            padding: 0\n                                                                                                        },\n                                                                                                        children: section.products.map((prod, idx)=>{\n                                                                                                            // Alternate orientation across products for feature templates; start with the template's base orientation.\n                                                                                                            let orientation;\n                                                                                                            if (section.selectedBodyId === \"product-image-left-copy-right\") {\n                                                                                                                if (section.alternate === false) {\n                                                                                                                    orientation = \"left-image\";\n                                                                                                                } else {\n                                                                                                                    orientation = idx % 2 === 0 ? \"left-image\" : \"right-image\";\n                                                                                                                }\n                                                                                                            } else if (section.selectedBodyId === \"product-copy-left-image-right\") {\n                                                                                                                if (section.alternate === false) {\n                                                                                                                    orientation = \"right-image\";\n                                                                                                                } else {\n                                                                                                                    orientation = idx % 2 === 0 ? \"right-image\" : \"left-image\";\n                                                                                                                }\n                                                                                                            } else {\n                                                                                                                // Other templates: keep previous alternating fallback\n                                                                                                                orientation = idx % 2 === 0 ? \"left-image\" : \"right-image\";\n                                                                                                            }\n                                                                                                            // Choose description source for preview (per-product)\n                                                                                                            const dsPrev = prod.descSource || \"metadata\";\n                                                                                                            let chosenDescription = prod.description || \"\";\n                                                                                                            if (dsPrev === \"p\" && prod.descriptionP) {\n                                                                                                                chosenDescription = prod.descriptionP;\n                                                                                                            } else if (dsPrev === \"ul\" && prod.descriptionUl) {\n                                                                                                                chosenDescription = prod.descriptionUl;\n                                                                                                            } else if (dsPrev === \"metadata\") {\n                                                                                                                const meta = prod.metadataDescription || prod.originalMetadataDescription || \"\";\n                                                                                                                if (meta) chosenDescription = meta;\n                                                                                                            }\n                                                                                                            if (!chosenDescription) {\n                                                                                                                const meta = prod.metadataDescription || prod.originalMetadataDescription || \"\";\n                                                                                                                if (meta) chosenDescription = meta;\n                                                                                                            }\n                                                                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                                                                \"data-product-cell\": \"\".concat(section.id, \"-\").concat(idx),\n                                                                                                                className: \"product-module-wrapper\",\n                                                                                                                onClick: (e)=>{\n                                                                                                                    if (detectedPageType === \"collection\") {\n                                                                                                                        setSelectedProductCtx({\n                                                                                                                            sectionId: section.id,\n                                                                                                                            index: idx\n                                                                                                                        });\n                                                                                                                        setSummaryTab(1);\n                                                                                                                    }\n                                                                                                                    const cell = e.currentTarget;\n                                                                                                                    cell.classList.remove(\"product-click-ripple\");\n                                                                                                                    void cell.offsetWidth;\n                                                                                                                    cell.classList.add(\"product-click-ripple\");\n                                                                                                                },\n                                                                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_components_ProductTableModule__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                                                                                    product: {\n                                                                                                                        ...prod,\n                                                                                                                        description: chosenDescription\n                                                                                                                    },\n                                                                                                                    index: idx,\n                                                                                                                    total: section.products.length,\n                                                                                                                    featureTemplate: section.selectedBodyId === \"product-image-left-copy-right\" || section.selectedBodyId === \"product-copy-left-image-right\",\n                                                                                                                    orientation: orientation,\n                                                                                                                    templateId: section.selectedBodyId,\n                                                                                                                    updateProduct: (i, field, value)=>updateProductInSection(section.id, i, field, value),\n                                                                                                                    onActivate: ()=>{\n                                                                                                                        setOpenSection(\"body-\".concat(section.id));\n                                                                                                                        if (detectedPageType === \"collection\") {\n                                                                                                                            setSelectedProductCtx({\n                                                                                                                                sectionId: section.id,\n                                                                                                                                index: idx\n                                                                                                                            });\n                                                                                                                        // Removed auto switch to Product tab; user stays on Collection\n                                                                                                                        }\n                                                                                                                    },\n                                                                                                                    onProductFieldClick: ()=>{\n                                                                                                                        setShowBrandPanel(true);\n                                                                                                                        setSummaryTab(detectedPageType === \"collection\" ? 1 : 0);\n                                                                                                                    },\n                                                                                                                    ctaBg: brandPrimary,\n                                                                                                                    overlayContainerRef: previewRef,\n                                                                                                                    brandName: brandName,\n                                                                                                                    descSource: prod.descSource,\n                                                                                                                    onChangeDescSource: (src)=>updateProductInSection(section.id, idx, \"descSource\", src)\n                                                                                                                }, \"\".concat(section.id, \"-\").concat(idx), false, {\n                                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                    lineNumber: 5590,\n                                                                                                                    columnNumber: 35\n                                                                                                                }, this)\n                                                                                                            }, \"mod-\".concat(section.id, \"-\").concat(idx), false, {\n                                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                                lineNumber: 5580,\n                                                                                                                columnNumber: 35\n                                                                                                            }, this);\n                                                                                                        })\n                                                                                                    }, void 0, false, {\n                                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                        lineNumber: 5544,\n                                                                                                        columnNumber: 47\n                                                                                                    }, this)\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                    lineNumber: 5543,\n                                                                                                    columnNumber: 45\n                                                                                                }, this)\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                                lineNumber: 5542,\n                                                                                                columnNumber: 43\n                                                                                            }, this)\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                            lineNumber: 5528,\n                                                                                            columnNumber: 41\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                        lineNumber: 5527,\n                                                                                        columnNumber: 39\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                    lineNumber: 5526,\n                                                                                    columnNumber: 37\n                                                                                }, this)\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                lineNumber: 5525,\n                                                                                columnNumber: 35\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                            lineNumber: 5524,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    }, void 0, false)\n                                                                ]\n                                                            }, id, true, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 5342,\n                                                                columnNumber: 27\n                                                            }, this);\n                                                        }\n                                                        return null;\n                                                    }),\n                                                    showFooterSection && (loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Skeleton__WEBPACK_IMPORTED_MODULE_56__[\"default\"], {\n                                                        variant: \"rectangular\",\n                                                        animation: skelAnim,\n                                                        sx: {\n                                                            mb: 2,\n                                                            width: \"100%\",\n                                                            maxWidth: 600,\n                                                            mx: \"auto\",\n                                                            height: 80,\n                                                            borderRadius: 2,\n                                                            boxShadow: \"var(--shadow-light)\",\n                                                            paddingTop: \"\".concat((_footerPadding_top = footerPadding.top) !== null && _footerPadding_top !== void 0 ? _footerPadding_top : 0, \"px\"),\n                                                            paddingBottom: \"\".concat((_footerPadding_bottom = footerPadding.bottom) !== null && _footerPadding_bottom !== void 0 ? _footerPadding_bottom : 0, \"px\")\n                                                        }\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5636,\n                                                        columnNumber: 25\n                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                        \"data-section\": \"footer\",\n                                                        onClick: ()=>setOpenSection(\"footer\"),\n                                                        style: {\n                                                            position: \"relative\"\n                                                        },\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                            onMouseDown: handleFooterRippleMouseDown,\n                                                            onMouseUp: handleFooterRippleMouseUp,\n                                                            onMouseLeave: handleFooterRippleMouseLeave,\n                                                            style: {\n                                                                maxWidth: 600,\n                                                                width: \"100%\",\n                                                                margin: \"0 auto\",\n                                                                position: \"relative\",\n                                                                overflow: \"hidden\",\n                                                                background: \"#FFFFFF\",\n                                                                color: \"var(--color-accent)\"\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                    style: {\n                                                                        position: \"absolute\",\n                                                                        inset: 0,\n                                                                        pointerEvents: \"none\"\n                                                                    },\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_ButtonBase_TouchRipple__WEBPACK_IMPORTED_MODULE_67__[\"default\"], {\n                                                                        ref: footerRippleRef,\n                                                                        center: false\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                        lineNumber: 5669,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 5668,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                                                    dangerouslySetInnerHTML: {\n                                                                        __html: footerHtml\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 5671,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 5654,\n                                                            columnNumber: 27\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                        lineNumber: 5652,\n                                                        columnNumber: 25\n                                                    }, this))\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                lineNumber: 5104,\n                                                columnNumber: 21\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 5080,\n                                            columnNumber: 19\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"div\", {\n                                            className: \"code-accordion\",\n                                            style: {\n                                                display: \"flex\",\n                                                flexDirection: \"column\",\n                                                gap: \"var(--gap-2)\"\n                                            },\n                                            children: codeSections.map((section)=>{\n                                                const isOpen = openCodeSections[section.key] !== false;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Paper__WEBPACK_IMPORTED_MODULE_58__[\"default\"], {\n                                                    variant: \"outlined\",\n                                                    square: true,\n                                                    sx: {\n                                                        bgcolor: \"background.paper\",\n                                                        borderColor: \"divider\"\n                                                    },\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                            className: \"code-section-header\",\n                                                            onClick: ()=>toggleCodeSection(section.key),\n                                                            sx: {\n                                                                display: \"flex\",\n                                                                alignItems: \"center\",\n                                                                justifyContent: \"space-between\",\n                                                                cursor: \"pointer\",\n                                                                px: 2,\n                                                                py: 1,\n                                                                bgcolor: \"background.paper\",\n                                                                borderBottom: \"1px solid\",\n                                                                borderColor: \"divider\",\n                                                                \"&:hover\": {\n                                                                    bgcolor: \"action.hover\"\n                                                                }\n                                                            },\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                                                    variant: \"body2\",\n                                                                    sx: {\n                                                                        fontWeight: 600\n                                                                    },\n                                                                    children: section.title\n                                                                }, void 0, false, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 5700,\n                                                                    columnNumber: 29\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                                    className: \"code-actions\",\n                                                                    sx: {\n                                                                        display: \"flex\",\n                                                                        alignItems: \"center\",\n                                                                        gap: 1\n                                                                    },\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                            onClick: (e)=>{\n                                                                                e.stopPropagation();\n                                                                                toggleCodeSection(section.key);\n                                                                            },\n                                                                            title: isOpen ? \"Collapse section\" : \"Expand section\",\n                                                                            children: isOpen ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ExpandLess__WEBPACK_IMPORTED_MODULE_57__[\"default\"], {}, void 0, false, {\n                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                lineNumber: 5705,\n                                                                                columnNumber: 43\n                                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ExpandMore__WEBPACK_IMPORTED_MODULE_50__[\"default\"], {}, void 0, false, {\n                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                lineNumber: 5705,\n                                                                                columnNumber: 64\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                            lineNumber: 5704,\n                                                                            columnNumber: 31\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_IconButton__WEBPACK_IMPORTED_MODULE_32__[\"default\"], {\n                                                                            onClick: (e)=>{\n                                                                                e.stopPropagation();\n                                                                                copyToClipboard(section.code);\n                                                                                addNotification(\"Code copied!\");\n                                                                            },\n                                                                            title: \"Copy code to clipboard\",\n                                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_ContentCopy__WEBPACK_IMPORTED_MODULE_44__[\"default\"], {}, void 0, false, {\n                                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                                lineNumber: 5708,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                            lineNumber: 5707,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                    lineNumber: 5703,\n                                                                    columnNumber: 29\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 5684,\n                                                            columnNumber: 27\n                                                        }, this),\n                                                        isOpen && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                                                            component: \"pre\",\n                                                            sx: {\n                                                                m: 0,\n                                                                maxHeight: 200,\n                                                                overflowY: \"auto\",\n                                                                overflowX: \"hidden\",\n                                                                bgcolor: \"background.paper\",\n                                                                color: \"text.primary\",\n                                                                px: 2,\n                                                                py: 1,\n                                                                fontFamily: 'Menlo, Monaco, Consolas, \"Courier New\", monospace',\n                                                                whiteSpace: \"pre-wrap\",\n                                                                wordBreak: \"break-word\",\n                                                                overflowWrap: \"anywhere\",\n                                                                borderLeft: \"3px solid\",\n                                                                borderColor: \"divider\"\n                                                            },\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"code\", {\n                                                                dangerouslySetInnerHTML: {\n                                                                    __html: highlight(section.code)\n                                                                }\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                                lineNumber: 5732,\n                                                                columnNumber: 31\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                            lineNumber: 5713,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, section.key, true, {\n                                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                                    lineNumber: 5683,\n                                                    columnNumber: 25\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                            lineNumber: 5679,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 5047,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 4952,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 3694,\n                        columnNumber: 9\n                    }, this),\n                    viewMode === \"preview\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Box__WEBPACK_IMPORTED_MODULE_28__[\"default\"], {\n                        \"aria-hidden\": false,\n                        sx: {\n                            position: \"fixed\",\n                            zIndex: (theme)=>theme.zIndex.tooltip + 2,\n                            bottom: 16,\n                            right: \"calc(var(--right-panel-offset, 0px) + 16px)\"\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_SpeedDial__WEBPACK_IMPORTED_MODULE_68__[\"default\"], {\n                            ariaLabel: \"Preview quick actions\",\n                            open: speedDialOpen,\n                            onClose: ()=>setSpeedDialOpen(false),\n                            icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_SpeedDialIcon__WEBPACK_IMPORTED_MODULE_69__[\"default\"], {\n                                icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_SvgIcon__WEBPACK_IMPORTED_MODULE_63__[\"default\"], {\n                                    sx: {\n                                        fontSize: 28,\n                                        width: 28,\n                                        height: 28\n                                    },\n                                    viewBox: \"0 0 24 24\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(\"path\", {\n                                        d: \"M11 5h2v14h-2zM5 11h14v2H5z\"\n                                    }, void 0, false, void 0, void 0)\n                                }, void 0, false, void 0, void 0),\n                                openIcon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Close__WEBPACK_IMPORTED_MODULE_34__[\"default\"], {\n                                    sx: {\n                                        fontSize: 28,\n                                        width: 28,\n                                        height: 28\n                                    }\n                                }, void 0, false, void 0, void 0),\n                                sx: {\n                                    \"& .MuiSpeedDialIcon-openIcon\": {\n                                        fontSize: 28,\n                                        width: 28,\n                                        height: 28\n                                    }\n                                }\n                            }, void 0, false, void 0, void 0),\n                            FabProps: {\n                                onClick: ()=>setSpeedDialOpen((o)=>!o),\n                                sx: {\n                                    bgcolor: \"var(--color-primary)\",\n                                    color: \"#fff\",\n                                    \"&:hover\": {\n                                        bgcolor: \"var(--color-primary-dark)\",\n                                        color: \"#fff\"\n                                    }\n                                }\n                            },\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_SpeedDialAction__WEBPACK_IMPORTED_MODULE_70__[\"default\"], {\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Add__WEBPACK_IMPORTED_MODULE_47__[\"default\"], {\n                                        sx: {\n                                            fontSize: 28,\n                                            width: 28,\n                                            height: 28\n                                        }\n                                    }, void 0, false, void 0, void 0),\n                                    tooltipTitle: \"Build New EDM\",\n                                    \"aria-label\": \"Build New EDM\",\n                                    FabProps: {\n                                        sx: {\n                                            bgcolor: \"var(--color-primary)\",\n                                            color: \"#fff\",\n                                            \"&:hover\": {\n                                                bgcolor: \"var(--color-primary-dark)\",\n                                                color: \"#fff\"\n                                            }\n                                        }\n                                    },\n                                    onClick: ()=>{\n                                        setConfirmNewOpen(true);\n                                        setSpeedDialOpen(false);\n                                    }\n                                }, \"new-edm\", false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 5779,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_SpeedDialAction__WEBPACK_IMPORTED_MODULE_70__[\"default\"], {\n                                    icon: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_icons_material_Download__WEBPACK_IMPORTED_MODULE_71__[\"default\"], {}, void 0, false, void 0, void 0),\n                                    tooltipTitle: \"Download\",\n                                    \"aria-label\": \"Download EDM HTML\",\n                                    FabProps: {\n                                        sx: {\n                                            bgcolor: \"var(--color-primary)\",\n                                            color: \"#fff\",\n                                            \"&:hover\": {\n                                                bgcolor: \"var(--color-primary-dark)\",\n                                                color: \"#fff\"\n                                            }\n                                        }\n                                    },\n                                    onClick: ()=>{\n                                        downloadAsFile(\"edm_espresso.html\", finalHtml);\n                                        setSpeedDialOpen(false);\n                                    }\n                                }, \"download-edm\", false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 5793,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                            lineNumber: 5755,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 5746,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Snackbar__WEBPACK_IMPORTED_MODULE_72__[\"default\"], {\n                        open: snackbarOpen,\n                        autoHideDuration: 3000,\n                        onClose: ()=>setSnackbarOpen(false),\n                        message: snackbarMsg,\n                        anchorOrigin: {\n                            vertical: \"bottom\",\n                            horizontal: \"left\"\n                        }\n                    }, void 0, false, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 5813,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Dialog__WEBPACK_IMPORTED_MODULE_73__[\"default\"], {\n                        open: confirmNewOpen,\n                        onClose: ()=>setConfirmNewOpen(false),\n                        \"aria-labelledby\": \"confirm-new-edm-title\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_DialogTitle__WEBPACK_IMPORTED_MODULE_74__[\"default\"], {\n                                id: \"confirm-new-edm-title\",\n                                children: \"Start a new EDM?\"\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 5823,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_DialogContent__WEBPACK_IMPORTED_MODULE_75__[\"default\"], {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Typography__WEBPACK_IMPORTED_MODULE_35__[\"default\"], {\n                                    variant: \"body2\",\n                                    color: \"text.secondary\",\n                                    children: \"This will clear your current draft, URLs, and generated sections. You canât undo this action.\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                    lineNumber: 5825,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 5824,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_DialogActions__WEBPACK_IMPORTED_MODULE_76__[\"default\"], {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                        onClick: ()=>setConfirmNewOpen(false),\n                                        children: \"Cancel\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 5830,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxDEV)(_mui_material_Button__WEBPACK_IMPORTED_MODULE_49__[\"default\"], {\n                                        variant: \"contained\",\n                                        color: \"primary\",\n                                        onClick: ()=>{\n                                            setConfirmNewOpen(false);\n                                            resetAllState();\n                                        },\n                                        children: \"Confirm reset\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                        lineNumber: 5831,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                                lineNumber: 5829,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                        lineNumber: 5822,\n                        columnNumber: 3\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/dariocrucitti/Documents/GitHub/EDM_Espresso_W_FrameWork/pages/index.tsx\",\n                lineNumber: 3693,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s2(Home, \"IxJ1kYZuPBfJmys3rO8kpqsuE6k=\", false, function() {\n    return [\n        _dnd_kit_core__WEBPACK_IMPORTED_MODULE_23__.useSensors,\n        _lib_useLiveEditable__WEBPACK_IMPORTED_MODULE_3__.useLiveEditable\n    ];\n});\n_c3 = Home;\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"SortableUrlRow\");\n$RefreshReg$(_c1, \"ProductUrlFieldsImpl\");\n$RefreshReg$(_c2, \"ProductUrlFields\");\n$RefreshReg$(_c3, \"Home\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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REFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRYjtJQWx2S3dCbHFCOztRQWdJTmhKLHNEQUFVQTtRQXFtRDFCL0UsaUVBQWVBOzs7TUFydURPK04iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vcGFnZXMvaW5kZXgudHN4PzA3ZmYiXSwic291cmNlc0NvbnRlbnQiOlsiICAvLyAuLi5leGlzdGluZyBjb2RlLi4uXG5cbi8vIC4uLmV4aXN0aW5nIGNvZGUuLi5cbi8vIC4uLmV4aXN0aW5nIGNvZGUuLi5cblxuICAvLyAuLi5leGlzdGluZyBjb2RlLi4uXG4gIC8vIFBsYWNlIHRoaXMgYWZ0ZXIgYm9keVNlY3Rpb25zIGFuZCBnZW5lcmF0ZVNlY3Rpb24gYXJlIGRlZmluZWRcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYsIFJlYWN0Tm9kZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMaXZlRWRpdGFibGUgfSBmcm9tICcuLi9saWIvdXNlTGl2ZUVkaXRhYmxlJztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5pbXBvcnQgU2VjdGlvbkFjY29yZGlvbiBmcm9tICcuLi9jb21wb25lbnRzL3NoYXJlZC9TZWN0aW9uQWNjb3JkaW9uJztcbmltcG9ydCBBcHBMYXlvdXQgZnJvbSAnLi4vY29tcG9uZW50cy9BcHBMYXlvdXQnO1xuaW1wb3J0IExhYmVsZWRTZWxlY3QgZnJvbSAnLi4vY29tcG9uZW50cy9zaGFyZWQvTGFiZWxlZFNlbGVjdCc7XG5pbXBvcnQgU2tlbGV0b24gZnJvbSAnQG11aS9tYXRlcmlhbC9Ta2VsZXRvbic7XG5pbXBvcnQgU3dpdGNoIGZyb20gJ0BtdWkvbWF0ZXJpYWwvU3dpdGNoJztcbmltcG9ydCBGb3JtQ29udHJvbExhYmVsIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRm9ybUNvbnRyb2xMYWJlbCc7XG5pbXBvcnQgU25hY2tiYXIgZnJvbSAnQG11aS9tYXRlcmlhbC9TbmFja2Jhcic7XG4vLyBNVUkgY29tcG9uZW50cyBmb3IgQnJhbmQgQ3VzdG9taXNhdGlvbiBwYW5lbFxuLy8gaW1wb3J0IERyYXdlciBmcm9tICdAbXVpL21hdGVyaWFsL0RyYXdlcic7XG5pbXBvcnQgVHlwb2dyYXBoeSBmcm9tICdAbXVpL21hdGVyaWFsL1R5cG9ncmFwaHknO1xuaW1wb3J0IEJveCBmcm9tICdAbXVpL21hdGVyaWFsL0JveCc7XG5pbXBvcnQgU3RhY2sgZnJvbSAnQG11aS9tYXRlcmlhbC9TdGFjayc7XG4vLyBSZW1vdmVkIG1vZGFsLWJhc2VkIHdpemFyZCwgdGhlc2UgaW1wb3J0cyBhcmUgbm8gbG9uZ2VyIHVzZWRcbi8vIGltcG9ydCBGb3JtQ29udHJvbCBmcm9tICdAbXVpL21hdGVyaWFsL0Zvcm1Db250cm9sJztcbi8vIGltcG9ydCBEaWFsb2cgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2cnO1xuLy8gaW1wb3J0IERpYWxvZ1RpdGxlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nVGl0bGUnO1xuLy8gaW1wb3J0IERpYWxvZ0NvbnRlbnQgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2dDb250ZW50Jztcbi8vIGltcG9ydCBEaWFsb2dBY3Rpb25zIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nQWN0aW9ucyc7XG5pbXBvcnQgQ29sbGFwc2UgZnJvbSAnQG11aS9tYXRlcmlhbC9Db2xsYXBzZSc7XG4vLyBHcmlkIHJlbW92ZWQ7IHVzaW5nIEJveCB3aXRoIENTUyBncmlkIGZvciBsYXlvdXRcbi8vIGltcG9ydCBDYXJkIGZyb20gJ0BtdWkvbWF0ZXJpYWwvQ2FyZCc7XG4vLyBpbXBvcnQgQ2FyZENvbnRlbnQgZnJvbSAnQG11aS9tYXRlcmlhbC9DYXJkQ29udGVudCc7XG4vLyBpbXBvcnQgQ2FyZE1lZGlhIGZyb20gJ0BtdWkvbWF0ZXJpYWwvQ2FyZE1lZGlhJztcbi8vIGltcG9ydCBDaGVja2JveCBmcm9tICdAbXVpL21hdGVyaWFsL0NoZWNrYm94Jztcbi8vIGltcG9ydCBGb3JtQ29udHJvbExhYmVsIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRm9ybUNvbnRyb2xMYWJlbCc7XG4vLyBpbXBvcnQgSW5wdXRMYWJlbCBmcm9tICdAbXVpL21hdGVyaWFsL0lucHV0TGFiZWwnO1xuLy8gaW1wb3J0IFNlbGVjdCBmcm9tICdAbXVpL21hdGVyaWFsL1NlbGVjdCc7XG5pbXBvcnQgTWVudUl0ZW0gZnJvbSAnQG11aS9tYXRlcmlhbC9NZW51SXRlbSc7XG5pbXBvcnQgTWVudSBmcm9tICdAbXVpL21hdGVyaWFsL01lbnUnO1xuaW1wb3J0IExpc3RJdGVtSWNvbiBmcm9tICdAbXVpL21hdGVyaWFsL0xpc3RJdGVtSWNvbic7XG5pbXBvcnQgTGlzdEl0ZW1UZXh0IGZyb20gJ0BtdWkvbWF0ZXJpYWwvTGlzdEl0ZW1UZXh0JztcbmltcG9ydCBUZXh0RmllbGQgZnJvbSAnQG11aS9tYXRlcmlhbC9UZXh0RmllbGQnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdAbXVpL21hdGVyaWFsL0J1dHRvbic7XG5pbXBvcnQgSWNvbkJ1dHRvbiBmcm9tICdAbXVpL21hdGVyaWFsL0ljb25CdXR0b24nO1xuaW1wb3J0IERpdmlkZXIgZnJvbSAnQG11aS9tYXRlcmlhbC9EaXZpZGVyJztcbmltcG9ydCBUYWJzIGZyb20gJ0BtdWkvbWF0ZXJpYWwvVGFicyc7XG5pbXBvcnQgeyBEYXRhR3JpZCwgR3JpZENvbERlZiB9IGZyb20gJ0BtdWkveC1kYXRhLWdyaWQnO1xuaW1wb3J0IFRhYiBmcm9tICdAbXVpL21hdGVyaWFsL1RhYic7XG5pbXBvcnQgQ2lyY3VsYXJQcm9ncmVzcyBmcm9tICdAbXVpL21hdGVyaWFsL0NpcmN1bGFyUHJvZ3Jlc3MnO1xuLy8gUGFkZGluZyB0b2dnbGVzIHJlbW92ZWRcbmltcG9ydCBQYXBlciBmcm9tICdAbXVpL21hdGVyaWFsL1BhcGVyJztcbmltcG9ydCBUb29sdGlwIGZyb20gJ0BtdWkvbWF0ZXJpYWwvVG9vbHRpcCc7XG4vLyBpbXBvcnQgQ2xvc2VJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ2xvc2UnO1xuaW1wb3J0IHsgTXVpQ29sb3JJbnB1dCB9IGZyb20gJ211aS1jb2xvci1pbnB1dCc7XG5pbXBvcnQgSW5wdXRBZG9ybm1lbnQgZnJvbSAnQG11aS9tYXRlcmlhbC9JbnB1dEFkb3JubWVudCc7XG4vLyBSZW1vdmVkIHBhZGRpbmcgY29udHJvbHNcbmltcG9ydCBTdmdJY29uIGZyb20gJ0BtdWkvbWF0ZXJpYWwvU3ZnSWNvbic7XG5pbXBvcnQgeyBzdHlsZWQgfSBmcm9tICdAbXVpL21hdGVyaWFsL3N0eWxlcyc7XG4vLyBpbXBvcnQgQmFja2Ryb3AgZnJvbSAnQG11aS9tYXRlcmlhbC9CYWNrZHJvcCc7XG4vLyBpbXBvcnQgSW1hZ2VMaXN0IGZyb20gJ0BtdWkvbWF0ZXJpYWwvSW1hZ2VMaXN0Jztcbi8vIGltcG9ydCBJbWFnZUxpc3RJdGVtIGZyb20gJ0BtdWkvbWF0ZXJpYWwvSW1hZ2VMaXN0SXRlbSc7XG4vLyBpbXBvcnQgVG9nZ2xlQnV0dG9uIGZyb20gJ0BtdWkvbWF0ZXJpYWwvVG9nZ2xlQnV0dG9uJztcbi8vIGltcG9ydCBUb2dnbGVCdXR0b25Hcm91cCBmcm9tICdAbXVpL21hdGVyaWFsL1RvZ2dsZUJ1dHRvbkdyb3VwJztcbmltcG9ydCB7XG4gIGRlZmF1bHRUZW1wbGF0ZXMgYXMgZGVmYXVsdEJvZHlUZW1wbGF0ZXMsXG4gIFRlbXBsYXRlIGFzIEJvZHlUZW1wbGF0ZSxcbiAgcmVuZGVyVGVtcGxhdGVcbn0gZnJvbSAnLi4vZGF0YS90ZW1wbGF0ZXMnO1xuLy8gY2h1bmtHcmlkIG5vIGxvbmdlciBuZWVkZWQgZGlyZWN0bHkgaGVyZTsgZ3JpZCBoZWxwZXJzIGNlbnRyYWxpc2VkIGluIGdyaWRVdGlsc1xuaW1wb3J0IHsgZ3JpZFJvd0NodW5rcywgYnVpbGRHcmlkUm93c0h0bWwgfSBmcm9tICdAbGliL2dyaWRVdGlscyc7XG5pbXBvcnQge1xuICBkZWZhdWx0SGVhZGVyVGVtcGxhdGVzLFxuICBIZWFkZXJUZW1wbGF0ZVxufSBmcm9tICcuLi9kYXRhL2hlYWRlclRlbXBsYXRlcyc7XG5pbXBvcnQge1xuICBkZWZhdWx0Rm9vdGVyVGVtcGxhdGVzLFxuICBGb290ZXJUZW1wbGF0ZVxufSBmcm9tICcuLi9kYXRhL2Zvb3RlclRlbXBsYXRlcyc7XG5pbXBvcnQge1xuICBkZWZhdWx0SGVyb1RlbXBsYXRlcyxcbiAgSGVyb1RlbXBsYXRlXG59IGZyb20gJy4uL2RhdGEvaGVyb1RlbXBsYXRlcyc7XG5pbXBvcnQgeyBQUk9EVUNUX1NFQ1RJT05fUEFERElOR19ERVNLVE9QLCBQUk9EVUNUX1NFQ1RJT05fUEFERElOR19NT0JJTEUgfSBmcm9tICcuLi9saWIvY29uc3RhbnRzJztcbmltcG9ydCB7XG4gIGRlZmF1bHRCYW5uZXJUZW1wbGF0ZXMsXG4gIEJhbm5lclRlbXBsYXRlXG59IGZyb20gJy4uL2RhdGEvYmFubmVyVGVtcGxhdGVzJztcbmltcG9ydCB7IFByb2R1Y3REYXRhIH0gZnJvbSAnLi4vbGliL3R5cGVzJztcbi8vIEltcG9ydCBpbnRlcmFjdGl2ZSBtb2R1bGVzIGZvciBwcmV2aWV3LiBQcm9kdWN0VGFibGVNb2R1bGUgcmVuZGVyc1xuLy8gZWFjaCBwcm9kdWN0IG1vZHVsZSB3aXRoIGlubGluZSBlZGl0aW5nIGFuZCBpbWFnZSBzZWxlY3Rpb24uIFRoZVxuLy8gSGVyb1RhYmxlTW9kdWxlIHJlbmRlcnMgdGhlIGhlcm8gc2VjdGlvbiB3aXRoIGltYWdlIHNlbGVjdGlvbi5cbmltcG9ydCBQcm9kdWN0VGFibGVNb2R1bGUgZnJvbSAnLi4vY29tcG9uZW50cy9Qcm9kdWN0VGFibGVNb2R1bGUnO1xuaW1wb3J0IHsgSW1hZ2VTZWxlY3RvciB9IGZyb20gJy4uL2NvbXBvbmVudHMvc2hhcmVkL0ltYWdlU2VsZWN0b3InO1xuaW1wb3J0IFJpY2hUZXh0RmllbGQgZnJvbSAnLi4vY29tcG9uZW50cy9zaGFyZWQvUmljaFRleHRGaWVsZCc7XG5pbXBvcnQgSGVyb1RhYmxlTW9kdWxlIGZyb20gJy4uL2NvbXBvbmVudHMvSGVyb1RhYmxlTW9kdWxlJztcbmltcG9ydCBQYWRkaW5nQ29udHJvbHMsIHsgUGFkZGluZyBhcyBQYWRkaW5nVmFsdWUgfSBmcm9tICcuLi9jb21wb25lbnRzL3NoYXJlZC9QYWRkaW5nQ29udHJvbHMnO1xuaW1wb3J0IHsgdW5pcXVlSW1hZ2VzLCBub3JtYWxpemVJbWFnZSB9IGZyb20gJy4uL2xpYi9pbWFnZVV0aWxzJztcbmltcG9ydCB7IHNhbml0aXplRW1haWxIdG1sLCBzYW5pdGl6ZUlubGluZUh0bWwsIG5vcm1hbGl6ZUxpc3RIdG1sLCBub3JtYWxpemVGb250Q29sb3JIdG1sIH0gZnJvbSAnLi4vbGliL3Nhbml0aXplJztcbmltcG9ydCB7IGlubGluZUh0bWxUb1BhcmFncmFwaEh0bWwgfSBmcm9tICcuLi9saWIvaHRtbFV0aWxzJztcbi8vIFByb2R1Y3RUYWJsZU1vZHVsZSB3YXMgdXNlZCBmb3IgYW4gaW50ZXJhY3RpdmUgcHJldmlldyBpbiBlYXJsaWVyIHZlcnNpb25zLiBXaGVuXG4vLyByZW5kZXJpbmcgdmlhIE9wdGlvbsKgQSB0aGUgcHJldmlldyB1c2VzIHRoZSBjb21waWxlZCBIVE1MIGRpcmVjdGx5IHNvIHdlXG4vLyBubyBsb25nZXIgaW1wb3J0IG9yIHVzZSBQcm9kdWN0VGFibGVNb2R1bGUgaGVyZS5cblxuLy8gTVVJIEljb25zXG5pbXBvcnQgQ29udGVudENvcHlJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ29udGVudENvcHknO1xuaW1wb3J0IENvZGVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ29kZSc7XG5pbXBvcnQgVmlzaWJpbGl0eUljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9WaXNpYmlsaXR5JztcbmltcG9ydCBBZGRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQWRkJztcbmltcG9ydCBDbG9zZUljb24yIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvQ2xvc2UnO1xuaW1wb3J0IFNhdmVJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvU2F2ZSc7XG5pbXBvcnQgRWRpdEljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9FZGl0Jztcbi8vIGltcG9ydCBTZXR0aW5nc0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9TZXR0aW5ncyc7XG5pbXBvcnQgRGVsZXRlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0RlbGV0ZSc7XG5pbXBvcnQgRXhwYW5kTGVzc0ljb24gZnJvbSAnQG11aS9pY29ucy1tYXRlcmlhbC9FeHBhbmRMZXNzJztcbmltcG9ydCBFeHBhbmRNb3JlSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0V4cGFuZE1vcmUnO1xuaW1wb3J0IERyYWdJbmRpY2F0b3JJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRHJhZ0luZGljYXRvcic7XG5pbXBvcnQgT3BlbkluTmV3SWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL09wZW5Jbk5ldyc7XG5pbXBvcnQgTW9yZVZlcnRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvTW9yZVZlcnQnO1xuaW1wb3J0IEFycm93VXB3YXJkSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93VXB3YXJkJztcbmltcG9ydCBBcnJvd0Rvd253YXJkSWNvbiBmcm9tICdAbXVpL2ljb25zLW1hdGVyaWFsL0Fycm93RG93bndhcmQnO1xuLy8gU3BlZWREaWFsXG5pbXBvcnQgU3BlZWREaWFsIGZyb20gJ0BtdWkvbWF0ZXJpYWwvU3BlZWREaWFsJztcbmltcG9ydCBTcGVlZERpYWxBY3Rpb24gZnJvbSAnQG11aS9tYXRlcmlhbC9TcGVlZERpYWxBY3Rpb24nO1xuaW1wb3J0IFNwZWVkRGlhbEljb24gZnJvbSAnQG11aS9tYXRlcmlhbC9TcGVlZERpYWxJY29uJztcbmltcG9ydCBEaWFsb2cgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2cnO1xuaW1wb3J0IERpYWxvZ1RpdGxlIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nVGl0bGUnO1xuaW1wb3J0IERpYWxvZ0NvbnRlbnQgZnJvbSAnQG11aS9tYXRlcmlhbC9EaWFsb2dDb250ZW50JztcbmltcG9ydCBEaWFsb2dBY3Rpb25zIGZyb20gJ0BtdWkvbWF0ZXJpYWwvRGlhbG9nQWN0aW9ucyc7XG5pbXBvcnQgRG93bmxvYWRJY29uIGZyb20gJ0BtdWkvaWNvbnMtbWF0ZXJpYWwvRG93bmxvYWQnO1xuLy8gRmxvYXRpbmcgZm9ybWF0dGluZyBpY29ucyByZW1vdmVkIGZvciBwcmV2aWV3IGNvcHktb25seSBiZWhhdmlvclxuaW1wb3J0IHtcbiAgRG5kQ29udGV4dCxcbiAgY2xvc2VzdENlbnRlcixcbiAgUG9pbnRlclNlbnNvcixcbiAgdXNlU2Vuc29yLFxuICB1c2VTZW5zb3JzLFxuICBEcmFnRW5kRXZlbnRcbn0gZnJvbSAnQGRuZC1raXQvY29yZSc7XG5pbXBvcnQge1xuICBhcnJheU1vdmUsXG4gIFNvcnRhYmxlQ29udGV4dCxcbiAgdmVydGljYWxMaXN0U29ydGluZ1N0cmF0ZWd5LFxuICB1c2VTb3J0YWJsZVxufSBmcm9tICdAZG5kLWtpdC9zb3J0YWJsZSc7XG5pbXBvcnQgeyByZXN0cmljdFRvVmVydGljYWxBeGlzIH0gZnJvbSAnQGRuZC1raXQvbW9kaWZpZXJzJztcbmltcG9ydCB7IENTUyB9IGZyb20gJ0BkbmQta2l0L3V0aWxpdGllcyc7XG5pbXBvcnQgSHRtbFRodW1ibmFpbCBmcm9tICcuLi9jb21wb25lbnRzL3NoYXJlZC9IdG1sVGh1bWJuYWlsJztcbi8vIFVzZSBNVUkncyBpbnRlcm5hbCByaXBwbGUgY29tcG9uZW50IHRvIHByb3ZpZGUgdmlzdWFsIGZlZWRiYWNrIGluIHByZXZpZXdcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXNcbmltcG9ydCBUb3VjaFJpcHBsZSBmcm9tICdAbXVpL21hdGVyaWFsL0J1dHRvbkJhc2UvVG91Y2hSaXBwbGUnO1xuLy8gUHJpc21KUyBpcyBsb2FkZWQgZHluYW1pY2FsbHkgb24gdGhlIGNsaWVudC4gV2UgYXZvaWQgaW1wb3J0aW5nIGl0IGF0XG4vLyB0aGUgdG9wIGxldmVsIGJlY2F1c2UgdGhhdCBjYW4gY2F1c2UgaXNzdWVzIHdpdGggc2VydmVy4oCRc2lkZVxuLy8gcmVuZGVyaW5nIGluIE5leHQuanMuIEluc3RlYWQgd2UgbG9hZCBpdCBpbiBhIHVzZUVmZmVjdCBob29rIGFuZFxuLy8gc3RvcmUgdGhlIHJlZmVyZW5jZSBpbiBhIHJlZi4gU2VlIHRoZSBoaWdobGlnaHQoKSBoZWxwZXIgYmVsb3cuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4vLyAoUHJpc20gaXMgaW50ZW50aW9uYWxseSBub3QgaW1wb3J0ZWQgaGVyZSlcblxuLy8gRm9udEF3ZXNvbWUgaWNvbnMgZm9yIHRoZSBjb3B5IGJ1dHRvbi4gVGhlIGljb25zIGFyZSBvbmx5XG4vLyBpbXBvcnRlZCB3aGVuIHVzZWQgd2hpY2gga2VlcHMgdGhlIGJ1bmRsZSBzaXplIHNtYWxsLiBJZiB0aGVcbi8vIGltcG9ydCBmYWlscyBncmFjZWZ1bGx5IHRoZSBhcHBsaWNhdGlvbiB3aWxsIHN0aWxsIGZ1bmN0aW9uLlxuXG5pbnRlcmZhY2UgR2VuZXJhdGVSZXNwb25zZSB7XG4gIGh0bWw6IHN0cmluZztcbiAgcHJvZHVjdHM6IGFueVtdO1xufVxuLy8gbmVzdGVkIGNvbXBvbmVudCByZW1vdW50cyBmcm9tIGNhcHR1cmluZyBsb2NhbCB2ZXJzaW9uc1xuY29uc3Qgc2FuaXRpemVVcmwgPSAodXJsOiBzdHJpbmcpID0+ICh1cmwgfHwgJycpLnNwbGl0KCc/JylbMF07XG5jb25zdCBpc0h0dHBVcmwgPSAodXJsOiBzdHJpbmcpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgIHJldHVybiB1LnByb3RvY29sID09PSAnaHR0cDonIHx8IHUucHJvdG9jb2wgPT09ICdodHRwczonO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbi8vIFN0YWJsZSwgbW9kdWxlLXNjb3BlIHNvcnRhYmxlIFVSTCByb3cgdG8gYXZvaWQgcmVtb3VudGluZyBvbiBlYWNoIHBhcmVudCByZW5kZXJcbnR5cGUgU29ydGFibGVVcmxSb3dQcm9wcyA9IHtcbiAgcm93SWQ6IHN0cmluZztcbiAgc2VjdGlvbklkOiBudW1iZXI7XG4gIGluZGV4OiBudW1iZXI7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIGlzTGFzdDogYm9vbGVhbjtcbiAgY2FuUmVtb3ZlOiBib29sZWFuO1xuICBvbkNoYW5nZTogKGluZGV4OiBudW1iZXIsIHZhbHVlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uRm9jdXNJbmRleDogKGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uQmx1ckluZGV4OiAoaW5kZXg6IG51bWJlcikgPT4gdm9pZDtcbiAgb25SZW1vdmVJbmRleDogKGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uQWRkQWZ0ZXJJbmRleDogKGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uU3luY1RvUGFyZW50OiAoaW5kZXg6IG51bWJlciwgcmF3VmFsdWU/OiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNhcmV0UmVmOiBSZWFjdC5NdXRhYmxlUmVmT2JqZWN0PHsgaW5kZXg6IG51bWJlcjsgc3RhcnQ6IG51bWJlcjsgZW5kOiBudW1iZXIgfSB8IG51bGw+O1xufTtcblxuY29uc3QgU29ydGFibGVVcmxSb3c6IFJlYWN0LkZDPFNvcnRhYmxlVXJsUm93UHJvcHM+ID0gKHtcbiAgcm93SWQsXG4gIHNlY3Rpb25JZCxcbiAgaW5kZXgsXG4gIHZhbHVlLFxuICBpc0xhc3QsXG4gIGNhblJlbW92ZSxcbiAgb25DaGFuZ2UsXG4gIG9uRm9jdXNJbmRleCxcbiAgb25CbHVySW5kZXgsXG4gIG9uUmVtb3ZlSW5kZXgsXG4gIG9uQWRkQWZ0ZXJJbmRleCxcbiAgb25TeW5jVG9QYXJlbnQsXG4gIGNhcmV0UmVmXG59KSA9PiB7XG4gIGNvbnN0IHsgYXR0cmlidXRlcywgbGlzdGVuZXJzLCBzZXROb2RlUmVmLCB0cmFuc2Zvcm0sIHRyYW5zaXRpb24gfSA9IHVzZVNvcnRhYmxlKHsgaWQ6IHJvd0lkIH0pO1xuICBjb25zdCBzdHlsZSA9IHsgdHJhbnNmb3JtOiBDU1MuVHJhbnNmb3JtLnRvU3RyaW5nKHRyYW5zZm9ybSksIHRyYW5zaXRpb24gfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICByZXR1cm4gKFxuICAgIDxCb3ggcmVmPXtzZXROb2RlUmVmfSBzdHlsZT17c3R5bGV9IHN4PXt7IG1iOiAyLCBwb3NpdGlvbjogJ3JlbGF0aXZlJywgd2lkdGg6ICcxMDAlJywgb3ZlcmZsb3c6ICd2aXNpYmxlJyB9fT5cbiAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgaWQ9e2B1cmwtJHtzZWN0aW9uSWR9LSR7aW5kZXh9YH1cbiAgICAgICAgdHlwZT1cInVybFwiXG4gICAgICAgIGxhYmVsPXtgUHJvZHVjdCBVUkwgJHtpbmRleCArIDF9YH1cbiAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBvbkNoYW5nZShpbmRleCwgZS50YXJnZXQudmFsdWUpfVxuICAgICAgICBvbkZvY3VzPXsoKSA9PiBvbkZvY3VzSW5kZXgoaW5kZXgpfVxuICAgICAgICBvbkJsdXI9eygpID0+IG9uQmx1ckluZGV4KGluZGV4KX1cbiAgICAgICAgSW5wdXRQcm9wcz17e1xuICAgICAgICAgIHN0YXJ0QWRvcm5tZW50OiAoXG4gICAgICAgICAgICA8SW5wdXRBZG9ybm1lbnQgcG9zaXRpb249XCJzdGFydFwiPlxuICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT1cIlJlb3JkZXJcIj5cbiAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBzaXplPVwic21hbGxcIiB7Li4uYXR0cmlidXRlc30gey4uLmxpc3RlbmVyc30gZWRnZT1cInN0YXJ0XCIgdGFiSW5kZXg9ey0xfSBzeD17eyBjdXJzb3I6ICdncmFiJyB9fSBhcmlhLWxhYmVsPVwiUmVvcmRlciBwcm9kdWN0IFVSTFwiIGFyaWEtZGVzY3JpYmVkYnk9e3VuZGVmaW5lZCBhcyBhbnl9PlxuICAgICAgICAgICAgICAgICAgPERyYWdJbmRpY2F0b3JJY29uIGZvbnRTaXplPVwic21hbGxcIiAvPlxuICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgICAgICAgPC9JbnB1dEFkb3JubWVudD5cbiAgICAgICAgICApLFxuICAgICAgICAgIGVuZEFkb3JubWVudDogY2FuUmVtb3ZlID8gKFxuICAgICAgICAgICAgPElucHV0QWRvcm5tZW50IHBvc2l0aW9uPVwiZW5kXCI+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IG9uUmVtb3ZlSW5kZXgoaW5kZXgpfSB0aXRsZT1cIlJlbW92ZSBVUkxcIiBlZGdlPVwiZW5kXCI+XG4gICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICA8L0lucHV0QWRvcm5tZW50PlxuICAgICAgICAgICkgOiBudWxsLFxuICAgICAgICB9fVxuICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgb25DbGljazogKGU6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICBjYXJldFJlZi5jdXJyZW50ID0geyBpbmRleCwgc3RhcnQ6IHQuc2VsZWN0aW9uU3RhcnQgPz8gdC52YWx1ZS5sZW5ndGgsIGVuZDogdC5zZWxlY3Rpb25FbmQgPz8gdC52YWx1ZS5sZW5ndGggfTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9uS2V5VXA6IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS5jdXJyZW50VGFyZ2V0O1xuICAgICAgICAgICAgY2FyZXRSZWYuY3VycmVudCA9IHsgaW5kZXgsIHN0YXJ0OiB0LnNlbGVjdGlvblN0YXJ0ID8/IHQudmFsdWUubGVuZ3RoLCBlbmQ6IHQuc2VsZWN0aW9uRW5kID8/IHQudmFsdWUubGVuZ3RoIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblNlbGVjdDogKGU6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUuY3VycmVudFRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICAgICAgY2FyZXRSZWYuY3VycmVudCA9IHsgaW5kZXgsIHN0YXJ0OiB0LnNlbGVjdGlvblN0YXJ0ID8/IHQudmFsdWUubGVuZ3RoLCBlbmQ6IHQuc2VsZWN0aW9uRW5kID8/IHQudmFsdWUubGVuZ3RoIH07XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbktleURvd246IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJyID0gZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBjdXJyLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIG9uU3luY1RvUGFyZW50KGluZGV4LCBjdXJyLnZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKHZhbCAmJiBpc0xhc3QpIHtcbiAgICAgICAgICAgICAgICBvbkFkZEFmdGVySW5kZXgoaW5kZXgpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1cmwtJHtzZWN0aW9uSWR9LSR7aW5kZXggKyAxfWApIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgICAgICAgICAgICAgICAgbmV4dD8uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjdXJyLmJsdXIoKTtcbiAgICAgICAgICAgICAgaWYgKGlzTGFzdCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjbGVhbmVkID0gc2FuaXRpemVVcmwoY3Vyci52YWx1ZS50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgaWYgKGlzSHR0cFVybChjbGVhbmVkKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdXBkYXRlLWJ1dHRvbi0ke3NlY3Rpb25JZH1gKSBhcyBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGJ0bj8uY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIHt9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09ICdUYWInICYmICFlLnNoaWZ0S2V5ICYmIGlzTGFzdCkge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIG9uU3luY1RvUGFyZW50KGluZGV4LCBjdXJyLnZhbHVlKTtcbiAgICAgICAgICAgICAgb25BZGRBZnRlckluZGV4KGluZGV4KTtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1cmwtJHtzZWN0aW9uSWR9LSR7aW5kZXggKyAxfWApIGFzIEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsO1xuICAgICAgICAgICAgICAgIG5leHQ/LmZvY3VzKCk7XG4gICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICBjdXJyLmJsdXIoKTtcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjbGVhbmVkID0gc2FuaXRpemVVcmwoY3Vyci52YWx1ZS50cmltKCkpO1xuICAgICAgICAgICAgICAgIGlmIChpc0h0dHBVcmwoY2xlYW5lZCkpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB1cGRhdGUtYnV0dG9uLSR7c2VjdGlvbklkfWApIGFzIEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgIGJ0bj8uY2xpY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2gge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH19XG4gICAgICAgIHZhcmlhbnQ9XCJzdGFuZGFyZFwiXG4gICAgICAgIHN4PXt7ICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YmVmb3JlJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ2dyZXkuNDAwJyB9LCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmFmdGVyJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9IH19XG4gICAgICAvPlxuICAgICAgey8qIFBlci1yb3cgaW5saW5lIHBsdXMgcmVtb3ZlZDsgYWRkIGJ1dHRvbiBtb3ZlZCBuZXh0IHRvIHRoZSBVcGRhdGUgYnV0dG9uICovfVxuICAgIDwvQm94PlxuICApO1xufTtcblxuLy8gRGVkaWNhdGVkLCBtZW1vaXplZCBjb21wb25lbnQgZm9yIHRoZSBQcm9kdWN0IFVSTCBmaWVsZHMuIEtlcHQgYXQgbW9kdWxlIHNjb3BlXG4vLyB0byBwcmVzZXJ2ZSBpZGVudGl0eSBhY3Jvc3MgcGFyZW50IHJlLXJlbmRlcnMgYW5kIGF2b2lkIGZvY3VzIGxvc3MuIFVzZXMgbG9jYWxcbi8vIHN0YXRlIHdoaWxlIHR5cGluZyBhbmQgb25seSBzeW5jcyB1cHN0cmVhbSBvbiBibHVyL2V4cGxpY2l0IGFjdGlvbnMuXG50eXBlIFByb2R1Y3RVcmxGaWVsZHNQcm9wcyA9IHtcbiAgc2VjdGlvbklkOiBudW1iZXI7XG4gIHVybHM6IHN0cmluZ1tdO1xuICBvblVybENoYW5nZTogKHNlY3Rpb25JZDogbnVtYmVyLCBpbmRleDogbnVtYmVyLCB2YWx1ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBvbkFkZEZpZWxkOiAoc2VjdGlvbklkOiBudW1iZXIsIGluZGV4OiBudW1iZXIpID0+IHZvaWQ7XG4gIG9uUmVtb3ZlRmllbGQ6IChzZWN0aW9uSWQ6IG51bWJlciwgaW5kZXg6IG51bWJlcikgPT4gdm9pZDtcbiAgYWRkTm90aWZpY2F0aW9uOiAobXNnOiBSZWFjdC5SZWFjdE5vZGUpID0+IHZvaWQ7XG4gIG9uUmVvcmRlcjogKHNlY3Rpb25JZDogbnVtYmVyLCBvbGRJbmRleDogbnVtYmVyLCBuZXdJbmRleDogbnVtYmVyKSA9PiB2b2lkO1xufTtcbmNvbnN0IFByb2R1Y3RVcmxGaWVsZHNJbXBsOiBSZWFjdC5GQzxQcm9kdWN0VXJsRmllbGRzUHJvcHM+ID0gKHsgc2VjdGlvbklkLCB1cmxzLCBvblVybENoYW5nZSwgb25BZGRGaWVsZCwgb25SZW1vdmVGaWVsZCwgYWRkTm90aWZpY2F0aW9uLCBvblJlb3JkZXIgfSkgPT4ge1xuICBjb25zdCBbbG9jYWxWYWx1ZXMsIHNldExvY2FsVmFsdWVzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPigoKSA9PiAodXJscy5sZW5ndGggPiAwID8gdXJscyA6IFsnJ10pKTtcbiAgY29uc3QgcHJldlVybHNSZWYgPSB1c2VSZWY8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW2ZvY3VzZWRJbmRleCwgc2V0Rm9jdXNlZEluZGV4XSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBjYXJldFJlZiA9IHVzZVJlZjx7IGluZGV4OiBudW1iZXI7IHN0YXJ0OiBudW1iZXI7IGVuZDogbnVtYmVyIH0gfCBudWxsPihudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHVybHNDaGFuZ2VkID0gdXJscy5sZW5ndGggIT09IHByZXZVcmxzUmVmLmN1cnJlbnQubGVuZ3RoIHx8IHVybHMuc29tZSgodXJsLCBpKSA9PiB1cmwgIT09IHByZXZVcmxzUmVmLmN1cnJlbnRbaV0pO1xuICAgIGlmICh1cmxzQ2hhbmdlZCAmJiBmb2N1c2VkSW5kZXggPT09IG51bGwpIHtcbiAgICAgIHNldExvY2FsVmFsdWVzKHVybHMubGVuZ3RoID4gMCA/IHVybHMgOiBbJyddKTtcbiAgICAgIHByZXZVcmxzUmVmLmN1cnJlbnQgPSBbLi4udXJsc107XG4gICAgfVxuICB9LCBbdXJscywgZm9jdXNlZEluZGV4XSk7XG5cbiAgUmVhY3QudXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZm9jdXNlZEluZGV4ID09PSBudWxsKSByZXR1cm47XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdXJsLSR7c2VjdGlvbklkfS0ke2ZvY3VzZWRJbmRleH1gKSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbDtcbiAgICBpZiAoZWwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGVsLmZvY3VzKCk7XG4gICAgICAgIGNvbnN0IGMgPSBjYXJldFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoYyAmJiBjLmluZGV4ID09PSBmb2N1c2VkSW5kZXggJiYgdHlwZW9mIGVsLnNldFNlbGVjdGlvblJhbmdlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZWwuc2V0U2VsZWN0aW9uUmFuZ2UoYy5zdGFydCwgYy5lbmQpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIHt9XG4gICAgfVxuICB9LCBbZm9jdXNlZEluZGV4LCBsb2NhbFZhbHVlcy5sZW5ndGgsIHNlY3Rpb25JZF0pO1xuXG4gIGNvbnN0IHVwZGF0ZUxvY2FsVmFsdWUgPSAoaW5kZXg6IG51bWJlciwgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIHNldExvY2FsVmFsdWVzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgbmV4dFtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHN5bmNUb1BhcmVudCA9IChpbmRleDogbnVtYmVyLCByYXdWYWx1ZT86IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHNvdXJjZSA9IHJhd1ZhbHVlICE9PSB1bmRlZmluZWQgPyByYXdWYWx1ZSA6IGxvY2FsVmFsdWVzW2luZGV4XSB8fCAnJztcbiAgICBjb25zdCBjbGVhbmVkID0gc2FuaXRpemVVcmwoc291cmNlKTtcbiAgICBpZiAoY2xlYW5lZCAmJiAhaXNIdHRwVXJsKGNsZWFuZWQpKSB7XG4gICAgICBhZGROb3RpZmljYXRpb24oXG4gICAgICAgIDxzcGFuPlxuICAgICAgICAgIEludmFsaWQgcHJvZHVjdCBVUkw6IDxzcGFuIHN0eWxlPXt7IGZvbnRXZWlnaHQ6ICdib2xkJyB9fT57Y2xlYW5lZH08L3NwYW4+Jm5ic3A7fCZuYnNwO1BsZWFzZSBlbnRlciBhIHZhbGlkIGh0dHAocykgbGluay5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgKTtcbiAgICB9XG4gICAgc2V0TG9jYWxWYWx1ZXMoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICBuZXh0W2luZGV4XSA9IGNsZWFuZWQ7XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgICBvblVybENoYW5nZShzZWN0aW9uSWQsIGluZGV4LCBjbGVhbmVkKTtcbiAgfTtcblxuICBjb25zdCBzZW5zb3JzID0gdXNlU2Vuc29ycyh1c2VTZW5zb3IoUG9pbnRlclNlbnNvcikpO1xuXG4gIC8vIFJvdyBjb21wb25lbnQgbW92ZWQgdG8gbW9kdWxlIHNjb3BlIGFzIFNvcnRhYmxlVXJsUm93XG5cbiAgLy8gTWFpbnRhaW4gc3RhYmxlIHJvdyBpZHMgZm9yIERuRCBpdGVtc1xuICBjb25zdCBbcm93SWRzLCBzZXRSb3dJZHNdID0gdXNlU3RhdGU8c3RyaW5nW10+KCgpID0+IGxvY2FsVmFsdWVzLm1hcCgoXywgaSkgPT4gYHVybC0ke3NlY3Rpb25JZH0tJHtpfS1pbml0YCkpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFJvd0lkcygocHJldikgPT4ge1xuICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgIGlmIChsb2NhbFZhbHVlcy5sZW5ndGggPiBuZXh0Lmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBpID0gbmV4dC5sZW5ndGg7IGkgPCBsb2NhbFZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG5leHQucHVzaChgdXJsLSR7c2VjdGlvbklkfS0ke2l9LSR7aX1gKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChsb2NhbFZhbHVlcy5sZW5ndGggPCBuZXh0Lmxlbmd0aCkge1xuICAgICAgICBuZXh0Lmxlbmd0aCA9IGxvY2FsVmFsdWVzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9LCBbbG9jYWxWYWx1ZXMubGVuZ3RoLCBzZWN0aW9uSWRdKTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgc3R5bGU9e3sgd2lkdGg6ICcxMDAlJywgcGFkZGluZ1JpZ2h0OiAnMHB4JyB9fT5cbiAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJzdWJ0aXRsZTFcIiBzeD17eyBtYjogMSwgbXQ6IDEsIGZvbnRXZWlnaHQ6ICc2MDAnIH19PlByb2R1Y3QgVVJMczwvVHlwb2dyYXBoeT5cbiAgICAgIDxEbmRDb250ZXh0XG4gICAgICAgIHNlbnNvcnM9e3NlbnNvcnN9XG4gICAgICAgIGNvbGxpc2lvbkRldGVjdGlvbj17Y2xvc2VzdENlbnRlcn1cbiAgICAgICAgb25EcmFnRW5kPXsoeyBhY3RpdmUsIG92ZXIgfSkgPT4ge1xuICAgICAgICAgIGlmICghb3ZlciB8fCBhY3RpdmUuaWQgPT09IG92ZXIuaWQpIHJldHVybjtcbiAgICAgICAgICBjb25zdCBvbGRJbmRleCA9IHJvd0lkcy5pbmRleE9mKFN0cmluZyhhY3RpdmUuaWQpKTtcbiAgICAgICAgICBjb25zdCBuZXdJbmRleCA9IHJvd0lkcy5pbmRleE9mKFN0cmluZyhvdmVyLmlkKSk7XG4gICAgICAgICAgaWYgKG9sZEluZGV4ID09PSAtMSB8fCBuZXdJbmRleCA9PT0gLTEgfHwgb2xkSW5kZXggPT09IG5ld0luZGV4KSByZXR1cm47XG4gICAgICAgICAgc2V0Um93SWRzKChwcmV2KSA9PiBhcnJheU1vdmUocHJldiwgb2xkSW5kZXgsIG5ld0luZGV4KSk7XG4gICAgICAgICAgc2V0TG9jYWxWYWx1ZXMoKHByZXYpID0+IGFycmF5TW92ZShwcmV2LCBvbGRJbmRleCwgbmV3SW5kZXgpKTtcbiAgICAgICAgICBvblJlb3JkZXIoc2VjdGlvbklkLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuICAgICAgICB9fVxuICAgICAgPlxuICAgICAgICA8U29ydGFibGVDb250ZXh0IGl0ZW1zPXtyb3dJZHN9IHN0cmF0ZWd5PXt2ZXJ0aWNhbExpc3RTb3J0aW5nU3RyYXRlZ3l9PlxuICAgICAgICAgIHtyb3dJZHMubWFwKChyb3dJZCwgaW5kZXgpID0+IChcbiAgICAgICAgICAgIDxTb3J0YWJsZVVybFJvd1xuICAgICAgICAgICAgICBrZXk9e3Jvd0lkfVxuICAgICAgICAgICAgICByb3dJZD17cm93SWR9XG4gICAgICAgICAgICAgIHNlY3Rpb25JZD17c2VjdGlvbklkfVxuICAgICAgICAgICAgICBpbmRleD17aW5kZXh9XG4gICAgICAgICAgICAgIHZhbHVlPXtsb2NhbFZhbHVlc1tpbmRleF0gPz8gJyd9XG4gICAgICAgICAgICAgIGlzTGFzdD17aW5kZXggPT09IGxvY2FsVmFsdWVzLmxlbmd0aCAtIDF9XG4gICAgICAgICAgICAgIGNhblJlbW92ZT17bG9jYWxWYWx1ZXMubGVuZ3RoID4gMX1cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3VwZGF0ZUxvY2FsVmFsdWV9XG4gICAgICAgICAgICAgIG9uRm9jdXNJbmRleD17KGkpID0+IHNldEZvY3VzZWRJbmRleChpKX1cbiAgICAgICAgICAgICAgb25CbHVySW5kZXg9eyhpKSA9PiB7XG4gICAgICAgICAgICAgICAgc3luY1RvUGFyZW50KGkpO1xuICAgICAgICAgICAgICAgIHNldEZvY3VzZWRJbmRleCgoY3VycikgPT4gKGN1cnIgPT09IGkgPyBudWxsIDogY3VycikpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvblJlbW92ZUluZGV4PXsoaSkgPT4gb25SZW1vdmVGaWVsZChzZWN0aW9uSWQsIGkpfVxuICAgICAgICAgICAgICBvbkFkZEFmdGVySW5kZXg9eyhpKSA9PiB7XG4gICAgICAgICAgICAgICAgb25BZGRGaWVsZChzZWN0aW9uSWQsIGkgKyAxKTtcbiAgICAgICAgICAgICAgICBzZXRGb2N1c2VkSW5kZXgoaSArIDEpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICBvblN5bmNUb1BhcmVudD17c3luY1RvUGFyZW50fVxuICAgICAgICAgICAgICBjYXJldFJlZj17Y2FyZXRSZWZ9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L1NvcnRhYmxlQ29udGV4dD5cbiAgICAgIDwvRG5kQ29udGV4dD5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmNvbnN0IGFyZVByb2R1Y3RVcmxGaWVsZHNFcXVhbCA9IChwcmV2OiBQcm9kdWN0VXJsRmllbGRzUHJvcHMsIG5leHQ6IFByb2R1Y3RVcmxGaWVsZHNQcm9wcykgPT4ge1xuICAvLyBPbmx5IHJlLXJlbmRlciBpZiB0aGUgc2VjdGlvbiBjaGFuZ2VzIG9yIHRoZSB1cmxzIHJlZmVyZW5jZSBjaGFuZ2VzLlxuICAvLyBJZ25vcmUgZnVuY3Rpb24gcHJvcCBpZGVudGl0eSB0byBhdm9pZCB1bm5lY2Vzc2FyeSByZW5kZXJzIHdoaWxlIHR5cGluZy5cbiAgcmV0dXJuIHByZXYuc2VjdGlvbklkID09PSBuZXh0LnNlY3Rpb25JZCAmJiBwcmV2LnVybHMgPT09IG5leHQudXJscztcbn07XG5cbmNvbnN0IFByb2R1Y3RVcmxGaWVsZHMgPSBSZWFjdC5tZW1vKFByb2R1Y3RVcmxGaWVsZHNJbXBsLCBhcmVQcm9kdWN0VXJsRmllbGRzRXF1YWwpO1xuUHJvZHVjdFVybEZpZWxkcy5kaXNwbGF5TmFtZSA9ICdQcm9kdWN0VXJsRmllbGRzJztcblxuLyoqXG4gKiBNYXAgYSBib2R5IHRlbXBsYXRlIHRvIGl0cyBhbHRlcm5hdGluZyB2YXJpYW50LiBXaGVuIHJlbmRlcmluZ1xuICogbXVsdGlwbGUgcHJvZHVjdHMgZnJvbSB0aGUgc2FtZSB0ZW1wbGF0ZSwgZXZlcnkgb3RoZXIgcHJvZHVjdFxuICogYWx0ZXJuYXRlcyBvcmllbnRhdGlvbiB0byBwcm92aWRlIHZpc3VhbCB2YXJpZXR5LiBLZXlzIGNvcnJlc3BvbmRcbiAqIHRvIHRlbXBsYXRlIElEcyBkZWZpbmVkIGluIGRhdGEvdGVtcGxhdGVzLnRzLiBUaGlzIGNvbnN0YW50IGlzXG4gKiBkZWZpbmVkIGhlcmUgdG8gYXZvaWQgUmVmZXJlbmNlRXJyb3Igd2hlbiByZWZlcmVuY2VkIGJlZm9yZSBpdHNcbiAqIGRlY2xhcmF0aW9uLiBTZWUgY29kZSBzZWN0aW9ucyB3aGVyZSBhbHRlcm5hdGVNYXAgaXMgdXNlZC5cbiAqL1xuY29uc3QgYWx0ZXJuYXRlTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAncHJvZHVjdC1pbWFnZS1sZWZ0LWNvcHktcmlnaHQnOiAncHJvZHVjdC1jb3B5LWxlZnQtaW1hZ2UtcmlnaHQnLFxuICAncHJvZHVjdC1jb3B5LWxlZnQtaW1hZ2UtcmlnaHQnOiAncHJvZHVjdC1pbWFnZS1sZWZ0LWNvcHktcmlnaHQnXG59O1xuXG5cbi8vIEJvdHRvbSBwYWRkaW5nIGZ1bmN0aW9uYWxpdHkgcmVtb3ZlZFxuXG4vKipcbiAqIEVhY2ggYm9keSBzZWN0aW9uIGNvbnRhaW5zIGl0cyBvd24gbGlzdCBvZiBwcm9kdWN0IFVSTHMsIHBhcnNlZFxuICogcHJvZHVjdCBkYXRhIGFuZCBzZWxlY3RlZCB0ZW1wbGF0ZS4gU2VjdGlvbnMgYXJlIHJlbmRlcmVkIGluIHRoZVxuICogb3JkZXIgZGVmaW5lZCBpbiB0aGUgYXJyYXkuIFdoZW4gZHVwbGljYXRpbmcgYSBib2R5LCBhIG5ld1xuICogc2VjdGlvbiBlbnRyeSBpcyBhZGRlZCB3aXRoIGl0cyBvd24gc3RhdGUuIFRoZSBsb2FkaW5nIGZsYWcgaXNcbiAqIHVzZWQgdG8gZGlzYWJsZSB0aGUgZ2VuZXJhdGUgYnV0dG9uIHdoaWxlIHRoZSBiYWNrZW5kIGNhbGwgaXNcbiAqIGluIHByb2dyZXNzLlxuICovXG5pbnRlcmZhY2UgQm9keVNlY3Rpb24ge1xuICBpZDogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG4gIHVybHM6IHN0cmluZ1tdOyAvLyBjb21taXR0ZWQgVVJMcyB1c2VkIGZvciBnZW5lcmF0aW9uXG4gIHByb2R1Y3RzOiBQcm9kdWN0RGF0YVtdO1xuICBzZWxlY3RlZEJvZHlJZDogc3RyaW5nO1xuICBsb2FkaW5nOiBib29sZWFuO1xuICAvKiogU291cmNlIG9mIGRlc2NyaXB0aW9uIHRvIHVzZSBmb3IgcHJvZHVjdHMgaW4gdGhpcyBzZWN0aW9uICovXG4gIC8vIChsZWdhY3kgZGVzY3JpcHRpb25Tb3VyY2UgcmVtb3ZlZDsgcGVyLXByb2R1Y3QgZGVzY1NvdXJjZSBub3cgY2Fub25pY2FsKVxuICAvKiogUGVyLXNlY3Rpb24gd3JhcHBlciBwYWRkaW5nIChweCkgYXBwbGllZCB0byB0aGUgNjAwcHggd3JhcHBlciB0YWJsZSAqL1xuICBwYWRkaW5nPzogUGFkZGluZ1ZhbHVlO1xuICAvKiogV2hldGhlciB0byBhbHRlcm5hdGUgaW1hZ2UvY29weSBvcmllbnRhdGlvbiBhY3Jvc3MgcHJvZHVjdHMgKGZlYXR1cmUgdGVtcGxhdGVzKSAqL1xuICBhbHRlcm5hdGU/OiBib29sZWFuOyAvLyB1bmRlZmluZWQgPT4gdHJ1ZSAoYmFja3dhcmRzIGNvbXBhdGlibGUpXG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEhvbWUoKSB7XG4gIGNvbnN0IFZpc3VhbGx5SGlkZGVuSW5wdXQgPSBzdHlsZWQoJ2lucHV0JylgXG4gICAgY2xpcDogcmVjdCgwIDAgMCAwKTtcbiAgICBjbGlwLXBhdGg6IGluc2V0KDUwJSk7XG4gICAgaGVpZ2h0OiAxcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICB3aWR0aDogMXB4O1xuICBgO1xuICAvLyBQcmV2ZW50IHJlcGVhdGVkIGF1dG8tZ2VuZXJhdGlvbiBsb29wczsgb25seSBhdHRlbXB0IG9uY2UgYWZ0ZXIgaW5pdGlhbCBVUkxcbiAgY29uc3QgYXV0b0dlblRyaWVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgY29uc3QgbGFuZGluZ0lucHV0UmVmID0gdXNlUmVmPEhUTUxJbnB1dEVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbcGxhdGZvcm1WaXNpYmxlLCBzZXRQbGF0Zm9ybVZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWR2YW5jZWRTZXR0aW5nc09wZW4sIHNldEFkdmFuY2VkU2V0dGluZ3NPcGVuXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+Pih7fSk7XG4gIC8vIFVuaXZlcnNhbCBpbWFnZSBzZWxlY3RvciBzdGF0ZTogd2hpY2ggc2VjdGlvbiBhbmQgcHJvZHVjdCBpbmRleCBpcyBvcGVuXG4gIGNvbnN0IFtpbWFnZVNlbGVjdG9yLCBzZXRJbWFnZVNlbGVjdG9yXSA9IHVzZVN0YXRlPHsgc2VjdGlvbklkOiBudW1iZXI7IHByb2R1Y3RJZHg6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XG4gIC8qKlxuICAgKiBDdXJyZW50bHkgc2VsZWN0ZWQgbW9kdWxlIHNlY3Rpb24uIFVzZXJzIGNhbiBzd2l0Y2ggYmV0d2VlblxuICAgKiBlZGl0aW5nIHRoZSBoZWFkZXIsIGJvZHkgb3IgZm9vdGVyLiBEZWZhdWx0IHRvIHRoZSBib2R5XG4gICAqIHNlY3Rpb24gYXMgaXQgY29udGFpbnMgdGhlIG1haW4gcHJvZHVjdCBtb2R1bGVzLlxuICAgKi9cbiAgLy8gQWNjb3JkaW9uIG9wZW4gc2VjdGlvbiBzdGF0ZS4gT25seSBvbmUgc2VjdGlvbiAoaGVhZGVyLCBib2R5IG9yXG4gIC8vIGZvb3RlcikgY2FuIGJlIGV4cGFuZGVkIGF0IGEgdGltZS4gRGVmYXVsdHMgdG8gYm9keSBiZWNhdXNlIHRoZVxuICAvLyBib2R5IGNvbnRhaW5zIHRoZSBwcm9kdWN0IGxpc3QgYW5kIGlzIHRoZSBwcmltYXJ5IGZvY3VzLlxuICAvLyBUcmFjayB3aGljaCBhY2NvcmRpb24gcGFuZWwgaXMgb3Blbi4gS2V5cyBpbmNsdWRlICdoZWFkZXInLCAnaGVybycsXG4gIC8vICdmb290ZXInIGFuZCBkeW5hbWljIGJvZHkgaWRlbnRpZmllcnMgbGlrZSAnYm9keS0xJywgJ2JvZHktMicsIGV0Yy5cbiAgY29uc3QgW29wZW5TZWN0aW9uLCBzZXRPcGVuU2VjdGlvbl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdib2R5LTEnKTtcblxuICAvLyBUb2dnbGUgZW1haWwtc2FmZSBzYW5pdGl6YXRpb24gZm9yIHJpY2ggdGV4dCBmaWVsZHMgKGFubm91bmNlbWVudCwgdGl0bGVzLCBkZXNjcmlwdGlvbnMpXG4gIGNvbnN0IFtlbWFpbFNhZmUsIHNldEVtYWlsU2FmZV0gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTtcblxuICAvKipcbiAgICogVG9nZ2xlIGFuIGFjY29yZGlvbiBwYW5lbCBvcGVuIG9yIGNsb3NlZC4gV2hlbiB0aGUgZ2l2ZW5cbiAgICogaWRlbnRpZmllciBtYXRjaGVzIHRoZSBjdXJyZW50IG9wZW5TZWN0aW9uLCB0aGUgcGFuZWwgaXNcbiAgICogY29sbGFwc2VkLiBPdGhlcndpc2UgaXQgYmVjb21lcyB0aGUgbmV3IG9wZW4gcGFuZWwuIFRoaXMgaGVscGVyXG4gICAqIHByZXZlbnRzIGFkZGl0aW9uYWwgbG9naWMgZnJvbSBiZWluZyBkdXBsaWNhdGVkIG9uIGNsaWNrXG4gICAqIGhhbmRsZXJzIHRocm91Z2hvdXQgdGhlIFVJLlxuICAgKi9cbiAgY29uc3QgaGFuZGxlQWNjb3JkaW9uVG9nZ2xlID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRPcGVuU2VjdGlvbigocHJldikgPT4gKHByZXYgPT09IGlkID8gJycgOiBpZCkpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFkdmFuY2VkVG9nZ2xlID0gdXNlQ2FsbGJhY2soKGtleTogc3RyaW5nKSA9PiB7XG4gICAgc2V0QWR2YW5jZWRTZXR0aW5nc09wZW4oKHByZXYpID0+ICh7IC4uLnByZXYsIFtrZXldOiAhcHJldltrZXldIH0pKTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IGlzQWR2YW5jZWRPcGVuID0gdXNlQ2FsbGJhY2soKGtleTogc3RyaW5nKSA9PiBCb29sZWFuKGFkdmFuY2VkU2V0dGluZ3NPcGVuW2tleV0pLCBbYWR2YW5jZWRTZXR0aW5nc09wZW5dKTtcblxuICAvKipcbiAgICogVmlldyBtb2RlIHdpdGhpbiBhIG1vZHVsZS4gVXNlcnMgY2FuIHRvZ2dsZSBiZXR3ZWVuIGEgbGl2ZVxuICAgKiBwcmV2aWV3IG9mIHRoZSBzZWxlY3RlZCBtb2R1bGUgb3IgdGhlIGdlbmVyYXRlZCBIVE1MIGNvZGUuIFRoaXNcbiAgICogdG9nZ2xlIGlzIHNjb3BlZCB0byB0aGUgcHJldmlldy9lZGl0IGFyZWEgYW5kIG5vdCB0aGUgbW9kdWxlXG4gICAqIHRhYnMgdGhlbXNlbHZlcy4gRGVmYXVsdCB0byBwcmV2aWV3LlxuICAgKi9cbiAgLy8gVmlldyBtb2RlIHRvZ2dsZXMgYmV0d2VlbiBhIGZ1bGwgZW1haWwgcHJldmlldyBhbmQgdGhlIGdlbmVyYXRlZCBIVE1MXG4gIC8vIGNvZGUgZm9yIHRoZSBib2R5IG1vZHVsZXMuIFRoaXMgYXBwbGllcyB0byB0aGUgZW50aXJlIG1lc3NhZ2VcbiAgLy8gKGhlYWRlciArIGJvZHkgbW9kdWxlcyArIGZvb3RlcikgYW5kIG5vdCBpbmRpdmlkdWFsIHNlY3Rpb25zLiBEZWZhdWx0XG4gIC8vIHRvIHByZXZpZXcuXG4gIGNvbnN0IFt2aWV3TW9kZSwgc2V0Vmlld01vZGVdID0gdXNlU3RhdGU8J3ByZXZpZXcnIHwgJ2NvZGUnPigncHJldmlldycpO1xuICAvKipcbiAgICogQm9keSBzZWN0aW9ucy4gRWFjaCBzZWN0aW9uIGhhcyBpdHMgb3duIGxpc3Qgb2YgVVJMcywgcGFyc2VkXG4gICAqIHByb2R1Y3RzIGFuZCBzZWxlY3RlZCB0ZW1wbGF0ZS4gU2VjdGlvbnMgYXJlIHJlbmRlcmVkIGluIG9yZGVyIGFuZFxuICAgKiBjYW4gYmUgaW5kZXBlbmRlbnRseSBnZW5lcmF0ZWQuIEEgbG9hZGluZyBmbGFnIGlzIHN0b3JlZCBwZXJcbiAgICogc2VjdGlvbi5cbiAgICovXG4gIGNvbnN0IFtib2R5U2VjdGlvbnMsIHNldEJvZHlTZWN0aW9uc10gPSB1c2VTdGF0ZTxCb2R5U2VjdGlvbltdPihbXSk7XG5cbiAgLy8gRHJhZnQgVVJMcyBwZXIgc2VjdGlvbiBpZDsga2VlcHMgdHlwaW5nIGxvY2FsIHdpdGhvdXQgcmUtcmVuZGVyaW5nIG1haW4gY29tcG9zZVxuICBjb25zdCBbZHJhZnRVcmxzLCBzZXREcmFmdFVybHNdID0gdXNlU3RhdGU8UmVjb3JkPG51bWJlciwgc3RyaW5nW10+Pih7fSk7XG5cbiAgLy8gU2VsZWN0ZWQgcHJvZHVjdCBjb250ZXh0IGZvciBjb2xsZWN0aW9uIHBhZ2VzIGFuZCBwZXItc2VjdGlvbiBzZWxlY3Rpb25cbiAgY29uc3QgW3NlbGVjdGVkUHJvZHVjdEN0eCwgc2V0U2VsZWN0ZWRQcm9kdWN0Q3R4XSA9IHVzZVN0YXRlPHsgc2VjdGlvbklkOiBudW1iZXI7IGluZGV4OiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuICBcblxuICBjb25zdCBnZXREcmFmdFVybHMgPSB1c2VDYWxsYmFjayhcbiAgICAoc2VjdGlvbklkOiBudW1iZXIpOiBzdHJpbmdbXSA9PiB7XG4gICAgICBjb25zdCBleGlzdGluZyA9IGRyYWZ0VXJsc1tzZWN0aW9uSWRdO1xuICAgICAgaWYgKGV4aXN0aW5nKSByZXR1cm4gZXhpc3Rpbmc7XG4gICAgICBjb25zdCBzZWN0aW9uID0gYm9keVNlY3Rpb25zLmZpbmQoKHMpID0+IHMuaWQgPT09IHNlY3Rpb25JZCk7XG4gICAgICByZXR1cm4gc2VjdGlvbiA/IHNlY3Rpb24udXJscyA6IFtdO1xuICAgIH0sXG4gICAgW2RyYWZ0VXJscywgYm9keVNlY3Rpb25zXVxuICApO1xuXG4gIC8vIFZpc2liaWxpdHkgdG9nZ2xlcyBmb3Igb3B0aW9uYWwgc2VjdGlvbnNcbiAgY29uc3QgW3Nob3dIZWFkZXJTZWN0aW9uLCBzZXRTaG93SGVhZGVyU2VjdGlvbl0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3Nob3dIZXJvU2VjdGlvbiwgc2V0U2hvd0hlcm9TZWN0aW9uXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd0Jhbm5lclNlY3Rpb24sIHNldFNob3dCYW5uZXJTZWN0aW9uXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbc2hvd0Zvb3RlclNlY3Rpb24sIHNldFNob3dGb290ZXJTZWN0aW9uXSA9IHVzZVN0YXRlKHRydWUpO1xuICAvLyBPcmRlciBvZiBkcmFnZ2FibGUgc2VjdGlvbnMgaW5jbHVkaW5nIGhlYWRlci9mb290ZXJcbiAgY29uc3QgW3NlY3Rpb25PcmRlciwgc2V0U2VjdGlvbk9yZGVyXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXG4gICAgJ2hlcm8nLFxuICAgIC4uLmJvZHlTZWN0aW9ucy5tYXAoKHMpID0+IGBib2R5LSR7cy5pZH1gKSxcbiAgICAnYmFubmVyJ1xuICBdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4ge1xuICAgICAgY29uc3QgZmlsdGVyZWQgPSBwcmV2LmZpbHRlcigoaWQpID0+IHtcbiAgICAgICAgaWYgKGlkID09PSAnaGVybycgJiYgIXNob3dIZXJvU2VjdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoaWQgPT09ICdiYW5uZXInICYmICFzaG93QmFubmVyU2VjdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoaWQuc3RhcnRzV2l0aCgnYm9keS0nKSkge1xuICAgICAgICAgIHJldHVybiBib2R5U2VjdGlvbnMuc29tZSgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0pO1xuICAgICAgY29uc3QgZGVzaXJlZCA9IFtcbiAgICAgICAgLi4uKHNob3dIZXJvU2VjdGlvbiA/IFsnaGVybyddIDogW10pLFxuICAgICAgICAuLi5ib2R5U2VjdGlvbnMubWFwKChzKSA9PiBgYm9keS0ke3MuaWR9YCksXG4gICAgICAgIC4uLihzaG93QmFubmVyU2VjdGlvbiA/IFsnYmFubmVyJ10gOiBbXSlcbiAgICAgIF07XG4gICAgICBkZXNpcmVkLmZvckVhY2goKGlkKSA9PiB7XG4gICAgICAgIGlmICghZmlsdGVyZWQuaW5jbHVkZXMoaWQpKSB7XG4gICAgICAgICAgaWYgKGlkLnN0YXJ0c1dpdGgoJ2JvZHktJykgJiYgZmlsdGVyZWQuaW5jbHVkZXMoJ2Jhbm5lcicpKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZC5zcGxpY2UoZmlsdGVyZWQuaW5kZXhPZignYmFubmVyJyksIDAsIGlkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsdGVyZWQucHVzaChpZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgICB9KTtcbiAgfSwgW2JvZHlTZWN0aW9ucywgc2hvd0hlcm9TZWN0aW9uLCBzaG93QmFubmVyU2VjdGlvbl0pO1xuXG4gIC8vIERyYWctYW5kLWRyb3Agc2Vuc29ycyBhbmQgaGFuZGxlciBmb3IgcmVvcmRlcmluZyBzZWN0aW9uc1xuICBjb25zdCBzZW5zb3JzID0gdXNlU2Vuc29ycyh1c2VTZW5zb3IoUG9pbnRlclNlbnNvcikpO1xuXG4gIGNvbnN0IGhhbmRsZVNlY3Rpb25EcmFnRW5kID0gKGV2ZW50OiBEcmFnRW5kRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGFjdGl2ZSwgb3ZlciB9ID0gZXZlbnQ7XG4gICAgaWYgKCFvdmVyIHx8IGFjdGl2ZS5pZCA9PT0gb3Zlci5pZCkgcmV0dXJuO1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4ge1xuICAgICAgY29uc3Qgb2xkSW5kZXggPSBwcmV2LmluZGV4T2YoYWN0aXZlLmlkIGFzIHN0cmluZyk7XG4gICAgICBjb25zdCBuZXdJbmRleCA9IHByZXYuaW5kZXhPZihvdmVyLmlkIGFzIHN0cmluZyk7XG4gICAgICByZXR1cm4gYXJyYXlNb3ZlKHByZXYsIG9sZEluZGV4LCBuZXdJbmRleCk7XG4gICAgfSk7XG4gICAgaWYgKFxuICAgICAgU3RyaW5nKGFjdGl2ZS5pZCkuc3RhcnRzV2l0aCgnYm9keS0nKSAmJlxuICAgICAgU3RyaW5nKG92ZXIuaWQpLnN0YXJ0c1dpdGgoJ2JvZHktJylcbiAgICApIHtcbiAgICAgIC8vIFNlY3Rpb25zIGFyZSByZW5kZXJlZCBiYXNlZCBvbiBzZWN0aW9uT3JkZXI7IGJvZHlTZWN0aW9ucyBkYXRhIG9yZGVyIGNhbiByZW1haW4gdW5jaGFuZ2VkLlxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcbiAgLy8gU25hY2tiYXIgc3RhdGUgZm9yIGxpZ2h0d2VpZ2h0IG5vdGlmaWNhdGlvbnNcbiAgY29uc3QgW3NuYWNrYmFyT3Blbiwgc2V0U25hY2tiYXJPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW3NuYWNrYmFyTXNnLCBzZXRTbmFja2Jhck1zZ10gPSB1c2VTdGF0ZTxSZWFjdE5vZGU+KCcnKTtcblxuICBjb25zdCBhZGROb3RpZmljYXRpb24gPSB1c2VDYWxsYmFjaygobWVzc2FnZTogUmVhY3ROb2RlKSA9PiB7XG4gICAgc2V0U25hY2tiYXJNc2cobWVzc2FnZSk7XG4gICAgc2V0U25hY2tiYXJPcGVuKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLy8gSGVscGVyIHRvIG1vdmUgYW4gaXRlbSB3aXRoaW4gc2VjdGlvbk9yZGVyIGFuZCBtaXJyb3IgYm9keVNlY3Rpb25zIG9yZGVyIHdoZW4gYXBwbGljYWJsZVxuICBjb25zdCBtb3ZlU2VjdGlvblVwID0gdXNlQ2FsbGJhY2soKGtleTogc3RyaW5nKSA9PiB7XG4gICAgc2V0U2VjdGlvbk9yZGVyKHByZXYgPT4ge1xuICAgICAgY29uc3QgaSA9IHByZXYuaW5kZXhPZihrZXkpO1xuICAgICAgaWYgKGkgPD0gMCkgcmV0dXJuIHByZXY7XG4gICAgICBjb25zdCBuZXh0ID0gYXJyYXlNb3ZlKHByZXYsIGksIGkgLSAxKTtcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnYm9keS0nKSkge1xuICAgICAgICAvLyBSZWJ1aWxkIGJvZHlTZWN0aW9ucyB0byBtYXRjaCB0aGUgb3JkZXIgb2YgYm9keS0qIGtleXNcbiAgICAgICAgc2V0Qm9keVNlY3Rpb25zKHNlY3Rpb25zID0+IHtcbiAgICAgICAgICBjb25zdCBieUlkID0gbmV3IE1hcChzZWN0aW9ucy5tYXAocyA9PiBbcy5pZCwgc10gYXMgY29uc3QpKTtcbiAgICAgICAgICBjb25zdCBvcmRlcmVkSWRzID0gbmV4dC5maWx0ZXIoayA9PiBrLnN0YXJ0c1dpdGgoJ2JvZHktJykpLm1hcChrID0+IE51bWJlcihrLnJlcGxhY2UoJ2JvZHktJywgJycpKSk7XG4gICAgICAgICAgcmV0dXJuIG9yZGVyZWRJZHMubWFwKGlkID0+IGJ5SWQuZ2V0KGlkKSEpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV4dDtcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIGNvbnN0IG1vdmVTZWN0aW9uRG93biA9IHVzZUNhbGxiYWNrKChrZXk6IHN0cmluZykgPT4ge1xuICAgIHNldFNlY3Rpb25PcmRlcihwcmV2ID0+IHtcbiAgICAgIGNvbnN0IGkgPSBwcmV2LmluZGV4T2Yoa2V5KTtcbiAgICAgIGlmIChpID09PSAtMSB8fCBpID49IHByZXYubGVuZ3RoIC0gMSkgcmV0dXJuIHByZXY7XG4gICAgICBjb25zdCBuZXh0ID0gYXJyYXlNb3ZlKHByZXYsIGksIGkgKyAxKTtcbiAgICAgIGlmIChrZXkuc3RhcnRzV2l0aCgnYm9keS0nKSkge1xuICAgICAgICBzZXRCb2R5U2VjdGlvbnMoc2VjdGlvbnMgPT4ge1xuICAgICAgICAgIGNvbnN0IGJ5SWQgPSBuZXcgTWFwKHNlY3Rpb25zLm1hcChzID0+IFtzLmlkLCBzXSBhcyBjb25zdCkpO1xuICAgICAgICAgIGNvbnN0IG9yZGVyZWRJZHMgPSBuZXh0LmZpbHRlcihrID0+IGsuc3RhcnRzV2l0aCgnYm9keS0nKSkubWFwKGsgPT4gTnVtYmVyKGsucmVwbGFjZSgnYm9keS0nLCAnJykpKTtcbiAgICAgICAgICByZXR1cm4gb3JkZXJlZElkcy5tYXAoaWQgPT4gYnlJZC5nZXQoaWQpISkuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLy8gRGVlcC1jbG9uZSBhIGJvZHkgc2VjdGlvbjogcHJvZHVjdHMsIHVybHMgKGRyYWZ0KSwgcGFkZGluZywgYW5kIGluc2VydCBhZnRlciBzb3VyY2VcbiAgY29uc3QgY2xvbmVCb2R5U2VjdGlvbiA9IHVzZUNhbGxiYWNrKChzZWN0aW9uSWQ6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHNyYyA9IGJvZHlTZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VjdGlvbklkKTtcbiAgICBpZiAoIXNyYykgcmV0dXJuO1xuICAgIGNvbnN0IG5ld0lkID0gKGJvZHlTZWN0aW9ucy5yZWR1Y2UoKG0sIHMpID0+IE1hdGgubWF4KG0sIHMuaWQpLCAwKSB8fCAwKSArIDE7XG4gICAgY29uc3QgdXJsc0Nsb25lID0gKGRyYWZ0VXJsc1tzZWN0aW9uSWRdID8/IHNyYy51cmxzID8/IFtdKS5tYXAodSA9PiB1KTtcbiAgICBjb25zdCBwcm9kdWN0c0Nsb25lID0gKHNyYy5wcm9kdWN0cyA/PyBbXSkubWFwKHAgPT4gKHsgLi4ucCB9KSk7XG4gICAgY29uc3QgY2xvbmVkOiBCb2R5U2VjdGlvbiA9IHsgaWQ6IG5ld0lkLCBuYW1lOiBzcmMubmFtZSwgdXJsczogdXJsc0Nsb25lLCBwcm9kdWN0czogcHJvZHVjdHNDbG9uZSBhcyBhbnksIHNlbGVjdGVkQm9keUlkOiBzcmMuc2VsZWN0ZWRCb2R5SWQsIGxvYWRpbmc6IGZhbHNlIH0gYXMgQm9keVNlY3Rpb247XG4gICAgc2V0Qm9keVNlY3Rpb25zKHByZXYgPT4ge1xuICAgICAgY29uc3QgaSA9IHByZXYuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gc2VjdGlvbklkKTtcbiAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICBuZXh0LnNwbGljZShpICsgMSwgMCwgY2xvbmVkKTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICAgIHNldERyYWZ0VXJscyhwcmV2ID0+ICh7IC4uLnByZXYsIFtuZXdJZF06IHVybHNDbG9uZSB9KSk7XG4gICAgc2V0Qm9keVNlY3Rpb25QYWRkaW5ncyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IG5leHQgPSBuZXcgTWFwKHByZXYpO1xuICAgICAgY29uc3QgcGFkID0gbmV4dC5nZXQoc2VjdGlvbklkKTtcbiAgICAgIGlmIChwYWQpIG5leHQuc2V0KG5ld0lkLCB7IC4uLnBhZCB9KTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH0pO1xuICAgIHNldFNlY3Rpb25PcmRlcihwcmV2ID0+IHtcbiAgICAgIGNvbnN0IGtleSA9IGBib2R5LSR7c2VjdGlvbklkfWA7XG4gICAgICBjb25zdCBwb3MgPSBwcmV2LmluZGV4T2Yoa2V5KTtcbiAgICAgIGlmIChwb3MgPT09IC0xKSByZXR1cm4gcHJldjtcbiAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICBuZXh0LnNwbGljZShwb3MgKyAxLCAwLCBgYm9keS0ke25ld0lkfWApO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfSk7XG4gICAgc2V0T3BlblNlY3Rpb24oYGJvZHktJHtuZXdJZH1gKTtcbiAgICBpZiAoc2VsZWN0ZWRQcm9kdWN0Q3R4ICYmIHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQgPT09IHNlY3Rpb25JZCkge1xuICAgICAgY29uc3QgaWR4ID0gTWF0aC5taW4oc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4LCBNYXRoLm1heCgwLCBwcm9kdWN0c0Nsb25lLmxlbmd0aCAtIDEpKTtcbiAgICAgIHNldFNlbGVjdGVkUHJvZHVjdEN0eCh7IHNlY3Rpb25JZDogbmV3SWQsIGluZGV4OiBpZHggfSk7XG4gICAgfVxuICAgIGFkZE5vdGlmaWNhdGlvbignU2VjdGlvbiBjbG9uZWQnKTtcbiAgfSwgW2JvZHlTZWN0aW9ucywgZHJhZnRVcmxzLCBzZWxlY3RlZFByb2R1Y3RDdHgsIGFkZE5vdGlmaWNhdGlvbl0pO1xuXG4gIC8vIFJldXNhYmxlIFwibW9yZSBhY3Rpb25zXCIgYnV0dG9uIHdpdGggTVVJIE1lbnVcbiAgY29uc3QgTW9yZUFjdGlvbnM6IFJlYWN0LkZDPHsgc2l6ZT86ICdzbWFsbCcgfCAnbWVkaXVtJzsgaXRlbXM6IEFycmF5PHsgbGFiZWw6IHN0cmluZzsgb25DbGljaz86ICgpID0+IHZvaWQ7IGRpc2FibGVkPzogYm9vbGVhbjsgaWNvbj86IFJlYWN0LlJlYWN0Tm9kZTsgfT47IHRpdGxlPzogc3RyaW5nIH0+XG4gICAgPSAoeyBzaXplID0gJ21lZGl1bScsIGl0ZW1zLCB0aXRsZSA9ICdNb3JlIGFjdGlvbnMnIH0pID0+IHtcbiAgICAgIGNvbnN0IFthbmNob3JFbCwgc2V0QW5jaG9yRWxdID0gdXNlU3RhdGU8bnVsbCB8IEhUTUxFbGVtZW50PihudWxsKTtcbiAgICAgIGNvbnN0IG9wZW4gPSBCb29sZWFuKGFuY2hvckVsKTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDw+XG4gICAgICAgICAgPEljb25CdXR0b24gY29tcG9uZW50PVwic3BhblwiIHNpemU9e3NpemV9IG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IHNldEFuY2hvckVsKGUuY3VycmVudFRhcmdldCk7IH19IHRpdGxlPXt0aXRsZX0+XG4gICAgICAgICAgICA8TW9yZVZlcnRJY29uIGZvbnRTaXplPXtzaXplfSAvPlxuICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICA8TWVudSBhbmNob3JFbD17YW5jaG9yRWx9IG9wZW49e29wZW59IG9uQ2xvc2U9eygpID0+IHNldEFuY2hvckVsKG51bGwpfSBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX0+XG4gICAgICAgICAgICB7aXRlbXMubWFwKChpdCwgaWR4KSA9PiAoXG4gICAgICAgICAgICAgIDxNZW51SXRlbSBrZXk9e2lkeH0gZGlzYWJsZWQ9eyEhaXQuZGlzYWJsZWR9IG9uQ2xpY2s9eygpID0+IHsgc2V0QW5jaG9yRWwobnVsbCk7IGl0Lm9uQ2xpY2s/LigpOyB9fT5cbiAgICAgICAgICAgICAgICB7aXQuaWNvbiAmJiA8TGlzdEl0ZW1JY29uPntpdC5pY29ufTwvTGlzdEl0ZW1JY29uPn1cbiAgICAgICAgICAgICAgICA8TGlzdEl0ZW1UZXh0PntpdC5sYWJlbH08L0xpc3RJdGVtVGV4dD5cbiAgICAgICAgICAgICAgPC9NZW51SXRlbT5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvTWVudT5cbiAgICAgICAgPC8+XG4gICAgICApO1xuICAgIH07XG5cbiAgLy8gUHJvZHVjdFVybEZpZWxkcyBtb3ZlZCB0byBtb2R1bGUgc2NvcGUgYWJvdmVcblxuICBjb25zdCBTb3J0YWJsZUJvZHlTZWN0aW9uOiBSZWFjdC5GQzx7IHNlY3Rpb246IEJvZHlTZWN0aW9uOyBpc09wZW46IGJvb2xlYW4gfT4gPSAoeyBzZWN0aW9uLCBpc09wZW4gfSkgPT4ge1xuICAgIGNvbnN0IHsgYXR0cmlidXRlcywgbGlzdGVuZXJzLCBzZXROb2RlUmVmLCB0cmFuc2Zvcm0sIHRyYW5zaXRpb24gfSA9IHVzZVNvcnRhYmxlKHsgaWQ6IGBib2R5LSR7c2VjdGlvbi5pZH1gIH0pO1xuICAgIGNvbnN0IHsgWydhcmlhLWRlc2NyaWJlZGJ5J106IF9hcmlhRGVzY3JpYmVkQnksIC4uLnNvcnRhYmxlQXR0cmlidXRlcyB9ID0gYXR0cmlidXRlcyBhcyBhbnk7XG4gICAgY29uc3Qgc3R5bGUgPSB7IHRyYW5zZm9ybTogQ1NTLlRyYW5zZm9ybS50b1N0cmluZyh0cmFuc2Zvcm0pLCB0cmFuc2l0aW9uIH0gYXMgUmVhY3QuQ1NTUHJvcGVydGllcztcblxuICAgIC8vIFN0YWJsZSBoYW5kbGVyIHNvIFBhZGRpbmdDb250cm9scy5vbkNoYW5nZSBpZGVudGl0eSBkb2Vzbid0IGNoYW5nZSBhY3Jvc3MgcmVuZGVyc1xuICAgIGNvbnN0IGhhbmRsZVBhZGRpbmdDaGFuZ2UgPSB1c2VDYWxsYmFjaygocDogUGFkZGluZ1ZhbHVlKSA9PiBzZXRCb2R5U2VjdGlvblBhZGRpbmcoc2VjdGlvbi5pZCwgcCksIFtzZWN0aW9uLmlkLCBzZXRCb2R5U2VjdGlvblBhZGRpbmddKTtcbiAgICByZXR1cm4gKFxuICA8ZGl2IHJlZj17c2V0Tm9kZVJlZn0gc3R5bGU9e3sgLi4uc3R5bGUsIGJvcmRlclJhZGl1czogNSB9fT5cbiAgICAgICAgPFNlY3Rpb25BY2NvcmRpb25cbiAgICAgICAgICBpZD17YGxlZnQtYm9keS0ke3NlY3Rpb24uaWR9YH1cbiAgICAgICAgICB0aXRsZT17c2VjdGlvbi5uYW1lfVxuICAgICAgICAgIGV4cGFuZGVkPXtpc09wZW59XG4gICAgICAgICAgb25Ub2dnbGU9eygpID0+IGhhbmRsZUFjY29yZGlvblRvZ2dsZShgYm9keS0ke3NlY3Rpb24uaWR9YCl9XG4gICAgICAgICAgc3RhcnRBZG9ybm1lbnQ9e1xuICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgY29tcG9uZW50PVwic3BhblwiXG4gICAgICAgICAgICAgIHNpemU9XCJtZWRpdW1cIlxuICAgICAgICAgICAgICB7Li4uc29ydGFibGVBdHRyaWJ1dGVzfVxuICAgICAgICAgICAgICB7Li4ubGlzdGVuZXJzfVxuICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKX1cbiAgICAgICAgICAgICAgdGl0bGU9XCJSZW9yZGVyIHNlY3Rpb25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RHJhZ0luZGljYXRvckljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgIH1cbiAgICAgICAgICBhY3Rpb25zPXtcbiAgICAgICAgICAgIDxNb3JlQWN0aW9uc1xuICAgICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgICAgaXRlbXM9eygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYGJvZHktJHtzZWN0aW9uLmlkfWA7XG4gICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gc2VjdGlvbk9yZGVyLmluZGV4T2Yoa2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ01vdmUgdXAnLCBpY29uOiA8QXJyb3dVcHdhcmRJY29uIGZvbnRTaXplPVwic21hbGxcIiAvPiwgZGlzYWJsZWQ6IGlkeCA8PSAwLCBvbkNsaWNrOiAoKSA9PiBtb3ZlU2VjdGlvblVwKGtleSkgfSxcbiAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdNb3ZlIGRvd24nLCBpY29uOiA8QXJyb3dEb3dud2FyZEljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+LCBkaXNhYmxlZDogaWR4ID09PSAtMSB8fCBpZHggPj0gc2VjdGlvbk9yZGVyLmxlbmd0aCAtIDEsIG9uQ2xpY2s6ICgpID0+IG1vdmVTZWN0aW9uRG93bihrZXkpIH0sXG4gICAgICAgICAgICAgICAgICB7IGxhYmVsOiAnQ2xvbmUnLCBpY29uOiA8Q29udGVudENvcHlJY29uIGZvbnRTaXplPVwic21hbGxcIiAvPiwgb25DbGljazogKCkgPT4gY2xvbmVCb2R5U2VjdGlvbihzZWN0aW9uLmlkKSB9LFxuICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ0RlbGV0ZScsIGljb246IDxEZWxldGVJY29uIGZvbnRTaXplPVwic21hbGxcIiAvPiwgb25DbGljazogKCkgPT4gcmVtb3ZlQm9keVNlY3Rpb24oc2VjdGlvbi5pZCkgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICB9XG4gICAgICAgICAgZGV0YWlsc1N4PXt7IHB0OiAxLjI1IH19XG4gICAgICAgID5cbiAgICAgICAgICAgIHsvKiBNb3ZlIFRlbXBsYXRlICsgRGVzY3JpcHRpb24gU291cmNlIGNvbnRyb2xzIGFib3ZlIFVSTHMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBsYXRlLXJvd1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIG1hcmdpblRvcDogJzAuNXJlbScgIH19PlxuICAgICAgICAgICAgICA8TGFiZWxlZFNlbGVjdFxuICAgICAgICAgICAgICAgIGlkQmFzZT17YGJvZHktdGVtcGxhdGUtJHtzZWN0aW9uLmlkfWB9XG4gICAgICAgICAgICAgICAgbGFiZWw9XCJUZW1wbGF0ZVwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlY3Rpb24uc2VsZWN0ZWRCb2R5SWR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWN0aW9uVGVtcGxhdGUoc2VjdGlvbi5pZCwgZS50YXJnZXQudmFsdWUgYXMgc3RyaW5nKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtib2R5VGVtcGxhdGVzLm1hcCgodHBsKSA9PiAoXG4gICAgICAgICAgICAgICAgICA8TWVudUl0ZW0ga2V5PXt0cGwuaWR9IHZhbHVlPXt0cGwuaWR9Pnt0cGwubmFtZX08L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L0xhYmVsZWRTZWxlY3Q+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEJvZHlFZGl0TW9kZSgodikgPT4gIXYpfSB0aXRsZT17Ym9keUVkaXRNb2RlID8gJ0Nsb3NlIGVkaXRvcicgOiAnRWRpdCB0ZW1wbGF0ZSd9PlxuICAgICAgICAgICAgICAgIDxFZGl0SWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd05ld0JvZHkoKHYpID0+ICF2KX0gdGl0bGU9e3Nob3dOZXdCb2R5ID8gJ0NhbmNlbCBuZXcgdGVtcGxhdGUnIDogJ0FkZCBuZXcgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICA8QWRkSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge2JvZHlFZGl0TW9kZSAmJiAoXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD17YGJvZHktZHJhZnQtaHRtbC0ke3NlY3Rpb24uaWR9YH0gbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e2RyYWZ0Qm9keUh0bWx9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0RHJhZnRCb2R5SHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezh9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgdmFyaWFudD1cInN0YW5kYXJkXCIgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScsICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YmVmb3JlJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ2dyZXkuNDAwJyB9LCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmFmdGVyJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9LH19IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEJvZHlFZGl0TW9kZShmYWxzZSl9IHRpdGxlPVwiQ2FuY2VsIGVkaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzYXZlQm9keUVkaXRzKCk7IHNldEJvZHlFZGl0TW9kZShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7c2hvd05ld0JvZHkgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1mb3JtXCI+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD17YGJvZHktbmV3LW5hbWUtJHtzZWN0aW9uLmlkfWB9IGxhYmVsPVwiVGVtcGxhdGUgbmFtZVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e25ld0JvZHlOYW1lfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0JvZHlOYW1lKGUudGFyZ2V0LnZhbHVlKX0gZnVsbFdpZHRoIHZhcmlhbnQ9XCJzdGFuZGFyZFwiIHN4PXt7IG1iOiAxLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fSAvPlxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9e2Bib2R5LW5ldy1odG1sLSR7c2VjdGlvbi5pZH1gfSBsYWJlbD1cIlRlbXBsYXRlIEhUTUxcIiB2YWx1ZT17bmV3Qm9keUh0bWx9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3Qm9keUh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs2fSBmdWxsV2lkdGggbXVsdGlsaW5lIHZhcmlhbnQ9XCJzdGFuZGFyZFwiIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fSAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LXRlbXBsYXRlLWFjdGlvbnNcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIG1hcmdpblRvcDogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNldFNob3dOZXdCb2R5KGZhbHNlKTsgc2V0TmV3Qm9keU5hbWUoJycpOyBzZXROZXdCb2R5SHRtbCgnJyk7IH19IHRpdGxlPVwiQ2FuY2VsIG5ldyB0ZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uMiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IGFkZE5ld0JvZHlUZW1wbGF0ZSgpOyBzZXRTaG93TmV3Qm9keShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPFByb2R1Y3RVcmxGaWVsZHNcbiAgICAgICAgICAgICAgc2VjdGlvbklkPXtzZWN0aW9uLmlkfVxuICAgICAgICAgICAgICB1cmxzPXtnZXREcmFmdFVybHMoc2VjdGlvbi5pZCl9XG4gICAgICAgICAgICAgIG9uVXJsQ2hhbmdlPXtoYW5kbGVVcmxDaGFuZ2V9XG4gICAgICAgICAgICAgIG9uQWRkRmllbGQ9e2FkZFVybEZpZWxkfVxuICAgICAgICAgICAgICBvblJlbW92ZUZpZWxkPXtyZW1vdmVVcmxGaWVsZH1cbiAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uPXthZGROb3RpZmljYXRpb259XG4gICAgICAgICAgICAgIG9uUmVvcmRlcj17KHNlY3Rpb25JZCwgb2xkSW5kZXgsIG5ld0luZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gUmVvcmRlciBkcmFmdFVybHMgaW1tZWRpYXRlbHkgZm9yIFVJIGNvbnRpbnVpdHlcbiAgICAgICAgICAgICAgICBzZXREcmFmdFVybHMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50ID0gcHJldltzZWN0aW9uSWRdID8/IGdldERyYWZ0VXJscyhzZWN0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IGFycmF5TW92ZShjdXJyZW50LCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgW3NlY3Rpb25JZF06IG5leHQgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBSZW9yZGVyIHNlY3Rpb24udXJscyBhbmQgcHJvZHVjdHMgdG8gcmVmbGVjdCBpbiBwcmV2aWV3XG4gICAgICAgICAgICAgICAgc2V0Qm9keVNlY3Rpb25zKHByZXYgPT4gcHJldi5tYXAocyA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAocy5pZCAhPT0gc2VjdGlvbklkKSByZXR1cm4gcztcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHVybHMgPSBhcnJheU1vdmUocy51cmxzLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZHVjdHMgPSBhcnJheU1vdmUocy5wcm9kdWN0cywgb2xkSW5kZXgsIG5ld0luZGV4KTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnMsIHVybHMsIHByb2R1Y3RzIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMXJlbScsIGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJ3ZhcigtLWdhcC0yKScgfX0+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICBpZD17YHVwZGF0ZS1idXR0b24tJHtzZWN0aW9uLmlkfWB9XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gQmx1ciBhbnkgZm9jdXNlZCBlbGVtZW50IHRvIHRyaWdnZXIgb25CbHVyIHN5bmNzXG4gICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgLy8gQ29tbWl0IHRoZSBsYXRlc3QgdmFsdWVzIGZyb20gYWxsIFVSTCBpbnB1dHMgb2YgdGhpcyBzZWN0aW9uIGludG8gZHJhZnRVcmxzXG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub2RlTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgaW5wdXRbaWRePVwidXJsLSR7c2VjdGlvbi5pZH0tXCJdYCkpIGFzIEhUTUxJbnB1dEVsZW1lbnRbXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU29ydCBieSBpbmRleCBleHRyYWN0ZWQgZnJvbSBpZCBgdXJsLXNlY3Rpb25JZC1pbmRleGBcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc29ydGVkID0gbm9kZUxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAubWFwKChlbCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbSA9IGVsLmlkLm1hdGNoKG5ldyBSZWdFeHAoYF51cmwtJHtzZWN0aW9uLmlkfS0oXFxcXGQrKSRgKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZHggPSBtID8gcGFyc2VJbnQobVsxXSwgMTApIDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBpZHgsIGVsIH07XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5pZHggLSBiLmlkeCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlc1JhdyA9IHNvcnRlZC5tYXAoKHsgZWwgfSkgPT4gZWwudmFsdWUgPz8gJycpO1xuICAgICAgICAgICAgICAgICAgICAvLyBOb3JtYWxpemUgYW5kIHNhbml0aXplIChzdHJpcCBxdWVyeSBwYXJhbXMpIHRvIG1hdGNoIHNlcnZlciBtYXBwaW5nIGtleXNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gdmFsdWVzUmF3Lm1hcCh2ID0+IHNhbml0aXplVXJsKCh2IHx8ICcnKS50cmltKCkpKS5maWx0ZXIodiA9PiB2Lmxlbmd0aCA+IDAgfHwgdmFsdWVzUmF3LmluY2x1ZGVzKHYpKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0RHJhZnRVcmxzKChwcmV2KSA9PiAoeyAuLi5wcmV2LCBbc2VjdGlvbi5pZF06IHZhbHVlcyB9KSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgZ2VuZXJhdGlvbiB1c2luZyBleHBsaWNpdCB2YWx1ZXMgdG8gYXZvaWQgc3RhbGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBnZW5lcmF0ZVNlY3Rpb24oc2VjdGlvbi5pZCwgdmFsdWVzKSwgMCk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm9uLWZhdGFsOyBmYWxsIGJhY2sgdG8gZXhpc3RpbmcgZHJhZnRVcmxzL3NlY3Rpb24udXJsc1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBjb2xsZWN0IFVSTCBpbnB1dHMgYmVmb3JlIHVwZGF0ZScsIGVycik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZhbGxiYWNrOiBzdGlsbCBjYWxsIGdlbmVyYXRlIHVzaW5nIGN1cnJlbnQgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBnZW5lcmF0ZVNlY3Rpb24oc2VjdGlvbi5pZCksIDApO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3NlY3Rpb24ubG9hZGluZ31cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzZWN0aW9uLmxvYWRpbmcgPyAnR2VuZXJhdGluZ+KApicgOiAnVXBkYXRlJ31cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgLy8gQWRkIGEgbmV3IFVSTCByb3cgYXQgdGhlIGVuZCBhbmQgZm9jdXMgaXRcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRJbmRleCA9IChnZXREcmFmdFVybHMoc2VjdGlvbi5pZCk/Lmxlbmd0aCA/PyAwKTtcbiAgICAgICAgICAgICAgICAgIGFkZFVybEZpZWxkKHNlY3Rpb24uaWQsIG5leHRJbmRleCk7XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICB0aXRsZT1cIkFkZCBwcm9kdWN0IFVSTFwiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkFkZCBwcm9kdWN0IFVSTFwiXG4gICAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICAgIG1sOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScsXG4gICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2lubGluZS1mbGV4JyxcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogMSxcbiAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MCxcbiAgICAgICAgICAgICAgICAgIGhlaWdodDogNDAsXG4gICAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgJyYgc3ZnIHBhdGgnOiB7IGZpbGw6ICcjZmZmJyB9LFxuICAgICAgICAgICAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnktZGFyayknLFxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmYnLFxuICAgICAgICAgICAgICAgICAgICAnJiBzdmcgcGF0aCc6IHsgZmlsbDogJyNmZmYnIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPEFkZEljb24gc3g9e3sgZm9udFNpemU6IDI4LCB3aWR0aDogMjgsIGhlaWdodDogMjggfX0gLz5cbiAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7LyogQ29uZmlybSByZXNldCBkaWFsb2cgbW92ZWQgdG8gcm9vdCAqL31cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD1cInRleHRcIlxuICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVBZHZhbmNlZFRvZ2dsZShgYm9keS0ke3NlY3Rpb24uaWR9YCl9XG4gICAgICAgICAgICAgIGVuZEljb249e1xuICAgICAgICAgICAgICAgIDxFeHBhbmRNb3JlSWNvblxuICAgICAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBpc0FkdmFuY2VkT3BlbihgYm9keS0ke3NlY3Rpb24uaWR9YCkgPyAncm90YXRlKDE4MGRlZyknIDogJ3JvdGF0ZSgwZGVnKScsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gMC4ycyBlYXNlJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgYWxpZ25TZWxmOiAnZmxleC1zdGFydCcsXG4gICAgICAgICAgICAgICAgbXQ6IDIsXG4gICAgICAgICAgICAgICAgY29sb3I6ICd0ZXh0LnNlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgICcmOmhvdmVyJzogeyBiYWNrZ3JvdW5kQ29sb3I6ICdhY3Rpb24uaG92ZXInIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQWR2YW5jZWQgc2V0dGluZ3NcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPENvbGxhcHNlIGluPXtpc0FkdmFuY2VkT3BlbihgYm9keS0ke3NlY3Rpb24uaWR9YCl9IHRpbWVvdXQ9XCJhdXRvXCIgdW5tb3VudE9uRXhpdD5cbiAgICAgICAgICAgICAgPEJveCBzeD17eyBtdDogMiB9fT5cbiAgICAgICAgICAgICAgICA8RGl2aWRlciBzeD17eyBtYjogMiB9fSAvPlxuICAgICAgICAgICAgICAgIDxQYWRkaW5nQ29udHJvbHNcbiAgICAgICAgICAgICAgICAgIGxhYmVsPVwiU2VjdGlvbiBwYWRkaW5nIChweClcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2dldEJvZHlTZWN0aW9uUGFkZGluZyhzZWN0aW9uLmlkKX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVQYWRkaW5nQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgcGVyc2lzdEtleT17YGJvZHk6JHtzZWN0aW9uLmlkfTpwYWRkaW5nYH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc3QgcGFkID0gZ2V0Qm9keVNlY3Rpb25QYWRkaW5nKHNlY3Rpb24uaWQpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgYWxsWmVybyA9IHBhZC50b3A9PT0wJiZwYWQucmlnaHQ9PT0wJiZwYWQuYm90dG9tPT09MCYmcGFkLmxlZnQ9PT0wO1xuICAgICAgICAgICAgICAgICAgaWYgKCFhbGxaZXJvKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJjYXB0aW9uXCIgc3g9e3sgbXQ6IDAuNSwgZGlzcGxheTogJ2Jsb2NrJywgY29sb3I6ICd0ZXh0LnNlY29uZGFyeScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgVXNpbmcgZGVmYXVsdCBwYWRkaW5nICgyNXB4IGRlc2t0b3AgLyAxNXB4IG1vYmlsZSlcbiAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgIHsoc2VjdGlvbi5zZWxlY3RlZEJvZHlJZCA9PT0gJ3Byb2R1Y3QtaW1hZ2UtbGVmdC1jb3B5LXJpZ2h0JyB8fCBzZWN0aW9uLnNlbGVjdGVkQm9keUlkID09PSAncHJvZHVjdC1jb3B5LWxlZnQtaW1hZ2UtcmlnaHQnKSAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8Rm9ybUNvbnRyb2xMYWJlbFxuICAgICAgICAgICAgICAgICAgICAgIHN4PXt7IG10OiAyLCBtbDogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2w9e1xuICAgICAgICAgICAgICAgICAgICAgICAgPFN3aXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXtzZWN0aW9uLmFsdGVybmF0ZSAhPT0gZmFsc2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoZWNrZWQgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJvZHlTZWN0aW9ucyhwcmV2ID0+IHByZXYubWFwKHMgPT4gcy5pZCA9PT0gc2VjdGlvbi5pZCA/IHsgLi4ucywgYWx0ZXJuYXRlOiBjaGVja2VkIH0gOiBzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD17PFR5cG9ncmFwaHkgdmFyaWFudD1cImJvZHkyXCI+QWx0ZXJuYXRlIGltYWdlL2NvcHkgb3JpZW50YXRpb248L1R5cG9ncmFwaHk+fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbi5hbHRlcm5hdGUgPT09IGZhbHNlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiY2FwdGlvblwiIHN4PXt7IGRpc3BsYXk6ICdibG9jaycsIGNvbG9yOiAndGV4dC5zZWNvbmRhcnknLCBtbDogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIEFsdGVybmF0aW9uIGRpc2FibGVkIOKAlCBhbGwgcHJvZHVjdHMgdXNlIGJhc2Ugb3JpZW50YXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICA8L0NvbGxhcHNlPlxuICAgICAgICAgICAgey8qIENUQSBiYWNrZ3JvdW5kIGN1c3RvbWl6YXRpb24gcmVtb3ZlZCAqL31cbiAgICAgICAgPC9TZWN0aW9uQWNjb3JkaW9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfTtcblxuICAvLyBBdm9pZCByZS1yZW5kZXJpbmcgYm9keSBzZWN0aW9ucyB3aGVuIG9ubHkgdW5yZWxhdGVkIHN0YXRlIChsaWtlIHBhZGRpbmcgbWFwKSBjaGFuZ2VzLlxuICBjb25zdCBNZW1vaXplZFNvcnRhYmxlQm9keVNlY3Rpb24gPSBSZWFjdC5tZW1vKFxuICAgIFNvcnRhYmxlQm9keVNlY3Rpb24sXG4gICAgKHByZXYsIG5leHQpID0+IHByZXYuc2VjdGlvbiA9PT0gbmV4dC5zZWN0aW9uICYmIHByZXYuaXNPcGVuID09PSBuZXh0LmlzT3BlblxuICApO1xuXG4gIGNvbnN0IFNvcnRhYmxlSGVyb1NlY3Rpb246IFJlYWN0LkZDPHsgaXNPcGVuOiBib29sZWFuIH0+ID0gKHsgaXNPcGVuIH0pID0+IHtcbiAgICBjb25zdCB7IGF0dHJpYnV0ZXMsIGxpc3RlbmVycywgc2V0Tm9kZVJlZiwgdHJhbnNmb3JtLCB0cmFuc2l0aW9uIH0gPSB1c2VTb3J0YWJsZSh7IGlkOiAnaGVybycgfSk7XG4gICAgY29uc3QgeyBbJ2FyaWEtZGVzY3JpYmVkYnknXTogX2FyaWFEZXNjcmliZWRCeSwgLi4uc29ydGFibGVBdHRyaWJ1dGVzIH0gPSBhdHRyaWJ1dGVzIGFzIGFueTtcbiAgICBjb25zdCBzdHlsZSA9IHsgdHJhbnNmb3JtOiBDU1MuVHJhbnNmb3JtLnRvU3RyaW5nKHRyYW5zZm9ybSksIHRyYW5zaXRpb24gfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICAgIHJldHVybiAoXG4gIDxkaXYgcmVmPXtzZXROb2RlUmVmfSBzdHlsZT17eyAuLi5zdHlsZSwgYm9yZGVyUmFkaXVzOiA1IH19PlxuICAgICAgICA8U2VjdGlvbkFjY29yZGlvblxuICAgICAgICAgIGlkPXsnbGVmdC1oZXJvJ31cbiAgICAgICAgICB0aXRsZT17J0hlcm8nfVxuICAgICAgICAgIGV4cGFuZGVkPXtpc09wZW59XG4gICAgICAgICAgb25Ub2dnbGU9eygpID0+IGhhbmRsZUFjY29yZGlvblRvZ2dsZSgnaGVybycpfVxuICAgICAgICAgIHN0YXJ0QWRvcm5tZW50PXtcbiAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgIGNvbXBvbmVudD1cInNwYW5cIlxuICAgICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgICAgey4uLnNvcnRhYmxlQXR0cmlidXRlc31cbiAgICAgICAgICAgICAgey4uLmxpc3RlbmVyc31cbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgICAgIHRpdGxlPVwiUmVvcmRlciBzZWN0aW9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPERyYWdJbmRpY2F0b3JJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICB9XG4gICAgICAgICAgYWN0aW9ucz17XG4gICAgICAgICAgICA8TW9yZUFjdGlvbnNcbiAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgIGl0ZW1zPXsoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IHNlY3Rpb25PcmRlci5pbmRleE9mKCdoZXJvJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdNb3ZlIHVwJywgaWNvbjogPEFycm93VXB3YXJkSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz4sIGRpc2FibGVkOiBpZHggPD0gMCwgb25DbGljazogKCkgPT4gbW92ZVNlY3Rpb25VcCgnaGVybycpIH0sXG4gICAgICAgICAgICAgICAgICB7IGxhYmVsOiAnTW92ZSBkb3duJywgaWNvbjogPEFycm93RG93bndhcmRJY29uIGZvbnRTaXplPVwic21hbGxcIiAvPiwgZGlzYWJsZWQ6IGlkeCA9PT0gLTEgfHwgaWR4ID49IHNlY3Rpb25PcmRlci5sZW5ndGggLSAxLCBvbkNsaWNrOiAoKSA9PiBtb3ZlU2VjdGlvbkRvd24oJ2hlcm8nKSB9LFxuICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ0Nsb25lJywgaWNvbjogPENvbnRlbnRDb3B5SWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz4sIGRpc2FibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICB7IGxhYmVsOiAnRGVsZXRlJywgaWNvbjogPERlbGV0ZUljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+LCBvbkNsaWNrOiAoKSA9PiByZW1vdmVIZXJvU2VjdGlvbigpIH0sXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgfVxuICAgICAgICAgIGRldGFpbHNTeD17eyBwdDogMS4yNSB9fVxuICAgICAgICA+XG4gICAgICAgICAgICB7aGVyb0ltYWdlID8gKFxuICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgPGltZyBzcmM9e2hlcm9JbWFnZX0gYWx0PXtoZXJvQWx0IHx8ICcnfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBoZWlnaHQ6ICdhdXRvJywgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yKScsIGJvcmRlclJhZGl1czogJzZweCcsIG92ZXJmbG93OiAnaGlkZGVuJyAgfX0gLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8cD5ObyBoZXJvIGltYWdlIHNlbGVjdGVkLjwvcD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBsYXRlLXJvd1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIG1hcmdpblRvcDogJzEuNXJlbScgIH19PlxuICAgICAgICAgICAgICA8TGFiZWxlZFNlbGVjdCBpZEJhc2U9XCJoZXJvLXRlbXBsYXRlXCIgbGFiZWw9XCJUZW1wbGF0ZVwiIHZhbHVlPXtzZWxlY3RlZEhlcm9JZH0gb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWxlY3RlZEhlcm9JZChTdHJpbmcoZS50YXJnZXQudmFsdWUpKX0+XG4gICAgICAgICAgICAgICAge2hlcm9UZW1wbGF0ZXMubWFwKCh0cGwpID0+IChcbiAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBrZXk9e3RwbC5pZH0gdmFsdWU9e3RwbC5pZH0+e3RwbC5uYW1lfTwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvTGFiZWxlZFNlbGVjdD5cbiAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0SGVyb0VkaXRNb2RlKCh2KSA9PiAhdil9IHRpdGxlPXtoZXJvRWRpdE1vZGUgPyAnQ2xvc2UgZWRpdG9yJyA6ICdFZGl0IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgPEVkaXRJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TmV3SGVybygodikgPT4gIXYpfSB0aXRsZT17c2hvd05ld0hlcm8gPyAnQ2FuY2VsIG5ldyB0ZW1wbGF0ZScgOiAnQWRkIG5ldyB0ZW1wbGF0ZSd9PlxuICAgICAgICAgICAgICAgIDxBZGRJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICB7aGVyb0VkaXRNb2RlICYmIChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiaGVyby1kcmFmdC1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e2RyYWZ0SGVyb0h0bWx9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0RHJhZnRIZXJvSHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezZ9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgdmFyaWFudD1cInN0YW5kYXJkXCIgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScsICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YmVmb3JlJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ2dyZXkuNDAwJyB9LCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmFmdGVyJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9LH19IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEhlcm9FZGl0TW9kZShmYWxzZSl9IHRpdGxlPVwiQ2FuY2VsIGVkaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzYXZlSGVyb0VkaXRzKCk7IHNldEhlcm9FZGl0TW9kZShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgIGlkPVwiaGVyby1ocmVmXCJcbiAgICAgICAgICAgICAgbmFtZT1cImhlcm8taHJlZlwiXG4gICAgICAgICAgICAgIGxhYmVsPVwiSGVybyBMaW5rIFVSTFwiXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17aGVyb0hyZWZ9XG4gICAgICAgICAgICAgIG9uQmx1cj17KGUpID0+IHNldEhlcm9IcmVmKHNhbml0aXplVXJsKGUuY3VycmVudFRhcmdldC52YWx1ZSkpfVxuICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgdmFyaWFudD1cInN0YW5kYXJkXCJcbiAgICAgICAgICAgICAgc3g9e3sgbXQ6IDIsICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YmVmb3JlJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ2dyZXkuNDAwJyB9LCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmFmdGVyJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9LH19XG4gICAgICAgICAgICAgIGlucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICBvbktleURvd246IChlOiBSZWFjdC5LZXlib2FyZEV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAoZS5jdXJyZW50VGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICBpZD1cImhlcm8tYWx0XCJcbiAgICAgICAgICAgICAgbmFtZT1cImhlcm8tYWx0XCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJIZXJvIEFsdCBUZXh0XCJcbiAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlPXtoZXJvQWx0fVxuICAgICAgICAgICAgICBvbkJsdXI9eyhlKSA9PiBzZXRIZXJvQWx0KGUuY3VycmVudFRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICB2YXJpYW50PVwic3RhbmRhcmRcIlxuICAgICAgICAgICAgICBzeD17eyBtdDogMiwgJyYgLk11aUlucHV0LXVuZGVybGluZTpiZWZvcmUnOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAnZ3JleS40MDAnIH0sICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YWZ0ZXInOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknIH0sfX1cbiAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xuICAgICAgICAgICAgICAgIG9uS2V5RG93bjogKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIChlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICB7c2hvd05ld0hlcm8gJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1mb3JtXCI+XG4gICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImhlcm8tbmV3LW5hbWVcIiBsYWJlbD1cIlRlbXBsYXRlIG5hbWVcIiB0eXBlPVwidGV4dFwiIHZhbHVlPXtuZXdIZXJvTmFtZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdIZXJvTmFtZShlLnRhcmdldC52YWx1ZSl9IGZ1bGxXaWR0aCB2YXJpYW50PVwic3RhbmRhcmRcIiBzeD17eyBtYjogMSwgJyYgLk11aUlucHV0LXVuZGVybGluZTpiZWZvcmUnOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAnZ3JleS40MDAnIH0sICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YWZ0ZXInOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknIH0sfX0gLz5cbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiaGVyby1uZXctaHRtbFwiIGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtuZXdIZXJvSHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdIZXJvSHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezZ9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgdmFyaWFudD1cInN0YW5kYXJkXCIgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScsICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YmVmb3JlJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ2dyZXkuNDAwJyB9LCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmFmdGVyJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9LH19IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0U2hvd05ld0hlcm8oZmFsc2UpOyBzZXROZXdIZXJvTmFtZSgnJyk7IHNldE5ld0hlcm9IdG1sKCcnKTsgfX0gdGl0bGU9XCJDYW5jZWwgbmV3IHRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgYWRkTmV3SGVyb1RlbXBsYXRlKCk7IHNldFNob3dOZXdIZXJvKGZhbHNlKTsgfX0gdGl0bGU9XCJTYXZlIG5ldyB0ZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQWR2YW5jZWRUb2dnbGUoJ2hlcm8nKX1cbiAgICAgICAgICAgICAgZW5kSWNvbj17XG4gICAgICAgICAgICAgICAgPEV4cGFuZE1vcmVJY29uXG4gICAgICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGlzQWR2YW5jZWRPcGVuKCdoZXJvJykgPyAncm90YXRlKDE4MGRlZyknIDogJ3JvdGF0ZSgwZGVnKScsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gMC4ycyBlYXNlJ1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgYWxpZ25TZWxmOiAnZmxleC1zdGFydCcsXG4gICAgICAgICAgICAgICAgbXQ6IDIsXG4gICAgICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuNiknLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgICAgICAnJjpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC4wNSknXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBBZHZhbmNlZCBzZXR0aW5nc1xuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8Q29sbGFwc2UgaW49e2lzQWR2YW5jZWRPcGVuKCdoZXJvJyl9IHRpbWVvdXQ9XCJhdXRvXCIgdW5tb3VudE9uRXhpdD5cbiAgICAgICAgICAgICAgPEJveCBzeD17eyBtdDogMiB9fT5cbiAgICAgICAgICAgICAgICA8RGl2aWRlciBzeD17eyBtYjogMiB9fSAvPlxuICAgICAgICAgICAgICAgIDxQYWRkaW5nQ29udHJvbHMgbGFiZWw9XCJTZWN0aW9uIHBhZGRpbmcgKHB4KVwiIHZhbHVlPXtoZXJvUGFkZGluZ30gb25DaGFuZ2U9e29uSGVyb1BhZGRpbmdDaGFuZ2V9IHBlcnNpc3RLZXk9XCJoZXJvOnBhZGRpbmdcIiAvPlxuICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgIDwvU2VjdGlvbkFjY29yZGlvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgU29ydGFibGVCYW5uZXJTZWN0aW9uOiBSZWFjdC5GQzx7IGlzT3BlbjogYm9vbGVhbiB9PiA9ICh7IGlzT3BlbiB9KSA9PiB7XG4gICAgY29uc3QgeyBhdHRyaWJ1dGVzLCBsaXN0ZW5lcnMsIHNldE5vZGVSZWYsIHRyYW5zZm9ybSwgdHJhbnNpdGlvbiB9ID0gdXNlU29ydGFibGUoeyBpZDogJ2Jhbm5lcicgfSk7XG4gICAgY29uc3QgeyBbJ2FyaWEtZGVzY3JpYmVkYnknXTogX2FyaWFEZXNjcmliZWRCeSwgLi4uc29ydGFibGVBdHRyaWJ1dGVzIH0gPSBhdHRyaWJ1dGVzIGFzIGFueTtcbiAgICBjb25zdCBzdHlsZSA9IHsgdHJhbnNmb3JtOiBDU1MuVHJhbnNmb3JtLnRvU3RyaW5nKHRyYW5zZm9ybSksIHRyYW5zaXRpb24gfSBhcyBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICAgIHJldHVybiAoXG4gIDxkaXYgcmVmPXtzZXROb2RlUmVmfSBzdHlsZT17eyAuLi5zdHlsZSwgYm9yZGVyUmFkaXVzOiA1IH19PlxuICAgICAgICA8U2VjdGlvbkFjY29yZGlvblxuICAgICAgICAgIGlkPXsnbGVmdC1iYW5uZXInfVxuICAgICAgICAgIHRpdGxlPXsnQmFubmVyJ31cbiAgICAgICAgICBleHBhbmRlZD17aXNPcGVufVxuICAgICAgICAgIG9uVG9nZ2xlPXsoKSA9PiBoYW5kbGVBY2NvcmRpb25Ub2dnbGUoJ2Jhbm5lcicpfVxuICAgICAgICAgIHN0YXJ0QWRvcm5tZW50PXtcbiAgICAgICAgICAgIDxJY29uQnV0dG9uXG4gICAgICAgICAgICAgIGNvbXBvbmVudD1cInNwYW5cIlxuICAgICAgICAgICAgICBzaXplPVwibWVkaXVtXCJcbiAgICAgICAgICAgICAgey4uLnNvcnRhYmxlQXR0cmlidXRlc31cbiAgICAgICAgICAgICAgey4uLmxpc3RlbmVyc31cbiAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9XG4gICAgICAgICAgICAgIHRpdGxlPVwiUmVvcmRlciBzZWN0aW9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPERyYWdJbmRpY2F0b3JJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICB9XG4gICAgICAgICAgYWN0aW9ucz17XG4gICAgICAgICAgICA8TW9yZUFjdGlvbnNcbiAgICAgICAgICAgICAgc2l6ZT1cIm1lZGl1bVwiXG4gICAgICAgICAgICAgIGl0ZW1zPXsoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGlkeCA9IHNlY3Rpb25PcmRlci5pbmRleE9mKCdiYW5uZXInKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ01vdmUgdXAnLCBpY29uOiA8QXJyb3dVcHdhcmRJY29uIGZvbnRTaXplPVwic21hbGxcIiAvPiwgZGlzYWJsZWQ6IGlkeCA8PSAwLCBvbkNsaWNrOiAoKSA9PiBtb3ZlU2VjdGlvblVwKCdiYW5uZXInKSB9LFxuICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ01vdmUgZG93bicsIGljb246IDxBcnJvd0Rvd253YXJkSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz4sIGRpc2FibGVkOiBpZHggPT09IC0xIHx8IGlkeCA+PSBzZWN0aW9uT3JkZXIubGVuZ3RoIC0gMSwgb25DbGljazogKCkgPT4gbW92ZVNlY3Rpb25Eb3duKCdiYW5uZXInKSB9LFxuICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ0Nsb25lJywgaWNvbjogPENvbnRlbnRDb3B5SWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz4sIGRpc2FibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICB7IGxhYmVsOiAnRGVsZXRlJywgaWNvbjogPERlbGV0ZUljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+LCBvbkNsaWNrOiAoKSA9PiByZW1vdmVCYW5uZXJTZWN0aW9uKCkgfSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICB9XG4gICAgICAgICAgZGV0YWlsc1N4PXt7IHB0OiAxLjI1IH19XG4gICAgICAgID5cbiAgICAgICAgICAgIHtiYW5uZXJJbWFnZSA/IChcbiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5Cb3R0b206ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPXtiYW5uZXJJbWFnZX0gYWx0PXtiYW5uZXJBbHQgfHwgJyd9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJ2F1dG8nLCBib3JkZXI6ICcxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjIpJywgYm9yZGVyUmFkaXVzOiAnNnB4Jywgb3ZlcmZsb3c6ICdoaWRkZW4nIH19IC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgPHA+Tm8gaGVybyBpbWFnZSBzZWxlY3RlZC48L3A+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBsYXRlLXJvd1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIG1hcmdpblRvcDogJzEuNXJlbScgIH19PlxuICAgICAgICAgICAgICA8TGFiZWxlZFNlbGVjdCBpZEJhc2U9XCJiYW5uZXItdGVtcGxhdGVcIiBsYWJlbD1cIlRlbXBsYXRlXCIgdmFsdWU9e3NlbGVjdGVkQmFubmVySWR9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRCYW5uZXJJZChTdHJpbmcoZS50YXJnZXQudmFsdWUpKX0+XG4gICAgICAgICAgICAgICAge2Jhbm5lclRlbXBsYXRlcy5tYXAoKHRwbCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGtleT17dHBsLmlkfSB2YWx1ZT17dHBsLmlkfT57dHBsLm5hbWV9PC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9MYWJlbGVkU2VsZWN0PlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRCYW5uZXJFZGl0TW9kZSgodikgPT4gIXYpfSB0aXRsZT17YmFubmVyRWRpdE1vZGUgPyAnQ2xvc2UgZWRpdG9yJyA6ICdFZGl0IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgPEVkaXRJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93TmV3QmFubmVyKCh2KSA9PiAhdil9IHRpdGxlPXtzaG93TmV3QmFubmVyID8gJ0NhbmNlbCBuZXcgdGVtcGxhdGUnIDogJ0FkZCBuZXcgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICA8QWRkSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAge2Jhbm5lckVkaXRNb2RlICYmIChcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiYmFubmVyLWRyYWZ0LWh0bWxcIiBsYWJlbD1cIlRlbXBsYXRlIEhUTUxcIiB2YWx1ZT17ZHJhZnRCYW5uZXJIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldERyYWZ0QmFubmVySHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezh9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgdmFyaWFudD1cInN0YW5kYXJkXCIgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScsICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YmVmb3JlJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ2dyZXkuNDAwJyB9LCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmFmdGVyJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9LH19IC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEJhbm5lckVkaXRNb2RlKGZhbHNlKX0gdGl0bGU9XCJDYW5jZWwgZWRpdFwiPlxuICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uMiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiB7IHNhdmVCYW5uZXJFZGl0cygpOyBzZXRCYW5uZXJFZGl0TW9kZShmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBlZGl0c1wiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7c2hvd05ld0Jhbm5lciAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LXRlbXBsYXRlLWZvcm1cIj5cbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiYmFubmVyLW5ldy1uYW1lXCIgbGFiZWw9XCJUZW1wbGF0ZSBuYW1lXCIgdHlwZT1cInRleHRcIiB2YWx1ZT17bmV3QmFubmVyTmFtZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdCYW5uZXJOYW1lKGUudGFyZ2V0LnZhbHVlKX0gZnVsbFdpZHRoIHZhcmlhbnQ9XCJzdGFuZGFyZFwiIHN4PXt7IG1iOiAxLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fSAvPlxuICAgICAgICAgICAgICAgIDxUZXh0RmllbGQgaWQ9XCJiYW5uZXItbmV3LWh0bWxcIiBsYWJlbD1cIlRlbXBsYXRlIEhUTUxcIiB2YWx1ZT17bmV3QmFubmVySHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdCYW5uZXJIdG1sKGUudGFyZ2V0LnZhbHVlKX0gcm93cz17Nn0gZnVsbFdpZHRoIG11bHRpbGluZSB2YXJpYW50PVwic3RhbmRhcmRcIiBzeD17eyBmb250RmFtaWx5OiAnbW9ub3NwYWNlJywgJyYgLk11aUlucHV0LXVuZGVybGluZTpiZWZvcmUnOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAnZ3JleS40MDAnIH0sICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YWZ0ZXInOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknIH0sfX0gLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1hY3Rpb25zXCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcwLjVyZW0nIH19PlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTaG93TmV3QmFubmVyKGZhbHNlKTsgc2V0TmV3QmFubmVyTmFtZSgnJyk7IHNldE5ld0Jhbm5lckh0bWwoJycpOyB9fSB0aXRsZT1cIkNhbmNlbCBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBhZGROZXdCYW5uZXJUZW1wbGF0ZSgpOyBzZXRTaG93TmV3QmFubmVyKGZhbHNlKTsgfX0gdGl0bGU9XCJTYXZlIG5ldyB0ZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICA8U2F2ZUljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgIGlkPVwiYmFubmVyLWhyZWZcIlxuICAgICAgICAgICAgICBsYWJlbD1cIkJhbm5lciBMaW5rIFVSTFwiXG4gICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZT17YmFubmVySHJlZn1cbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gc2V0QmFubmVySHJlZihzYW5pdGl6ZVVybChlLmN1cnJlbnRUYXJnZXQudmFsdWUpKX1cbiAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJzdGFuZGFyZFwiXG4gICAgICAgICAgICAgIHN4PXt7IG10OiAyLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fVxuICAgICAgICAgICAgICBpbnB1dFByb3BzPXt7XG4gICAgICAgICAgICAgICAgb25LZXlEb3duOiAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgKGUuY3VycmVudFRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgaWQ9XCJiYW5uZXItYWx0XCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJCYW5uZXIgQWx0IFRleHRcIlxuICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9e2Jhbm5lckFsdH1cbiAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4gc2V0QmFubmVyQWx0KGUuY3VycmVudFRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICB2YXJpYW50PVwic3RhbmRhcmRcIlxuICAgICAgICAgICAgICBzeD17eyBtdDogMiwgJyYgLk11aUlucHV0LXVuZGVybGluZTpiZWZvcmUnOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAnZ3JleS40MDAnIH0sICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YWZ0ZXInOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknIH0sfX1cbiAgICAgICAgICAgICAgaW5wdXRQcm9wcz17e1xuICAgICAgICAgICAgICAgIG9uS2V5RG93bjogKGU6IFJlYWN0LktleWJvYXJkRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIChlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHZhcmlhbnQ9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQWR2YW5jZWRUb2dnbGUoJ2Jhbm5lcicpfVxuICAgICAgICAgICAgICBlbmRJY29uPXtcbiAgICAgICAgICAgICAgICA8RXhwYW5kTW9yZUljb25cbiAgICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogaXNBZHZhbmNlZE9wZW4oJ2Jhbm5lcicpID8gJ3JvdGF0ZSgxODBkZWcpJyA6ICdyb3RhdGUoMGRlZyknLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtIDAuMnMgZWFzZSdcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgIGFsaWduU2VsZjogJ2ZsZXgtc3RhcnQnLFxuICAgICAgICAgICAgICAgIG10OiAyLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAncmdiYSgwLCAwLCAwLCAwLjYpJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsIDAsIDAsIDAuMDUpJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQWR2YW5jZWQgc2V0dGluZ3NcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPENvbGxhcHNlIGluPXtpc0FkdmFuY2VkT3BlbignYmFubmVyJyl9IHRpbWVvdXQ9XCJhdXRvXCIgdW5tb3VudE9uRXhpdD5cbiAgICAgICAgICAgICAgPEJveCBzeD17eyBtdDogMiB9fT5cbiAgICAgICAgICAgICAgICA8RGl2aWRlciBzeD17eyBtYjogMiB9fSAvPlxuICAgICAgICAgICAgICAgIDxQYWRkaW5nQ29udHJvbHMgbGFiZWw9XCJTZWN0aW9uIHBhZGRpbmcgKHB4KVwiIHZhbHVlPXtiYW5uZXJQYWRkaW5nfSBvbkNoYW5nZT17b25CYW5uZXJQYWRkaW5nQ2hhbmdlfSBwZXJzaXN0S2V5PVwiYmFubmVyOnBhZGRpbmdcIiAvPlxuICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgIDwvU2VjdGlvbkFjY29yZGlvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH07XG5cbiAgY29uc3QgTWVtb2l6ZWRTb3J0YWJsZUhlcm9TZWN0aW9uID0gUmVhY3QubWVtbyhTb3J0YWJsZUhlcm9TZWN0aW9uKTtcbiAgY29uc3QgTWVtb2l6ZWRTb3J0YWJsZUJhbm5lclNlY3Rpb24gPSBSZWFjdC5tZW1vKFNvcnRhYmxlQmFubmVyU2VjdGlvbik7XG5cbiAgLyoqXG4gICAqIEJvZHkgdGVtcGxhdGVzIGFuZCBzZWxlY3Rpb24gc3RhdGUuIEJvZHkgdGVtcGxhdGVzIGRlZmluZVxuICAgKiBtb2R1bGVzIGZvciBlYWNoIHByb2R1Y3QuIFRoZXkgc3VwcG9ydCBhbHRlcm5hdGluZyBsYXlvdXQgdmlhXG4gICAqIGFsdGVybmF0ZU1hcC4gVXNlcnMgY2FuIHNlbGVjdCBhIHRlbXBsYXRlLCBlZGl0IGl0LCBhbmQgYWRkXG4gICAqIG5ldyBvbmVzIHdoaWNoIGFyZSBwZXJzaXN0ZWQgaW4gbG9jYWxTdG9yYWdlLlxuICAgKi9cbiAgY29uc3QgW2JvZHlUZW1wbGF0ZXMsIHNldEJvZHlUZW1wbGF0ZXNdID0gdXNlU3RhdGU8Qm9keVRlbXBsYXRlW10+KGRlZmF1bHRCb2R5VGVtcGxhdGVzKTtcbiAgY29uc3QgW3NlbGVjdGVkQm9keUlkLCBzZXRTZWxlY3RlZEJvZHlJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGRlZmF1bHRCb2R5VGVtcGxhdGVzWzBdLmlkKTtcbiAgY29uc3QgW2JvZHlFZGl0TW9kZSwgc2V0Qm9keUVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0Qm9keUh0bWwsIHNldERyYWZ0Qm9keUh0bWxdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3Qm9keU5hbWUsIHNldE5ld0JvZHlOYW1lXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0JvZHlIdG1sLCBzZXROZXdCb2R5SHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLyoqXG4gICAqIEhlYWRlciB0ZW1wbGF0ZXMgYW5kIHNlbGVjdGlvbiBzdGF0ZS4gSGVhZGVycyByZW5kZXIgYXQgdGhlIHRvcFxuICAgKiBvZiB0aGUgZmluYWwgZW1haWwuIFRoZXkgYXJlIHN0YXRpYyBieSBkZWZhdWx0IGJ1dCBjYW4gYmVcbiAgICogY3VzdG9taXNlZCB0aHJvdWdoIGVkaXRpbmcgYW5kIGFkZGl0aW9uYWwgdGVtcGxhdGVzLlxuICAgKi9cbiAgY29uc3QgW2hlYWRlclRlbXBsYXRlcywgc2V0SGVhZGVyVGVtcGxhdGVzXSA9IHVzZVN0YXRlPEhlYWRlclRlbXBsYXRlW10+KGRlZmF1bHRIZWFkZXJUZW1wbGF0ZXMpO1xuICBjb25zdCBbc2VsZWN0ZWRIZWFkZXJJZCwgc2V0U2VsZWN0ZWRIZWFkZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGRlZmF1bHRIZWFkZXJUZW1wbGF0ZXNbMF0uaWQpO1xuICBjb25zdCBbaGVhZGVyRWRpdE1vZGUsIHNldEhlYWRlckVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0SGVhZGVySHRtbCwgc2V0RHJhZnRIZWFkZXJIdG1sXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0hlYWRlck5hbWUsIHNldE5ld0hlYWRlck5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3SGVhZGVySHRtbCwgc2V0TmV3SGVhZGVySHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLyoqXG4gICAqIEZvb3RlciB0ZW1wbGF0ZXMgYW5kIHNlbGVjdGlvbiBzdGF0ZS4gRm9vdGVycyByZW5kZXIgYXQgdGhlXG4gICAqIGJvdHRvbSBvZiB0aGUgZmluYWwgZW1haWwuIExpa2UgaGVhZGVycyB0aGV5IGNhbiBiZSBlZGl0ZWQgYW5kXG4gICAqIGV4dGVuZGVkIGJ5IHRoZSB1c2VyLlxuICAgKi9cbiAgY29uc3QgW2Zvb3RlclRlbXBsYXRlcywgc2V0Rm9vdGVyVGVtcGxhdGVzXSA9IHVzZVN0YXRlPEZvb3RlclRlbXBsYXRlW10+KGRlZmF1bHRGb290ZXJUZW1wbGF0ZXMpO1xuICBjb25zdCBbc2VsZWN0ZWRGb290ZXJJZCwgc2V0U2VsZWN0ZWRGb290ZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGRlZmF1bHRGb290ZXJUZW1wbGF0ZXNbMF0uaWQpO1xuICBjb25zdCBbZm9vdGVyRWRpdE1vZGUsIHNldEZvb3RlckVkaXRNb2RlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0Rm9vdGVySHRtbCwgc2V0RHJhZnRGb290ZXJIdG1sXSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW25ld0Zvb3Rlck5hbWUsIHNldE5ld0Zvb3Rlck5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbmV3Rm9vdGVySHRtbCwgc2V0TmV3Rm9vdGVySHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLyoqXG4gICAqIFZpc2liaWxpdHkgZmxhZ3MgZm9yIG5ldyB0ZW1wbGF0ZSBmb3Jtcy4gV2hlbiB0cnVlLCB0aGUgZm9ybVxuICAgKiBmaWVsZHMgZm9yIGFkZGluZyBhIGN1c3RvbSB0ZW1wbGF0ZSBhcmUgZGlzcGxheWVkIGluIHRoZVxuICAgKiBhY2NvcmRpb24gY29udGVudC4gV2hlbiBmYWxzZSwgdGhlIGZvcm0gaXMgaGlkZGVuIGFuZCBvbmx5IHRoZVxuICAgKiBhZGQgaWNvbiBpcyB2aXNpYmxlLiBTZXBhcmF0ZSBmbGFncyBhcmUgdXNlZCBmb3IgaGVhZGVyLCBib2R5XG4gICAqIGFuZCBmb290ZXIgc2VjdGlvbnMuXG4gICAqL1xuICBjb25zdCBbc2hvd05ld0hlYWRlciwgc2V0U2hvd05ld0hlYWRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtzaG93TmV3Qm9keSwgc2V0U2hvd05ld0JvZHldID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbc2hvd05ld0Zvb3Rlciwgc2V0U2hvd05ld0Zvb3Rlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIC8vIFN1bW1hcnkgZHJhd2VyIHRhYiBzdGF0ZVxuICBjb25zdCBbc3VtbWFyeVRhYiwgc2V0U3VtbWFyeVRhYl0gPSB1c2VTdGF0ZSgwKTsgLy8gMDogUHJvZHVjdCwgMTogQXNzZXRzLCAyOiBCcmFuZFxuICAvLyBDb2xsZWN0aW9uIGxpc3Rpbmcgc3RhdGUgKHBvcHVsYXRlZCB3aGVuIGEgY29sbGVjdGlvbiBVUkwgaXMgZGV0ZWN0ZWQpXG4gIGNvbnN0IFtjb2xsZWN0aW9uSXRlbXMsIHNldENvbGxlY3Rpb25JdGVtc10gPSB1c2VTdGF0ZTxBcnJheTx7IGlkOiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IHByaWNlPzogc3RyaW5nOyBpbWFnZT86IHN0cmluZzsgdXJsOiBzdHJpbmcgfT4+KFtdKTtcbiAgY29uc3QgW2NvbGxlY3Rpb25Mb2FkaW5nLCBzZXRDb2xsZWN0aW9uTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb2xsZWN0aW9uU2VsZWN0aW9uLCBzZXRDb2xsZWN0aW9uU2VsZWN0aW9uXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IGxhc3RDb2xsZWN0aW9uU2VsZWN0aW9uUmVmID0gdXNlUmVmPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtjb2xsZWN0aW9uUXVlcnksIHNldENvbGxlY3Rpb25RdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIC8vIEluZGljYXRlcyB3ZSBhcmUgZW5yaWNoaW5nIHNlbGVjdGVkIGNvbGxlY3Rpb24gcm93cyBieSBmZXRjaGluZyBwcm9kdWN0IHBhZ2VzXG4gIGNvbnN0IFtjb2xsZWN0aW9uRW5yaWNoaW5nLCBzZXRDb2xsZWN0aW9uRW5yaWNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgLy8gU2VsZWN0ZWQgcHJvZHVjdCBjb250ZXh0IGlzIGRlY2xhcmVkIGVhcmxpZXIgc28gaGVscGVycyBjYW4gcmVmZXJlbmNlIGl0XG4gIC8vIFRyYWNrIG1vc3QgcmVjZW50bHkgYWRkZWQgcHJvZHVjdCAoZm9yIGF1dG8gc2Nyb2xsICsgZmFkZS1pbiBoaWdobGlnaHQpXG4gIGNvbnN0IFtyZWNlbnRseUFkZGVkLCBzZXRSZWNlbnRseUFkZGVkXSA9IHVzZVN0YXRlPHsgc2VjdGlvbklkOiBudW1iZXI7IGluZGV4OiBudW1iZXI7IHRzOiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuICAvLyBUcmFjayBwcm9kdWN0IGZpZWxkIHVwZGF0ZXMgKG5vbi1hZGQgY2hhbmdlcykgZm9yIGJyaWVmIGhpZ2hsaWdodFxuICBjb25zdCBbcmVjZW50bHlVcGRhdGVkLCBzZXRSZWNlbnRseVVwZGF0ZWRdID0gdXNlU3RhdGU8eyBzZWN0aW9uSWQ6IG51bWJlcjsgaW5kZXg6IG51bWJlcjsgZmllbGQ6IHN0cmluZzsgdHM6IG51bWJlciB9IHwgbnVsbD4obnVsbCk7XG4gIC8vIEZhbGxiYWNrOiBpZiBhIGNvbGxlY3Rpb24gc2VjdGlvbiBnYWlucyBpdHMgZmlyc3QgcHJvZHVjdCBhbmQgbm8gc2VsZWN0aW9uIGlzIHNldCB5ZXQsIHNlbGVjdCBpbmRleCAwXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzZWxlY3RlZFByb2R1Y3RDdHgpIHtcbiAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBib2R5U2VjdGlvbnMuZmluZChzID0+IHMubmFtZSA9PT0gJ0NvbGxlY3Rpb24nKTtcbiAgICAgIGlmIChjb2xsZWN0aW9uICYmIGNvbGxlY3Rpb24ucHJvZHVjdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBzZXRTZWxlY3RlZFByb2R1Y3RDdHgoeyBzZWN0aW9uSWQ6IGNvbGxlY3Rpb24uaWQsIGluZGV4OiAwIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2JvZHlTZWN0aW9ucywgc2VsZWN0ZWRQcm9kdWN0Q3R4XSk7XG5cbiAgLy8gSWYgbXVsdGlwbGUgcHJvZHVjdHMgc2hyaW5rIGRvd24gdG8gZXhhY3RseSBvbmUgKGFmdGVyIHJlbW92YWxzKSwgYXV0by1mb2N1cyB0aGF0IHJlbWFpbmluZyBvbmVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gYm9keVNlY3Rpb25zLmZpbmQocyA9PiBzLm5hbWUgPT09ICdDb2xsZWN0aW9uJyk7XG4gICAgaWYgKCFjb2xsZWN0aW9uKSByZXR1cm47XG4gICAgaWYgKGNvbGxlY3Rpb24ucHJvZHVjdHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBjb25zdCBvbmx5SW5kZXggPSAwO1xuICAgICAgaWYgKCFzZWxlY3RlZFByb2R1Y3RDdHggfHwgc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCAhPT0gY29sbGVjdGlvbi5pZCB8fCBzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXggIT09IG9ubHlJbmRleCkge1xuICAgICAgICBzZXRTZWxlY3RlZFByb2R1Y3RDdHgoeyBzZWN0aW9uSWQ6IGNvbGxlY3Rpb24uaWQsIGluZGV4OiBvbmx5SW5kZXggfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbYm9keVNlY3Rpb25zLCBzZWxlY3RlZFByb2R1Y3RDdHhdKTtcblxuICAvLyBTY3JvbGwgbmV3bHkgYWRkZWQgcHJvZHVjdCBpbnRvIHZpZXcgJiBmYWRlIGhpZ2hsaWdodFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghcmVjZW50bHlBZGRlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgc2VjdGlvbklkLCBpbmRleCB9ID0gcmVjZW50bHlBZGRlZDtcbiAgICBsZXQgY2FuY2VsbGVkID0gZmFsc2U7XG4gICAgbGV0IGF0dGVtcHRzID0gMDtcblxuICAgIGNvbnN0IHRyeUxvY2F0ZSA9ICgpID0+IHtcbiAgICAgIGlmIChjYW5jZWxsZWQpIHJldHVybjtcbiAgICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvZHVjdC1jZWxsPVwiJHtzZWN0aW9uSWR9LSR7aW5kZXh9XCJdYCkgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKCFlbCkge1xuICAgICAgICBhdHRlbXB0cysrO1xuICAgICAgICBpZiAoYXR0ZW1wdHMgPCAxNSkgc2V0VGltZW91dCh0cnlMb2NhdGUsIDgwKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgY29uc3QgdmggPSB3aW5kb3cuaW5uZXJIZWlnaHQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDtcbiAgICAgIGNvbnN0IGZ1bGx5VmlzaWJsZSA9IHJlY3QudG9wID49IDAgJiYgcmVjdC5ib3R0b20gPD0gdmg7XG5cbiAgICAgIGlmIChmdWxseVZpc2libGUpIHtcbiAgICAgICAgLy8gQW5pbWF0ZSBpbW1lZGlhdGVseSBldmVuIGlmIGFscmVhZHkgdmlzaWJsZVxuICAgICAgICBlbC5jbGFzc0xpc3QuYWRkKCdyZWNlbnRseS1hZGRlZCcpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3JlY2VudGx5LWFkZGVkJyksIDEwMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGVudHJpZXNbMF07XG4gICAgICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgncmVjZW50bHktYWRkZWQnKTtcbiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBlbC5jbGFzc0xpc3QucmVtb3ZlKCdyZWNlbnRseS1hZGRlZCcpLCAxMDAwKTtcbiAgICAgICAgICAgICAgb2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7IHRocmVzaG9sZDogMC40IH0pO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsKTtcbiAgICAgICAgZWwuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJyB9KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHRyeUxvY2F0ZSgpO1xuICAgIHJldHVybiAoKSA9PiB7IGNhbmNlbGxlZCA9IHRydWU7IH07XG4gIH0sIFtyZWNlbnRseUFkZGVkXSk7XG5cbiAgLy8gQW5pbWF0ZSB1cGRhdGVkIChub24tYWRkKSBwcm9kdWN0IGNlbGxcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXJlY2VudGx5VXBkYXRlZCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgc2VjdGlvbklkLCBpbmRleCB9ID0gcmVjZW50bHlVcGRhdGVkO1xuICAgIGNvbnN0IGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgW2RhdGEtcHJvZHVjdC1jZWxsPVwiJHtzZWN0aW9uSWR9LSR7aW5kZXh9XCJdYCkgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGlmIChlbCkge1xuICAgICAgZWwuY2xhc3NMaXN0LmFkZCgncmVjZW50bHktdXBkYXRlZCcpO1xuICAgICAgY29uc3QgdGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3JlY2VudGx5LXVwZGF0ZWQnKSwgOTAwKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIH1cbiAgfSwgW3JlY2VudGx5VXBkYXRlZF0pO1xuXG4gIC8vIERlYm91bmNlIHRpbWVyIGZvciBzZWxlY3Rpb24gY2hhbmdlc1xuICBjb25zdCBjb2xsZWN0aW9uRGVib3VuY2VSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgLy8gQ2FjaGUgZm9yIGZldGNoZWQgcHJvZHVjdCBkZXRhaWxzIGtleWVkIGJ5IFVSTCB0byBhdm9pZCByZWZldGNoaW5nXG4gIGNvbnN0IHByb2R1Y3RDYWNoZVJlZiA9IHVzZVJlZjxNYXA8c3RyaW5nLCBQcm9kdWN0RGF0YT4+KG5ldyBNYXAoKSk7XG4gIC8vIFRyYWNrIHNlbGVjdGlvbiBvcGVyYXRpb25zIHRvIGF2b2lkIGFwcGx5aW5nIHN0YWxlIHJlc3VsdHNcbiAgY29uc3Qgc2VsZWN0aW9uVmVyc2lvblJlZiA9IHVzZVJlZigwKTtcbiAgLy8gQWJvcnQgY29udHJvbGxlciBmb3IgaW4tZmxpZ2h0IHNlbGVjdGlvbiBmZXRjaGVzXG4gIGNvbnN0IHNlbGVjdGlvbkFib3J0UmVmID0gdXNlUmVmPEFib3J0Q29udHJvbGxlciB8IG51bGw+KG51bGwpO1xuXG4gIC8vIEZvcm1hdCBjb2xsZWN0aW9uIHByaWNlIHZhbHVlcyBpbnRvIGEgY29uc2lzdGVudCBjdXJyZW5jeSBzdHJpbmdcbiAgY29uc3QgZm9ybWF0Q29sbGVjdGlvblByaWNlID0gdXNlQ2FsbGJhY2soKHZhbDogdW5rbm93bik6IHN0cmluZyA9PiB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgY29uc3QgcmF3ID0gU3RyaW5nKHZhbCkudHJpbSgpO1xuICAgIGlmICghcmF3KSByZXR1cm4gJyc7XG4gICAgLy8gQXR0ZW1wdCB0byBpbmZlciBjdXJyZW5jeSBjb2RlIGZyb20gc3ltYm9sIG9yIGNvZGUgaGludHNcbiAgICBsZXQgY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGlmICgvQ0FcXCQvLnRlc3QocmF3KSkgY29kZSA9ICdDQUQnO1xuICAgIGVsc2UgaWYgKC9BXFwkLy50ZXN0KHJhdykpIGNvZGUgPSAnQVVEJztcbiAgICBlbHNlIGlmICgvTlpcXCQvLnRlc3QocmF3KSkgY29kZSA9ICdOWkQnO1xuICAgIGVsc2UgaWYgKC9DXFwkLy50ZXN0KHJhdykpIGNvZGUgPSAnQ0FEJztcbiAgICBlbHNlIGlmICgvVVNcXCR8VVNEL2kudGVzdChyYXcpKSBjb2RlID0gJ1VTRCc7XG4gICAgZWxzZSBpZiAoL0VVUnzigqwvLnRlc3QocmF3KSkgY29kZSA9ICdFVVInO1xuICAgIGVsc2UgaWYgKC9HQlB8wqMvLnRlc3QocmF3KSkgY29kZSA9ICdHQlAnO1xuICAgIGVsc2UgaWYgKC9KUFl8wqUvLnRlc3QocmF3KSkgY29kZSA9ICdKUFknO1xuICAgIGVsc2UgaWYgKHJhdy5pbmNsdWRlcygnJCcpKSBjb2RlID0gJ1VTRCc7XG5cbiAgICAvLyBOb3JtYWxpemUgbnVtZXJpYyBwYXJ0XG4gICAgY29uc3QgcmF3TnVtZXJpYyA9IHJhdy5yZXBsYWNlKC9bXjAtOS4sLV0vZywgJycpO1xuICAgIGxldCBkaWdpdHMgPSByYXdOdW1lcmljO1xuICAgIGlmICghZGlnaXRzKSByZXR1cm4gcmF3O1xuICAgIGNvbnN0IGhhZERvdCA9IGRpZ2l0cy5pbmNsdWRlcygnLicpO1xuICAgIGNvbnN0IGhhZENvbW1hID0gZGlnaXRzLmluY2x1ZGVzKCcsJyk7XG4gICAgaWYgKGhhZENvbW1hICYmIGhhZERvdCkge1xuICAgICAgLy8gRGVjaWRlIGRlY2ltYWwgc2VwYXJhdG9yIGJ5IGxhc3Qgb2NjdXJyZW5jZVxuICAgICAgaWYgKGRpZ2l0cy5sYXN0SW5kZXhPZignLicpID4gZGlnaXRzLmxhc3RJbmRleE9mKCcsJykpIHtcbiAgICAgICAgZGlnaXRzID0gZGlnaXRzLnJlcGxhY2UoLywvZywgJycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlnaXRzID0gZGlnaXRzLnJlcGxhY2UoL1xcLi9nLCAnJykucmVwbGFjZSgnLCcsICcuJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChoYWRDb21tYSAmJiAhaGFkRG90KSB7XG4gICAgICAvLyBUcmVhdCBjb21tYSBhcyBkZWNpbWFsXG4gICAgICBkaWdpdHMgPSBkaWdpdHMucmVwbGFjZSgnLCcsICcuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0cmlwIHRob3VzYW5kcyBjb21tYXMgaWYgYW55XG4gICAgICBkaWdpdHMgPSBkaWdpdHMucmVwbGFjZSgvLC9nLCAnJyk7XG4gICAgfVxuICAgIGxldCBhbW91bnQgPSBwYXJzZUZsb2F0KGRpZ2l0cyk7XG4gICAgaWYgKCFpc0Zpbml0ZShhbW91bnQpKSByZXR1cm4gcmF3O1xuICAgIC8vIEhldXJpc3RpYzogaWYgb3JpZ2luYWwgbnVtZXJpYyBoYWQgbm8gZGVjaW1hbCBzZXBhcmF0b3JzIGFuZCBsb29rcyBsaWtlIGNlbnRzIChlLmcuLCAxNjk5NSksXG4gICAgLy8gYXNzdW1lIGNlbnRzIGFuZCBkaXZpZGUgYnkgMTAwIHRvIGdldCAxNjkuOTUuXG4gICAgaWYgKCFoYWREb3QgJiYgIWhhZENvbW1hICYmIC9eXFxkezQsfSQvLnRlc3QocmF3TnVtZXJpYykpIHtcbiAgICAgIGFtb3VudCA9IGFtb3VudCAvIDEwMDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2VuLVVTJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6IGNvZGUgfHwgJ1VTRCcgfSkuZm9ybWF0KGFtb3VudCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlbi1VUycsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnVVNEJyB9KS5mb3JtYXQoYW1vdW50KTtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogRmluYWwgZ2VuZXJhdGVkIEhUTUwgcGllY2VzLiBoZWFkZXJIdG1sL2JvZHlIdG1sL2Zvb3Rlckh0bWxcbiAgICogY29udGFpbiB0aGUgbWFya3VwIGZvciBlYWNoIHNlY3Rpb24uIGZpbmFsSHRtbCBjb25jYXRlbmF0ZXNcbiAgICogdGhlbSBmb3IgY29udmVuaWVuY2UgYnV0IGlzIG5vdCBkaXNwbGF5ZWQgZGlyZWN0bHkuIFRoZSBjb2RlXG4gICAqIHZpZXcgdXNlcyB0aGUgaW5kaXZpZHVhbCBwaWVjZXMgc28gdGhhdCB1c2VycyBjYW4gY29weSBlYWNoXG4gICAqIHNlY3Rpb24gc2VwYXJhdGVseS5cbiAgICovXG5jb25zdCBbaGVhZGVySHRtbCwgc2V0SGVhZGVySHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG5jb25zdCBbYm9keUh0bWwsIHNldEJvZHlIdG1sXSA9IHVzZVN0YXRlKCcnKTtcbmNvbnN0IFtmb290ZXJIdG1sLCBzZXRGb290ZXJIdG1sXSA9IHVzZVN0YXRlKCcnKTtcbmNvbnN0IFtmaW5hbEh0bWwsIHNldEZpbmFsSHRtbF0gPSB1c2VTdGF0ZSgnJyk7XG4gIC8vIEJvdHRvbSBwYWRkaW5nIGNvbnRyb2xzIHJlbW92ZWRcbiAgY29uc3QgW3Nob3dBZGRTZWN0aW9uTWVudSwgc2V0U2hvd0FkZFNlY3Rpb25NZW51XSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgYWRkU2VjdGlvblJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IHByZXZpZXdSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBbY29uZmlybU5ld09wZW4sIHNldENvbmZpcm1OZXdPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgLy8gQ29udHJvbCBTcGVlZERpYWwgbWFudWFsbHkgKG9wZW4gb24gY2xpY2sgb25seSlcbiAgY29uc3QgW3NwZWVkRGlhbE9wZW4sIHNldFNwZWVkRGlhbE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIFByZXZpZXcgdmlld3BvcnQgbW9kZTogZGVza3RvcHxtb2JpbGVcbiAgdHlwZSBQcmV2aWV3TW9kZSA9ICdkZXNrdG9wJyB8ICdtb2JpbGUnO1xuICBjb25zdCBbcHJldmlld01vZGUsIHNldFByZXZpZXdNb2RlXSA9IHVzZVN0YXRlPFByZXZpZXdNb2RlPignZGVza3RvcCcpO1xuICAvLyBBcHBseSBwZXJzaXN0ZWQgbW9kZSBvbiBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzYXZlZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwcmV2aWV3TW9kZScpO1xuICAgICAgaWYgKHNhdmVkID09PSAnZGVza3RvcCcgfHwgc2F2ZWQgPT09ICdtb2JpbGUnKSBzZXRQcmV2aWV3TW9kZShzYXZlZCk7XG4gICAgfSBjYXRjaCB7fVxuICB9LCBbXSk7XG4gIC8vIFBlcnNpc3Qgd2hlbiBjaGFuZ2VkXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ByZXZpZXdNb2RlJywgcHJldmlld01vZGUpOyB9IGNhdGNoIHt9XG4gIH0sIFtwcmV2aWV3TW9kZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgIGlmIChhZGRTZWN0aW9uUmVmLmN1cnJlbnQgJiYgIWFkZFNlY3Rpb25SZWYuY3VycmVudC5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICBzZXRTaG93QWRkU2VjdGlvbk1lbnUoZmFsc2UpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHNob3dBZGRTZWN0aW9uTWVudSkge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGhhbmRsZUNsaWNrT3V0c2lkZSk7XG4gICAgfTtcbiAgfSwgW3Nob3dBZGRTZWN0aW9uTWVudV0pO1xuXG4gIC8qKiBCcmFuZCBjdXN0b21pc2F0aW9uIHBhbmVsIHZpc2liaWxpdHkuIFdoZW4gdHJ1ZSBhIHNsaWRpbmdcbiAgICogcGFuZWwgYXBwZWFycyBhbGxvd2luZyB0aGUgdXNlciB0byBjdXN0b21pc2UgdGhlIGRlZmF1bHQgZm9udCxcbiAgICogcHJpbWFyeS9zZWNvbmRhcnkgY29sb3Vycywgd2Vic2l0ZSBVUkwgYW5kIHVwbG9hZCBhIGxvZ28uIFNldHRpbmdzXG4gICAqIGFyZSBub3QgcGVyc2lzdGVkIG9yIGFwcGxpZWQgaW4gdGhpcyB2ZXJzaW9uLCBidXQgdGhlIFVJIGlzIHByZXBhcmVkXG4gICAqIGZvciBmdXR1cmUgZXh0ZW5zaW9uLlxuICAgKi9cbiAgLy8gT3BlbiBicmFuZCAvIHJpZ2h0IHBhbmVsIGJ5IGRlZmF1bHQgb24gaW5pdGlhbCBsb2FkIHBlciByZXF1ZXN0XG4gIGNvbnN0IFtzaG93QnJhbmRQYW5lbCwgc2V0U2hvd0JyYW5kUGFuZWxdID0gdXNlU3RhdGUodHJ1ZSk7XG4gIC8vIFNoaW1tZXIgYWx3YXlzIGVuYWJsZWQgKHRvZ2dsZSByZW1vdmVkKVxuICBjb25zdCBza2VsQW5pbTogYW55ID0gJ3dhdmUnO1xuICBjb25zdCBbYnJhbmROYW1lLCBzZXRCcmFuZE5hbWVdID0gdXNlU3RhdGUoJycpO1xuICAvLyBUb3AgbG9hZGluZyBiYXIgKGJ1ZmZlciB2YXJpYW50KVxuICBjb25zdCBbcHJvZ3Jlc3MsIHNldFByb2dyZXNzXSA9IHVzZVN0YXRlPG51bWJlcj4oLTEpO1xuICBjb25zdCBbYnVmZmVyLCBzZXRCdWZmZXJdID0gdXNlU3RhdGU8bnVtYmVyPigtMSk7XG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgLy8gRGVib3VuY2VkIGxvYWRpbmcgdG8gYXZvaWQgZmxpY2tlciBmb3IgdmVyeSBmYXN0IGxvYWRzXG4gIGNvbnN0IFtkZWJvdW5jZWRMb2FkaW5nLCBzZXREZWJvdW5jZWRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobG9hZGluZykge1xuICAgICAgY29uc3QgdCA9IHNldFRpbWVvdXQoKCkgPT4gc2V0RGVib3VuY2VkTG9hZGluZyh0cnVlKSwgMTIwKTtcbiAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldERlYm91bmNlZExvYWRpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2xvYWRpbmddKTtcbiAgY29uc3QgW2JyYW5kRm9udCwgc2V0QnJhbmRGb250XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2JyYW5kUHJpbWFyeSwgc2V0QnJhbmRQcmltYXJ5XSA9IHVzZVN0YXRlKCcjZDE5YWEwJyk7XG4gIGNvbnN0IFticmFuZFNlY29uZGFyeSwgc2V0QnJhbmRTZWNvbmRhcnldID0gdXNlU3RhdGUoJyNGMEMzQzcnKTtcbiAgY29uc3QgW2JyYW5kV2Vic2l0ZSwgc2V0QnJhbmRXZWJzaXRlXSA9IHVzZVN0YXRlKCcnKTtcbiAgLy8gVHJhY2sgbGFzdCBkZXRlY3RlZCBwYWdlIHR5cGVcbiAgY29uc3QgW2RldGVjdGVkUGFnZVR5cGUsIHNldERldGVjdGVkUGFnZVR5cGVdID0gdXNlU3RhdGU8J3Byb2R1Y3QnfCdjb2xsZWN0aW9uJ3wnaG9tZSd8J2Jsb2cnfCdhcnRpY2xlJ3wndW5rbm93bic+KCd1bmtub3duJyk7XG4gIC8vIEF1dG8tc3dpdGNoIHRvIFByb2R1Y3QgdGFiIGlzIGhhbmRsZWQgb24gY2xpY2sgaGFuZGxlcnMgb25seSwgdG8gYXZvaWQgbG9ja2luZyB0aGUgdGFiLlxuICAvLyBTZWN0aW9uIHBhZGRpbmdzIChweClcbiAgY29uc3QgW2hlYWRlclBhZGRpbmcsIHNldEhlYWRlclBhZGRpbmddID0gdXNlU3RhdGU8UGFkZGluZ1ZhbHVlPih7IHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCwgbGVmdDogMCB9KTtcbiAgY29uc3QgW2hlcm9QYWRkaW5nLCBzZXRIZXJvUGFkZGluZ10gPSB1c2VTdGF0ZTxQYWRkaW5nVmFsdWU+KHsgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwIH0pO1xuICBjb25zdCBbYmFubmVyUGFkZGluZywgc2V0QmFubmVyUGFkZGluZ10gPSB1c2VTdGF0ZTxQYWRkaW5nVmFsdWU+KHsgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwIH0pO1xuICBjb25zdCBbZm9vdGVyUGFkZGluZywgc2V0Rm9vdGVyUGFkZGluZ10gPSB1c2VTdGF0ZTxQYWRkaW5nVmFsdWU+KHsgdG9wOiAwLCByaWdodDogMCwgYm90dG9tOiAwLCBsZWZ0OiAwIH0pO1xuICBjb25zdCBbYm9keVNlY3Rpb25QYWRkaW5ncywgc2V0Qm9keVNlY3Rpb25QYWRkaW5nc10gPSB1c2VTdGF0ZTxNYXA8bnVtYmVyLCBQYWRkaW5nVmFsdWU+PihuZXcgTWFwKCkpO1xuXG4gIGNvbnN0IG9uSGVyb1BhZGRpbmdDaGFuZ2UgPSB1c2VDYWxsYmFjaygocDogUGFkZGluZ1ZhbHVlKSA9PiBzZXRIZXJvUGFkZGluZyhwKSwgW10pO1xuICBjb25zdCBvbkJhbm5lclBhZGRpbmdDaGFuZ2UgPSB1c2VDYWxsYmFjaygocDogUGFkZGluZ1ZhbHVlKSA9PiBzZXRCYW5uZXJQYWRkaW5nKHApLCBbXSk7XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9ucyBmb3IgYm9keSBzZWN0aW9uIHBhZGRpbmdzXG4gIGNvbnN0IGdldEJvZHlTZWN0aW9uUGFkZGluZyA9IChzZWN0aW9uSWQ6IG51bWJlcik6IFBhZGRpbmdWYWx1ZSA9PiB7XG4gICAgcmV0dXJuIGJvZHlTZWN0aW9uUGFkZGluZ3MuZ2V0KHNlY3Rpb25JZCkgfHwgeyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAgfTtcbiAgfTtcblxuICBjb25zdCBzZXRCb2R5U2VjdGlvblBhZGRpbmcgPSB1c2VDYWxsYmFjaygoc2VjdGlvbklkOiBudW1iZXIsIHBhZGRpbmc6IFBhZGRpbmdWYWx1ZSkgPT4ge1xuICAgIHNldEJvZHlTZWN0aW9uUGFkZGluZ3MocHJldiA9PiBuZXcgTWFwKHByZXYpLnNldChzZWN0aW9uSWQsIHBhZGRpbmcpKTtcbiAgfSwgW10pO1xuXG4gIC8vIFNob3cgYSBkaWFsb2cgdG8gcHJvbXB0IGZvciBhIHByb2R1Y3QgVVJMIG9uIGZpcnN0IGxvYWRcbiAgY29uc3QgW3Nob3dCcmFuZFVybERpYWxvZywgc2V0U2hvd0JyYW5kVXJsRGlhbG9nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbYnJhbmRVcmxJbnB1dCwgc2V0QnJhbmRVcmxJbnB1dF0gPSB1c2VTdGF0ZSgnJyk7XG4gIC8vIFdoZW4gdGhlIHVzZXIgc3VibWl0cyBhIFVSTCwgb25seSBhdXRvLWluaXRpYWxpemUgYSBib2R5IHNlY3Rpb24gZm9yIFBST0RVQ1QgcGFnZXMgKG5vdCBjb2xsZWN0aW9ucylcbiAgLy8gbW92ZWQgYmVsb3cgYWZ0ZXIgYW5hbHl6ZURhdGEgZGVjbGFyYXRpb25cblxuICAvLyBIZWxwZXIgdG8gZXh0cmFjdCBiYXNlIGRvbWFpbiBmcm9tIGEgcHJvZHVjdCBVUkxcbiAgZnVuY3Rpb24gZXh0cmFjdEJhc2VEb21haW4odXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgICAgcmV0dXJuIHUub3JpZ2luO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuXG4gIC8vIEhlbHBlciB0byBleHRyYWN0IGEgcmVhZGFibGUgYnJhbmQgbmFtZSBmcm9tIGEgZG9tYWluXG4gIGZ1bmN0aW9uIGV4dHJhY3RCcmFuZE5hbWUodXJsOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgICAgY29uc3QgaG9zdCA9IHUuaG9zdG5hbWUucmVwbGFjZSgvXnd3d1xcLi8sICcnKTtcbiAgICAgIGNvbnN0IHBhcnRzID0gaG9zdC5zcGxpdCgnLicpO1xuICAgICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDEgPyBwYXJ0c1swXS5yZXBsYWNlKC8tL2csICcgJykgOiBob3N0O1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gU2NhbGFibGUgcGFnZSB0eXBlIGRldGVjdGlvbiBmb3IgU3VtbWFyeSBoZWFkZXJcbiAgdHlwZSBQYWdlVHlwZSA9ICdwcm9kdWN0JyB8ICdjb2xsZWN0aW9uJyB8ICdob21lJyB8ICdibG9nJyB8ICdhcnRpY2xlJyB8ICd1bmtub3duJztcbiAgdHlwZSBQYWdlRGV0ZWN0aW9uID0ge1xuICAgIHR5cGU6IFBhZ2VUeXBlO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgc3VibGluZT86IHN0cmluZztcbiAgICBuYW1lPzogc3RyaW5nOyAvLyBwYXJzZWQgZW50aXR5IG5hbWUgaWYgYXZhaWxhYmxlIChwcm9kdWN0L2NvbGxlY3Rpb24vYmxvZy9hcnRpY2xlKVxuICB9O1xuICBjb25zdCBkZXRlY3RQYWdlSW5mbyA9IHVzZUNhbGxiYWNrKCh1cmw6IHN0cmluZywgZGF0YTogdHlwZW9mIGFuYWx5emVEYXRhKTogUGFnZURldGVjdGlvbiA9PiB7XG4gICAgaWYgKCF1cmwpIHJldHVybiB7IHR5cGU6ICd1bmtub3duJywgdGl0bGU6ICdTdW1tYXJ5JyB9O1xuICAgIGxldCB1OiBVUkwgfCBudWxsID0gbnVsbDtcbiAgICB0cnkgeyB1ID0gbmV3IFVSTCh1cmwpOyB9IGNhdGNoIHsgLyogaWdub3JlICovIH1cbiAgICBjb25zdCBwYXRoID0gKHU/LnBhdGhuYW1lIHx8IHVybCkudG9Mb3dlckNhc2UoKTtcblxuICAgIC8vIERlZmluZSByZWdpc3RyeSBvZiBkZXRlY3RvcnMgZm9yIHNjYWxhYmlsaXR5XG4gICAgY29uc3QgZGV0ZWN0b3JzOiBBcnJheTwoKSA9PiBQYWdlRGV0ZWN0aW9uIHwgbnVsbD4gPSBbXG4gICAgICAvLyBQcm9kdWN0IHBhZ2VzXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmICgvXFwvcHJvZHVjdChzKT9cXC8vLnRlc3QocGF0aCkpIHtcbiAgICAgICAgICBjb25zdCBuYW1lID0gZGF0YT8ucHJvZHVjdD8udGl0bGUgfHwgJyc7XG4gICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ3Byb2R1Y3QnLCB0aXRsZTogJ1Byb2R1Y3QgUGFnZSBEZXRlY3RlZCcsIHN1YmxpbmU6IG5hbWUgPyBgUHJvZHVjdDogJHtuYW1lfWAgOiB1bmRlZmluZWQsIG5hbWUgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG4gICAgICAvLyBDb2xsZWN0aW9uIHBhZ2VzXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmICgvXFwvY29sbGVjdGlvbihzKT9cXC8vLnRlc3QocGF0aCkpIHtcbiAgICAgICAgICByZXR1cm4geyB0eXBlOiAnY29sbGVjdGlvbicsIHRpdGxlOiAnQ29sbGVjdGlvbiBQYWdlIERldGVjdGVkJyB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSxcbiAgICAgIC8vIEJsb2cgaW5kZXggcGFnZXNcbiAgICAgICgpID0+IHtcbiAgICAgICAgaWYgKC9cXC9ibG9nKHMpP1xcLy8udGVzdChwYXRoKSAmJiAhL1xcL2FydGljbGUocyk/XFwvLy50ZXN0KHBhdGgpKSB7XG4gICAgICAgICAgcmV0dXJuIHsgdHlwZTogJ2Jsb2cnLCB0aXRsZTogJ0Jsb2cgUGFnZSBEZXRlY3RlZCcgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0sXG4gICAgICAvLyBBcnRpY2xlIHBhZ2VzXG4gICAgICAoKSA9PiB7XG4gICAgICAgIGlmICgvXFwvYXJ0aWNsZShzKT9cXC8vLnRlc3QocGF0aCkpIHtcbiAgICAgICAgICByZXR1cm4geyB0eXBlOiAnYXJ0aWNsZScsIHRpdGxlOiAnQXJ0aWNsZSBQYWdlIERldGVjdGVkJyB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSxcbiAgICAgIC8vIEhvbWUgcGFnZVxuICAgICAgKCkgPT4ge1xuICAgICAgICBpZiAocGF0aCA9PT0gJy8nIHx8IHBhdGggPT09ICcnKSByZXR1cm4geyB0eXBlOiAnaG9tZScsIHRpdGxlOiAnSG9tZXBhZ2UgRGV0ZWN0ZWQnIH07XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIF07XG5cbiAgICBmb3IgKGNvbnN0IGZuIG9mIGRldGVjdG9ycykge1xuICAgICAgY29uc3QgcmVzID0gZm4oKTtcbiAgICAgIGlmIChyZXMpIHJldHVybiByZXM7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6ICd1bmtub3duJywgdGl0bGU6ICdTdW1tYXJ5JyB9O1xuICB9LCBbXSk7XG4gIGNvbnN0IFticmFuZExvZ28sIHNldEJyYW5kTG9nb10gPSB1c2VTdGF0ZTxGaWxlIHwgbnVsbD4obnVsbCk7XG4gIC8vIFdpemFyZCBtb2RhbCByZW1vdmVkOyBhbmFseXNpcyByZXN1bHRzIGZlZWQgdGhlIHBlcnNpc3RlbnQgcmlnaHQgcGFuZWxcbiAgY29uc3QgW2FuYWx5emVEYXRhLCBzZXRBbmFseXplRGF0YV0gPSB1c2VTdGF0ZTx7XG4gICAgc3RvcmVOYW1lOiBzdHJpbmc7XG4gICAgbG9nbz86IHN0cmluZztcbiAgICBsb2dvU3ZnPzogc3RyaW5nO1xuICAgIGhlcm9JbWFnZXM6IHN0cmluZ1tdO1xuICAgIGJhbm5lckltYWdlczogc3RyaW5nW107XG4gICAgY29sb3JTY2hlbWU/OiBzdHJpbmdbXTtcbiAgICBwcmltYXJ5Q29sb3I/OiBzdHJpbmc7XG4gICAgdGV4dENvbG9yPzogJ2JsYWNrJyB8ICd3aGl0ZSc7XG4gICAgY29sb3JDYW5kaWRhdGVzPzogeyBzb3VyY2U6IHN0cmluZzsgY29sb3I6IHN0cmluZyB9W107XG4gICAgZm9udEZhbWlsaWVzOiBzdHJpbmdbXTtcbiAgICBhbm5vdW5jZW1lbnRDb3B5Pzogc3RyaW5nO1xuICAgIHByb2R1Y3Q6IFByb2R1Y3REYXRhO1xuICB9IHwgbnVsbD4obnVsbCk7XG5cbiAgLy8gRnJlZXplIHRoZSBzdW1tYXJ5IGhlYWRlciAoZS5nLiwgXCJQcm9kdWN0IFBhZ2UgRGV0ZWN0ZWRcIiBhbmQgdGhlIGluaXRpYWxcbiAgLy8gXCJQcm9kdWN0OiA8bmFtZT5cIikgc28gaXQgZG9lc24ndCBjaGFuZ2Ugd2hpbGUgZWRpdGluZy4gV2UgY2FwdHVyZSB0aGUgZmlyc3RcbiAgLy8gbWVhbmluZ2Z1bCBkZXRlY3Rpb24gZm9yIHByb2R1Y3QgcGFnZXMgYW5kIHJldXNlIGl0IGZvciBkaXNwbGF5LlxuICBjb25zdCBbaW5pdGlhbFN1bW1hcnksIHNldEluaXRpYWxTdW1tYXJ5XSA9IHVzZVN0YXRlPHtcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIHN1YmxpbmU/OiBzdHJpbmc7XG4gIH0gfCBudWxsPihudWxsKTtcblxuICAvLyBSZW1vdmVkIHByZXZpb3VzIG1vZGFsLWJhc2VkIHdpemFyZCBzZWxlY3Rpb24gc3RhdGU7IHNlbGVjdGlvbnMgYXBwbHkgZGlyZWN0bHkgaW4tcGFuZWxcbiAgLy8gT3B0aW9uYWwgYW5ub3VuY2VtZW50IGJhciBjb250ZW50IHRvIGluamVjdCBpbnRvIGhlYWRlciB0ZW1wbGF0ZVxuICBjb25zdCBbYnJhbmRBbm5vdW5jZW1lbnQsIHNldEJyYW5kQW5ub3VuY2VtZW50XSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICAvLyBTZWxlY3RlZCB0ZXh0IGNvbG9yIGZvciBjb250cmFzdCBvbiBDVEEvYW5ub3VuY2VtZW50IChibGFjayBvciB3aGl0ZSlcbiAgY29uc3QgW2JyYW5kVGV4dENvbG9yLCBzZXRCcmFuZFRleHRDb2xvcl0gPSB1c2VTdGF0ZTwnYmxhY2snIHwgJ3doaXRlJz4oJ2JsYWNrJyk7XG5cbiAgLy8gV2hlbiBVUkwgY2hhbmdlcyBvciBhbmFseXplRGF0YSB1cGRhdGVzLCB1cGRhdGUgZGV0ZWN0ZWQgcGFnZSB0eXBlIGFuZCBmZXRjaCBjb2xsZWN0aW9uIGl0ZW1zIGlmIHJlbGV2YW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5mbyA9IGRldGVjdFBhZ2VJbmZvKGJyYW5kVXJsSW5wdXQsIGFuYWx5emVEYXRhKTtcbiAgICBzZXREZXRlY3RlZFBhZ2VUeXBlKGluZm8udHlwZSk7XG4gICAgaWYgKGluZm8udHlwZSA9PT0gJ2NvbGxlY3Rpb24nICYmIGJyYW5kVXJsSW5wdXQpIHtcbiAgICAgIHNldENvbGxlY3Rpb25Mb2FkaW5nKHRydWUpO1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgL2FwaS9jb2xsZWN0aW9uP3VybD0ke2VuY29kZVVSSUNvbXBvbmVudChicmFuZFVybElucHV0KX1gKTtcbiAgICAgICAgICBpZiAoIXJlcy5vaykgdGhyb3cgbmV3IEVycm9yKGBjb2xsZWN0aW9uIGZldGNoIGZhaWxlZDogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICAgIGNvbnN0IGpzb24gPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICAgIGNvbnN0IHJvd3MgPSAoanNvbi5pdGVtcyBhcyBhbnlbXSkubWFwKChpdCwgaWR4KSA9PiAoeyBpZDogaXQudXJsIHx8IFN0cmluZyhpZHgpLCB0aXRsZTogaXQudGl0bGUgfHwgJycsIHByaWNlOiBpdC5wcmljZSB8fCAnJywgaW1hZ2U6IGl0LmltYWdlIHx8ICcnLCB1cmw6IGl0LnVybCB9KSk7XG4gICAgICAgICAgc2V0Q29sbGVjdGlvbkl0ZW1zKHJvd3MpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKGUpO1xuICAgICAgICAgIHNldENvbGxlY3Rpb25JdGVtcyhbXSk7XG4gICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgc2V0Q29sbGVjdGlvbkxvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRDb2xsZWN0aW9uSXRlbXMoW10pO1xuICAgICAgc2V0Q29sbGVjdGlvblNlbGVjdGlvbihbXSk7XG4gICAgfVxuICB9LCBbYnJhbmRVcmxJbnB1dCwgYW5hbHl6ZURhdGFdKTtcblxuICAvLyBDYXB0dXJlIHRoZSBpbml0aWFsIHByb2R1Y3Qgc3VtbWFyeSBzbyBpdCBzdGF5cyBmaXhlZC5cbiAgLy8gLSBTZXQgaXQgb25jZSB3aGVuIHByb2R1Y3QgcGFnZSBpcyBkZXRlY3RlZFxuICAvLyAtIElmIHRoZSBzdWJsaW5lIHdhc24ndCBhdmFpbGFibGUgaW1tZWRpYXRlbHksIGZpbGwgaXQgaW4gZXhhY3RseSBvbmNlXG4gIC8vICAgd2hlbiBpdCBmaXJzdCBiZWNvbWVzIGF2YWlsYWJsZSAoZS5nLiwgYWZ0ZXIgYW5hbHlzaXMgZmluaXNoZXMpLlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGluZm8gPSBkZXRlY3RQYWdlSW5mbyhicmFuZFVybElucHV0LCBhbmFseXplRGF0YSk7XG4gICAgaWYgKGluZm8udHlwZSAhPT0gJ3Byb2R1Y3QnKSByZXR1cm47XG5cbiAgICAvLyBJZiBub3RoaW5nIGNhcHR1cmVkIHlldCwgY2FwdHVyZSB0aXRsZSBhbmQgKGlmIHByZXNlbnQpIHN1YmxpbmVcbiAgICBpZiAoIWluaXRpYWxTdW1tYXJ5KSB7XG4gICAgICBpZiAoaW5mby50aXRsZSB8fCBpbmZvLnN1YmxpbmUpIHtcbiAgICAgICAgc2V0SW5pdGlhbFN1bW1hcnkoeyB0aXRsZTogaW5mby50aXRsZSwgc3VibGluZTogaW5mby5zdWJsaW5lIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIElmIHdlIGFscmVhZHkgY2FwdHVyZWQsIGJ1dCBzdWJsaW5lIHdhcyBtaXNzaW5nIGFuZCBub3cgZXhpc3RzLCBzZXQgaXQgb25jZVxuICAgIGlmICghaW5pdGlhbFN1bW1hcnkuc3VibGluZSAmJiBpbmZvLnN1YmxpbmUpIHtcbiAgICAgIHNldEluaXRpYWxTdW1tYXJ5KHsgdGl0bGU6IGluaXRpYWxTdW1tYXJ5LnRpdGxlLCBzdWJsaW5lOiBpbmZvLnN1YmxpbmUgfSk7XG4gICAgfVxuICB9LCBbYnJhbmRVcmxJbnB1dCwgYW5hbHl6ZURhdGEsIGRldGVjdFBhZ2VJbmZvLCBpbml0aWFsU3VtbWFyeV0pO1xuXG4gIC8vIFdoZW4gYSBjb2xsZWN0aW9uIHBhZ2UgaXMgZGV0ZWN0ZWQsIG1ha2UgdGhlIENvbGxlY3Rpb24gdGFiIHRoZSBkZWZhdWx0IChpbmRleCAwIHdoZW4gcHJlc2VudClcbiAgLy8gV2hlbiBsZWF2aW5nIGNvbGxlY3Rpb24gY29udGV4dCwgcmVtYXAgaW5kaWNlcyBzbyBQcm9kdWN0IHN0YXlzIHNlbGVjdGVkIGlmIGl0IHdhcyBzZWxlY3RlZFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgIHNldFN1bW1hcnlUYWIoMCk7IC8vIENvbGxlY3Rpb24gaXMgYXQgaW5kZXggMCB3aGVuIHByZXNlbnRcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTWFwOiAxLT4wIChQcm9kdWN0KSwgMi0+MSAoQXNzZXRzKSwgMy0+MiAoQnJhbmQpLiBMZWF2ZSAwIGFzIDAgKGFscmVhZHkgUHJvZHVjdCB3aXRob3V0IENvbGxlY3Rpb24pXG4gICAgICBzZXRTdW1tYXJ5VGFiKChwcmV2KSA9PiAocHJldiA9PT0gMSA/IDAgOiBwcmV2ID49IDIgPyBwcmV2IC0gMSA6IHByZXYpKTtcbiAgICB9XG4gIH0sIFtkZXRlY3RlZFBhZ2VUeXBlXSk7XG5cbiAgLy8gV2hlbiB0aGUgdXNlciBzdWJtaXRzIGEgVVJMLCBvbmx5IGF1dG8taW5pdGlhbGl6ZSBhIGJvZHkgc2VjdGlvbiBmb3IgUFJPRFVDVCBwYWdlcyAobm90IGNvbGxlY3Rpb25zKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGluZm8gPSBkZXRlY3RQYWdlSW5mbyhicmFuZFVybElucHV0LCBhbmFseXplRGF0YSk7XG4gICAgaWYgKGJyYW5kV2Vic2l0ZSAmJiBib2R5U2VjdGlvbnMubGVuZ3RoID09PSAwICYmIGJyYW5kVXJsSW5wdXQgJiYgaW5mby50eXBlID09PSAncHJvZHVjdCcpIHtcbiAgICAgIHNldEJvZHlTZWN0aW9ucyhbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogMSxcbiAgICAgICAgICBuYW1lOiAnUHJvZHVjdHMnLFxuICAgICAgICAgIHVybHM6IFticmFuZFVybElucHV0XSxcbiAgICAgICAgICBwcm9kdWN0czogW10sXG4gICAgICAgICAgc2VsZWN0ZWRCb2R5SWQ6IGRlZmF1bHRCb2R5VGVtcGxhdGVzWzBdLmlkLFxuICAgICAgICAgIGxvYWRpbmc6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIF0pO1xuICAgIH1cbiAgfSwgW2JyYW5kV2Vic2l0ZSwgYnJhbmRVcmxJbnB1dCwgYW5hbHl6ZURhdGEsIGJvZHlTZWN0aW9ucy5sZW5ndGhdKTtcblxuICAvLyBDbGVhbnVwIHRpbWVycyBhbmQgYWJvcnQgY29udHJvbGxlcnMgb24gdW5tb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBpZiAoY29sbGVjdGlvbkRlYm91bmNlUmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChjb2xsZWN0aW9uRGVib3VuY2VSZWYuY3VycmVudCk7XG4gICAgICBpZiAoc2VsZWN0aW9uQWJvcnRSZWYuY3VycmVudCkge1xuICAgICAgICB0cnkgeyBzZWxlY3Rpb25BYm9ydFJlZi5jdXJyZW50LmFib3J0KCk7IH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIFRyYWNrIHdoaWNoIGNvZGUgYmxvY2tzIGFyZSBleHBhbmRlZCBpbiB0aGUgcmlnaHTigJFwYW5lbCBhY2NvcmRpb24uIEtleXNcbiAgICogY29ycmVzcG9uZCB0byB0aGUgYmxvY2tzOiAnaGVhZGVyJywgJ2hlcm8nLCAnZm9vdGVyJyBhbmQgZWFjaFxuICAgKiBib2R5L3Byb2R1Y3QgYmxvY2sgbGlrZSAnYm9keS08c2VjdGlvbj4tcHJvZC08aW5kZXg+Jy4gQSB2YWx1ZVxuICAgKiBvZiB0cnVlIG1lYW5zIHRoZSBibG9jayBpcyBvcGVuOyBmYWxzZSBjb2xsYXBzZXMgaXQuIERlZmF1bHRzXG4gICAqIGVtcHR5LCB3aGljaCBpcyB0cmVhdGVkIGFzIG9wZW4gd2hlbiBmaXJzdCByZW5kZXJlZC5cbiAgICovXG4gIGNvbnN0IFtvcGVuQ29kZVNlY3Rpb25zLCBzZXRPcGVuQ29kZVNlY3Rpb25zXSA9IHVzZVN0YXRlPHsgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9Pih7fSk7XG5cbiAgLyoqXG4gICAqIFRvZ2dsZSBhIGNvZGUgYmxvY2sgb3BlbiBvciBjbG9zZWQuIFdoZW4gYSBrZXkgaXMgbm90IHByZXNlbnRcbiAgICogaW4gdGhlIHN0YXRlIGl0IGlzIHRyZWF0ZWQgYXMgb3BlbiBieSBkZWZhdWx0LiBDYWxsaW5nIHRoaXNcbiAgICogdG9nZ2xlcyB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICovXG5jb25zdCB0b2dnbGVDb2RlU2VjdGlvbiA9IChrZXk6IHN0cmluZykgPT4ge1xuICBzZXRPcGVuQ29kZVNlY3Rpb25zKChwcmV2KSA9PiB7XG4gICAgY29uc3QgaXNPcGVuID0gcHJldltrZXldICE9PSBmYWxzZTsgLy8gZGVmYXVsdCBvcGVuIGlmIG5vdCBmYWxzZVxuICAgIHJldHVybiB7IC4uLnByZXYsIFtrZXldOiAhaXNPcGVuIH07XG4gIH0pO1xufTtcblxuICAvKipcbiAgICogQWRkIGEgbm90aWZpY2F0aW9uIG1lc3NhZ2UuIFRoZSBub3RpZmljYXRpb24gd2lsbCBwZXJzaXN0IGZvciBhXG4gICAqIGZldyBzZWNvbmRzIHRoZW4gYXV0b21hdGljYWxseSBkaXNhcHBlYXIuIFVzZSB0aGlzIGhlbHBlciBhZnRlclxuICAgKiBhY3Rpb25zIGxpa2UgY29weWluZyBjb2RlIG9yIGdlbmVyYXRpbmcgc2VjdGlvbnMgdG8gcHJvdmlkZVxuICAgKiBmZWVkYmFjayB0byB0aGUgdXNlci5cbiAgICovXG4gIFxuXG4gIC8qKlxuICAgKiBDb21wdXRlIGEgZGF0YSBVUkkgZm9yIHRoZSB1cGxvYWRlZCBicmFuZCBsb2dvLiBXaGVuIGEgZmlsZSBpc1xuICAgKiBzZWxlY3RlZCB0aGUgRmlsZVJlYWRlciBBUEkgaXMgdXNlZCB0byBjb252ZXJ0IGl0IGludG8gYSBiYXNlNjRcbiAgICogc3RyaW5nLiBJZiBubyBmaWxlIGlzIHNlbGVjdGVkIHRoZSBkYXRhIFVSSSBpcyByZXNldCB0byBlbXB0eS5cbiAgICovXG5cbiAgLy8gT24gZmlyc3QgbG9hZCwgaWYgbm8gYnJhbmRXZWJzaXRlLCBzaG93IGRpYWxvZ1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghYnJhbmRXZWJzaXRlKSB7XG4gICAgICBzZXRTaG93QnJhbmRVcmxEaWFsb2codHJ1ZSk7XG4gICAgfVxuICB9LCBbYnJhbmRXZWJzaXRlXSk7XG5cbiAgLy8gV2hlbiB1c2VyIHN1Ym1pdHMgYSBVUkwsIHNldCBicmFuZFdlYnNpdGUgYW5kIGJyYW5kTmFtZVxuICBjb25zdCBoYW5kbGVCcmFuZFVybFN1Ym1pdCA9IChlPzogUmVhY3QuRm9ybUV2ZW50KSA9PiB7XG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCBiYXNlID0gZXh0cmFjdEJhc2VEb21haW4oYnJhbmRVcmxJbnB1dCk7XG4gICAgaWYgKGJhc2UpIHtcbiAgICAgIHNldEJyYW5kV2Vic2l0ZShiYXNlKTtcbiAgICAgIHNldEJyYW5kTmFtZShleHRyYWN0QnJhbmROYW1lKGJyYW5kVXJsSW5wdXQpKTtcbiAgICAgIC8vIEFuYWx5emUgcHJvZHVjdCBwYWdlIGFuZCBzaG93IFN1bW1hcnkgaW4gcmlnaHQgZHJhd2VyXG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2FuYWx5emU/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGJyYW5kVXJsSW5wdXQpfWApO1xuICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEFuYWx5emUgZmFpbGVkOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgICAgc2V0QW5hbHl6ZURhdGEoZGF0YSk7XG4gICAgICAgICAgLy8gT3BlbiB0aGUgcmlnaHQgc3VtbWFyeSBwYW5lbFxuICAgICAgICAgIHNldFNob3dCcmFuZFBhbmVsKHRydWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgYWRkTm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gYW5hbHl6ZSBwYWdlLiBZb3UgY2FuIGNvbnRpbnVlIG1hbnVhbGx5LicpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHNldFNob3dCcmFuZFVybERpYWxvZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pKCk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGJyYW5kTG9nbykge1xuICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZSkgPT4ge1xuICAgICAgICBzZXRCcmFuZExvZ29EYXRhVXJsKGUudGFyZ2V0Py5yZXN1bHQgYXMgc3RyaW5nKTtcbiAgICAgIH07XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChicmFuZExvZ28pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRCcmFuZExvZ29EYXRhVXJsKCcnKTtcbiAgICB9XG4gIH0sIFticmFuZExvZ29dKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEludGVyY2VwdCBhbGwgbmF2aWdhdGlvbiBhdHRlbXB0cyBvbiBhbmNob3JzIHdpdGhpbiB0aGUgcHJldmlldyBhcmVhXG4gICAgY29uc3QgY29udGFpbnNJblByZXZpZXcgPSAobm9kZTogTm9kZSB8IG51bGwpID0+ICEhKHByZXZpZXdSZWYuY3VycmVudCAmJiBub2RlICYmIHByZXZpZXdSZWYuY3VycmVudC5jb250YWlucyhub2RlKSk7XG5cbiAgICBjb25zdCBzaG93TGlua05vdGlmaWNhdGlvbiA9IChldnQ6IEV2ZW50LCBhbmNob3I6IEVsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGhyZWYgPSAoYW5jaG9yIGFzIEhUTUxBbmNob3JFbGVtZW50KS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKTtcbiAgICAgIGlmICghaHJlZikgcmV0dXJuO1xuICAgICAgKGV2dCBhcyBhbnkpLl9saW5rTm90aWZpZWQgPSB0cnVlO1xuICAgICAgYWRkTm90aWZpY2F0aW9uKFxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICBFeHRlcm5hbCBsaW5rOiA8YSBocmVmPXtocmVmfSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCI+e2hyZWZ9PC9hPlxuICAgICAgICA8L3NwYW4+XG4gICAgICApO1xuICAgICAgY29uc3Qgc2VjdGlvbkVsID0gKGFuY2hvciBhcyBIVE1MRWxlbWVudCkuY2xvc2VzdCgnW2RhdGEtc2VjdGlvbl0nKTtcbiAgICAgIGNvbnN0IHNlY3Rpb25JZCA9IHNlY3Rpb25FbD8uZ2V0QXR0cmlidXRlKCdkYXRhLXNlY3Rpb24nKTtcbiAgICAgIGlmIChzZWN0aW9uSWQpIHtcbiAgICAgICAgc2V0T3BlblNlY3Rpb24oc2VjdGlvbklkKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3Qgb25DbGlja0NhcHR1cmUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIWNvbnRhaW5zSW5QcmV2aWV3KHRhcmdldCkpIHJldHVybjtcbiAgICAgIGNvbnN0IGFuY2hvciA9IHRhcmdldC5jbG9zZXN0KCdhJyk7XG4gICAgICBpZiAoIWFuY2hvcikgcmV0dXJuO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIC8vIElmIGFuIGVkaXRvciBpcyBmb2N1c2VkLCBibHVyIGl0IHNvIGFueSBlZGl0b3IgcG9wb3ZlcnMvbWVudXMgY2xvc2VcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHsgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7IH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICAgIC8vIEVuc3VyZSBubyBvdGhlciBoYW5kbGVycyBydW5cbiAgICAgIGlmICh0eXBlb2YgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHNob3dMaW5rTm90aWZpY2F0aW9uKGUsIGFuY2hvcik7XG4gICAgfTtcblxuICAgIC8vIFByZXZlbnQgbWlkZGxlLWNsaWNrIChhdXhjbGljaykgb3BlbmluZyBuZXcgdGFiXG4gICAgY29uc3Qgb25BdXhDbGlja0NhcHR1cmUgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgICAgaWYgKCF0YXJnZXQgfHwgIWNvbnRhaW5zSW5QcmV2aWV3KHRhcmdldCkpIHJldHVybjtcbiAgICAgIGNvbnN0IGFuY2hvciA9IHRhcmdldC5jbG9zZXN0KCdhJyk7XG4gICAgICBpZiAoIWFuY2hvcikgcmV0dXJuO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHsgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7IH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgKGUgYXMgYW55KS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgKGUgYXMgYW55KS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHNob3dMaW5rTm90aWZpY2F0aW9uKGUsIGFuY2hvcik7XG4gICAgfTtcblxuICAgIC8vIFByZXZlbnQga2V5Ym9hcmQtaW5pdGlhdGVkIG5hdmlnYXRpb24gKEVudGVyIG9uIGZvY3VzZWQgbGluaylcbiAgICBjb25zdCBvbktleURvd25DYXB0dXJlID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICAgIGlmICghdGFyZ2V0IHx8ICFjb250YWluc0luUHJldmlldyh0YXJnZXQpKSByZXR1cm47XG4gICAgICBpZiAoZS5rZXkgIT09ICdFbnRlcicpIHJldHVybjtcbiAgICAgIGNvbnN0IGFuY2hvciA9IHRhcmdldC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhJyA/IHRhcmdldCA6IHRhcmdldC5jbG9zZXN0KCdhJyk7XG4gICAgICBpZiAoIWFuY2hvcikgcmV0dXJuO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHsgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7IH0gY2F0Y2gge31cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgKGUgYXMgYW55KS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgKGUgYXMgYW55KS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgIH1cbiAgICAgIHNob3dMaW5rTm90aWZpY2F0aW9uKGUsIGFuY2hvcik7XG4gICAgfTtcblxuICAgIC8vIEF0dGFjaCBhdCBkb2N1bWVudCBsZXZlbCBpbiBjYXB0dXJlIHBoYXNlIHRvIHJlbGlhYmx5IHByZWVtcHQgZGVmYXVsdCBuYXZpZ2F0aW9uXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYXV4Y2xpY2snLCBvbkF1eENsaWNrQ2FwdHVyZSBhcyBhbnksIHRydWUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd25DYXB0dXJlLCB0cnVlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdhdXhjbGljaycsIG9uQXV4Q2xpY2tDYXB0dXJlIGFzIGFueSwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgb25LZXlEb3duQ2FwdHVyZSwgdHJ1ZSk7XG4gICAgfTtcbiAgfSwgW3ZpZXdNb2RlLCBhZGROb3RpZmljYXRpb24sIHNldE9wZW5TZWN0aW9uXSk7XG5cbiAgLyoqXG4gICAqIEFwcGx5IHRoZSBicmFuZCBwcmltYXJ5IGFuZCBzZWNvbmRhcnkgY29sb3VycyBhbmQgZm9udCB0byBhIGJsb2NrXG4gICAqIG9mIEhUTUwuIE9jY3VycmVuY2VzIG9mIHRoZSBkZWZhdWx0IGFjY2VudCBjb2xvdXJzICgjZDE5YWEwIGFuZFxuICAgKiAjRjBDM0M3KSBhcmUgcmVwbGFjZWQgd2l0aCB0aGUgY2hvc2VuIHByaW1hcnkgYW5kIHNlY29uZGFyeVxuICAgKiBjb2xvdXJzLiBUaGUgZGVmYXVsdCBmb250IHN0YWNrICdNb250c2VycmF0JywgQXJpYWwsIEhlbHZldGljYSxcbiAgICogc2Fucy1zZXJpZiBpcyByZXBsYWNlZCB3aXRoIHRoZSBzZWxlY3RlZCBmb250IGlmIHByb3ZpZGVkLlxuICAgKi9cbiAgY29uc3QgYXBwbHlCcmFuZENvbG91cnNBbmRGb250ID0gKGh0bWw6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgbGV0IG91dCA9IGh0bWw7XG4gICAgaWYgKGJyYW5kUHJpbWFyeSkge1xuICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKCcjZDE5YWEwJywgJ2dpJyk7XG4gICAgICBvdXQgPSBvdXQucmVwbGFjZShyZWdleCwgYnJhbmRQcmltYXJ5KTtcbiAgICB9XG4gICAgaWYgKGJyYW5kU2Vjb25kYXJ5KSB7XG4gICAgICBjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoJyNGMEMzQzcnLCAnZ2knKTtcbiAgICAgIG91dCA9IG91dC5yZXBsYWNlKHJlZ2V4LCBicmFuZFNlY29uZGFyeSk7XG4gICAgfVxuICAgIGlmIChicmFuZEZvbnQgJiYgYnJhbmRGb250LnRyaW0oKSkge1xuICAgICAgLy8gUmVwbGFjZSB0aGUgZGVmYXVsdCBmb250IHN0YWNrLiBXZSBkbyBhIHNpbXBsZSByZXBsYWNlIG9uIHRoZVxuICAgICAgLy8gZXhhY3Qgc3RyaW5nIHVzZWQgaW4gdGhlIHRlbXBsYXRlcy4gSWYgbW9yZSB2YXJpYW50cyBhcmVcbiAgICAgIC8vIG5lZWRlZCB0aGlzIGNvdWxkIGJlIGV4cGFuZGVkLlxuICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKFwiJ01vbnRzZXJyYXQnLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmXCIsICdnaScpO1xuICAgICAgb3V0ID0gb3V0LnJlcGxhY2UocmVnZXgsIGJyYW5kRm9udCk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluamVjdCB0aGUgYnJhbmQgbG9nbyBpbnRvIHRoZSBoZWFkZXIuIFRoZSBmaXJzdCA8aW1nPiB0YWcgZm91bmRcbiAgICogaW4gdGhlIGhlYWRlciBIVE1MIGlzIHJlcGxhY2VkIHdpdGggb25lIHRoYXQgdXNlcyB0aGVcbiAgICogYnJhbmRMb2dvRGF0YVVybCBpZiBpdCBpcyBkZWZpbmVkLiBJZiBubyBsb2dvIGhhcyBiZWVuXG4gICAqIHVwbG9hZGVkIHRoZSBIVE1MIGlzIHJldHVybmVkIHVuY2hhbmdlZC5cbiAgICovXG4gIGNvbnN0IGFwcGx5QnJhbmRMb2dvID0gKGh0bWw6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgaWYgKCFicmFuZExvZ29EYXRhVXJsKSByZXR1cm4gaHRtbDtcbiAgICByZXR1cm4gaHRtbC5yZXBsYWNlKC88aW1nKFtePl0rKXNyYz1cIlteXCI+XSpcIi8sIGA8aW1nJDFzcmM9XCIke2JyYW5kTG9nb0RhdGFVcmx9XCJgKTtcbiAgfTtcblxuICAvLyBJbmplY3QgYW5ub3VuY2VtZW50IGNvcHkgKGlmIGF2YWlsYWJsZSkgaW50byB0aGUgaGVhZGVyIHRlbXBsYXRlLlxuICAvLyBUaGlzIHRhcmdldHMgdGhlIERlZmF1bHQgSGVhZGVyIHRlbXBsYXRlIHVzaW5nIHRoZSBcIjwhLS0gQW5ub3VuY2VtZW50IEJhciAtLT5cIiBtYXJrZXIuXG4gIGNvbnN0IGFwcGx5QW5ub3VuY2VtZW50Q29weSA9IChodG1sOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICAgIGlmICghYnJhbmRBbm5vdW5jZW1lbnQgfHwgIWh0bWwpIHJldHVybiBodG1sO1xuICAgIGNvbnN0IG1hcmtlciA9ICc8IS0tIEFubm91bmNlbWVudCBCYXIgLS0+JztcbiAgICBjb25zdCBpZHggPSBodG1sLmluZGV4T2YobWFya2VyKTtcbiAgICBpZiAoaWR4ID09PSAtMSkgcmV0dXJuIGh0bWw7XG4gICAgY29uc3QgYWZ0ZXIgPSBodG1sLnNsaWNlKGlkeCArIG1hcmtlci5sZW5ndGgpO1xuICAgIGNvbnN0IHRkU3RhcnQgPSBhZnRlci5pbmRleE9mKCc8dGQnKTtcbiAgICBpZiAodGRTdGFydCA9PT0gLTEpIHJldHVybiBodG1sO1xuICAgIGNvbnN0IHRkT3BlbkVuZCA9IGFmdGVyLmluZGV4T2YoJz4nLCB0ZFN0YXJ0KTtcbiAgICBpZiAodGRPcGVuRW5kID09PSAtMSkgcmV0dXJuIGh0bWw7XG4gICAgY29uc3QgdGRDbG9zZSA9IGFmdGVyLmluZGV4T2YoJzwvdGQ+JywgdGRPcGVuRW5kICsgMSk7XG4gICAgaWYgKHRkQ2xvc2UgPT09IC0xKSByZXR1cm4gaHRtbDtcbiAgICAvLyBFeHRyYWN0IHRoZSB0ZCBvcGVuaW5nIHRhZyBhbmQgYWRqdXN0IGl0cyB0ZXh0IGNvbG9yIGFjY29yZGluZyB0byBicmFuZFRleHRDb2xvclxuICAgIGNvbnN0IHRkT3BlblRhZyA9IGFmdGVyLnNsaWNlKHRkU3RhcnQsIHRkT3BlbkVuZCArIDEpO1xuICAgIGNvbnN0IGRlc2lyZWRIZXggPSBicmFuZFRleHRDb2xvciA9PT0gJ3doaXRlJyA/ICcjRkZGRkZGJyA6ICcjMDAwMDAwJztcbiAgICBsZXQgbmV3VGRPcGVuID0gdGRPcGVuVGFnO1xuICAgIGNvbnN0IGhhc1N0eWxlID0gL3N0eWxlPVwiKFteXCJdKilcIi9pLnRlc3QobmV3VGRPcGVuKTtcbiAgICBpZiAoaGFzU3R5bGUpIHtcbiAgICAgIC8vIFJlcGxhY2UgZXhpc3RpbmcgY29sb3I6Li4uIGlmIHByZXNlbnQsIGVsc2UgYXBwZW5kIGNvbG9yOi4uLlxuICAgICAgaWYgKC9jb2xvclxccyo6XFxzKlteO1wiJ10rLy50ZXN0KG5ld1RkT3BlbikpIHtcbiAgICAgICAgbmV3VGRPcGVuID0gbmV3VGRPcGVuLnJlcGxhY2UoL2NvbG9yXFxzKjpcXHMqW147XCInXSsvaSwgYGNvbG9yOiR7ZGVzaXJlZEhleH1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RkT3BlbiA9IG5ld1RkT3Blbi5yZXBsYWNlKC9zdHlsZT1cIihbXlwiXSopXCIvaSwgKG0sIHMpID0+IHtcbiAgICAgICAgICBjb25zdCBzZXAgPSBzICYmIHMudHJpbSgpLmxlbmd0aCA+IDAgJiYgIXMudHJpbSgpLmVuZHNXaXRoKCc7JykgPyAnOycgOiAnJztcbiAgICAgICAgICByZXR1cm4gYHN0eWxlPVwiJHtzfSR7c2VwfWNvbG9yOiR7ZGVzaXJlZEhleH07XCJgO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTm8gc3R5bGUgYXR0cmlidXRlIOKAkyBhZGQgb25lIHdpdGggdGhlIGNvbG9yXG4gICAgICBuZXdUZE9wZW4gPSBuZXdUZE9wZW4ucmVwbGFjZSgnPHRkJywgYDx0ZCBzdHlsZT1cImNvbG9yOiR7ZGVzaXJlZEhleH07XCJgKTtcbiAgICB9XG4gICAgLy8gQWRkIGEgc3RhYmxlIGhvb2sgdG8gZmluZCBhbmQgbWFrZSB0aGlzIGFyZWEgZWRpdGFibGUgaW4gdGhlIHByZXZpZXdcbiAgICBpZiAoIS9kYXRhLWFubm91bmNlbWVudD0vLnRlc3QobmV3VGRPcGVuKSkge1xuICAgICAgbmV3VGRPcGVuID0gbmV3VGRPcGVuLnJlcGxhY2UoJzx0ZCcsICc8dGQgZGF0YS1hbm5vdW5jZW1lbnQ9XCJ0cnVlXCInKTtcbiAgICB9XG4gICAgY29uc3QgYmVmb3JlSGVhZCA9IGh0bWwuc2xpY2UoMCwgaWR4ICsgbWFya2VyLmxlbmd0aCk7XG4gICAgY29uc3QgYmVmb3JlVGQgPSBhZnRlci5zbGljZSgwLCB0ZFN0YXJ0KTtcbiAgICBjb25zdCBhZnRlclBhcnQgPSBhZnRlci5zbGljZSh0ZENsb3NlKTtcbiAgICBjb25zdCBhbm5IdG1sID0gZW1haWxTYWZlID8gc2FuaXRpemVFbWFpbEh0bWwoYnJhbmRBbm5vdW5jZW1lbnQpIDogYnJhbmRBbm5vdW5jZW1lbnQ7XG4gICAgcmV0dXJuIGJlZm9yZUhlYWQgKyBiZWZvcmVUZCArIG5ld1RkT3BlbiArIGFubkh0bWwgKyBhZnRlclBhcnQ7XG4gIH07XG5cbiAgLy8gRmxvYXRpbmcgdG9vbGJhciByZW1vdmVkOiBhbm5vdW5jZW1lbnQgaXMgY29weS1vbmx5IGluIHByZXZpZXcgbGlrZSB0aXRsZXMvZGVzY3JpcHRpb25zXG5cbiAgLy8gSW5qZWN0IHBhZGRpbmcgaW50byB0aGUgd3JhcHBlciB0YWJsZSAodGhlIG9uZSB3aXRoIG1heC13aWR0aDo2MDBweClcbiAgY29uc3QgYXBwbHlXcmFwcGVyUGFkZGluZyA9IChodG1sOiBzdHJpbmcsIHBhZGRpbmc/OiBQYWRkaW5nVmFsdWUpOiBzdHJpbmcgPT4ge1xuICAgIGlmICghcGFkZGluZykgcmV0dXJuIGh0bWw7XG4gICAgY29uc3QgYWxsWmVybyA9IHBhZGRpbmcudG9wID09PSAwICYmIHBhZGRpbmcucmlnaHQgPT09IDAgJiYgcGFkZGluZy5ib3R0b20gPT09IDAgJiYgcGFkZGluZy5sZWZ0ID09PSAwO1xuICAgIC8vIElmIGFsbCB6ZXJvcywgdHJlYXQgYXMgXCJubyBvdmVycmlkZVwiIHNvIHRlbXBsYXRlIGRlZmF1bHQgcGFkZGluZyAoaWYgYW55KSByZW1haW5zLlxuICAgIGlmIChhbGxaZXJvKSByZXR1cm4gaHRtbDtcbiAgICBjb25zdCBwciA9IGAke3BhZGRpbmcudG9wfXB4ICR7cGFkZGluZy5yaWdodH1weCAke3BhZGRpbmcuYm90dG9tfXB4ICR7cGFkZGluZy5sZWZ0fXB4YDtcbiAgICBjb25zdCByZWdleCA9IC8oPHRhYmxlXFxiW14+XSpzdHlsZT1cIikoLio/bWF4LXdpZHRoXFxzKjpcXHMqNjAwcHhbXlxcXCJdKikoXCIpW14+XSo+L2k7XG4gICAgcmV0dXJuIGh0bWwucmVwbGFjZShyZWdleCwgKF9tLCBwMTogc3RyaW5nLCBzdHlsZVN0cjogc3RyaW5nLCBwMzogc3RyaW5nKSA9PiB7XG4gICAgICBsZXQgbmV3U3R5bGUgPSBzdHlsZVN0ci5yZXBsYWNlKC9wYWRkaW5nXFxzKjpcXHMqW147XFxcIl0qOz8vZ2ksICcnKTtcbiAgICAgIGlmIChuZXdTdHlsZS5sZW5ndGggPiAwICYmICFuZXdTdHlsZS50cmltKCkuZW5kc1dpdGgoJzsnKSkgbmV3U3R5bGUgKz0gJzsnO1xuICAgICAgbmV3U3R5bGUgKz0gYHBhZGRpbmc6JHtwcn07YDtcbiAgICAgIHJldHVybiBgJHtwMX0ke25ld1N0eWxlfSR7cDN9YDtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBXcmFwIGEgZnVsbCBib2R5IHNlY3Rpb24ncyBjb21iaW5lZCBtb2R1bGVzIGluc2lkZSBhIHNpbmdsZSA2MDBweCB3cmFwcGVyIHRhYmxlXG4gIGNvbnN0IHdyYXBTZWN0aW9uV2l0aFdyYXBwZXIgPSAoaW5uZXJIdG1sOiBzdHJpbmcsIHBhZGRpbmc/OiBQYWRkaW5nVmFsdWUpOiBzdHJpbmcgPT4ge1xuICAgIC8vIERldGVjdCBpZiB0aGlzIGlzIGEgcHJvZHVjdCBzZWN0aW9uIHZpYSBhIG1hcmtlciBjb21tZW50IHdlIGNhbiBlbWJlZCBvciBwcmVzZW5jZSBvZiBwcm9kdWN0IG1vZHVsZSBzaWduYXR1cmVzLlxuICAgIGNvbnN0IGlzUHJvZHVjdFNlY3Rpb24gPSAvZGF0YS1wcm9kdWN0LWNlbGw9Ly50ZXN0KGlubmVySHRtbCkgfHwgL3Byb2R1Y3QtbW9kdWxlLXdyYXBwZXIvLnRlc3QoaW5uZXJIdG1sKTtcbiAgICBjb25zdCBhbGxaZXJvID0gIXBhZGRpbmcgfHwgKHBhZGRpbmcudG9wID09PSAwICYmIHBhZGRpbmcucmlnaHQgPT09IDAgJiYgcGFkZGluZy5ib3R0b20gPT09IDAgJiYgcGFkZGluZy5sZWZ0ID09PSAwKTtcbiAgICBjb25zdCBlZmZlY3RpdmVQYWRkaW5nID0gKGlzUHJvZHVjdFNlY3Rpb24gJiYgYWxsWmVybylcbiAgICAgID8geyB0b3A6IDI1LCByaWdodDogMjUsIGJvdHRvbTogMjUsIGxlZnQ6IDI1IH1cbiAgICAgIDogKHBhZGRpbmcgfHwgeyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAgfSk7XG4gICAgY29uc3QgcHIgPSBgJHtlZmZlY3RpdmVQYWRkaW5nLnRvcH1weCAke2VmZmVjdGl2ZVBhZGRpbmcucmlnaHR9cHggJHtlZmZlY3RpdmVQYWRkaW5nLmJvdHRvbX1weCAke2VmZmVjdGl2ZVBhZGRpbmcubGVmdH1weGA7XG4gICAgY29uc3QgY2xzID0gaXNQcm9kdWN0U2VjdGlvbiA/ICdwcm9kdWN0LXdyYXBwZXInIDogJyc7XG4gICAgcmV0dXJuIGBcXG48dGFibGUgcm9sZT1cInByZXNlbnRhdGlvblwiIHdpZHRoPVwiMTAwJVwiIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiIGJvcmRlcj1cIjBcIiBhbGlnbj1cImNlbnRlclwiIHN0eWxlPVwibWFyZ2luOjA7cGFkZGluZzowO1wiPlxcbiAgPHRyPlxcbiAgICA8dGQgYWxpZ249XCJjZW50ZXJcIiBzdHlsZT1cIm1hcmdpbjowO3BhZGRpbmc6MDtcIj5cXG4gICAgICA8dGFibGUgcm9sZT1cInByZXNlbnRhdGlvblwiIHdpZHRoPVwiMTAwJVwiIGNlbGxwYWRkaW5nPVwiMFwiIGNlbGxzcGFjaW5nPVwiMFwiIGJvcmRlcj1cIjBcIiBjbGFzcz1cIiR7Y2xzfVwiIHN0eWxlPVwibWF4LXdpZHRoOjYwMHB4O21hcmdpbjowIGF1dG87YmFja2dyb3VuZDojRkZGRkZGO3BhZGRpbmc6JHtwcn07XCI+XFxuICAgICAgICA8dHI+XFxuICAgICAgICAgIDx0ZCBzdHlsZT1cInBhZGRpbmc6MDtcIj5cXG4gICAgICAgICAgICAke2lubmVySHRtbH1cXG4gICAgICAgICAgPC90ZD5cXG4gICAgICAgIDwvdHI+XFxuICAgICAgPC90YWJsZT5cXG4gICAgPC90ZD5cXG4gIDwvdHI+XFxuPC90YWJsZT5gO1xuICB9O1xuXG4gIC8vIFJlbW92ZSBhIG1vZHVsZSdzIG93biA2MDBweCB3cmFwcGVyIHRhYmxlIGFuZCByZXR1cm4gaXRzIGlubmVyIGNvbnRlbnQuXG4gIC8vIFRoaXMgcHJldmVudHMgcGVyLWl0ZW0gcGFkZGluZyBhbmQga2VlcHMgYSBzaW5nbGUgb3V0ZXIgd3JhcHBlciBwZXIgc2VjdGlvbi5cbiAgY29uc3Qgc3RyaXBNb2R1bGVXcmFwcGVyID0gKGh0bWw6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gICAgY29uc3QgcmUgPSAvPHRhYmxlXFxiW14+XSpzdHlsZT1cXFwiW15cXFwiXSptYXgtd2lkdGhcXHMqOlxccyo2MDBweFteXFxcIl0qXFxcIltePl0qPlxccyo8dHI+XFxzKjx0ZFtePl0qPihbXFxzXFxTXSo/KTxcXC90ZD5cXHMqPFxcL3RyPlxccyo8XFwvdGFibGU+L2k7XG4gICAgY29uc3QgbSA9IGh0bWwubWF0Y2gocmUpO1xuICAgIGlmIChtICYmIG1bMV0pIHJldHVybiBodG1sLnJlcGxhY2UocmUsIG1bMV0pO1xuICAgIHJldHVybiBodG1sO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIZXJvIHNlY3Rpb24gc3RhdGUuIEEgaGVybyBjb25zaXN0cyBvZiBhIHNpbmdsZSBiYW5uZXIgaW1hZ2UgYW5kXG4gICAqIG9wdGlvbmFsIGxpbmsvYWx0IHRleHQuIFRoZSBoZXJvIHRlbXBsYXRlIGNhbiBiZSBzZWxlY3RlZCBmcm9tXG4gICAqIGRlZmF1bHRIZXJvVGVtcGxhdGVzIG9yIHVzZXLigJFkZWZpbmVkIHRlbXBsYXRlcy4gV2hlbiBoZXJvSW1hZ2UgaXNcbiAgICogZW1wdHkgbm8gaGVybyBzZWN0aW9uIHdpbGwgYmUgcmVuZGVyZWQuIGhlcm9IdG1sIGhvbGRzIHRoZVxuICAgKiBjb21waWxlZCBtYXJrdXAgYW5kIGlzIHVwZGF0ZWQgd2hlbmV2ZXIgaGVyb0ltYWdlIG9yIHRlbXBsYXRlc1xuICAgKiBjaGFuZ2UuXG4gICAqL1xuICBjb25zdCBbaGVyb1RlbXBsYXRlcywgc2V0SGVyb1RlbXBsYXRlc10gPSB1c2VTdGF0ZTxIZXJvVGVtcGxhdGVbXT4oZGVmYXVsdEhlcm9UZW1wbGF0ZXMpO1xuICBjb25zdCBbc2VsZWN0ZWRIZXJvSWQsIHNldFNlbGVjdGVkSGVyb0lkXSA9IHVzZVN0YXRlPHN0cmluZz4oZGVmYXVsdEhlcm9UZW1wbGF0ZXNbMF0uaWQpO1xuICBjb25zdCBbaGVyb0ltYWdlLCBzZXRIZXJvSW1hZ2VdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIC8vIFByZS1maWxsIGhlcm8gYWx0IHdpdGggYnJhbmQgbmFtZSAob3IgYSBzZW5zaWJsZSBkZWZhdWx0KVxuICBjb25zdCBbaGVyb0FsdCwgc2V0SGVyb0FsdF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGJyYW5kTmFtZSB8fCAnQnJhbmQnKTtcbiAgY29uc3QgW2hlcm9IcmVmLCBzZXRIZXJvSHJlZl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2hlcm9IdG1sLCBzZXRIZXJvSHRtbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2hlcm9FZGl0TW9kZSwgc2V0SGVyb0VkaXRNb2RlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW2RyYWZ0SGVyb0h0bWwsIHNldERyYWZ0SGVyb0h0bWxdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtuZXdIZXJvTmFtZSwgc2V0TmV3SGVyb05hbWVdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtuZXdIZXJvSHRtbCwgc2V0TmV3SGVyb0h0bWxdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtzaG93TmV3SGVybywgc2V0U2hvd05ld0hlcm9dID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuXG4gIC8qKlxuICAgKiBMaXN0IG9mIGFsdGVybmF0ZSBoZXJvIGltYWdlcyBleHRyYWN0ZWQgZnJvbSB0aGUgc2l0ZS4gV2hlbiB0aGVcbiAgICogaGVybyBpbWFnZSBpcyBmZXRjaGVkIHZpYSB0aGUgQVBJIHRoZSBlbmRwb2ludCByZXR1cm5zIGFuIGFycmF5XG4gICAqIG9mIGltYWdlIFVSTHMuIFRoZSBmaXJzdCBpbWFnZSBpcyB1c2VkIGFzIHRoZSBkZWZhdWx0IGhlcm9JbWFnZVxuICAgKiBhbmQgdGhlIHJlc3QgYXJlIGF2YWlsYWJsZSBmb3Igc2VsZWN0aW9uIGluIHRoZSBpbnRlcmFjdGl2ZVxuICAgKiBwcmV2aWV3LiBXaGVuIHRoZSBsaXN0IGlzIGVtcHR5IG5vIGFsdGVybmF0aXZlIGltYWdlcyBhcmVcbiAgICogYXZhaWxhYmxlLiBoZXJvSW1hZ2VzIGlzIG5vdCBwZXJzaXN0ZWQgYWNyb3NzIHNlc3Npb25zLlxuICAqL1xuICBjb25zdCBbaGVyb0ltYWdlcywgc2V0SGVyb0ltYWdlc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oW10pO1xuXG4gIC8qKlxuICAgKiBCYW5uZXIgc2VjdGlvbiBzdGF0ZS4gVGhlIGJhbm5lciBpcyBhIHNpbmdsZSBpbWFnZSBtb2R1bGUgdGhhdCBhcHBlYXJzXG4gICAqIGFib3ZlIHRoZSBmb290ZXIuIEl0IHJldXNlcyB0aGUgdGVtcGxhdGluZy9lZGl0aW5nIGJlaGF2aW91ciBvZiB0aGVcbiAgICogaGVhZGVyIHNlY3Rpb24gYnV0IHJlbmRlcnMgd2l0aCBpdHMgb3duIHRlbXBsYXRlIGFuZCBpbWFnZS4gVGhlIGltYWdlXG4gICAqIGlzIGZldGNoZWQgZnJvbSB0aGUgY29uZmlndXJlZCBicmFuZCB3ZWJzaXRlIGJ5IGxvb2tpbmcgZm9yIGFuIGVsZW1lbnRcbiAgICogd2l0aCB0aGUgY2xhc3MgYG1vYmlsZS1iYW5uZXJgLlxuICAgKi9cbiAgY29uc3QgW2Jhbm5lclRlbXBsYXRlcywgc2V0QmFubmVyVGVtcGxhdGVzXSA9IHVzZVN0YXRlPEJhbm5lclRlbXBsYXRlW10+KGRlZmF1bHRCYW5uZXJUZW1wbGF0ZXMpO1xuICBjb25zdCBbc2VsZWN0ZWRCYW5uZXJJZCwgc2V0U2VsZWN0ZWRCYW5uZXJJZF0gPSB1c2VTdGF0ZTxzdHJpbmc+KGRlZmF1bHRCYW5uZXJUZW1wbGF0ZXNbMF0uaWQpO1xuICBjb25zdCBbYmFubmVySW1hZ2UsIHNldEJhbm5lckltYWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICAvLyBQcmUtZmlsbCBiYW5uZXIgYWx0IHdpdGggYnJhbmQgbmFtZSAob3IgYSBzZW5zaWJsZSBkZWZhdWx0KVxuICBjb25zdCBbYmFubmVyQWx0LCBzZXRCYW5uZXJBbHRdID0gdXNlU3RhdGU8c3RyaW5nPihicmFuZE5hbWUgfHwgJ0JyYW5kJyk7XG4gIGNvbnN0IFtiYW5uZXJIcmVmLCBzZXRCYW5uZXJIcmVmXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICAvLyBCYW5uZXIgaW1hZ2Ugc2VsZWN0b3Igb3ZlcmxheSBzdGF0ZSAobWFpbiBwcmV2aWV3KVxuICBjb25zdCBbc2hvd0Jhbm5lclNlbGVjdG9yLCBzZXRTaG93QmFubmVyU2VsZWN0b3JdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xuICBjb25zdCBbYmFubmVySHRtbCwgc2V0QmFubmVySHRtbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW2Jhbm5lckVkaXRNb2RlLCBzZXRCYW5uZXJFZGl0TW9kZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG4gIGNvbnN0IFtkcmFmdEJhbm5lckh0bWwsIHNldERyYWZ0QmFubmVySHRtbF0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW25ld0Jhbm5lck5hbWUsIHNldE5ld0Jhbm5lck5hbWVdID0gdXNlU3RhdGU8c3RyaW5nPignJyk7XG4gIGNvbnN0IFtuZXdCYW5uZXJIdG1sLCBzZXROZXdCYW5uZXJIdG1sXSA9IHVzZVN0YXRlPHN0cmluZz4oJycpO1xuICBjb25zdCBbc2hvd05ld0Jhbm5lciwgc2V0U2hvd05ld0Jhbm5lcl0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSk7XG5cbiAgY29uc3QgZmV0Y2hIZXJvRm9yQnJhbmQgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFicmFuZFdlYnNpdGUpIHJldHVybjtcbiAgICB0cnkge1xuICAgICAgY29uc3QgaGVyb1JlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2hlcm8/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGJyYW5kV2Vic2l0ZSl9YCk7XG4gICAgICBpZiAoaGVyb1Jlcy5vaykge1xuICAgICAgICBjb25zdCBoZXJvRGF0YSA9IGF3YWl0IGhlcm9SZXMuanNvbigpO1xuICAgICAgICBpZiAoaGVyb0RhdGEuaW1hZ2VzICYmIEFycmF5LmlzQXJyYXkoaGVyb0RhdGEuaW1hZ2VzKSAmJiBoZXJvRGF0YS5pbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHNldEhlcm9JbWFnZXMoaGVyb0RhdGEuaW1hZ2VzKTtcbiAgICAgICAgICBzZXRIZXJvSW1hZ2UoaGVyb0RhdGEuaW1hZ2VzWzBdKTtcbiAgICAgICAgICBzZXRIZXJvSHJlZihicmFuZFdlYnNpdGUpO1xuICAgICAgICAgIC8vIFByZWZpbGwgYWx0IHdpdGggYnJhbmQgbmFtZSBzbyBpbnB1dCBpcyBub3QgZW1wdHkvcGxhY2Vob2xkZXJcbiAgICAgICAgICBzZXRIZXJvQWx0KGFuYWx5emVEYXRhPy5zdG9yZU5hbWUgfHwgYnJhbmROYW1lIHx8ICdCcmFuZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBmZXRjaCBoZXJvIGltYWdlcycsIGVycik7XG4gICAgfVxuICB9LCBbYnJhbmRXZWJzaXRlLCBicmFuZE5hbWVdKTtcblxuICBjb25zdCBmZXRjaEJhbm5lckZvckJyYW5kID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghYnJhbmRXZWJzaXRlKSByZXR1cm47XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAvYXBpL2Jhbm5lcj91cmw9JHtlbmNvZGVVUklDb21wb25lbnQoYnJhbmRXZWJzaXRlKX1gKTtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIGlmIChkYXRhLmltYWdlKSB7XG4gICAgICAgICAgc2V0QmFubmVySW1hZ2UoZGF0YS5pbWFnZSk7XG4gICAgICAgICAgc2V0QmFubmVySHJlZihicmFuZFdlYnNpdGUpO1xuICAgICAgICAgIC8vIFByZWZpbGwgYWx0IHdpdGggYnJhbmQgbmFtZSBzbyBpbnB1dCBpcyBub3QgZW1wdHkvcGxhY2Vob2xkZXJcbiAgICAgICAgICBzZXRCYW5uZXJBbHQoYW5hbHl6ZURhdGE/LnN0b3JlTmFtZSB8fCBicmFuZE5hbWUgfHwgJ0JyYW5kJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGZldGNoIGJhbm5lciBpbWFnZScsIGVycik7XG4gICAgfVxuICB9LCBbYnJhbmRXZWJzaXRlLCBicmFuZE5hbWVdKTtcblxuICAvKipcbiAgICogRmV0Y2ggaGVybyBpbWFnZXMgZm9yIHRoZSBjb25maWd1cmVkIGJyYW5kIHdlYnNpdGUuIFRoaXMgcnVucyBvblxuICAgKiBpbml0aWFsIGxvYWQsIHdoZW5ldmVyIHRoZSB3ZWJzaXRlIFVSTCBjaGFuZ2VzLCBvciB3aGVuIHRoZSBoZXJvXG4gICAqIHNlY3Rpb24gaXMgYWRkZWQuIFRoZSBmaXJzdCBpbWFnZSByZXR1cm5lZCBiZWNvbWVzIHRoZSBkZWZhdWx0XG4gICAqIGhlcm8gaW1hZ2UgYW5kIGxpbmsgdGFyZ2V0LlxuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc2hvd0hlcm9TZWN0aW9uKSB7XG4gICAgICBmZXRjaEhlcm9Gb3JCcmFuZCgpO1xuICAgIH1cbiAgfSwgW2ZldGNoSGVyb0ZvckJyYW5kLCBzaG93SGVyb1NlY3Rpb25dKTtcblxuICAvLyBGZXRjaCBiYW5uZXIgaW1hZ2UgZm9yIHRoZSBjb25maWd1cmVkIGJyYW5kIHdlYnNpdGUuIE9uIHN1Y2Nlc3MgdGhlXG4gIC8vIGZpcnN0IGltYWdlIHdpdGggdGhlIGNsYXNzIGBtb2JpbGUtYmFubmVyYCBpcyB1c2VkIGFzIHRoZSBiYW5uZXJcbiAgLy8gaW1hZ2UuIEltYWdlcyBhcmUgZmV0Y2hlZCBvbiBpbml0aWFsIGxvYWQsIHdoZW4gdGhlIHdlYnNpdGUgVVJMXG4gIC8vIGNoYW5nZXMsIG9yIHdoZW4gdGhlIGJhbm5lciBzZWN0aW9uIGlzIGFkZGVkLlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaG93QmFubmVyU2VjdGlvbikge1xuICAgICAgZmV0Y2hCYW5uZXJGb3JCcmFuZCgpO1xuICAgIH1cbiAgfSwgW2ZldGNoQmFubmVyRm9yQnJhbmQsIHNob3dCYW5uZXJTZWN0aW9uXSk7XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBhIGhlcm8gcHJvcGVydHkuIFRoaXMgY2FsbGJhY2sgaXMgcGFzc2VkIHRvIHRoZVxuICAgKiBIZXJvVGFibGVNb2R1bGUgc28gZWRpdHMgaW4gdGhlIHByZXZpZXcgcHJvcGFnYXRlIHRvIHRoZVxuICAgKiB1bmRlcmx5aW5nIHN0YXRlLiBTdXBwb3J0ZWQgZmllbGRzIGFyZSAnaW1hZ2UnLCAnYWx0JyBhbmRcbiAgICogJ2hyZWYnLiBUaGUgaGVyb0h0bWwgc3RyaW5nIHdpbGwgYmUgcmVjb21wdXRlZCBpbiB0aGVcbiAgICogdXNlRWZmZWN0IGJlbG93IHdoZW4gdGhlc2UgdmFsdWVzIGNoYW5nZS5cbiAgICovXG4gIGNvbnN0IHVwZGF0ZUhlcm8gPSAoZmllbGQ6ICdpbWFnZScgfCAnYWx0JyB8ICdocmVmJywgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIGlmIChmaWVsZCA9PT0gJ2ltYWdlJykgc2V0SGVyb0ltYWdlKHZhbHVlKTtcbiAgICBlbHNlIGlmIChmaWVsZCA9PT0gJ2FsdCcpIHNldEhlcm9BbHQodmFsdWUpO1xuICAgIGVsc2UgaWYgKGZpZWxkID09PSAnaHJlZicpIHNldEhlcm9IcmVmKHZhbHVlKTtcbiAgfTtcblxuICAvKipcbiAgICogQnJhbmQgbG9nbyBkYXRhIFVSSS4gV2hlbiBhIHVzZXIgdXBsb2FkcyBhIGxvZ28gZmlsZSB0aGUgZmlsZVxuICAgKiBjb250ZW50cyBhcmUgY29udmVydGVkIGludG8gYSBkYXRhIFVSSSB0aGF0IGNhbiBiZSBlbWJlZGRlZFxuICAgKiBkaXJlY3RseSBpbnRvIHRoZSBIVE1MLiBicmFuZExvZ29EYXRhVXJsIGlzIGVtcHR5IGlmIG5vIGxvZ29cbiAgICogaGFzIGJlZW4gc2VsZWN0ZWQuXG4gICAqL1xuICBjb25zdCBbYnJhbmRMb2dvRGF0YVVybCwgc2V0QnJhbmRMb2dvRGF0YVVybF0gPSB1c2VTdGF0ZSgnJyk7XG5cbiAgLy8gV2hlbiBhbmFseXplRGF0YSBhcnJpdmVzLCBpbml0aWFsaXplIGJyYW5kIGZvbnQgYW5kIGFubm91bmNlbWVudCBpZiBub3Qgc2V0XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFhbmFseXplRGF0YSkgcmV0dXJuO1xuICAgIC8vIFByZWZpbGwgYnJhbmQgZm9udDogcHJlZmVyIGZpcnN0IGRldGVjdGVkIGZvbnQgZmFtaWx5OyBlbHNlIE1vbnRzZXJyYXQgZGVmYXVsdFxuICAgIGlmICghYnJhbmRGb250IHx8ICFicmFuZEZvbnQudHJpbSgpKSB7XG4gICAgICBjb25zdCBkZXRlY3RlZCA9IChhbmFseXplRGF0YS5mb250RmFtaWxpZXMgJiYgYW5hbHl6ZURhdGEuZm9udEZhbWlsaWVzWzBdKSB8fCAnJztcbiAgICAgIGlmIChkZXRlY3RlZCkge1xuICAgICAgICBjb25zdCBuZWVkc1F1b3RlID0gL1teYS16MC05LV0vaS50ZXN0KGRldGVjdGVkKTtcbiAgICAgICAgY29uc3QgY3NzID0gYCR7bmVlZHNRdW90ZSA/IGAnJHtkZXRlY3RlZH0nYCA6IGRldGVjdGVkfSxBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZmA7XG4gICAgICAgIHNldEJyYW5kRm9udChjc3MpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0QnJhbmRGb250KFwiJ01vbnRzZXJyYXQnLEFyaWFsLEhlbHZldGljYSxzYW5zLXNlcmlmXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBQcmVmaWxsIGFubm91bmNlbWVudCBjb250ZW50IHdpdGggZmV0Y2hlZCBjb3B5IGlmIG91ciBmaWVsZCBpcyBlbXB0eVxuICAgIGlmICgoIWJyYW5kQW5ub3VuY2VtZW50IHx8ICFicmFuZEFubm91bmNlbWVudC50cmltKCkpICYmIGFuYWx5emVEYXRhLmFubm91bmNlbWVudENvcHkpIHtcbiAgICAgIHNldEJyYW5kQW5ub3VuY2VtZW50KGFuYWx5emVEYXRhLmFubm91bmNlbWVudENvcHkpO1xuICAgIH1cbiAgICAvLyBJZiB3ZSBoYXZlIGEgbG9nbyBVUkwgYW5kIG5vIHVwbG9hZGVkIGZpbGUgb3ZlcnJpZGUsIHVzZSBpdCBmb3IgcHJldmlldyBpbiB0aGUgZmllbGQgYWRvcm5tZW50XG4gICAgaWYgKCFicmFuZExvZ29EYXRhVXJsICYmIGFuYWx5emVEYXRhLmxvZ28pIHtcbiAgICAgIHNldEJyYW5kTG9nb0RhdGFVcmwoYW5hbHl6ZURhdGEubG9nbyk7XG4gICAgfVxuICB9LCBbYW5hbHl6ZURhdGFdKTtcblxuICAvLyBNYWtlIHRoZSBhbm5vdW5jZW1lbnQgYmFyIGVkaXRhYmxlIGRpcmVjdGx5IGluIHRoZSBwcmV2aWV3XG4gIC8vIE1ha2UgdGhlIGFubm91bmNlbWVudCBiYXIgZWRpdGFibGUgZGlyZWN0bHkgaW4gdGhlIHByZXZpZXcgd2l0aCBsaXZlIHN5bmNcbiAgdXNlTGl2ZUVkaXRhYmxlKFxuICAgICgpID0+IHByZXZpZXdSZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5ub3VuY2VtZW50PVwidHJ1ZVwiXScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbCxcbiAgICBicmFuZEFubm91bmNlbWVudCxcbiAgICAoaHRtbCkgPT4ge1xuICAgICAgLy8gQ29weS1vbmx5OiBzdHJpcCBmb3JtYXR0aW5nIGFuZCBzdG9yZSBhcyA8cD4gd2l0aCA8YnI+XG4gICAgICBjb25zdCBzdG9yZWQgPSBpbmxpbmVIdG1sVG9QYXJhZ3JhcGhIdG1sKGh0bWwgfHwgJycpO1xuICAgICAgc2V0QnJhbmRBbm5vdW5jZW1lbnQobm9ybWFsaXplRm9udENvbG9ySHRtbChzdG9yZWQpKTtcbiAgICB9LFxuICAgIHsgZGVib3VuY2VNczogNjAsIGF0dHJpYnV0ZXM6IHsgY29udGVudGVkaXRhYmxlOiAndHJ1ZScsIHNwZWxsY2hlY2s6ICdmYWxzZScgfSB9XG4gICk7XG5cbiAgLy8gVHJhY2sgd2hlbiB0aGUgYW5ub3VuY2VtZW50IGVsZW1lbnQgaGFzIGZvY3VzIHRvIGF2b2lkIHJlLXJlbmRlcmluZyBoZWFkZXJIdG1sIG1pZC10eXBpbmdcbiAgY29uc3QgYW5uRWRpdGluZ1JlZiA9IHVzZVJlZihmYWxzZSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZWwgPSBwcmV2aWV3UmVmLmN1cnJlbnQ/LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFubm91bmNlbWVudD1cInRydWVcIl0nKSBhcyBIVE1MRWxlbWVudCB8IG51bGw7XG4gICAgaWYgKCFlbCkgcmV0dXJuO1xuICAgIGNvbnN0IG9uRm9jdXNJbiA9ICgpID0+IHsgYW5uRWRpdGluZ1JlZi5jdXJyZW50ID0gdHJ1ZTsgfTtcbiAgICBjb25zdCBvbkZvY3VzT3V0ID0gKCkgPT4geyBhbm5FZGl0aW5nUmVmLmN1cnJlbnQgPSBmYWxzZTsgfTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c2luJywgb25Gb2N1c0luKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIG9uRm9jdXNPdXQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdmb2N1c2luJywgb25Gb2N1c0luKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0Jywgb25Gb2N1c091dCk7XG4gICAgfTtcbiAgfSwgW2hlYWRlckh0bWwsIHByZXZpZXdSZWZdKTtcblxuICAvLyBSaXBwbGUgb3ZlcmxheSBmb3IgYW5ub3VuY2VtZW50IGJhciBpbnRlcmFjdGlvbnNcbiAgY29uc3QgYW5uUmlwcGxlUmVmID0gdXNlUmVmPGFueT4obnVsbCk7XG4gIGNvbnN0IHN0YXJ0QW5uUmlwcGxlID0gKGV2ZW50PzogTW91c2VFdmVudCB8IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICB0cnkgeyBhbm5SaXBwbGVSZWYuY3VycmVudD8uc3RhcnQoZXZlbnQgYXMgYW55KTsgfSBjYXRjaCB7fVxuICB9O1xuICBjb25zdCBzdG9wQW5uUmlwcGxlID0gKCkgPT4ge1xuICAgIHRyeSB7IGFublJpcHBsZVJlZi5jdXJyZW50Py5zdG9wKHt9KSB9IGNhdGNoIHt9XG4gIH07XG5cbiAgLy8gUmlwcGxlIG92ZXJsYXkgZm9yIGZvb3RlciBpbnRlcmFjdGlvbnMgKGNvbmZpbmVkIHRvIDYwMHB4IHRhYmxlKVxuICBjb25zdCBmb290ZXJSaXBwbGVSZWYgPSB1c2VSZWY8YW55PihudWxsKTtcbiAgY29uc3QgaGFuZGxlRm9vdGVyUmlwcGxlTW91c2VEb3duID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICB0cnkgeyBmb290ZXJSaXBwbGVSZWYuY3VycmVudD8uc3RhcnQoZSBhcyBhbnkpOyB9IGNhdGNoIHt9XG4gIH07XG4gIGNvbnN0IGhhbmRsZUZvb3RlclJpcHBsZU1vdXNlVXAgPSAoZTogUmVhY3QuTW91c2VFdmVudCkgPT4ge1xuICAgIHRyeSB7IGZvb3RlclJpcHBsZVJlZi5jdXJyZW50Py5zdG9wKGUgYXMgYW55KTsgfSBjYXRjaCB7fVxuICB9O1xuICBjb25zdCBoYW5kbGVGb290ZXJSaXBwbGVNb3VzZUxlYXZlID0gKGU6IFJlYWN0Lk1vdXNlRXZlbnQpID0+IHtcbiAgICB0cnkgeyBmb290ZXJSaXBwbGVSZWYuY3VycmVudD8uc3RvcChlIGFzIGFueSk7IH0gY2F0Y2gge31cbiAgfTtcblxuICAvLyBBdHRhY2ggcG9pbnRlciBldmVudHMgdG8gYW5ub3VuY2VtZW50IGJhciB0byB0cmlnZ2VyIHJpcHBsZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVsID0gcHJldmlld1JlZi5jdXJyZW50Py5xdWVyeVNlbGVjdG9yKCdbZGF0YS1hbm5vdW5jZW1lbnQ9XCJ0cnVlXCJdJykgYXMgSFRNTEVsZW1lbnQgfCBudWxsO1xuICAgIGlmICghZWwpIHJldHVybjtcbiAgICBjb25zdCBvbkRvd24gPSAoZTogTW91c2VFdmVudCkgPT4gc3RhcnRBbm5SaXBwbGUoZSk7XG4gICAgY29uc3Qgb25VcCA9ICgpID0+IHN0b3BBbm5SaXBwbGUoKTtcbiAgICBjb25zdCBvbkxlYXZlID0gKCkgPT4gc3RvcEFublJpcHBsZSgpO1xuICAgIGNvbnN0IG9uQ2xpY2sgPSAoZTogTW91c2VFdmVudCkgPT4ge1xuICAgICAgLy8gUHJldmVudCBhbnkgYW5jaG9yIGluc2lkZSBhbm5vdW5jZW1lbnQgZnJvbSBzdGVhbGluZyBmb2N1cy9uYXZpZ2F0aW9uIGR1cmluZyBlZGl0aW5nXG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmICh0YXJnZXQgJiYgdGFyZ2V0LmNsb3Nlc3QoJ2EnKSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGNvbnN0IGEgPSB0YXJnZXQuY2xvc2VzdCgnYScpIGFzIEhUTUxBbmNob3JFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgY29uc3QgaHJlZiA9IGE/LmdldEF0dHJpYnV0ZSgnaHJlZicpIHx8ICcnO1xuICAgICAgICBpZiAoaHJlZiAmJiAhKGUgYXMgYW55KS5fbGlua05vdGlmaWVkKSB7XG4gICAgICAgICAgYWRkTm90aWZpY2F0aW9uKFxuICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgIEV4dGVybmFsIGxpbms6IDxhIGhyZWY9e2hyZWZ9IHRhcmdldD1cIl9ibGFua1wiIHJlbD1cIm5vb3BlbmVyIG5vcmVmZXJyZXJcIj57aHJlZn08L2E+XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gV2hlbiB0aGUgYW5ub3VuY2VtZW50IGJhciBpcyBjbGlja2VkLCBvcGVuIHRoZSByaWdodCBwYW5lbCBhbmQgaGlnaGxpZ2h0IHRoZSBCcmFuZCB0YWJcbiAgICAgIHNldFNob3dCcmFuZFBhbmVsKHRydWUpO1xuICAgICAgc2V0U3VtbWFyeVRhYihkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicgPyAzIDogMik7XG4gICAgfTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbkRvd24pO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgb25MZWF2ZSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb3duKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvbkxlYXZlKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGljayk7XG4gICAgfTtcbiAgfSwgW2hlYWRlckh0bWwsIHByZXZpZXdSZWYsIGRldGVjdGVkUGFnZVR5cGUsIGFkZE5vdGlmaWNhdGlvbl0pO1xuXG4gIC8vIFN1YnRsZSBob3ZlciBhZmZvcmRhbmNlICh2aXN1YWwgb25seSlcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlbCA9IHByZXZpZXdSZWYuY3VycmVudD8ucXVlcnlTZWxlY3RvcignW2RhdGEtYW5ub3VuY2VtZW50PVwidHJ1ZVwiXScpIGFzIEhUTUxFbGVtZW50IHwgbnVsbDtcbiAgICBpZiAoIWVsKSByZXR1cm47XG4gICAgY29uc3Qgb25FbnRlciA9ICgpID0+IHsgZWwuc3R5bGUub3BhY2l0eSA9ICcwLjYnOyB9O1xuICAgIGNvbnN0IG9uTGVhdmUgPSAoKSA9PiB7IGVsLnN0eWxlLm9wYWNpdHkgPSAnMSc7IH07XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIG9uRW50ZXIpO1xuICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBvbkxlYXZlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VlbnRlcicsIG9uRW50ZXIpO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIG9uTGVhdmUpO1xuICAgIH07XG4gIH0sIFtoZWFkZXJIdG1sLCBwcmV2aWV3UmVmXSk7XG5cbiAgLy8gSWYgaGVybyBpbWFnZSBub3Qgc2V0IHlldCwgcHJlc2VsZWN0IHRoZSBmaXJzdCBkZXRlY3RlZCBoZXJvIGltYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFoZXJvSW1hZ2UgJiYgKGFuYWx5emVEYXRhPy5oZXJvSW1hZ2VzPy5sZW5ndGggfHwgMCkgPiAwKSB7XG4gICAgICBjb25zdCBmaXJzdCA9IGFuYWx5emVEYXRhIS5oZXJvSW1hZ2VzWzBdO1xuICAgICAgc2V0SGVyb0ltYWdlKGZpcnN0KTtcbiAgICAgIHNldEhlcm9IcmVmKGJyYW5kV2Vic2l0ZSB8fCAnJyk7XG4gIHNldEhlcm9BbHQoYW5hbHl6ZURhdGE/LnN0b3JlTmFtZSB8fCBicmFuZE5hbWUgfHwgJ0JyYW5kJyk7XG4gICAgfVxuICB9LCBbYW5hbHl6ZURhdGEsIGhlcm9JbWFnZSwgYnJhbmRXZWJzaXRlLCBicmFuZE5hbWVdKTtcblxuICAvLyBJZiBiYW5uZXIgaW1hZ2Ugbm90IHNldCB5ZXQsIHByZXNlbGVjdCB0aGUgZmlyc3QgZGV0ZWN0ZWQgYmFubmVyIGltYWdlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFiYW5uZXJJbWFnZSAmJiAoYW5hbHl6ZURhdGE/LmJhbm5lckltYWdlcz8ubGVuZ3RoIHx8IDApID4gMCkge1xuICAgICAgY29uc3QgZmlyc3QgPSBhbmFseXplRGF0YSEuYmFubmVySW1hZ2VzWzBdO1xuICAgICAgc2V0QmFubmVySW1hZ2UoZmlyc3QpO1xuICAgICAgc2V0QmFubmVySHJlZihicmFuZFdlYnNpdGUgfHwgJycpO1xuICBzZXRCYW5uZXJBbHQoYW5hbHl6ZURhdGE/LnN0b3JlTmFtZSB8fCBicmFuZE5hbWUgfHwgJ0JyYW5kJyk7XG4gICAgfVxuICB9LCBbYW5hbHl6ZURhdGEsIGJhbm5lckltYWdlLCBicmFuZFdlYnNpdGUsIGJyYW5kTmFtZV0pO1xuXG4gIC8qKlxuICAgKiBIZWxwZXIgdG8gYWRkIGEgbmV3IGJvZHkgc2VjdGlvbi4gV2hlbiBpbnZva2VkLCB0aGlzIGNyZWF0ZXMgYVxuICAgKiBuZXcgZW50cnkgaW4gdGhlIGJvZHlTZWN0aW9ucyBhcnJheSB3aXRoIGl0cyBvd24gYmxhbmsgVVJMIGxpc3QsXG4gICAqIGVtcHR5IHByb2R1Y3RzIGFuZCBkZWZhdWx0IHRlbXBsYXRlIHNlbGVjdGlvbi4gVGhlIG5ldyBzZWN0aW9uXG4gICAqIG5hbWUgaXMgYXV0b+KAkWluY3JlbWVudGVkIChCb2R5IDIsIEJvZHkgMywgZXRjLikuIEFmdGVyXG4gICAqIGNyZWF0aW9uLCB0aGUgbmV3bHkgYWRkZWQgc2VjdGlvbiBpcyBvcGVuZWQgYXV0b21hdGljYWxseSBzb1xuICAgKiB1c2VycyBjYW4gc3RhcnQgZWRpdGluZyBpdC5cbiAgICovXG4gIGNvbnN0IGFkZEJvZHlTZWN0aW9uID0gKCkgPT4ge1xuICAgIC8vIERldGVybWluZSBhIHVuaXF1ZSBuZXh0IGlkIGJhc2VkIG9uIGV4aXN0aW5nIHNlY3Rpb25zXG4gICAgY29uc3QgbmV4dElkID0gYm9keVNlY3Rpb25zLmxlbmd0aCA/IE1hdGgubWF4KC4uLmJvZHlTZWN0aW9ucy5tYXAoKHMpID0+IHMuaWQpKSArIDEgOiAxO1xuICAgIGNvbnN0IG5ld1NlY3Rpb246IEJvZHlTZWN0aW9uID0ge1xuICAgICAgaWQ6IG5leHRJZCxcbiAgICAgIG5hbWU6IGBCb2R5ICR7bmV4dElkfWAsXG4gICAgICB1cmxzOiBbJyddLFxuICAgICAgcHJvZHVjdHM6IFtdLFxuICAgICAgc2VsZWN0ZWRCb2R5SWQ6IGRlZmF1bHRCb2R5VGVtcGxhdGVzWzBdLmlkLFxuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICBhbHRlcm5hdGU6IHRydWVcbiAgICB9O1xuICAgIHNldEJvZHlTZWN0aW9ucygocHJldikgPT4gWy4uLnByZXYsIG5ld1NlY3Rpb25dKTtcbiAgICBzZXRTZWN0aW9uT3JkZXIoKHByZXYpID0+IHtcbiAgICAgIGNvbnN0IGFyciA9IFsuLi5wcmV2XTtcbiAgICAgIGNvbnN0IG5ld0tleSA9IGBib2R5LSR7bmV4dElkfWA7XG4gICAgICBjb25zdCBiYW5uZXJJZHggPSBhcnIuaW5kZXhPZignYmFubmVyJyk7XG4gICAgICBpZiAoYmFubmVySWR4ID49IDApIGFyci5zcGxpY2UoYmFubmVySWR4LCAwLCBuZXdLZXkpO1xuICAgICAgZWxzZSBhcnIucHVzaChuZXdLZXkpO1xuICAgICAgcmV0dXJuIGFycjtcbiAgICB9KTtcbiAgICBzZXRPcGVuU2VjdGlvbihgYm9keS0ke25leHRJZH1gKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVIZWFkZXJTZWN0aW9uID0gKCkgPT4ge1xuICAgIHNldFNob3dIZWFkZXJTZWN0aW9uKGZhbHNlKTtcbiAgICBzZXRIZWFkZXJIdG1sKCcnKTtcbiAgICBzZXRPcGVuU2VjdGlvbigocHJldikgPT4gKHByZXYgPT09ICdoZWFkZXInID8gJycgOiBwcmV2KSk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlSGVyb1NlY3Rpb24gPSAoKSA9PiB7XG4gICAgc2V0U2hvd0hlcm9TZWN0aW9uKGZhbHNlKTtcbiAgICBzZXRIZXJvSW1hZ2UoJycpO1xuICAgIHNldEhlcm9BbHQoJycpO1xuICAgIHNldEhlcm9IcmVmKCcnKTtcbiAgICBzZXRIZXJvSHRtbCgnJyk7XG4gICAgc2V0U2VjdGlvbk9yZGVyKChwcmV2KSA9PiBwcmV2LmZpbHRlcigoaWQpID0+IGlkICE9PSAnaGVybycpKTtcbiAgICBzZXRPcGVuU2VjdGlvbigocHJldikgPT4gKHByZXYgPT09ICdoZXJvJyA/ICcnIDogcHJldikpO1xuICB9O1xuXG4gIGNvbnN0IHJlbW92ZUJhbm5lclNlY3Rpb24gPSAoKSA9PiB7XG4gICAgc2V0U2hvd0Jhbm5lclNlY3Rpb24oZmFsc2UpO1xuICAgIHNldEJhbm5lckltYWdlKCcnKTtcbiAgICBzZXRCYW5uZXJBbHQoJycpO1xuICAgIHNldEJhbm5lckhyZWYoJycpO1xuICAgIHNldEJhbm5lckh0bWwoJycpO1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4gcHJldi5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gJ2Jhbm5lcicpKTtcbiAgICBzZXRPcGVuU2VjdGlvbigocHJldikgPT4gKHByZXYgPT09ICdiYW5uZXInID8gJycgOiBwcmV2KSk7XG4gIH07XG5cbiAgY29uc3QgcmVtb3ZlRm9vdGVyU2VjdGlvbiA9ICgpID0+IHtcbiAgICBzZXRTaG93Rm9vdGVyU2VjdGlvbihmYWxzZSk7XG4gICAgc2V0Rm9vdGVySHRtbCgnJyk7XG4gICAgc2V0T3BlblNlY3Rpb24oKHByZXYpID0+IChwcmV2ID09PSAnZm9vdGVyJyA/ICcnIDogcHJldikpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBib2R5IHNlY3Rpb24gZW50aXJlbHkuIFdoZW4gaW52b2tlZCwgdGhpcyBkZWxldGVzIHRoZVxuICAgKiBzZWN0aW9uIGZyb20gdGhlIGJvZHlTZWN0aW9ucyBhcnJheS4gSWYgdGhlIHJlbW92ZWQgc2VjdGlvbiBpc1xuICAgKiBjdXJyZW50bHkgb3BlbiwgdGhlIGFjY29yZGlvbiBpcyBjb2xsYXBzZWQuIFRoaXMgaGVscGVyIGlzXG4gICAqIHRyaWdnZXJlZCBieSB0aGUgdHJhc2ggaWNvbiBpbiBlYWNoIGJvZHkgc2VjdGlvbiBoZWFkZXIuXG4gICAqL1xuICBjb25zdCByZW1vdmVCb2R5U2VjdGlvbiA9IChzZWN0aW9uSWQ6IG51bWJlcikgPT4ge1xuICAgIC8vIENhcHR1cmUgdGhlIHNlY3Rpb24gYmVpbmcgcmVtb3ZlZCB0byBkZWNpZGUgZm9sbG93LXVwIGFjdGlvbnNcbiAgICBjb25zdCByZW1vdmVkU2VjdGlvbiA9IGJvZHlTZWN0aW9ucy5maW5kKChzKSA9PiBzLmlkID09PSBzZWN0aW9uSWQpO1xuICAgIHNldEJvZHlTZWN0aW9ucygocHJldikgPT4gcHJldi5maWx0ZXIoKHNlY3Rpb24pID0+IHNlY3Rpb24uaWQgIT09IHNlY3Rpb25JZCkpO1xuICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4gcHJldi5maWx0ZXIoKGlkKSA9PiBpZCAhPT0gYGJvZHktJHtzZWN0aW9uSWR9YCkpO1xuICAgIHNldE9wZW5TZWN0aW9uKChwcmV2KSA9PiAocHJldiA9PT0gYGJvZHktJHtzZWN0aW9uSWR9YCA/ICcnIDogcHJldikpO1xuXG4gICAgLy8gSWYgdGhlIHJlbW92ZWQgc2VjdGlvbiBpcyB0aGUgQ29sbGVjdGlvbiBtb2R1bGUsIHJlc2V0IHNlbGVjdGlvbiBhbmQgcmlnaHQtcGFuZWwgUHJvZHVjdCB0YWIgc3RhdGVcbiAgICBpZiAocmVtb3ZlZFNlY3Rpb24/Lm5hbWUgPT09ICdDb2xsZWN0aW9uJykge1xuICAgICAgLy8gRGVzZWxlY3QgYWxsIHJvd3MgaW4gdGhlIERhdGFHcmlkXG4gICAgICBzZXRDb2xsZWN0aW9uU2VsZWN0aW9uKFtdKTtcbiAgICAgIC8vIENhbmNlbCBhbnkgcGVuZGluZyBkZWJvdW5jZSBhbmQgaW4tZmxpZ2h0IGVucmljaG1lbnRcbiAgICAgIGlmIChjb2xsZWN0aW9uRGVib3VuY2VSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGNvbGxlY3Rpb25EZWJvdW5jZVJlZi5jdXJyZW50KTtcbiAgICAgIGlmIChzZWxlY3Rpb25BYm9ydFJlZi5jdXJyZW50KSB7IHRyeSB7IHNlbGVjdGlvbkFib3J0UmVmLmN1cnJlbnQuYWJvcnQoKTsgfSBjYXRjaCB7fSB9XG4gICAgICBzZXRDb2xsZWN0aW9uRW5yaWNoaW5nKGZhbHNlKTtcbiAgICAgIC8vIFJlc2V0IHRoZSBzZWxlY3RlZCBwcm9kdWN0IGNvbnRleHQgc28gUHJvZHVjdCB0YWIgZ29lcyBibGFuayBvbiBjb2xsZWN0aW9uIHBhZ2VzXG4gICAgICBzZXRTZWxlY3RlZFByb2R1Y3RDdHgobnVsbCk7XG4gICAgfVxuICAgIC8vIElmIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcHJvZHVjdCBiZWxvbmdlZCB0byB0aGUgcmVtb3ZlZCBzZWN0aW9uLCBjbGVhciBpdFxuICAgIGlmIChzZWxlY3RlZFByb2R1Y3RDdHg/LnNlY3Rpb25JZCA9PT0gc2VjdGlvbklkKSB7XG4gICAgICBzZXRTZWxlY3RlZFByb2R1Y3RDdHgobnVsbCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGFkZFNlY3Rpb25CeVR5cGUgPSAodHlwZTogc3RyaW5nKSA9PiB7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdoZWFkZXInOlxuICAgICAgICBzZXRTaG93SGVhZGVyU2VjdGlvbih0cnVlKTtcbiAgICAgICAgc2V0T3BlblNlY3Rpb24oJ2hlYWRlcicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2hlcm8nOlxuICAgICAgICBzZXRTaG93SGVyb1NlY3Rpb24odHJ1ZSk7XG4gICAgICAgIHNldFNlY3Rpb25PcmRlcigocHJldikgPT4gKHByZXYuaW5jbHVkZXMoJ2hlcm8nKSA/IHByZXYgOiBbJ2hlcm8nLCAuLi5wcmV2XSkpO1xuICAgICAgICBzZXRPcGVuU2VjdGlvbignaGVybycpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2Jhbm5lcic6XG4gICAgICAgIHNldFNob3dCYW5uZXJTZWN0aW9uKHRydWUpO1xuICAgICAgICBzZXRTZWN0aW9uT3JkZXIoKHByZXYpID0+IChwcmV2LmluY2x1ZGVzKCdiYW5uZXInKSA/IHByZXYgOiBbLi4ucHJldiwgJ2Jhbm5lciddKSk7XG4gICAgICAgIHNldE9wZW5TZWN0aW9uKCdiYW5uZXInKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmb290ZXInOlxuICAgICAgICBzZXRTaG93Rm9vdGVyU2VjdGlvbih0cnVlKTtcbiAgICAgICAgc2V0T3BlblNlY3Rpb24oJ2Zvb3RlcicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYWRkQm9keVNlY3Rpb24oKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNldFNob3dBZGRTZWN0aW9uTWVudShmYWxzZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgc2VsZWN0ZWQgdGVtcGxhdGUgZm9yIGEgc3BlY2lmaWMgYm9keSBzZWN0aW9uLiBUaGlzXG4gICAqIHVwZGF0ZXMgdGhlIHNlY3Rpb27igJlzIHNlbGVjdGVkQm9keUlkIGFuZCBhbHNvIHVwZGF0ZXMgdGhlXG4gICAqIGdsb2JhbCBzZWxlY3RlZEJvZHlJZCBzbyB0aGF0IHRoZSBlZGl0IGZvcm0gZGlzcGxheXMgdGhlXG4gICAqIGNvcnJlY3QgdGVtcGxhdGUgc291cmNlIHdoZW4gZWRpdGluZy4gV2l0aG91dCB0aGlzIHRoZSBlZGl0XG4gICAqIHRleHRhcmVhIHdvdWxkIHNob3cgdGhlIHdyb25nIEhUTUwgaWYgc3dpdGNoaW5nIGJldHdlZW5cbiAgICogc2VjdGlvbnMgd2l0aCBkaWZmZXJlbnQgdGVtcGxhdGVzLlxuICAgKi9cbiAgY29uc3Qgc2V0U2VjdGlvblRlbXBsYXRlID0gKHNlY3Rpb25JZDogbnVtYmVyLCB0ZW1wbGF0ZUlkOiBzdHJpbmcpID0+IHtcbiAgICBzZXRCb2R5U2VjdGlvbnMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgoc2VjdGlvbikgPT5cbiAgICAgICAgc2VjdGlvbi5pZCA9PT0gc2VjdGlvbklkID8geyAuLi5zZWN0aW9uLCBzZWxlY3RlZEJvZHlJZDogdGVtcGxhdGVJZCB9IDogc2VjdGlvblxuICAgICAgKVxuICAgICk7XG4gICAgc2V0U2VsZWN0ZWRCb2R5SWQodGVtcGxhdGVJZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNhdmUgZWRpdHMgdG8gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBoZXJvIHRlbXBsYXRlLiBUaGUgaGVyb1xuICAgKiB0ZW1wbGF0ZeKAmXMgSFRNTCBpcyByZXBsYWNlZCB3aXRoIHRoZSBjb250ZW50cyBvZiBkcmFmdEhlcm9IdG1sLlxuICAgKiBJZiB0aGUgdGVtcGxhdGUgaXMgdXNlcuKAkWRlZmluZWQgaXQgaXMgcGVyc2lzdGVkIGJhY2sgdG9cbiAgICogbG9jYWxTdG9yYWdlIHVuZGVyICdjdXN0b21IZXJvVGVtcGxhdGVzJy5cbiAgICovXG4gIGNvbnN0IHNhdmVIZXJvRWRpdHMgPSAoKSA9PiB7XG4gICAgc2V0SGVyb1RlbXBsYXRlcygocHJldikgPT5cbiAgICAgIHByZXYubWFwKCh0cGwpID0+ICh0cGwuaWQgPT09IHNlbGVjdGVkSGVyb0lkID8geyAuLi50cGwsIGh0bWw6IGRyYWZ0SGVyb0h0bWwgfSA6IHRwbCkpXG4gICAgKTtcbiAgICBzZXRIZXJvRWRpdE1vZGUoZmFsc2UpO1xuICAgIC8vIFBlcnNpc3QgZWRpdHMgZm9yIGN1c3RvbSB0ZW1wbGF0ZXNcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tSGVyb1RlbXBsYXRlcycpO1xuICAgICAgICBjb25zdCBsaXN0OiBIZXJvVGVtcGxhdGVbXSA9IHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IFtdO1xuICAgICAgICBjb25zdCB1cGRhdGVkID0gbGlzdC5tYXAoKHRwbCkgPT5cbiAgICAgICAgICB0cGwuaWQgPT09IHNlbGVjdGVkSGVyb0lkID8geyAuLi50cGwsIGh0bWw6IGRyYWZ0SGVyb0h0bWwgfSA6IHRwbFxuICAgICAgICApO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1c3RvbUhlcm9UZW1wbGF0ZXMnLCBKU09OLnN0cmluZ2lmeSh1cGRhdGVkKSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBwZXJzaXN0IGhlcm8gdGVtcGxhdGUgZWRpdHMnLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQWRkIGEgbmV3IGhlcm8gdGVtcGxhdGUuIFRoZSBuYW1lIGFuZCBIVE1MIGFyZSB0YWtlbiBmcm9tIHRoZVxuICAgKiBuZXdIZXJvTmFtZSBhbmQgbmV3SGVyb0h0bWwgZmllbGRzLiBBIHVuaXF1ZSBpZCBpcyBnZW5lcmF0ZWRcbiAgICogYmFzZWQgb24gdGhlIG5hbWUgYW5kIHRpbWVzdGFtcC4gVGhlIG5ldyB0ZW1wbGF0ZSBpcyBzdG9yZWRcbiAgICogYWxvbmdzaWRlIGV4aXN0aW5nIHRlbXBsYXRlcyBhbmQgcGVyc2lzdGVkIGludG8gbG9jYWxTdG9yYWdlLlxuICAgKi9cbiAgY29uc3QgYWRkTmV3SGVyb1RlbXBsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBuZXdIZXJvTmFtZS50cmltKCk7XG4gICAgY29uc3QgaHRtbCA9IG5ld0hlcm9IdG1sLnRyaW0oKTtcbiAgICBpZiAoIW5hbWUgfHwgIWh0bWwpIHJldHVybjtcbiAgICBjb25zdCBpZCA9IGAke25hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9LSR7RGF0ZS5ub3coKX1gO1xuICAgIGNvbnN0IG5ld1RwbDogSGVyb1RlbXBsYXRlID0geyBpZCwgbmFtZSwgaHRtbCB9O1xuICAgIHNldEhlcm9UZW1wbGF0ZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdUcGxdKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tSGVyb1RlbXBsYXRlcycpO1xuICAgICAgICBjb25zdCBsaXN0OiBIZXJvVGVtcGxhdGVbXSA9IHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IFtdO1xuICAgICAgICBsaXN0LnB1c2gobmV3VHBsKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXN0b21IZXJvVGVtcGxhdGVzJywgSlNPTi5zdHJpbmdpZnkobGlzdCkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc2F2ZSBjdXN0b20gaGVybyB0ZW1wbGF0ZScsIGVycik7XG4gICAgfVxuICAgIHNldE5ld0hlcm9OYW1lKCcnKTtcbiAgICBzZXROZXdIZXJvSHRtbCgnJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvYWQgYW55IGN1c3RvbSBoZXJvIHRlbXBsYXRlcyBmcm9tIGxvY2FsU3RvcmFnZS4gVGhpcyBtaXJyb3JzXG4gICAqIHRoZSBiZWhhdmlvdXIgZm9yIGJvZHkvaGVhZGVyL2Zvb3RlciB0ZW1wbGF0ZXMuIEN1c3RvbSBoZXJvXG4gICAqIHRlbXBsYXRlcyBhcmUgc3RvcmVkIHVuZGVyIHRoZSBrZXkgJ2N1c3RvbUhlcm9UZW1wbGF0ZXMnLlxuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZEhlcm8gPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUhlcm9UZW1wbGF0ZXMnKTtcbiAgICAgICAgaWYgKHN0b3JlZEhlcm8pIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWQ6IEhlcm9UZW1wbGF0ZVtdID0gSlNPTi5wYXJzZShzdG9yZWRIZXJvKTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJzZWQpICYmIHBhcnNlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHNldEhlcm9UZW1wbGF0ZXMoKHByZXYpID0+IFsuLi5wcmV2LCAuLi5wYXJzZWRdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIGN1c3RvbSBoZXJvIHRlbXBsYXRlcycsIGVycik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIENvbXBvc2UgdGhlIGZ1bGwgZW1haWwgd2hlbmV2ZXIgYW55IHBhcnQgb2YgdGhlIGRhdGEgY2hhbmdlcy4gVGhpc1xuICAgKiBpbmNsdWRlcyBoZWFkZXIvZm9vdGVyL2hlcm8gdGVtcGxhdGUgc2VsZWN0aW9uLCBib2R5IHNlY3Rpb25zLFxuICAgKiBwcm9kdWN0cywgaGVybyBpbWFnZSBhbmQgYnJhbmQgY3VzdG9taXNhdGlvbnMuIFRoZSBjb21wb3NlZFxuICAgKiBIVE1MIHVzZXMgT3B0aW9uwqBBIHNlbWFudGljczogdGhlIHNhbWUgSFRNTCBzdHJpbmcgaXMgdXNlZCBmb3JcbiAgICogYm90aCBwcmV2aWV3IGFuZCBjb2RlIG91dHB1dC4gQnJhbmQgY29sb3VycywgZm9udHMgYW5kIGxvZ29zXG4gICAqIGFyZSBhcHBsaWVkIHVuaWZvcm1seSBhY3Jvc3MgYWxsIHNlY3Rpb25zLlxuICAgKi9cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBDb21wb3NlIGhlYWRlclxuICAgIGxldCBoZWFkZXJTdHIgPSBoZWFkZXJIdG1sO1xuICAgIGNvbnN0IGlzQW5uRm9jdXNlZCA9IGFubkVkaXRpbmdSZWYuY3VycmVudCA9PT0gdHJ1ZTtcbiAgICBpZiAoIWlzQW5uRm9jdXNlZCkge1xuICAgICAgaWYgKHNob3dIZWFkZXJTZWN0aW9uKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlclRlbXBsYXRlID0gaGVhZGVyVGVtcGxhdGVzLmZpbmQoKHQpID0+IHQuaWQgPT09IHNlbGVjdGVkSGVhZGVySWQpO1xuICAgICAgICBoZWFkZXJTdHIgPSBoZWFkZXJUZW1wbGF0ZSA/IGhlYWRlclRlbXBsYXRlLmh0bWwgOiAnJztcbiAgICAgICAgaGVhZGVyU3RyID0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KGhlYWRlclN0cik7XG4gICAgICAgIGhlYWRlclN0ciA9IGFwcGx5QnJhbmRMb2dvKGhlYWRlclN0cik7XG4gICAgICAgIGhlYWRlclN0ciA9IGFwcGx5QW5ub3VuY2VtZW50Q29weShoZWFkZXJTdHIpO1xuICAgICAgICBoZWFkZXJTdHIgPSBhcHBseVdyYXBwZXJQYWRkaW5nKGhlYWRlclN0ciwgaGVhZGVyUGFkZGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoZWFkZXJTdHIgPSAnJztcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gQ29tcG9zZSBoZXJvIGlmIGFuIGltYWdlIGhhcyBiZWVuIHNldFxuICAgIGxldCBoZXJvU3RyID0gJyc7XG4gICAgY29uc3QgaGVyb1RlbXBsYXRlID0gaGVyb1RlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEhlcm9JZCk7XG4gICAgaWYgKHNob3dIZXJvU2VjdGlvbiAmJiBoZXJvVGVtcGxhdGUgJiYgaGVyb0ltYWdlKSB7XG4gICAgICBjb25zdCBoZXJvRGF0YTogYW55ID0ge1xuICAgICAgICBoZXJvSW1hZ2UsXG4gICAgICAgIGhlcm9BbHQ6IGhlcm9BbHQgfHwgJycsXG4gICAgICAgIGhlcm9IcmVmOiBoZXJvSHJlZiB8fCAnJ1xuICAgICAgfTtcbiAgICAgIGlmICghaGVyb0RhdGEuaGVyb0FsdCAmJiBicmFuZE5hbWUpIGhlcm9EYXRhLmhlcm9BbHQgPSBicmFuZE5hbWU7XG4gICAgICAvLyBSZW5kZXIgaGVybyB1c2luZyB0aGUgZnVsbCB0ZW1wbGF0ZSBvYmplY3QuIFBhc3NpbmcgdGhlIHJhd1xuICAgICAgLy8gSFRNTCBzdHJpbmcgY2F1c2VzIHJlbmRlclRlbXBsYXRlIHRvIHJlY2VpdmUgdW5kZWZpbmVkIGZvclxuICAgICAgLy8gdGVtcGxhdGUuaHRtbCBhbmQgcmVzdWx0cyBpbiBydW50aW1lIGVycm9ycy4gU2VlIGRhdGEvdGVtcGxhdGVzLnRzLlxuICBoZXJvU3RyID0gcmVuZGVyVGVtcGxhdGUoaGVyb1RlbXBsYXRlIGFzIGFueSwgaGVyb0RhdGEpO1xuICBoZXJvU3RyID0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KGhlcm9TdHIpO1xuICBoZXJvU3RyID0gYXBwbHlXcmFwcGVyUGFkZGluZyhoZXJvU3RyLCBoZXJvUGFkZGluZyk7XG4gICAgfVxuICAgIC8vIENvbXBvc2UgYm9keSBhY3Jvc3MgYWxsIHNlY3Rpb25zXG4gICAgY29uc3QgYm9keUh0bWxNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbiAgICBib2R5U2VjdGlvbnMuZm9yRWFjaCgoc2VjdGlvbikgPT4ge1xuICAgICAgbGV0IHNlY3Rpb25IdG1sID0gJyc7XG4gICAgICAvLyBTcGVjaWFsIGhhbmRsaW5nIGZvciBncmlkOiBidWlsZCBhIHNpbmdsZSBtdWx0aS1yb3cgdGFibGUgd2l0aCB1cCB0byAzIGltYWdlcyBwZXIgcm93LFxuICAgICAgLy8gMTJweCBzcGFjaW5nIGJldHdlZW4gdGlsZXMgKDZweCBob3Jpem9udGFsIGluc2V0IG9uIGVhY2ggc2lkZSwgMTJweCB2ZXJ0aWNhbCBnYXAgYmV0d2VlbiByb3dzKS5cbiAgICAgIGlmIChzZWN0aW9uLnNlbGVjdGVkQm9keUlkID09PSAnZ3JpZCcpIHtcbiAgICAgICAgY29uc3QgaW1hZ2VzID0gc2VjdGlvbi5wcm9kdWN0cy5tYXAocCA9PiAocCBhcyBhbnkpLmltYWdlKS5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW107XG4gICAgICAgIGlmIChpbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgLy8gVXNlIHNoYXJlZCBoZWxwZXIgdG8gYnVpbGQgaW5kZXBlbmRlbnQgcm93IHRhYmxlcyB3aXRoIHNwYWNpbmdcbiAgICAgICAgICBjb25zdCByb3dzSHRtbCA9IGJ1aWxkR3JpZFJvd3NIdG1sKGltYWdlcywgeyBnYXA6IDEyLCBjZWxsUGFkOiA2LCBwZXJSb3c6IDMgfSk7XG4gICAgICAgICAgLy8gQXBwbHkgZGVza3RvcCBwYWRkaW5nICgyNXB4IGRlZmF1bHQpIGFuZCBtb2JpbGUgb3ZlcnJpZGUgKDEycHggdmlhIG1lZGlhIHF1ZXJ5KSB1c2luZyB0aGUgc2FtZSB3cmFwcGVyIHNlbWFudGljcyBhcyBvdGhlciBib2R5IHNlY3Rpb25zLlxuICAgICAgICAgIGNvbnN0IHBhZCA9IGdldEJvZHlTZWN0aW9uUGFkZGluZyhzZWN0aW9uLmlkKTtcbiAgICAgICAgICAvLyBJZiBubyBleHBsaWNpdCBwYWRkaW5nIHNldCAoYWxsIHplcm9zKSwgZGVmYXVsdCB0byAyNSBvbiBhbGwgc2lkZXMgbGlrZSBwcm9kdWN0IHNlY3Rpb25zLlxuICAgICAgICAgIGNvbnN0IGVmZmVjdGl2ZVBhZCA9ICghcGFkIHx8IChwYWQudG9wPT09MCAmJiBwYWQucmlnaHQ9PT0wICYmIHBhZC5ib3R0b209PT0wICYmIHBhZC5sZWZ0PT09MCkpXG4gICAgICAgICAgICA/IHsgdG9wOjI1LHJpZ2h0OjI1LGJvdHRvbToyNSxsZWZ0OjI1IH1cbiAgICAgICAgICAgIDogcGFkO1xuICAgICAgICAgIGNvbnN0IHByID0gYCR7ZWZmZWN0aXZlUGFkLnRvcH1weCAke2VmZmVjdGl2ZVBhZC5yaWdodH1weCAke2VmZmVjdGl2ZVBhZC5ib3R0b219cHggJHtlZmZlY3RpdmVQYWQubGVmdH1weGA7XG4gICAgICAgICAgY29uc3QgZ3JpZElubmVyID0gYDwhLS0gRHluYW1pYyBHcmlkIChtYXggMyBwZXIgcm93LCBlYWNoIHJvdyBpbmRlcGVuZGVudCkgLS0+XFxuPHRhYmxlIHJvbGU9XFxcInByZXNlbnRhdGlvblxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIGNlbGxwYWRkaW5nPVxcXCIwXFxcIiBjZWxsc3BhY2luZz1cXFwiMFxcXCIgYm9yZGVyPVxcXCIwXFxcIiBhbGlnbj1cXFwiY2VudGVyXFxcIiBzdHlsZT1cXFwibWFyZ2luOjA7cGFkZGluZzowO1xcXCI+XFxuICA8dHI+XFxuICAgIDx0ZCBhbGlnbj1cXFwiY2VudGVyXFxcIiBzdHlsZT1cXFwibWFyZ2luOjA7cGFkZGluZzowO1xcXCI+XFxuICAgICAgPHRhYmxlIHJvbGU9XFxcInByZXNlbnRhdGlvblxcXCIgd2lkdGg9XFxcIjEwMCVcXFwiIGNlbGxwYWRkaW5nPVxcXCIwXFxcIiBjZWxsc3BhY2luZz1cXFwiMFxcXCIgYm9yZGVyPVxcXCIwXFxcIiBjbGFzcz1cXFwicHJvZHVjdC13cmFwcGVyXFxcIiBzdHlsZT1cXFwibWF4LXdpZHRoOjYwMHB4O21hcmdpbjowIGF1dG87YmFja2dyb3VuZDojRkZGRkZGO3BhZGRpbmc6JHtwcn07XFxcIj5cXG4gICAgICAgIDx0cj5cXG4gICAgICAgICAgPHRkIHN0eWxlPVxcXCJwYWRkaW5nOjA7XFxcIj5cXG4gICAgICAgICAgICAke3Jvd3NIdG1sfVxcbiAgICAgICAgICA8L3RkPlxcbiAgICAgICAgPC90cj5cXG4gICAgICA8L3RhYmxlPlxcbiAgICA8L3RkPlxcbiAgPC90cj5cXG48L3RhYmxlPmA7XG4gICAgICAgICAgc2VjdGlvbkh0bWwgKz0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KGdyaWRJbm5lcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRGlyZWN0bHkgYXNzaWduIHdpdGhvdXQgYW4gZXh0cmEgd3JhcCAoZ3JpZElubmVyIGFscmVhZHkgaW5jbHVkZXMgd3JhcHBlciBzZW1hbnRpY3MpXG4gICAgICAgIGJvZHlIdG1sTWFwW2Bib2R5LSR7c2VjdGlvbi5pZH1gXSA9IHNlY3Rpb25IdG1sO1xuICAgICAgICByZXR1cm47IC8vIFNraXAgcGVyLXByb2R1Y3QgcHJvY2Vzc2luZyBmb3IgZ3JpZFxuICAgICAgfVxuICAgICAgc2VjdGlvbi5wcm9kdWN0cy5mb3JFYWNoKChwcm9kLCBpZHgpID0+IHtcbiAgICAgICAgLy8gRGV0ZXJtaW5lIG9yaWVudGF0aW9uIGJhc2VkIG9uIGluZGV4IGFuZCBhbHRlcm5hdGUgbWFwXG4gICAgICAgIGxldCB0ZW1wbGF0ZUlkVG9Vc2UgPSBzZWN0aW9uLnNlbGVjdGVkQm9keUlkO1xuICAgICAgICBpZiAoaWR4ICUgMiA9PT0gMSAmJiBhbHRlcm5hdGVNYXBbc2VjdGlvbi5zZWxlY3RlZEJvZHlJZF0pIHtcbiAgICAgICAgICB0ZW1wbGF0ZUlkVG9Vc2UgPSBhbHRlcm5hdGVNYXBbc2VjdGlvbi5zZWxlY3RlZEJvZHlJZF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdHBsID0gYm9keVRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSB0ZW1wbGF0ZUlkVG9Vc2UpO1xuICAgICAgICBpZiAoIXRwbCkgcmV0dXJuO1xuICAgICAgICAvLyBDb2xvdXIgc3dhdGNoZXMgcmVtb3ZlZCBwZXIgcmVmYWN0b3JcbiAgICAgICAgLy8gQnVpbGQgcHJpY2UgSFRNTDogaW5jbHVkZSBhIHN0cmlrZeKAkXRocm91Z2ggb3JpZ2luYWwgcHJpY2UgaWZcbiAgICAgICAgLy8gcHJvdmlkZWQgYW5kIGRpZmZlcmVudCBmcm9tIHRoZSBzYWxlIHByaWNlLiBXZSBsZWF2ZSB0aGVcbiAgICAgICAgLy8gY3VycmVuY3kgYXMgcHJvdmlkZWQgYnkgdGhlIHBhcnNlci4gSWYgbm8gb3JpZ2luYWwgcHJpY2UgaXNcbiAgICAgICAgLy8gcHJlc2VudCwgc2hvdyB0aGUgc2FsZSBwcmljZSBvbmx5LiBXaGVuIGJvdGggdmFsdWVzIGFyZVxuICAgICAgICAvLyBlbXB0eSB0aGUgcHJpY2VIdG1sIHdpbGwgYmUgZW1wdHkgYXMgd2VsbC5cbiAgICAgICAgY29uc3QgcmF3U2FsZSA9IChwcm9kIGFzIGFueSkucHJpY2UgfHwgJyc7XG4gICAgICAgIGNvbnN0IHJhd09yaWdpbmFsID0gKHByb2QgYXMgYW55KS5vcmlnaW5hbFByaWNlO1xuICAgICAgICAvLyBIZWxwZXIgdG8gZW5zdXJlIGEgbGVhZGluZyAkIHVubGVzcyBhbm90aGVyIGN1cnJlbmN5IHN5bWJvbCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjb25zdCB3aXRoRG9sbGFyID0gKHZhbDogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nID0+IHtcbiAgICAgICAgICBpZiAoIXZhbCkgcmV0dXJuICcnO1xuICAgICAgICAgICAgcmV0dXJuIC9eW1xcJMKj4oKsXS8udGVzdCh2YWwudHJpbSgpKSA/IHZhbCA6IGAkJHt2YWwudHJpbSgpfWA7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNhbGVQcmljZSA9IHdpdGhEb2xsYXIocmF3U2FsZSk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsUHJpY2UgPSByYXdPcmlnaW5hbCAmJiByYXdPcmlnaW5hbCAhPT0gcmF3U2FsZSA/IHdpdGhEb2xsYXIocmF3T3JpZ2luYWwpIDogdW5kZWZpbmVkO1xuICAgICAgICBsZXQgcHJpY2VIdG1sID0gJyc7XG4gICAgICAgIGlmIChvcmlnaW5hbFByaWNlICYmIG9yaWdpbmFsUHJpY2UgIT09IHNhbGVQcmljZSkge1xuICAgICAgICAgIHByaWNlSHRtbCA9IGA8c3BhbiBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjpsaW5lLXRocm91Z2g7Y29sb3I6Izg4ODg4ODttYXJnaW4tcmlnaHQ6OHB4O2ZvbnQtd2VpZ2h0OjQwMDtcIj4ke29yaWdpbmFsUHJpY2V9PC9zcGFuPiAke3NhbGVQcmljZX1gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByaWNlSHRtbCA9IHNhbGVQcmljZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaG9vc2UgZGVzY3JpcHRpb24gcGVyIHByb2R1Y3QgYmFzZWQgb24gaXRzIG93biBkZXNjU291cmNlIChmYWxsYmFjayBtZXRhZGF0YSlcbiAgY29uc3QgcHJvZERlc2NTb3VyY2UgPSAocHJvZCBhcyBhbnkpLmRlc2NTb3VyY2UgfHwgJ21ldGFkYXRhJztcbiAgICAgICAgbGV0IGNob3NlbkRlc2NyaXB0aW9uID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgaWYgKHByb2REZXNjU291cmNlID09PSAncCcgJiYgKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblApIHtcbiAgICAgICAgICBjaG9zZW5EZXNjcmlwdGlvbiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25QO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2REZXNjU291cmNlID09PSAndWwnICYmIChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCkge1xuICAgICAgICAgIGNob3NlbkRlc2NyaXB0aW9uID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblVsO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2REZXNjU291cmNlID09PSAnbWV0YWRhdGEnKSB7XG4gICAgICAgICAgY29uc3QgbWV0YSA9IChwcm9kIGFzIGFueSkubWV0YWRhdGFEZXNjcmlwdGlvbiB8fCAocHJvZCBhcyBhbnkpLm9yaWdpbmFsTWV0YWRhdGFEZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgICBpZiAobWV0YSkgY2hvc2VuRGVzY3JpcHRpb24gPSBtZXRhO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhZmV0eTogaWYgY2hvc2VuRGVzY3JpcHRpb24gaXMgc3RpbGwgZW1wdHkgYnV0IG1ldGFkYXRhIGV4aXN0cywgcHJlZmVyIGl0XG4gICAgICAgIGlmICghY2hvc2VuRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICBjb25zdCBtZXRhID0gKHByb2QgYXMgYW55KS5tZXRhZGF0YURlc2NyaXB0aW9uIHx8IChwcm9kIGFzIGFueSkub3JpZ2luYWxNZXRhZGF0YURlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICAgIGlmIChtZXRhKSBjaG9zZW5EZXNjcmlwdGlvbiA9IG1ldGE7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZHMgPSBwcm9kRGVzY1NvdXJjZTtcbiAgICAgICAgLy8gRm9yIFVMIGluIGNvZGUgdmlldywgdXNlIGEgbWFya2VyIHRvIGxhdGVyIHN3YXAgdGhlIHBhcmFncmFwaCB3aXRoIFVMIG1hcmt1cFxuICAgICAgICBjb25zdCBkZXNjRm9yVGVtcGxhdGUgPSBkcyA9PT0gJ3VsJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWwgPyAnW1tERVNDX01BUktFUl1dJyA6IGNob3NlbkRlc2NyaXB0aW9uO1xuICAgICAgICBjb25zdCBwcm9kdWN0RGF0YTogYW55ID0ge1xuICAgICAgICAgIC4uLnByb2QsXG4gICAgICAgICAgLy8gU2FuaXRpemUgdGl0bGUvZGVzY3JpcHRpb24gaWYgZW5hYmxlZFxuICAgICAgICAgIHRpdGxlOiBlbWFpbFNhZmUgPyBzYW5pdGl6ZUlubGluZUh0bWwoKHByb2QgYXMgYW55KS50aXRsZSB8fCAnJykgOiAocHJvZCBhcyBhbnkpLnRpdGxlLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBlbWFpbFNhZmUgPyBzYW5pdGl6ZUVtYWlsSHRtbChkZXNjRm9yVGVtcGxhdGUpIDogZGVzY0ZvclRlbXBsYXRlLFxuICAgICAgICAgIGN0YUxhYmVsOiAocHJvZCBhcyBhbnkpLmN0YUxhYmVsIHx8ICdTSE9QIE5PVycsXG4gICAgICAgICAgcHJpY2VIdG1sLFxuICAgICAgICAgIGN0YUJnOiBicmFuZFByaW1hcnksXG4gICAgICAgICAgY3RhVGV4dDogYnJhbmRUZXh0Q29sb3IgPT09ICd3aGl0ZScgPyAnI0ZGRkZGRicgOiAnIzAwMDAwMCdcbiAgICAgICAgfTtcbiAgICAgICAgLy8gUmVuZGVyIG1vZHVsZSB1c2luZyB0aGUgZnVsbCB0ZW1wbGF0ZS4gRm9yIGZlYXR1cmUgdGVtcGxhdGVzLCBhbHRlcm5hdGUgb3JpZW50YXRpb24gYnkgc3dhcHBpbmcgdGVtcGxhdGUgaWRzIHBlciBpbmRleC5cbiAgICAgICAgbGV0IGVmZmVjdGl2ZVRwbCA9IHRwbDtcbiAgICAgICAgaWYgKHNlY3Rpb24uYWx0ZXJuYXRlICE9PSBmYWxzZSAmJiAoc2VjdGlvbi5zZWxlY3RlZEJvZHlJZCA9PT0gJ3Byb2R1Y3QtaW1hZ2UtbGVmdC1jb3B5LXJpZ2h0JyB8fCBzZWN0aW9uLnNlbGVjdGVkQm9keUlkID09PSAncHJvZHVjdC1jb3B5LWxlZnQtaW1hZ2UtcmlnaHQnKSkge1xuICAgICAgICAgIGNvbnN0IGlzQmFzZUxlZnQgPSBzZWN0aW9uLnNlbGVjdGVkQm9keUlkID09PSAncHJvZHVjdC1pbWFnZS1sZWZ0LWNvcHktcmlnaHQnO1xuICAgICAgICAgIGNvbnN0IGFsdElkID0gaXNCYXNlTGVmdCA/ICdwcm9kdWN0LWNvcHktbGVmdC1pbWFnZS1yaWdodCcgOiAncHJvZHVjdC1pbWFnZS1sZWZ0LWNvcHktcmlnaHQnO1xuICAgICAgICAgIC8vIEV2ZW4gaW5kaWNlcyB1c2UgdGhlIGJhc2UgdGVtcGxhdGUgb3JpZW50YXRpb247IG9kZCBpbmRpY2VzIHVzZSB0aGUgYWx0ZXJuYXRlLlxuICAgICAgICAgIGlmIChpZHggJSAyID09PSAxKSB7XG4gICAgICAgICAgICBjb25zdCBhbHRUcGwgPSBib2R5VGVtcGxhdGVzLmZpbmQodCA9PiB0LmlkID09PSBhbHRJZCk7XG4gICAgICAgICAgICBpZiAoYWx0VHBsKSBlZmZlY3RpdmVUcGwgPSBhbHRUcGwgYXMgYW55O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBSZW5kZXIgbW9kdWxlIEhUTUwsIHRoZW4gYWRqdXN0IHRvcCBwYWRkaW5nIGZvciBzdWJzZXF1ZW50IGZlYXR1cmUgbW9kdWxlcyB1c2luZyBhIHBsYWNlaG9sZGVyLlxuICAgICAgICBsZXQgbW9kdWxlSHRtbFJhdyA9IHJlbmRlclRlbXBsYXRlKGVmZmVjdGl2ZVRwbCBhcyBhbnksIHByb2R1Y3REYXRhKTtcbiAgICAgICAgaWYgKHNlY3Rpb24uc2VsZWN0ZWRCb2R5SWQgPT09ICdwcm9kdWN0LWltYWdlLWxlZnQtY29weS1yaWdodCcgfHwgc2VjdGlvbi5zZWxlY3RlZEJvZHlJZCA9PT0gJ3Byb2R1Y3QtY29weS1sZWZ0LWltYWdlLXJpZ2h0Jykge1xuICAgICAgICAgIC8vIFRyYW5zZm9ybSBvbmx5IHRoZSBmaXJzdCBjYW5vbmljYWwgcGFkZGluZzoyNXB4OyBvY2N1cnJlbmNlIG9uIHRoZSBtb2R1bGUtcGFkIHRhYmxlIGludG8gYSB0b2tlbml6ZWQgZm9ybSBpZiBub3QgYWxyZWFkeSB0cmFuc2Zvcm1lZC5cbiAgICAgICAgICAvLyBUaGlzIGF2b2lkcyBtdWx0aXBsZSByZWdleCBwYXNzZXMgYW5kIGZyYWdpbGUgcmVwbGFjZW1lbnRzIGxhdGVyLlxuICAgICAgICAgIG1vZHVsZUh0bWxSYXcgPSBtb2R1bGVIdG1sUmF3LnJlcGxhY2UoXG4gICAgICAgICAgICAvcGFkZGluZzoyNXB4Oyg/PSg/OltePF18PCg/IXRhYmxlKSkqY2xhc3M9XFxcIm1vZHVsZS1wYWRcXFwiKT8vLFxuICAgICAgICAgICAgJ3BhZGRpbmc6e3tNT0RVTEVfVE9QX1BBRERJTkd9fSAyNXB4IDI1cHggMjVweDsnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zdCB0b3BQYWQgPSAoc2VjdGlvbi5wcm9kdWN0cy5sZW5ndGggPiAxICYmIGlkeCA+IDApID8gJzAnIDogJzI1cHgnO1xuICAgICAgICAgIG1vZHVsZUh0bWxSYXcgPSBtb2R1bGVIdG1sUmF3LnJlcGxhY2UoL1xce1xce01PRFVMRV9UT1BfUEFERElOR1xcfVxcfS9nLCB0b3BQYWQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtb2R1bGVIdG1sID0gbW9kdWxlSHRtbFJhdztcbiAgICAgICAgaWYgKGRzID09PSAndWwnICYmIChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCkge1xuICAgICAgICAgIGNvbnN0IHJhd1VsID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblVsIGFzIHN0cmluZztcbiAgICAgICAgICBjb25zdCBwcm9jZXNzZWRVbCA9IGVtYWlsU2FmZSA/IHNhbml0aXplRW1haWxIdG1sKHJhd1VsKSA6IHJhd1VsO1xuICAgICAgICAgIGNvbnN0IHVsSHRtbCA9IG5vcm1hbGl6ZUxpc3RIdG1sKHByb2Nlc3NlZFVsKTtcbiAgICAgICAgICBtb2R1bGVIdG1sID0gbW9kdWxlSHRtbC5yZXBsYWNlKC88cFtePl0qPlxccypcXFtcXFtERVNDX01BUktFUlxcXVxcXVxccyo8XFwvcD4vaSwgdWxIdG1sKTtcbiAgICAgICAgfVxuICBtb2R1bGVIdG1sID0gc3RyaXBNb2R1bGVXcmFwcGVyKG1vZHVsZUh0bWwpO1xuICBtb2R1bGVIdG1sID0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KG1vZHVsZUh0bWwpO1xuICAgICAgICBzZWN0aW9uSHRtbCArPSBtb2R1bGVIdG1sO1xuICAgICAgfSk7XG4gICAgICAvLyBBcHBseSBwYWRkaW5nIG9uY2UgdG8gYSBzaW5nbGUgb3V0ZXIgd3JhcHBlciBhcm91bmQgdGhlIHdob2xlIHNlY3Rpb25cbiAgICAgIGJvZHlIdG1sTWFwW2Bib2R5LSR7c2VjdGlvbi5pZH1gXSA9IHdyYXBTZWN0aW9uV2l0aFdyYXBwZXIoc2VjdGlvbkh0bWwsIGdldEJvZHlTZWN0aW9uUGFkZGluZyhzZWN0aW9uLmlkKSk7XG4gICAgfSk7XG4gICAgLy8gQ29tcG9zZSBiYW5uZXIgaWYgYW4gaW1hZ2UgaGFzIGJlZW4gZmV0Y2hlZFxuICAgIGxldCBiYW5uZXJTdHIgPSAnJztcbiAgICBjb25zdCBiYW5uZXJUZW1wbGF0ZSA9IGJhbm5lclRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEJhbm5lcklkKTtcbiAgICBpZiAoc2hvd0Jhbm5lclNlY3Rpb24gJiYgYmFubmVyVGVtcGxhdGUgJiYgYmFubmVySW1hZ2UpIHtcbiAgICAgIGNvbnN0IGRhdGE6IGFueSA9IHtcbiAgICAgICAgYmFubmVySW1hZ2UsXG4gICAgICAgIGJhbm5lckFsdDogYmFubmVyQWx0IHx8ICcnLFxuICAgICAgICBiYW5uZXJIcmVmOiBiYW5uZXJIcmVmIHx8ICcnXG4gICAgICB9O1xuICAgICAgaWYgKCFkYXRhLmJhbm5lckFsdCAmJiBicmFuZE5hbWUpIGRhdGEuYmFubmVyQWx0ID0gYnJhbmROYW1lO1xuICBiYW5uZXJTdHIgPSByZW5kZXJUZW1wbGF0ZShiYW5uZXJUZW1wbGF0ZSBhcyBhbnksIGRhdGEpO1xuICBiYW5uZXJTdHIgPSBhcHBseUJyYW5kQ29sb3Vyc0FuZEZvbnQoYmFubmVyU3RyKTtcbiAgYmFubmVyU3RyID0gYXBwbHlXcmFwcGVyUGFkZGluZyhiYW5uZXJTdHIsIGJhbm5lclBhZGRpbmcpO1xuICAgIH1cbiAgICAvLyBDb21wb3NlIGZvb3RlclxuICAgIGxldCBmb290ZXJTdHIgPSAnJztcbiAgICBpZiAoc2hvd0Zvb3RlclNlY3Rpb24pIHtcbiAgICAgIGNvbnN0IGZvb3RlclRlbXBsYXRlID0gZm9vdGVyVGVtcGxhdGVzLmZpbmQoKHQpID0+IHQuaWQgPT09IHNlbGVjdGVkRm9vdGVySWQpO1xuICAgICAgZm9vdGVyU3RyID0gZm9vdGVyVGVtcGxhdGUgPyBmb290ZXJUZW1wbGF0ZS5odG1sIDogJyc7XG4gICAgZm9vdGVyU3RyID0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KGZvb3RlclN0cik7XG4gICAgZm9vdGVyU3RyID0gYXBwbHlXcmFwcGVyUGFkZGluZyhmb290ZXJTdHIsIGZvb3RlclBhZGRpbmcpO1xuICAgIH1cbiAgICBsZXQgb3JkZXJlZEh0bWwgPSAnJztcbiAgICBzZWN0aW9uT3JkZXIuZm9yRWFjaCgoaWQpID0+IHtcbiAgICAgIGlmIChpZCA9PT0gJ2hlcm8nKSBvcmRlcmVkSHRtbCArPSBoZXJvU3RyO1xuICAgICAgZWxzZSBpZiAoaWQgPT09ICdiYW5uZXInKSBvcmRlcmVkSHRtbCArPSBiYW5uZXJTdHI7XG4gICAgICBlbHNlIGlmIChpZC5zdGFydHNXaXRoKCdib2R5LScpKSBvcmRlcmVkSHRtbCArPSBib2R5SHRtbE1hcFtpZF0gfHwgJyc7XG4gICAgfSk7XG5cbiAgc2V0SGVhZGVySHRtbChoZWFkZXJTdHIpO1xuICAgIHNldEhlcm9IdG1sKGhlcm9TdHIpO1xuICAgIHNldEJvZHlIdG1sKHNlY3Rpb25PcmRlci5maWx0ZXIoKGlkKSA9PiBpZC5zdGFydHNXaXRoKCdib2R5LScpKS5tYXAoKGlkKSA9PiBib2R5SHRtbE1hcFtpZF0pLmpvaW4oJycpKTtcbiAgICBzZXRCYW5uZXJIdG1sKGJhbm5lclN0cik7XG4gICAgc2V0Rm9vdGVySHRtbChmb290ZXJTdHIpO1xuICAgIGxldCBjb21iaW5lZCA9IGAke2hlYWRlclN0cn0ke29yZGVyZWRIdG1sfSR7Zm9vdGVyU3RyfWA7XG4gICAgaWYgKCEvcHJvZHVjdC13cmFwcGVyLW1vYmlsZS1zdHlsZS8udGVzdChjb21iaW5lZCkpIHtcbiAgICAgIGNvbWJpbmVkICs9IGBcXG48c3R5bGUgaWQ9XCJwcm9kdWN0LXdyYXBwZXItbW9iaWxlLXN0eWxlXCI+QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsucHJvZHVjdC13cmFwcGVye3BhZGRpbmc6MTVweCAhaW1wb3J0YW50O319PC9zdHlsZT5gO1xuICAgIH1cbiAgICBzZXRGaW5hbEh0bWwoY29tYmluZWQpO1xuICB9LCBbXG4gICAgYm9keVNlY3Rpb25zLFxuICAgIHNlbGVjdGVkQm9keUlkLFxuICAgIHNlbGVjdGVkSGVhZGVySWQsXG4gICAgc2VsZWN0ZWRGb290ZXJJZCxcbiAgICBzZWxlY3RlZEJhbm5lcklkLFxuICAgIGJvZHlUZW1wbGF0ZXMsXG4gICAgaGVhZGVyVGVtcGxhdGVzLFxuICAgIGZvb3RlclRlbXBsYXRlcyxcbiAgICBiYW5uZXJUZW1wbGF0ZXMsXG4gICAgYnJhbmRQcmltYXJ5LFxuICAgIGJyYW5kU2Vjb25kYXJ5LFxuICAgIGJyYW5kRm9udCxcbiAgICBicmFuZExvZ29EYXRhVXJsLFxuICAgIGJyYW5kQW5ub3VuY2VtZW50LFxuICAgIGhlcm9JbWFnZSxcbiAgICBoZXJvQWx0LFxuICAgIGhlcm9IcmVmLFxuICAgIGJhbm5lckltYWdlLFxuICAgIGJhbm5lckFsdCxcbiAgICBiYW5uZXJIcmVmLFxuICAgIHNlbGVjdGVkSGVyb0lkLFxuICAgIGhlcm9UZW1wbGF0ZXMsXG4gICAgc2hvd0hlYWRlclNlY3Rpb24sXG4gICAgc2hvd0hlcm9TZWN0aW9uLFxuICAgIHNob3dCYW5uZXJTZWN0aW9uLFxuICAgIHNob3dGb290ZXJTZWN0aW9uLFxuICAgIHNlY3Rpb25PcmRlcixcbiAgICAvLyBFbnN1cmUgd3JhcHBlciBwYWRkaW5nIGNoYW5nZXMgdHJpZ2dlciByZWNvbXBvc2l0aW9uXG4gICAgaGVhZGVyUGFkZGluZyxcbiAgICBoZXJvUGFkZGluZyxcbiAgICBiYW5uZXJQYWRkaW5nLFxuICAgIGZvb3RlclBhZGRpbmdcbiAgXSk7XG5cbiAgLyoqXG4gICAqIFByaXNtSlMgcmVmZXJlbmNlIGFuZCBsb2FkIHN0YXRlLiBXZSBsb2FkIFByaXNtIG9ubHkgb24gdGhlIGNsaWVudC4gV2UgYWxzbyBsb2FkIHRoZSBtYXJrdXBcbiAgICogbGFuZ3VhZ2UgY29tcG9uZW50LiBPbmNlIGxvYWRlZCwgd2UgdXBkYXRlIHRoZSBzdGF0ZSB0byB0cmlnZ2VyXG4gICAqIHJlLXJlbmRlciBzbyBzeW50YXggaGlnaGxpZ2h0aW5nIGFwcGxpZXMuIFRoZSBlc2xpbnQgY29tbWVudFxuICAgKiBzdXBwcmVzc2VzIHdhcm5pbmdzIGFib3V0IGFzeW5jaHJvbm91cyBmdW5jdGlvbnMgaW5zaWRlIHVzZUVmZmVjdC5cbiAgICovXG4gIGNvbnN0IHByaXNtUmVmID0gdXNlUmVmPGFueT4obnVsbCk7XG4gIGNvbnN0IFtwcmlzbUxvYWRlZCwgc2V0UHJpc21Mb2FkZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIExvYWQgUHJpc21KUyBkeW5hbWljYWxseSBvbiB0aGUgY2xpZW50LiBXZSBhbHNvIGxvYWQgdGhlIG1hcmt1cFxuICAvLyBsYW5ndWFnZSBjb21wb25lbnQuIE9uY2UgbG9hZGVkLCB3ZSB1cGRhdGUgdGhlIHN0YXRlIHRvIHRyaWdnZXJcbiAgLy8gcmUtcmVuZGVyIHNvIHN5bnRheCBoaWdobGlnaHRpbmcgYXBwbGllcy4gVGhlIGVzbGludCBjb21tZW50XG4gIC8vIHN1cHByZXNzZXMgd2FybmluZ3MgYWJvdXQgYXN5bmNocm9ub3VzIGZ1bmN0aW9ucyBpbnNpZGUgdXNlRWZmZWN0LlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBQcmlzbU1vZHVsZSA9IGF3YWl0IGltcG9ydCgncHJpc21qcycpO1xuICAgICAgICAgIGF3YWl0IGltcG9ydCgncHJpc21qcy9jb21wb25lbnRzL3ByaXNtLW1hcmt1cCcpO1xuICAgICAgICAgIHByaXNtUmVmLmN1cnJlbnQgPSBQcmlzbU1vZHVsZS5kZWZhdWx0O1xuICAgICAgICAgIHNldFByaXNtTG9hZGVkKHRydWUpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBsb2FkIFByaXNtSlMnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICB9KSgpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIC8qKlxuICAgKiBDb21wb3NlIGEgbGlzdCBvZiBjb2RlIHNlY3Rpb25zIGZvciB0aGUgcmlnaHTigJFwYW5lbCBhY2NvcmRpb24uIEVhY2hcbiAgICogaXRlbSBjb250YWlucyBhIHVuaXF1ZSBrZXksIGEgaHVtYW7igJFyZWFkYWJsZSB0aXRsZSBhbmQgdGhlXG4gICAqIGNvcnJlc3BvbmRpbmcgSFRNTCBzdHJpbmcuIFRoZSBzdHJ1Y3R1cmUgbWlycm9ycyB0aGUgbGVmdCBzaWRlXG4gICogcGFuZWxzOiBoZWFkZXIsIGhlcm8sIGVhY2ggYm9keSBzZWN0aW9uIChjb250YWluaW5nIGFsbCBhc3NvY2lhdGVkXG4gICogcHJvZHVjdHMpIGFuZCBmb290ZXIuIENvbG91cnMgYW5kIHByaWNlcyBhcmUgY29tcHV0ZWQgaW5saW5lIGZvclxuICAqIGVhY2ggcHJvZHVjdCB0byBtYXRjaCB0aGUgZmluYWwgb3V0cHV0LiBUaGlzIGxpc3QgaXNcbiAgICogcmVjb21wdXRlZCBvbiBldmVyeSByZW5kZXIgYmVjYXVzZSB0aGUgZGVwZW5kZW50IGRhdGEgKGJvZHlcbiAgICogc2VjdGlvbnMsIHRlbXBsYXRlcywgYnJhbmQgY3VzdG9taXNhdGlvbnMsIGV0Yy4pIG1heSBjaGFuZ2UuIElmXG4gICAqIHBlcmZvcm1hbmNlIGJlY29tZXMgYW4gaXNzdWUgdXNlIFJlYWN0LnVzZU1lbW8uXG4gICAqL1xuICBjb25zdCBjb2RlU2VjdGlvbnM6IHsga2V5OiBzdHJpbmc7IHRpdGxlOiBzdHJpbmc7IGNvZGU6IHN0cmluZyB9W10gPSBbXTtcbiAgLy8gSGVhZGVyIHNlY3Rpb25cbiAgaWYgKGhlYWRlckh0bWwpIHtcbiAgICBjb2RlU2VjdGlvbnMucHVzaCh7IGtleTogJ2hlYWRlcicsIHRpdGxlOiAnSGVhZGVyJywgY29kZTogaGVhZGVySHRtbCB9KTtcbiAgfVxuICBzZWN0aW9uT3JkZXIuZm9yRWFjaCgoaWQpID0+IHtcbiAgICBpZiAoaWQgPT09ICdoZXJvJyAmJiBoZXJvSHRtbCkge1xuICAgICAgY29kZVNlY3Rpb25zLnB1c2goeyBrZXk6ICdoZXJvJywgdGl0bGU6ICdIZXJvJywgY29kZTogaGVyb0h0bWwgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpZCA9PT0gJ2Jhbm5lcicgJiYgYmFubmVySHRtbCkge1xuICAgICAgY29kZVNlY3Rpb25zLnB1c2goeyBrZXk6ICdiYW5uZXInLCB0aXRsZTogJ0Jhbm5lcicsIGNvZGU6IGJhbm5lckh0bWwgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpZC5zdGFydHNXaXRoKCdib2R5LScpKSB7XG4gICAgICBjb25zdCBzZWN0aW9uID0gYm9keVNlY3Rpb25zLmZpbmQoKHMpID0+IGBib2R5LSR7cy5pZH1gID09PSBpZCk7XG4gICAgICBpZiAoIXNlY3Rpb24pIHJldHVybjtcbiAgICAgIGxldCBjb21iaW5lZEh0bWwgPSAnJztcbiAgICAgIHNlY3Rpb24ucHJvZHVjdHMuZm9yRWFjaCgocHJvZCwgaWR4KSA9PiB7XG4gICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggdGVtcGxhdGUgdG8gdXNlOiBhbHRlcm5hdGUgZXZlcnkgb3RoZXIgcHJvZHVjdFxuICAgICAgbGV0IHRlbXBsYXRlSWRUb1VzZSA9IHNlY3Rpb24uc2VsZWN0ZWRCb2R5SWQ7XG4gICAgICBpZiAoaWR4ICUgMiA9PT0gMSAmJiBhbHRlcm5hdGVNYXBbc2VjdGlvbi5zZWxlY3RlZEJvZHlJZF0pIHtcbiAgICAgICAgdGVtcGxhdGVJZFRvVXNlID0gYWx0ZXJuYXRlTWFwW3NlY3Rpb24uc2VsZWN0ZWRCb2R5SWRdO1xuICAgICAgfVxuICAgICAgY29uc3QgdHBsID0gYm9keVRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSB0ZW1wbGF0ZUlkVG9Vc2UpO1xuICAgICAgaWYgKCF0cGwpIHJldHVybjtcbiAgICAgIC8vIENvbG91ciBzd2F0Y2hlcyByZW1vdmVkIGluIHJlZmFjdG9yXG4gICAgICAvLyBCdWlsZCBwcmljZSBIVE1MOiBpbmNsdWRlIG9yaWdpbmFsIHByaWNlIGlmIGRpZmZlcmVudFxuICAgICAgY29uc3QgcmF3U2FsZSA9IChwcm9kIGFzIGFueSkucHJpY2UgfHwgJyc7XG4gICAgICBjb25zdCByYXdPcmlnaW5hbCA9IChwcm9kIGFzIGFueSkub3JpZ2luYWxQcmljZTtcbiAgICAgIGNvbnN0IHdpdGhEb2xsYXIgPSAodmFsOiBzdHJpbmcgfCB1bmRlZmluZWQpOiBzdHJpbmcgPT4ge1xuICAgICAgICBpZiAoIXZhbCkgcmV0dXJuICcnO1xuICAgICAgICByZXR1cm4gL15bXFwkwqPigqxdLy50ZXN0KHZhbC50cmltKCkpID8gdmFsIDogYCQke3ZhbC50cmltKCl9YDtcbiAgICAgIH07XG4gICAgICBjb25zdCBzYWxlUHJpY2UgPSB3aXRoRG9sbGFyKHJhd1NhbGUpO1xuICAgICAgY29uc3Qgb3JpZ2luYWxQcmljZSA9IHJhd09yaWdpbmFsICYmIHJhd09yaWdpbmFsICE9PSByYXdTYWxlID8gd2l0aERvbGxhcihyYXdPcmlnaW5hbCkgOiB1bmRlZmluZWQ7XG4gICAgICBsZXQgcHJpY2VIdG1sID0gJyc7XG4gICAgICBpZiAob3JpZ2luYWxQcmljZSAmJiBvcmlnaW5hbFByaWNlICE9PSBzYWxlUHJpY2UpIHtcbiAgICAgICAgcHJpY2VIdG1sID0gYDxzcGFuIHN0eWxlPVwidGV4dC1kZWNvcmF0aW9uOmxpbmUtdGhyb3VnaDtjb2xvcjojODg4ODg4O21hcmdpbi1yaWdodDo4cHg7Zm9udC13ZWlnaHQ6NDAwO1wiPiR7b3JpZ2luYWxQcmljZX08L3NwYW4+ICR7c2FsZVByaWNlfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcmljZUh0bWwgPSBzYWxlUHJpY2U7XG4gICAgICB9XG4gICAgICAvLyBDb21wb3NlIGRhdGEgb2JqZWN0IGZvciB0ZW1wbGF0aW5nXG4gICAgICAgIC8vIENob29zZSBkZXNjcmlwdGlvbiBmb3IgY29kZSB2aWV3IGFzIHdlbGxcbiAgY29uc3QgcHJvZERlc2NTb3VyY2UyID0gKHByb2QgYXMgYW55KS5kZXNjU291cmNlIHx8ICdtZXRhZGF0YSc7XG4gICAgICAgIGxldCBjaG9zZW5EZXNjMiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgIGlmIChwcm9kRGVzY1NvdXJjZTIgPT09ICdwJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uUCkge1xuICAgICAgICAgIGNob3NlbkRlc2MyID0gKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblAgYXMgc3RyaW5nO1xuICAgICAgICB9IGVsc2UgaWYgKHByb2REZXNjU291cmNlMiA9PT0gJ3VsJyAmJiAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWwpIHtcbiAgICAgICAgICBjaG9zZW5EZXNjMiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCBhcyBzdHJpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvZERlc2NTb3VyY2UyID09PSAnbWV0YWRhdGEnKSB7XG4gICAgICAgICAgY29uc3QgbWV0YTIgPSAocHJvZCBhcyBhbnkpLm1ldGFkYXRhRGVzY3JpcHRpb24gfHwgKHByb2QgYXMgYW55KS5vcmlnaW5hbE1ldGFkYXRhRGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgICAgaWYgKG1ldGEyKSBjaG9zZW5EZXNjMiA9IG1ldGEyIGFzIHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNob3NlbkRlc2MyKSB7XG4gICAgICAgICAgY29uc3QgbWV0YTIgPSAocHJvZCBhcyBhbnkpLm1ldGFkYXRhRGVzY3JpcHRpb24gfHwgKHByb2QgYXMgYW55KS5vcmlnaW5hbE1ldGFkYXRhRGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgICAgaWYgKG1ldGEyKSBjaG9zZW5EZXNjMiA9IG1ldGEyIGFzIHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhOiBhbnkgPSB7XG4gICAgICAgICAgLi4ucHJvZCxcbiAgICAgICAgICB0aXRsZTogZW1haWxTYWZlID8gc2FuaXRpemVJbmxpbmVIdG1sKChwcm9kIGFzIGFueSkudGl0bGUgfHwgJycpIDogKHByb2QgYXMgYW55KS50aXRsZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZW1haWxTYWZlID8gc2FuaXRpemVFbWFpbEh0bWwoY2hvc2VuRGVzYzIpIDogY2hvc2VuRGVzYzIsXG4gICAgICAgICAgY3RhTGFiZWw6IChwcm9kIGFzIGFueSkuY3RhTGFiZWwgfHwgJ1NIT1AgTk9XJyxcbiAgICAgICAgICBwcmljZUh0bWwsXG4gICAgICAgICAgY3RhQmc6IGJyYW5kUHJpbWFyeSxcbiAgICAgICAgICBjdGFUZXh0OiBicmFuZFRleHRDb2xvciA9PT0gJ3doaXRlJyA/ICcjRkZGRkZGJyA6ICcjMDAwMDAwJ1xuICAgICAgfTtcbiAgICAgIC8vIFJlbmRlciBIVE1MIGFuZCBhcHBseSBicmFuZCBjdXN0b21pc2F0aW9ucyAobm8gcGVyLWl0ZW0gd3JhcHBlciBwYWRkaW5nKVxuICAgICAgbGV0IGh0bWwgPSByZW5kZXJUZW1wbGF0ZSh0cGwgYXMgYW55LCBkYXRhKTtcbiAgICAgIC8vIElmIHRoZSBjaG9zZW4gZGVzY3JpcHRpb24gc291cmNlIGlzIFVMLCBtaXJyb3IgdGhlIHByZXZpZXcgcmVwbGFjZW1lbnQgaW4gY29kZSB2aWV3XG4gICAgICBpZiAocHJvZERlc2NTb3VyY2UyID09PSAndWwnICYmIChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCkge1xuICAgICAgICBjb25zdCByYXdVbCA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25VbCBhcyBzdHJpbmc7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NlZFVsID0gZW1haWxTYWZlID8gc2FuaXRpemVFbWFpbEh0bWwocmF3VWwpIDogcmF3VWw7XG4gICAgICAgIGNvbnN0IHVsSHRtbCA9IG5vcm1hbGl6ZUxpc3RIdG1sKHByb2Nlc3NlZFVsKTtcbiAgICAgICAgaHRtbCA9IGh0bWwucmVwbGFjZSgvPHBbXj5dKj5cXHMqXFx7XFx7XFxzKmRlc2NyaXB0aW9uXFxzKlxcfVxcfVxccyo8XFwvcD4vaSwgdWxIdG1sKTtcbiAgICAgIH1cbiAgICAgIGh0bWwgPSBzdHJpcE1vZHVsZVdyYXBwZXIoaHRtbCk7XG4gICAgICBodG1sID0gYXBwbHlCcmFuZENvbG91cnNBbmRGb250KGh0bWwpO1xuICAgICAgY29tYmluZWRIdG1sICs9IGh0bWw7XG4gICAgfSk7XG4gICAgICBpZiAoY29tYmluZWRIdG1sKSB7XG4gICAgICAgIC8vIFdyYXAgZW50aXJlIHNlY3Rpb24gaW4gYSBzaW5nbGUgNjAwcHggd3JhcHBlciBzbyBwYWRkaW5nIGFwcGxpZXMgb25jZSBwZXIgc2VjdGlvblxuICAgICAgICBjb2RlU2VjdGlvbnMucHVzaCh7IGtleTogaWQsIHRpdGxlOiBzZWN0aW9uLm5hbWUsIGNvZGU6IHdyYXBTZWN0aW9uV2l0aFdyYXBwZXIoY29tYmluZWRIdG1sLCBnZXRCb2R5U2VjdGlvblBhZGRpbmcoc2VjdGlvbi5pZCkpIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8vIEZvb3RlciBzZWN0aW9uXG4gIGlmIChmb290ZXJIdG1sKSB7XG4gICAgY29kZVNlY3Rpb25zLnB1c2goeyBrZXk6ICdmb290ZXInLCB0aXRsZTogJ0Zvb3RlcicsIGNvZGU6IGZvb3Rlckh0bWwgfSk7XG4gIH1cblxuICAvLyBhbHRlcm5hdGVNYXAgaXMgbm93IGRlZmluZWQgYXQgdGhlIHRvcCBvZiB0aGUgZmlsZS4gRHVwbGljYXRlIGRlZmluaXRpb25zXG4gIC8vIGhlcmUgaGF2ZSBiZWVuIHJlbW92ZWQgdG8gcHJldmVudCBSZWZlcmVuY2VFcnJvciB3aGVuIHVzZWQgZWFybGllci5cblxuICAvKipcbiAgICogTG9hZCBjdXN0b20gdGVtcGxhdGVzIGZvciBib2R5LCBoZWFkZXIgYW5kIGZvb3RlciBmcm9tXG4gICAqIGxvY2FsU3RvcmFnZS4gRWFjaCBjb2xsZWN0aW9uIGlzIHN0b3JlZCB1bmRlciBpdHMgb3duIGtleS4gVGhlXG4gICAqIHRyeS9jYXRjaCBndWFyZHMgYWdhaW5zdCBKU09OIHBhcnNpbmcgZXJyb3JzIGFuZCBsb2NhbFN0b3JhZ2VcbiAgICogYWNjZXNzIGVycm9ycyAoZS5nLiBpbiBzZXJ2ZXLigJFzaWRlIHJlbmRlcmluZykuXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQm9keSB0ZW1wbGF0ZXNcbiAgICAgICAgY29uc3Qgc3RvcmVkQm9keSA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tVGVtcGxhdGVzJyk7XG4gICAgICAgIGlmIChzdG9yZWRCb2R5KSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkQm9keTogQm9keVRlbXBsYXRlW10gPSBKU09OLnBhcnNlKHN0b3JlZEJvZHkpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZEJvZHkpICYmIHBhcnNlZEJvZHkubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXRCb2R5VGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgLi4ucGFyc2VkQm9keV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBIZWFkZXIgdGVtcGxhdGVzXG4gICAgICAgIGNvbnN0IHN0b3JlZEhlYWRlciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tSGVhZGVyVGVtcGxhdGVzJyk7XG4gICAgICAgIGlmIChzdG9yZWRIZWFkZXIpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZWRIZWFkZXI6IEhlYWRlclRlbXBsYXRlW10gPSBKU09OLnBhcnNlKHN0b3JlZEhlYWRlcik7XG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkSGVhZGVyKSAmJiBwYXJzZWRIZWFkZXIubGVuZ3RoKSB7XG4gICAgICAgICAgICBzZXRIZWFkZXJUZW1wbGF0ZXMoKHByZXYpID0+IFsuLi5wcmV2LCAuLi5wYXJzZWRIZWFkZXJdKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9vdGVyIHRlbXBsYXRlc1xuICAgICAgICBjb25zdCBzdG9yZWRGb290ZXIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUZvb3RlclRlbXBsYXRlcycpO1xuICAgICAgICBpZiAoc3RvcmVkRm9vdGVyKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkRm9vdGVyOiBGb290ZXJUZW1wbGF0ZVtdID0gSlNPTi5wYXJzZShzdG9yZWRGb290ZXIpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZEZvb3RlcikgJiYgcGFyc2VkRm9vdGVyLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0Rm9vdGVyVGVtcGxhdGVzKChwcmV2KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGFsbCA9IFsuLi5wcmV2LCAuLi5wYXJzZWRGb290ZXJdO1xuICAgICAgICAgICAgICBjb25zdCBzZWVuID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICByZXR1cm4gYWxsLmZpbHRlcih0cGwgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzZWVuLmhhcyh0cGwuaWQpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2Vlbi5hZGQodHBsLmlkKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gQmFubmVyIHRlbXBsYXRlc1xuICAgICAgICBjb25zdCBzdG9yZWRCYW5uZXIgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUJhbm5lclRlbXBsYXRlcycpO1xuICAgICAgICBpZiAoc3RvcmVkQmFubmVyKSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkQmFubmVyOiBCYW5uZXJUZW1wbGF0ZVtdID0gSlNPTi5wYXJzZShzdG9yZWRCYW5uZXIpO1xuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcnNlZEJhbm5lcikgJiYgcGFyc2VkQmFubmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0QmFubmVyVGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgLi4ucGFyc2VkQmFubmVyXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gbG9hZCBjdXN0b20gdGVtcGxhdGVzIGZyb20gbG9jYWxTdG9yYWdlJywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtdKTtcblxuICAvKipcbiAgICogU3luY2hyb25pc2UgdGhlIGRyYWZ0IEhUTUwgd2hlbiB0aGUgc2VsZWN0ZWQgdGVtcGxhdGUgZm9yIGVhY2hcbiAgICogc2VjdGlvbiBjaGFuZ2VzLiBUaGlzIGFsbG93cyB0aGUgZWRpdGluZyB0ZXh0YXJlYXMgdG8gZGlzcGxheVxuICAgKiB0aGUgY3VycmVudCB0ZW1wbGF0ZS4gV2UgZGVsaWJlcmF0ZWx5IGtlZXAgdGhlIGRyYWZ0cyBzZXBhcmF0ZVxuICAgKiBzbyB0aGF0IGVkaXRpbmcgb25lIHNlY3Rpb24gZG9lc27igJl0IG92ZXJyaWRlIHRoZSBvdGhlcnMuXG4gICAqL1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRCb2R5ID0gYm9keVRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEJvZHlJZCk7XG4gICAgaWYgKGN1cnJlbnRCb2R5KSB7XG4gICAgICBzZXREcmFmdEJvZHlIdG1sKGN1cnJlbnRCb2R5Lmh0bWwpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkQm9keUlkLCBib2R5VGVtcGxhdGVzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEhlYWRlciA9IGhlYWRlclRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEhlYWRlcklkKTtcbiAgICBpZiAoY3VycmVudEhlYWRlcikge1xuICAgICAgc2V0RHJhZnRIZWFkZXJIdG1sKGN1cnJlbnRIZWFkZXIuaHRtbCk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRIZWFkZXJJZCwgaGVhZGVyVGVtcGxhdGVzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEJhbm5lciA9IGJhbm5lclRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEJhbm5lcklkKTtcbiAgICBpZiAoY3VycmVudEJhbm5lcikge1xuICAgICAgc2V0RHJhZnRCYW5uZXJIdG1sKGN1cnJlbnRCYW5uZXIuaHRtbCk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRCYW5uZXJJZCwgYmFubmVyVGVtcGxhdGVzXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudEZvb3RlciA9IGZvb3RlclRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEZvb3RlcklkKTtcbiAgICBpZiAoY3VycmVudEZvb3Rlcikge1xuICAgICAgc2V0RHJhZnRGb290ZXJIdG1sKGN1cnJlbnRGb290ZXIuaHRtbCk7XG4gICAgfVxuICB9LCBbc2VsZWN0ZWRGb290ZXJJZCwgZm9vdGVyVGVtcGxhdGVzXSk7XG5cbiAgLy8gU3luY2hyb25pc2UgZHJhZnQgaGVybyBIVE1MIHdoZW4gdGhlIHNlbGVjdGVkIGhlcm8gdGVtcGxhdGUgY2hhbmdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRIZXJvID0gaGVyb1RlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSBzZWxlY3RlZEhlcm9JZCk7XG4gICAgaWYgKGN1cnJlbnRIZXJvKSB7XG4gICAgICBzZXREcmFmdEhlcm9IdG1sKGN1cnJlbnRIZXJvLmh0bWwpO1xuICAgIH1cbiAgfSwgW3NlbGVjdGVkSGVyb0lkLCBoZXJvVGVtcGxhdGVzXSk7XG5cbiAgLyoqXG4gICAqIFN0cmlwIGFueSBxdWVyeSBwYXJhbWV0ZXJzIGZyb20gYSBVUkwsIHJldHVybmluZyB0aGUgYmFzZSBVUkxcbiAgICogYmVmb3JlIHRoZSAnPycgY2hhcmFjdGVyLlxuICAgKi9cbiAgLy8gVXNlIG1vZHVsZS1zY29wZSBzYW5pdGl6ZVVybCBhbmQgaXNIdHRwVXJsIGhlbHBlcnNcblxuICAvKipcbiAgICogVXBkYXRlIGEgVVJMIHdpdGhpbiBhIGJvZHkgc2VjdGlvbi4gQ2FsbGVkIHdoZW5ldmVyIHRoZSB1c2VyXG4gICAqIGVkaXRzIG9uZSBvZiB0aGUgVVJMIGlucHV0cy4gQWNjZXB0cyB0aGUgc2VjdGlvbiBpZCwgdGhlXG4gICAqIGluZGV4IG9mIHRoZSBVUkwgd2l0aGluIHRoYXQgc2VjdGlvbiBhbmQgdGhlIG5ldyB2YWx1ZS4gU3RhdGVcbiAgICogaXMgdXBkYXRlZCBpbW11dGFibHkgdG8gZW5zdXJlIFJlYWN0IHJlLXJlbmRlcnMgYXBwcm9wcmlhdGVseS5cbiAgICovXG4gIGNvbnN0IGhhbmRsZVVybENoYW5nZSA9IChzZWN0aW9uSWQ6IG51bWJlciwgaW5kZXg6IG51bWJlciwgdmFsdWU6IHN0cmluZykgPT4ge1xuICAgIC8vIFVwZGF0ZSBkcmFmdFVybHMgKGlucHV0IG1vZGVsKVxuICAgIHNldERyYWZ0VXJscygocHJldikgPT4ge1xuICAgICAgY29uc3QgY3VycmVudCA9IHByZXZbc2VjdGlvbklkXSA/PyBnZXREcmFmdFVybHMoc2VjdGlvbklkKTtcbiAgICAgIGNvbnN0IG5leHQgPSBbLi4uY3VycmVudF07XG4gICAgICBuZXh0W2luZGV4XSA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHsgLi4ucHJldiwgW3NlY3Rpb25JZF06IG5leHQgfTtcbiAgICB9KTtcbiAgfTtcbiAgLy8gQWRkIGEgbmV3IGJsYW5rIFVSTCBpbnB1dCB0byBhIHNlY3Rpb24uIE9wdGlvbmFsbHkgZm9jdXMgdGhlIG5ld2x5XG4gIC8vIGNyZWF0ZWQgZmllbGQgYnkgcGFzc2luZyBpdHMgaW5kZXguXG4gIGNvbnN0IGFkZFVybEZpZWxkID0gKHNlY3Rpb25JZDogbnVtYmVyLCBmb2N1c0luZGV4PzogbnVtYmVyKSA9PiB7XG4gICAgc2V0RHJhZnRVcmxzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcHJldltzZWN0aW9uSWRdID8/IGdldERyYWZ0VXJscyhzZWN0aW9uSWQpO1xuICAgICAgcmV0dXJuIHsgLi4ucHJldiwgW3NlY3Rpb25JZF06IFsuLi5jdXJyZW50LCAnJ10gfTtcbiAgICB9KTtcbiAgICBpZiAoZm9jdXNJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgdXJsLSR7c2VjdGlvbklkfS0ke2ZvY3VzSW5kZXh9YCkgYXMgSFRNTElucHV0RWxlbWVudCB8IG51bGw7XG4gICAgICAgIGVsPy5mb2N1cygpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9O1xuICAvLyBSZW1vdmUgYSBVUkwgaW5wdXQgZnJvbSBhIHNlY3Rpb24gYXQgaW5kZXguXG4gIGNvbnN0IHJlbW92ZVVybEZpZWxkID0gKHNlY3Rpb25JZDogbnVtYmVyLCBpbmRleDogbnVtYmVyKSA9PiB7XG4gICAgc2V0RHJhZnRVcmxzKChwcmV2KSA9PiB7XG4gICAgICBjb25zdCBjdXJyZW50ID0gcHJldltzZWN0aW9uSWRdID8/IGdldERyYWZ0VXJscyhzZWN0aW9uSWQpO1xuICAgICAgcmV0dXJuIHsgLi4ucHJldiwgW3NlY3Rpb25JZF06IGN1cnJlbnQuZmlsdGVyKChfLCBpKSA9PiBpICE9PSBpbmRleCkgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVG9nZ2xlIGVkaXQgbW9kZSBmb3IgYSBnaXZlbiBzZWN0aW9uLiBXaGVuIGluIGVkaXQgbW9kZSBhXG4gICAqIHRleHRhcmVhIGlzIGRpc3BsYXllZCBhbGxvd2luZyB0aGUgdXNlciB0byBtb2RpZnkgdGhlIHJhdyBIVE1MXG4gICAqIHRlbXBsYXRlLiBTYXZpbmcgd2lsbCB1cGRhdGUgdGhlIHRlbXBsYXRlIGNvbGxlY3Rpb24gYW5kIGV4aXRcbiAgICogZWRpdCBtb2RlLlxuICAgKi9cbiAgLy8gTGVnYWN5IHRvZ2dsZSBoYW5kbGVycyByZW1vdmVkLiBFZGl0aW5nIG1vZGVzIGFyZSBub3cgdG9nZ2xlZCBkaXJlY3RseSB2aWEgaW5saW5lIGNhbGxiYWNrcy5cblxuICAvKipcbiAgICogU2F2ZSB0ZW1wbGF0ZSBlZGl0cyBmb3IgZWFjaCBzZWN0aW9uLiBUaGUgbW9kaWZpZWQgSFRNTCBpc1xuICAgKiBzdG9yZWQgYmFjayBpbnRvIHRoZSBhcHByb3ByaWF0ZSB0ZW1wbGF0ZXMgYXJyYXkuIEVkaXRzIGFyZVxuICAgKiBwZXJzaXN0ZWQgaW50byBsb2NhbFN0b3JhZ2UgaWYgdGhlIHRlbXBsYXRlIGlzIHVzZXLigJFjcmVhdGVkIChpLmUuXG4gICAqIG5vdCBwYXJ0IG9mIHRoZSBkZWZhdWx0cykuIFdlIGRvIG5vdCBkaWZmZXJlbnRpYXRlIGhlcmUgYnV0XG4gICAqIHNpbXBseSB1cGRhdGUgdGhlIHNlbGVjdGVkIHRlbXBsYXRlIGluIHBsYWNlLlxuICAgKi9cbiAgY29uc3Qgc2F2ZUJvZHlFZGl0cyA9ICgpID0+IHtcbiAgICBzZXRCb2R5VGVtcGxhdGVzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHQpID0+ICh0LmlkID09PSBzZWxlY3RlZEJvZHlJZCA/IHsgLi4udCwgaHRtbDogZHJhZnRCb2R5SHRtbCB9IDogdCkpXG4gICAgKTtcbiAgICBzZXRCb2R5RWRpdE1vZGUoZmFsc2UpO1xuICB9O1xuICBjb25zdCBzYXZlSGVhZGVyRWRpdHMgPSAoKSA9PiB7XG4gICAgc2V0SGVhZGVyVGVtcGxhdGVzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHQpID0+ICh0LmlkID09PSBzZWxlY3RlZEhlYWRlcklkID8geyAuLi50LCBodG1sOiBkcmFmdEhlYWRlckh0bWwgfSA6IHQpKVxuICAgICk7XG4gICAgc2V0SGVhZGVyRWRpdE1vZGUoZmFsc2UpO1xuICB9O1xuICBjb25zdCBzYXZlQmFubmVyRWRpdHMgPSAoKSA9PiB7XG4gICAgc2V0QmFubmVyVGVtcGxhdGVzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHQpID0+ICh0LmlkID09PSBzZWxlY3RlZEJhbm5lcklkID8geyAuLi50LCBodG1sOiBkcmFmdEJhbm5lckh0bWwgfSA6IHQpKVxuICAgICk7XG4gICAgc2V0QmFubmVyRWRpdE1vZGUoZmFsc2UpO1xuICB9O1xuICBjb25zdCBzYXZlRm9vdGVyRWRpdHMgPSAoKSA9PiB7XG4gICAgc2V0Rm9vdGVyVGVtcGxhdGVzKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHQpID0+ICh0LmlkID09PSBzZWxlY3RlZEZvb3RlcklkID8geyAuLi50LCBodG1sOiBkcmFmdEZvb3Rlckh0bWwgfSA6IHQpKVxuICAgICk7XG4gICAgc2V0Rm9vdGVyRWRpdE1vZGUoZmFsc2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgY3VzdG9tIHRlbXBsYXRlIHRvIGEgc2VjdGlvbi4gRWFjaCB0ZW1wbGF0ZSBtdXN0XG4gICAqIHByb3ZpZGUgYSB1bmlxdWUgaWQuIFdlIGdlbmVyYXRlIG9uZSBieSBzbHVnaWZ5aW5nIHRoZSBuYW1lXG4gICAqIGFuZCBhcHBlbmRpbmcgYSB0aW1lc3RhbXAuIE5ldyB0ZW1wbGF0ZXMgYXJlIHBlcnNpc3RlZCBpblxuICAgKiBsb2NhbFN0b3JhZ2Ugc28gdGhleSBzdXJ2aXZlIHBhZ2UgcmVsb2Fkcy5cbiAgICovXG4gIGNvbnN0IGFkZE5ld0JvZHlUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gbmV3Qm9keU5hbWUudHJpbSgpO1xuICAgIGNvbnN0IGh0bWwgPSBuZXdCb2R5SHRtbC50cmltKCk7XG4gICAgaWYgKCFuYW1lIHx8ICFodG1sKSByZXR1cm47XG4gICAgY29uc3QgaWQgPSBgJHtuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpfS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBuZXdUZW1wbGF0ZTogQm9keVRlbXBsYXRlID0geyBpZCwgbmFtZSwgaHRtbCB9O1xuICAgIHNldEJvZHlUZW1wbGF0ZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdUZW1wbGF0ZV0pO1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21UZW1wbGF0ZXMnKTtcbiAgICAgICAgY29uc3QgbGlzdDogQm9keVRlbXBsYXRlW10gPSBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgICAgICAgbGlzdC5wdXNoKG5ld1RlbXBsYXRlKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXN0b21UZW1wbGF0ZXMnLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIGN1c3RvbSBib2R5IHRlbXBsYXRlJywgZXJyKTtcbiAgICB9XG4gICAgc2V0TmV3Qm9keU5hbWUoJycpO1xuICAgIHNldE5ld0JvZHlIdG1sKCcnKTtcbiAgfTtcbiAgY29uc3QgYWRkTmV3SGVhZGVyVGVtcGxhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgbmFtZSA9IG5ld0hlYWRlck5hbWUudHJpbSgpO1xuICAgIGNvbnN0IGh0bWwgPSBuZXdIZWFkZXJIdG1sLnRyaW0oKTtcbiAgICBpZiAoIW5hbWUgfHwgIWh0bWwpIHJldHVybjtcbiAgICBjb25zdCBpZCA9IGAke25hbWUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9LSR7RGF0ZS5ub3coKX1gO1xuICAgIGNvbnN0IG5ld1RlbXBsYXRlOiBIZWFkZXJUZW1wbGF0ZSA9IHsgaWQsIG5hbWUsIGh0bWwgfTtcbiAgICBzZXRIZWFkZXJUZW1wbGF0ZXMoKHByZXYpID0+IFsuLi5wcmV2LCBuZXdUZW1wbGF0ZV0pO1xuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3Qgc3RvcmVkID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21IZWFkZXJUZW1wbGF0ZXMnKTtcbiAgICAgICAgY29uc3QgbGlzdDogSGVhZGVyVGVtcGxhdGVbXSA9IHN0b3JlZCA/IEpTT04ucGFyc2Uoc3RvcmVkKSA6IFtdO1xuICAgICAgICBsaXN0LnB1c2gobmV3VGVtcGxhdGUpO1xuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2N1c3RvbUhlYWRlclRlbXBsYXRlcycsIEpTT04uc3RyaW5naWZ5KGxpc3QpKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIHNhdmUgY3VzdG9tIGhlYWRlciB0ZW1wbGF0ZScsIGVycik7XG4gICAgfVxuICAgIHNldE5ld0hlYWRlck5hbWUoJycpO1xuICAgIHNldE5ld0hlYWRlckh0bWwoJycpO1xuICB9O1xuICBjb25zdCBhZGROZXdCYW5uZXJUZW1wbGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gbmV3QmFubmVyTmFtZS50cmltKCk7XG4gICAgY29uc3QgaHRtbCA9IG5ld0Jhbm5lckh0bWwudHJpbSgpO1xuICAgIGlmICghbmFtZSB8fCAhaHRtbCkgcmV0dXJuO1xuICAgIGNvbnN0IGlkID0gYCR7bmFtZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKX0tJHtEYXRlLm5vdygpfWA7XG4gICAgY29uc3QgbmV3VGVtcGxhdGU6IEJhbm5lclRlbXBsYXRlID0geyBpZCwgbmFtZSwgaHRtbCB9O1xuICAgIHNldEJhbm5lclRlbXBsYXRlcygocHJldikgPT4gWy4uLnByZXYsIG5ld1RlbXBsYXRlXSk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zdCBzdG9yZWQgPSB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbUJhbm5lclRlbXBsYXRlcycpO1xuICAgICAgICBjb25zdCBsaXN0OiBCYW5uZXJUZW1wbGF0ZVtdID0gc3RvcmVkID8gSlNPTi5wYXJzZShzdG9yZWQpIDogW107XG4gICAgICAgIGxpc3QucHVzaChuZXdUZW1wbGF0ZSk7XG4gICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3VzdG9tQmFubmVyVGVtcGxhdGVzJywgSlNPTi5zdHJpbmdpZnkobGlzdCkpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gc2F2ZSBjdXN0b20gYmFubmVyIHRlbXBsYXRlJywgZXJyKTtcbiAgICB9XG4gICAgc2V0TmV3QmFubmVyTmFtZSgnJyk7XG4gICAgc2V0TmV3QmFubmVySHRtbCgnJyk7XG4gIH07XG4gIGNvbnN0IGFkZE5ld0Zvb3RlclRlbXBsYXRlID0gKCkgPT4ge1xuICAgIGNvbnN0IG5hbWUgPSBuZXdGb290ZXJOYW1lLnRyaW0oKTtcbiAgICBjb25zdCBodG1sID0gbmV3Rm9vdGVySHRtbC50cmltKCk7XG4gICAgaWYgKCFuYW1lIHx8ICFodG1sKSByZXR1cm47XG4gICAgY29uc3QgaWQgPSBgJHtuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpfS0ke0RhdGUubm93KCl9YDtcbiAgICBjb25zdCBuZXdUZW1wbGF0ZTogRm9vdGVyVGVtcGxhdGUgPSB7IGlkLCBuYW1lLCBodG1sIH07XG4gICAgc2V0Rm9vdGVyVGVtcGxhdGVzKChwcmV2KSA9PiBbLi4ucHJldiwgbmV3VGVtcGxhdGVdKTtcbiAgICB0cnkge1xuICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbnN0IHN0b3JlZCA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tRm9vdGVyVGVtcGxhdGVzJyk7XG4gICAgICAgIGNvbnN0IGxpc3Q6IEZvb3RlclRlbXBsYXRlW10gPSBzdG9yZWQgPyBKU09OLnBhcnNlKHN0b3JlZCkgOiBbXTtcbiAgICAgICAgbGlzdC5wdXNoKG5ld1RlbXBsYXRlKTtcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjdXN0b21Gb290ZXJUZW1wbGF0ZXMnLCBKU09OLnN0cmluZ2lmeShsaXN0KSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBzYXZlIGN1c3RvbSBmb290ZXIgdGVtcGxhdGUnLCBlcnIpO1xuICAgIH1cbiAgICBzZXROZXdGb290ZXJOYW1lKCcnKTtcbiAgICBzZXROZXdGb290ZXJIdG1sKCcnKTtcbiAgfTtcblxuICAvKipcbiAgICogR2VuZXJhdGUgRURNOiBzZW5kcyB0aGUgbGlzdCBvZiBwcm9kdWN0IFVSTHMgdG8gdGhlIEFQSSByb3V0ZVxuICAgKiB3aGljaCBmZXRjaGVzIGFuZCBwYXJzZXMgdGhlIHByb2R1Y3QgZGV0YWlscy4gUmV0dXJucyB0aGUgcmF3XG4gICAqIEhUTUwgKHVudXNlZCBoZXJlKSBhbmQgYSBsaXN0IG9mIHByb2R1Y3Qgb2JqZWN0cy4gV2UgaWdub3JlXG4gICAqIHRoZSByZXR1cm5lZCBIVE1MIGFuZCBidWlsZCBvdXIgb3duIHVzaW5nIHRlbXBsYXRlcy4gSWYgdGhlXG4gICAqIHNlcnZlciByZXNwb25kcyB3aXRoIGFuIGVycm9yIHdlIGFsZXJ0IHRoZSB1c2VyLlxuICAgKi9cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgc2luZ2xlIGJvZHkgc2VjdGlvbi4gU2VuZHMgdGhlIHNlY3Rpb24ncyBwcm9kdWN0IFVSTHMgdG9cbiAgICogdGhlIEFQSSByb3V0ZSB3aGljaCBmZXRjaGVzIGFuZCBwYXJzZXMgdGhlIHByb2R1Y3QgZGV0YWlscy4gVGhlXG4gICAqIHBhcnNlZCBwcm9kdWN0cyBhcmUgc3RvcmVkIG9uIHRoZSBzZWN0aW9uIGFuZCB0aGUgbG9hZGluZyBmbGFnXG4gICAqIGNsZWFyZWQuIElmIG5vIFVSTHMgYXJlIHByb3ZpZGVkIGFuIGFsZXJ0IGlzIHNob3duLiBBZnRlciB0aGVcbiAgICogZmlyc3Qgc3VjY2Vzc2Z1bCBnZW5lcmF0aW9uIHRoZSBoZXJvIGltYWdlIGlzIGF1dG9tYXRpY2FsbHlcbiAgICogZmV0Y2hlZCBiYXNlZCBvbiB0aGUgb3JpZ2luIG9mIHRoZSBmaXJzdCBwcm9kdWN0IFVSTCBpZiBubyBoZXJvXG4gICAqIGltYWdlIGhhcyBiZWVuIHNldCB5ZXQuXG4gICAqL1xuICBjb25zdCBnZW5lcmF0ZVNlY3Rpb24gPSBhc3luYyAoc2VjdGlvbklkOiBudW1iZXIsIHVybHNPdmVycmlkZT86IHN0cmluZ1tdKSA9PiB7XG4gICAgY29uc3Qgc2VjdGlvbiA9IGJvZHlTZWN0aW9ucy5maW5kKChzKSA9PiBzLmlkID09PSBzZWN0aW9uSWQpO1xuICAgIGlmICghc2VjdGlvbikgcmV0dXJuO1xuICAgIC8vIEFsd2F5cyB1c2UgdGhlIGxhdGVzdCBkcmFmdFVybHMgZm9yIHRoaXMgc2VjdGlvblxuICAgIGNvbnN0IHNvdXJjZVVybHMgPSB1cmxzT3ZlcnJpZGUgPz8gKGRyYWZ0VXJsc1tzZWN0aW9uSWRdID8/IHNlY3Rpb24udXJscyk7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBzb3VyY2VVcmxzLm1hcCgodSkgPT4gKHUgfHwgJycpLnRyaW0oKSkuZmlsdGVyKCh1KSA9PiB1KTtcbiAgICBpZiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKSB7XG4gICAgICBhbGVydCgnUGxlYXNlIHByb3ZpZGUgYXQgbGVhc3Qgb25lIHByb2R1Y3QgVVJMLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBWYWxpZGF0ZSB0aGF0IGFsbCBVUkxzIGFyZSBodHRwKHMpXG4gICAgY29uc3QgaW52YWxpZCA9IGZpbHRlcmVkLmZpbHRlcigodSkgPT4gIWlzSHR0cFVybCh1KSk7XG4gICAgaWYgKGludmFsaWQubGVuZ3RoID4gMCkge1xuICAgICAgYWxlcnQoYEludmFsaWQgVVJMKHMpOlxcbiR7aW52YWxpZC5qb2luKCdcXG4nKX1cXG5cXG5QbGVhc2UgZW50ZXIgZnVsbCBodHRwKHMpIGxpbmtzLmApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBTYXZlIHRoZSBsYXRlc3QgVVJMcyB0byB0aGUgc2VjdGlvbiBpbW1lZGlhdGVseSBzbyBwcmV2aWV3IHVwZGF0ZXMgb24gZmlyc3QgY2xpY2tcbiAgICBzZXRCb2R5U2VjdGlvbnMoKHByZXYpID0+XG4gICAgICBwcmV2Lm1hcCgocykgPT5cbiAgICAgICAgcy5pZCA9PT0gc2VjdGlvbklkID8geyAuLi5zLCB1cmxzOiBbLi4uZmlsdGVyZWRdLCBsb2FkaW5nOiB0cnVlLCBwcm9kdWN0czogW10gfSA6IHNcbiAgICAgIClcbiAgICApO1xuICAgIHRyeSB7XG4gICAgICAvLyBTdGFydCBsb2FkaW5nIGJhciBpbW1lZGlhdGVseVxuICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgIHNldFByb2dyZXNzKDApO1xuICAgICAgc2V0QnVmZmVyKDE1KTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCcvYXBpL2dlbmVyYXRlJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXJsczogZmlsdGVyZWQsIHRlbXBsYXRlSWQ6IHNlY3Rpb24uc2VsZWN0ZWRCb2R5SWQgfSlcbiAgICAgIH0pO1xuICAgICAgaWYgKCFyZXMub2spIHtcbiAgICAgICAgbGV0IGRldGFpbHMgPSAnJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkZXRhaWxzID0gYXdhaXQgcmVzLnRleHQoKTtcbiAgICAgICAgfSBjYXRjaCB7fVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzICR7cmVzLnN0YXR1c30ke2RldGFpbHMgPyBgOiAke2RldGFpbHN9YCA6ICcnfWApO1xuICAgICAgfVxuICAgICAgLy8gUmVzcG9uc2UgcmVjZWl2ZWRcbiAgICAgIHNldFByb2dyZXNzKDIwKTtcbiAgICAgIHNldEJ1ZmZlcig0MCk7XG4gICAgICBjb25zdCBkYXRhID0gKGF3YWl0IHJlcy5qc29uKCkpIGFzIEdlbmVyYXRlUmVzcG9uc2U7XG4gICAgICAvLyBQYXJzZWQgSlNPTlxuICAgICAgc2V0UHJvZ3Jlc3MoMzApO1xuICAgICAgc2V0QnVmZmVyKDUwKTtcbiAgICAgIC8vIE1hcCByZXR1cm5lZCBwcm9kdWN0cyBieSB1cmwgZm9yIGxvb2t1cFxuICBjb25zdCBwcm9kdWN0TWFwID0gbmV3IE1hcDxzdHJpbmcsIFByb2R1Y3REYXRhPigpO1xuICAgICAgZGF0YS5wcm9kdWN0cy5mb3JFYWNoKChwOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3QgaGFzSW5mbyA9IE9iamVjdC5rZXlzKHAgfHwge30pLnNvbWUoKGtleSkgPT4ga2V5ICE9PSAndXJsJyAmJiBwW2tleV0pO1xuICAgICAgICBpZiAoIWhhc0luZm8pIHtcbiAgICAgICAgICBjb25zdCBiYWRVcmwgPSBwLnVybCB8fCAnVW5rbm93biBVUkwnO1xuICAgICAgICAgIGFkZE5vdGlmaWNhdGlvbihgRXJyb3Igb24gZmV0Y2hpbmcgZGF0YSBmcm9tIHRoZSB1cmwgJHtiYWRVcmx9YCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFByZWZlciBtYXBwaW5nIGJ5IG9yaWdpbmFsIHJlcXVlc3RlZCBVUkwgdG8gYXZvaWQgY29sbGlzaW9ucyB3aGVuIHBhcnNlciBub3JtYWxpemVzIFVSTHNcbiAgICAgICAgY29uc3Qga2V5ID0gKHAgYXMgYW55KS5fc291cmNlVXJsIHx8IHAudXJsO1xuICAgICAgICAvLyBCdWlsZCBiYXNlIHByb2R1Y3RcbiAgICAgICAgbGV0IHByaW1hcnlJbWFnZSA9IHAuaW1hZ2UgfHwgJyc7XG4gICAgICAgIGNvbnN0IGFsbEltYWdlcyA9IEFycmF5LmlzQXJyYXkocC5pbWFnZXMpID8gcC5pbWFnZXMuZmlsdGVyKCh4OiBzdHJpbmcpID0+ICEheCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghcHJpbWFyeUltYWdlICYmIGFsbEltYWdlcyAmJiBhbGxJbWFnZXMubGVuZ3RoKSB7XG4gICAgICAgICAgcHJpbWFyeUltYWdlID0gYWxsSW1hZ2VzWzBdOyAvLyBhdXRvLXNlbGVjdCBmaXJzdCBpbWFnZSBpZiBub25lIGNob3NlblxuICAgICAgICB9XG4gICAgICAgIHByb2R1Y3RNYXAuc2V0KGtleSwge1xuICAgICAgICAgIHVybDogcC51cmwsXG4gICAgICAgICAgcHJldGl0bGU6IHAucHJldGl0bGUgfHwgJycsXG4gICAgICAgICAgdGl0bGU6IHAudGl0bGUgfHwgJycsXG4gICAgICAgICAgcHJpY2U6IHAucHJpY2UgfHwgJycsXG4gICAgICAgICAgb3JpZ2luYWxQcmljZTogcC5vcmlnaW5hbFByaWNlIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogcC5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICBtZXRhZGF0YURlc2NyaXB0aW9uOiAocC5tZXRhZGF0YURlc2NyaXB0aW9uID8/IHAuZGVzY3JpcHRpb24gPz8gJycpLFxuICAgICAgICAgIG9yaWdpbmFsTWV0YWRhdGFEZXNjcmlwdGlvbjogKHAub3JpZ2luYWxNZXRhZGF0YURlc2NyaXB0aW9uID8/IHAubWV0YWRhdGFEZXNjcmlwdGlvbiA/PyBwLmRlc2NyaXB0aW9uID8/ICcnKSxcbiAgICAgICAgICBkZXNjcmlwdGlvblA6IHAuZGVzY3JpcHRpb25QIHx8ICcnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uVWw6IHAuZGVzY3JpcHRpb25VbCB8fCAnJyxcbiAgICAgICAgICBpbWFnZTogcHJpbWFyeUltYWdlLFxuICAgICAgICAgIGltYWdlczogYWxsSW1hZ2VzLFxuICAgICAgICAgIGN0YTogcC5jdGEgfHwgcC51cmwsXG4gICAgICAgICAgY3RhTGFiZWw6IChwIGFzIGFueSkuY3RhTGFiZWwgfHwgJ1NIT1AgTk9XJ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgLy8gQnVpbGQgcHJvZHVjdCBsaXN0IGluIGlucHV0IG9yZGVyLCBidXQgZG8gbm90IGRyb3AgdXNlci1lbnRlcmVkIFVSTHMuXG4gICAgICAvLyBLZWVwIGFsbCBmaWx0ZXJlZCBVUkxzIGluIHRoZSBVSSwgYW5kIG9ubHkgcmVuZGVyIHByb2R1Y3RzIGZvciBVUkxzIHRoYXQgcGFyc2VkIHN1Y2Nlc3NmdWxseS5cbiAgICAgIGNvbnN0IHByb2Nlc3NlZDogUHJvZHVjdERhdGFbXSA9IGZpbHRlcmVkXG4gICAgICAgIC5tYXAoKHVybFJhdykgPT4ge1xuICAgICAgICAgIGNvbnN0IHVybCA9IHNhbml0aXplVXJsKHVybFJhdyk7XG4gICAgICAgICAgcmV0dXJuIHByb2R1Y3RNYXAuZ2V0KHVybCkgfHwgcHJvZHVjdE1hcC5nZXQodXJsUmF3KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbHRlcigocCk6IHAgaXMgUHJvZHVjdERhdGEgPT4gQm9vbGVhbihwKSk7XG4gICAgICBjb25zdCBtaXNzaW5nVXJscyA9IGZpbHRlcmVkLmZpbHRlcigodXJsUmF3KSA9PiB7XG4gICAgICAgIGNvbnN0IHVybCA9IHNhbml0aXplVXJsKHVybFJhdyk7XG4gICAgICAgIHJldHVybiAhcHJvZHVjdE1hcC5oYXModXJsKSAmJiAhcHJvZHVjdE1hcC5oYXModXJsUmF3KTtcbiAgICAgIH0pO1xuICAgICAgLy8gVXBkYXRlIHNlY3Rpb24gd2l0aCBwcm9jZXNzZWQgcHJvZHVjdHMgYW5kIGNsZWFyIGxvYWRpbmcgZmxhZ1xuICAgICAgLy8gRm9yY2UgcmUtcmVuZGVyIGJ5IGNsb25pbmcgZWFjaCBwcm9kdWN0IG9iamVjdCAoaW4gY2FzZSByZWZlcmVuY2VzIHJldXNlZClcbiAgICAgIHNldEJvZHlTZWN0aW9ucyhwcmV2ID0+IHByZXYubWFwKHMgPT4ge1xuICAgICAgICBpZiAocy5pZCAhPT0gc2VjdGlvbklkKSByZXR1cm4gcztcbiAgICAgICAgcmV0dXJuIHsgLi4ucywgcHJvZHVjdHM6IHByb2Nlc3NlZC5tYXAocCA9PiAoeyAuLi5wIH0pKSwgbG9hZGluZzogZmFsc2UgfTtcbiAgICAgIH0pKTtcbiAgICAgIC8vIFN1cmZhY2UgYW55IG1pc3NpbmcgVVJMcyBhcyBub3RpZmljYXRpb25zIChub24tYmxvY2tpbmcpXG4gICAgICBpZiAobWlzc2luZ1VybHMubGVuZ3RoKSB7XG4gICAgICAgIG1pc3NpbmdVcmxzLmZvckVhY2gobSA9PiBhZGROb3RpZmljYXRpb24oYE5vIGRhdGEgcmV0dXJuZWQgZm9yIFVSTDogJHttfWApKTtcbiAgICAgIH1cbiAgICAgIC8vIEhpZGUgYWZ0ZXIgYSBzaG9ydCBkZWxheSB0byBhdm9pZCBmbGlja2VyLCB0aGVuIHJlc2V0XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgIHNldFByb2dyZXNzKC0xKTtcbiAgICAgICAgc2V0QnVmZmVyKC0xKTtcbiAgICAgIH0sIDIwMCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignR2VuZXJhdGlvbiBmYWlsZWQnLCBlcnJvcik7XG4gICAgICBjb25zb2xlLmxvZyhgRmFpbGVkIHRvIGdlbmVyYXRlIHByb2R1Y3RzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICBzZXRCb2R5U2VjdGlvbnMoKHByZXYpID0+XG4gICAgICAgIHByZXYubWFwKChzKSA9PiAocy5pZCA9PT0gc2VjdGlvbklkID8geyAuLi5zLCBsb2FkaW5nOiBmYWxzZSB9IDogcykpXG4gICAgICApO1xuICAgICAgLy8gRW5zdXJlIHRoZSBsb2FkaW5nIGJhciBoaWRlcyBvbiBlcnJvclxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICBzZXRQcm9ncmVzcygtMSk7XG4gICAgICBzZXRCdWZmZXIoLTEpO1xuICAgIH1cbiAgfTtcbiAgLy8gQXV0b21hdGljYWxseSBnZW5lcmF0ZSB0aGUgZmlyc3QgYm9keSBzZWN0aW9uIHdoZW4gaXQgaXMgY3JlYXRlZCAoYWZ0ZXIgdXNlciBzdWJtaXRzIHByb2R1Y3QgVVJMKVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChcbiAgICAgICFhdXRvR2VuVHJpZWRSZWYuY3VycmVudCAmJlxuICAgICAgYm9keVNlY3Rpb25zLmxlbmd0aCA9PT0gMSAmJlxuICAgICAgYm9keVNlY3Rpb25zWzBdLnByb2R1Y3RzLmxlbmd0aCA9PT0gMCAmJlxuICAgICAgYm9keVNlY3Rpb25zWzBdLnVybHNbMF0gJiZcbiAgICAgICFib2R5U2VjdGlvbnNbMF0ubG9hZGluZ1xuICAgICkge1xuICAgICAgLy8gTWFyayBhcyB0cmllZCBiZWZvcmUgY2FsbGluZyB0byBhdm9pZCByZS1lbnRyeSBpZiB0aGUgY2FsbCBmYWlsc1xuICAgICAgYXV0b0dlblRyaWVkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgZ2VuZXJhdGVTZWN0aW9uKGJvZHlTZWN0aW9uc1swXS5pZCk7XG4gICAgfVxuICB9LCBbYm9keVNlY3Rpb25zXSk7XG5cbiAgLy8gSGVscGVyIHRvIGZ1bGx5IHJlc2V0IHN0YXRlIGZvciBhIG5ldyBFRE0gKGV4cG9zZWQgdG8gY29uZmlybSBkaWFsb2cpXG4gIGNvbnN0IHJlc2V0QWxsU3RhdGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0Qm9keVNlY3Rpb25zKFtdKTtcbiAgICBzZXREcmFmdFVybHMoe30pO1xuICAgIHNldFNlY3Rpb25PcmRlcihbJ2hlcm8nLCdiYW5uZXInXSk7XG4gICAgc2V0T3BlblNlY3Rpb24oJycpO1xuICAgIHNldFNob3dIZWFkZXJTZWN0aW9uKHRydWUpO1xuICAgIHNldFNob3dIZXJvU2VjdGlvbih0cnVlKTtcbiAgICBzZXRTaG93QmFubmVyU2VjdGlvbih0cnVlKTtcbiAgICBzZXRTaG93Rm9vdGVyU2VjdGlvbih0cnVlKTtcbiAgICBzZXRCb2R5U2VjdGlvblBhZGRpbmdzKG5ldyBNYXAoKSk7XG4gICAgc2V0SGVhZGVySHRtbCgnJyk7XG4gICAgc2V0Qm9keUh0bWwoJycpO1xuICAgIHNldEZvb3Rlckh0bWwoJycpO1xuICAgIHNldEZpbmFsSHRtbCgnJyk7XG4gICAgc2V0QnJhbmROYW1lKCcnKTtcbiAgICBzZXRCcmFuZEZvbnQoJycpO1xuICAgIHNldEJyYW5kUHJpbWFyeSgnI2QxOWFhMCcpO1xuICAgIHNldEJyYW5kU2Vjb25kYXJ5KCcjRjBDM0M3Jyk7XG4gICAgc2V0QnJhbmRXZWJzaXRlKCcnKTtcbiAgICBzZXRCcmFuZFVybElucHV0KCcnKTtcbiAgICBzZXRCcmFuZEFubm91bmNlbWVudCgnJyk7XG4gICAgc2V0QnJhbmRUZXh0Q29sb3IoJ2JsYWNrJyk7XG4gICAgc2V0QnJhbmRMb2dvKG51bGwpO1xuICAgIHNldEJyYW5kTG9nb0RhdGFVcmwoJycpO1xuICAgIHNldEluaXRpYWxTdW1tYXJ5KHVuZGVmaW5lZCBhcyBhbnkpO1xuICAgIC8vIEJhbm5lciByZXNldFxuICAgIHNldFNlbGVjdGVkQmFubmVySWQoZGVmYXVsdEJhbm5lclRlbXBsYXRlc1swXS5pZCk7XG4gICAgc2V0QmFubmVySW1hZ2UoJycpO1xuICAgIHNldEJhbm5lckFsdCgnJyk7XG4gICAgc2V0QmFubmVySHJlZignJyk7XG4gICAgc2V0QmFubmVySHRtbCgnJyk7XG4gICAgc2V0QmFubmVyRWRpdE1vZGUoZmFsc2UpO1xuICAgIHNldE5ld0Jhbm5lck5hbWUoJycpO1xuICAgIHNldE5ld0Jhbm5lckh0bWwoJycpO1xuICAgIHNldFNob3dOZXdCYW5uZXIoZmFsc2UpO1xuICAgIHNldEJhbm5lclBhZGRpbmcoeyB0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MCB9KTtcbiAgICAvLyBIZXJvIHJlc2V0XG4gICAgc2V0U2VsZWN0ZWRIZXJvSWQoZGVmYXVsdEhlcm9UZW1wbGF0ZXNbMF0uaWQpO1xuICAgIHNldEhlcm9JbWFnZSgnJyk7XG4gICAgc2V0SGVyb0FsdCgnQnJhbmQnKTtcbiAgICBzZXRIZXJvSHJlZignJyk7XG4gICAgc2V0SGVyb0h0bWwoJycpO1xuICAgIHNldEhlcm9FZGl0TW9kZShmYWxzZSk7XG4gICAgc2V0RHJhZnRIZXJvSHRtbCgnJyk7XG4gICAgc2V0TmV3SGVyb05hbWUoJycpO1xuICAgIHNldE5ld0hlcm9IdG1sKCcnKTtcbiAgICBzZXRTaG93TmV3SGVybyhmYWxzZSk7XG4gICAgc2V0SGVyb0ltYWdlcyhbXSk7XG4gICAgLy8gRWRpdGluZyBzdGF0ZXNcbiAgICBzZXRCb2R5RWRpdE1vZGUoZmFsc2UpO1xuICAgIHNldEhlYWRlckVkaXRNb2RlKGZhbHNlKTtcbiAgICBzZXRGb290ZXJFZGl0TW9kZShmYWxzZSk7XG4gICAgc2V0U2hvd05ld0JvZHkoZmFsc2UpO1xuICAgIHNldFNob3dOZXdIZWFkZXIoZmFsc2UpO1xuICAgIHNldFNob3dOZXdGb290ZXIoZmFsc2UpO1xuICAgIHNldERyYWZ0Qm9keUh0bWwoJycpO1xuICAgIHNldERyYWZ0SGVhZGVySHRtbCgnJyk7XG4gICAgc2V0RHJhZnRGb290ZXJIdG1sKCcnKTtcbiAgICBzZXROZXdCb2R5TmFtZSgnJyk7XG4gICAgc2V0TmV3Qm9keUh0bWwoJycpO1xuICAgIHNldE5ld0hlYWRlck5hbWUoJycpO1xuICAgIHNldE5ld0hlYWRlckh0bWwoJycpO1xuICAgIHNldE5ld0Zvb3Rlck5hbWUoJycpO1xuICAgIHNldE5ld0Zvb3Rlckh0bWwoJycpO1xuICAgIHNldFNob3dBZGRTZWN0aW9uTWVudShmYWxzZSk7XG4gICAgc2V0RW1haWxTYWZlKHRydWUpO1xuICAgIHNldFN1bW1hcnlUYWIoMCk7XG4gICAgc2V0U2VsZWN0ZWRQcm9kdWN0Q3R4KG51bGwpO1xuICAgIGF1dG9HZW5UcmllZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgc2V0U2hvd0JyYW5kVXJsRGlhbG9nKHRydWUpO1xuICAgIHNldFZpZXdNb2RlKCdwcmV2aWV3Jyk7XG4gICAgYWRkTm90aWZpY2F0aW9uKCdTdGFydGVkIGEgbmV3IEVETScpO1xuICB9LCBbYWRkTm90aWZpY2F0aW9uXSk7XG5cbiAgLy8gUmVtb3ZlZCB1bmNvbmRpdGlvbmFsIGdlbmVyYXRlIG9uIG1vdW50IHRvIHByZXZlbnQgZHVwbGljYXRlIGNhbGxzIGFuZCBsb29wc1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhbGwgc2VjdGlvbnMgaW4gdGhlIEVETS4gSXRlcmF0ZXMgdGhyb3VnaCBlYWNoIGJvZHkgc2VjdGlvblxuICAgKiBzZXF1ZW50aWFsbHkgYW5kIHRyaWdnZXJzIGl0cyBnZW5lcmF0aW9uLiBUaGlzIGlzIGludm9rZWQgYnkgdGhlXG4gICAqIHVuaXZlcnNhbCBcIkdlbmVyYXRlIEVETVwiIGJ1dHRvbiBhbmQgdXBkYXRlcyB0aGUgcHJldmlldyBhbmRcbiAgICogY29kZSBmb3IgZXZlcnkgbW9kdWxlLlxuICAgKi9cbiAgY29uc3QgZ2VuZXJhdGVBbGxTZWN0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAvLyBEZWxlZ2F0ZSBwcm9ncmVzcyB1cGRhdGVzIHRvIGVhY2ggc2VjdGlvbidzIGdlbmVyYXRpb24gdG8gYXZvaWQgY29uZmxpY3RpbmcgdmFsdWVzXG4gICAgZm9yIChjb25zdCBzZWN0aW9uIG9mIGJvZHlTZWN0aW9ucykge1xuICAgICAgYXdhaXQgZ2VuZXJhdGVTZWN0aW9uKHNlY3Rpb24uaWQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIGEgcHJvZHVjdCBmaWVsZCBpbiByZXNwb25zZSB0byBlZGl0cyBtYWRlIGluIHRoZSBwcmV2aWV3LlxuICAgKiBUaGlzIGVuc3VyZXMgdHdv4oCRd2F5IGJpbmRpbmcgYmV0d2VlbiB0aGUgZWRpdGFibGUgcHJldmlldyBhbmRcbiAgICogdGhlIHVuZGVybHlpbmcgZGF0YSBtb2RlbC4gVXBkYXRpbmcgdGhlIHN0YXRlIHRyaWdnZXJzIHRoZVxuICAgKiBlZmZlY3QgYmVsb3cgd2hpY2ggcmVjb21wdXRlcyB0aGUgSFRNTC5cbiAgICovXG4gIC8qKlxuICAgKiBVcGRhdGUgYSBmaWVsZCB3aXRoaW4gYSBwcm9kdWN0IGluc2lkZSBhIHNwZWNpZmljIGJvZHkgc2VjdGlvbi4gRWRpdHNcbiAgICogbWFkZSBpbiB0aGUgcHJldmlldyB1cGRhdGUgdGhlIHVuZGVybHlpbmcgcHJvZHVjdCBhcnJheSB3aGljaFxuICAgKiB0cmlnZ2VycyBhIHJl4oCRcmVuZGVyIG9mIHRoZSBjb21wb3NlZCBIVE1MLlxuICAgKi9cbiAgY29uc3QgdXBkYXRlUHJvZHVjdEluU2VjdGlvbiA9IChzZWN0aW9uSWQ6IG51bWJlciwgaW5kZXg6IG51bWJlciwgZmllbGQ6IGtleW9mIFByb2R1Y3REYXRhLCB2YWx1ZTogc3RyaW5nKSA9PiB7XG4gICAgLy8gU2FuaXRpemUgaW5saW5lIEhUTUwgZm9yIHRpdGxlIHVwZGF0ZXMgdG8gcHJldmVudCB1bndhbnRlZCA8cD4gdGFnc1xuICAgIGxldCBuZXh0VmFsdWUgPSB2YWx1ZTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBzYW5pdGl6ZUlubGluZUh0bWwgfSA9IHJlcXVpcmUoJy4uL2xpYi9zYW5pdGl6ZScpO1xuICAgICAgaWYgKGZpZWxkID09PSAndGl0bGUnICYmIHR5cGVvZiBzYW5pdGl6ZUlubGluZUh0bWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbmV4dFZhbHVlID0gc2FuaXRpemVJbmxpbmVIdG1sKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIHt9XG4gICAgc2V0Qm9keVNlY3Rpb25zKChwcmV2KSA9PlxuICAgICAgcHJldi5tYXAoKHNlY3Rpb24pID0+IHtcbiAgICAgICAgaWYgKHNlY3Rpb24uaWQgIT09IHNlY3Rpb25JZCkgcmV0dXJuIHNlY3Rpb247XG4gICAgICAgIGNvbnN0IG5ld1Byb2R1Y3RzID0gWy4uLnNlY3Rpb24ucHJvZHVjdHNdO1xuICAgICAgICBjb25zdCBwcm9kID0geyAuLi5uZXdQcm9kdWN0c1tpbmRleF0gfSBhcyBhbnk7XG4gICAgICAgIGlmIChmaWVsZCA9PT0gJ2Rlc2NTb3VyY2UnKSB7XG4gICAgICAgICAgY29uc3QgdiA9IHZhbHVlIGFzIGFueSBhcyAnbWV0YWRhdGEnfCdwJ3wndWwnO1xuICAgICAgICAgIHByb2QuZGVzY1NvdXJjZSA9IHY7XG4gICAgICAgICAgLy8gVXBkYXRlIGRpc3BsYXllZCBkZXNjcmlwdGlvbiBmaWVsZCBiYXNlZCBvbiBjaG9zZW4gc291cmNlIGJ1dCBvbmx5IGZvciB0aGlzIHByb2R1Y3RcbiAgICAgICAgICBpZiAodiA9PT0gJ21ldGFkYXRhJykgcHJvZC5kZXNjcmlwdGlvbiA9IChwcm9kLm1ldGFkYXRhRGVzY3JpcHRpb24gYXMgc3RyaW5nKSB8fCAocHJvZC5vcmlnaW5hbE1ldGFkYXRhRGVzY3JpcHRpb24gYXMgc3RyaW5nKSB8fCAnJztcbiAgICAgICAgICBpZiAodiA9PT0gJ3AnKSBwcm9kLmRlc2NyaXB0aW9uID0gKHByb2QuZGVzY3JpcHRpb25QIGFzIHN0cmluZykgfHwgJyc7XG4gICAgICAgICAgaWYgKHYgPT09ICd1bCcpIHByb2QuZGVzY3JpcHRpb24gPSAocHJvZC5kZXNjcmlwdGlvblVsIGFzIHN0cmluZykgfHwgJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgKHByb2QgYXMgYW55KVtmaWVsZF0gPSBuZXh0VmFsdWU7XG4gICAgICAgICAgLy8gS2VlcCBiYXNlIGRlc2NyaXB0aW9uIGluIHN5bmMgd2hlbiBlZGl0aW5nIHRoZSBhY3RpdmUgdmFyaWFudFxuICAgICAgICAgIGlmIChmaWVsZCA9PT0gJ2Rlc2NyaXB0aW9uUCcgJiYgKHByb2QuZGVzY1NvdXJjZSB8fCAnbWV0YWRhdGEnKSA9PT0gJ3AnKSB7XG4gICAgICAgICAgICBwcm9kLmRlc2NyaXB0aW9uID0gbmV4dFZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaWVsZCA9PT0gJ2Rlc2NyaXB0aW9uVWwnICYmIChwcm9kLmRlc2NTb3VyY2UgfHwgJ21ldGFkYXRhJykgPT09ICd1bCcpIHtcbiAgICAgICAgICAgIHByb2QuZGVzY3JpcHRpb24gPSBuZXh0VmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoZmllbGQgPT09ICdtZXRhZGF0YURlc2NyaXB0aW9uJyB8fCBmaWVsZCA9PT0gJ2Rlc2NyaXB0aW9uJykgJiYgKHByb2QuZGVzY1NvdXJjZSB8fCAnbWV0YWRhdGEnKSA9PT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgICAgcHJvZC5kZXNjcmlwdGlvbiA9IG5leHRWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV3UHJvZHVjdHNbaW5kZXhdID0gcHJvZDtcbiAgICAgICAgcmV0dXJuIHsgLi4uc2VjdGlvbiwgcHJvZHVjdHM6IG5ld1Byb2R1Y3RzIH07XG4gICAgICB9KVxuICAgICk7XG4gICAgLy8gRW5zdXJlIHRoZSByaWdodCBwYW5lbCBpcyBib3VuZCB0byB0aGlzIHByb2R1Y3Qgd2hlbiBlZGl0aW5nIGluIHByZXZpZXcgKGNvbGxlY3Rpb24gbW9kZSlcbiAgICBpZiAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICBzZXRTZWxlY3RlZFByb2R1Y3RDdHgoeyBzZWN0aW9uSWQsIGluZGV4IH0pO1xuICAgIH1cbiAgICAvLyBJZiB3ZSdyZSBub3Qgb24gYSBjb2xsZWN0aW9uIHBhZ2UsIGFsc28gcmVmbGVjdCBrZXkgZmllbGRzIGludG8gYW5hbHl6ZURhdGEucHJvZHVjdFxuICAgIC8vIHNvIHRoZSByaWdodCBzaWRlIFJpY2hUZXh0RmllbGQgKHdoaWNoIHJlYWRzIGZyb20gYW5hbHl6ZURhdGEpIHN0YXlzIGluIHN5bmMuXG4gICAgaWYgKGRldGVjdGVkUGFnZVR5cGUgIT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgaWYgKGZpZWxkID09PSAndGl0bGUnKSB7XG4gICAgICAgIHNldEFuYWx5emVEYXRhKChkKSA9PiAoZCA/ICh7IC4uLmQsIHByb2R1Y3Q6IHsgLi4uZC5wcm9kdWN0LCB0aXRsZTogbmV4dFZhbHVlIH0gfSkgOiBkKSk7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkID09PSAncHJpY2UnKSB7XG4gICAgICAgIHNldEFuYWx5emVEYXRhKChkKSA9PiAoZCA/ICh7IC4uLmQsIHByb2R1Y3Q6IHsgLi4uZC5wcm9kdWN0LCBwcmljZTogbmV4dFZhbHVlIH0gfSkgOiBkKSk7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkID09PSAnY3RhTGFiZWwnKSB7XG4gICAgICAgIHNldEFuYWx5emVEYXRhKChkKSA9PiAoZCA/ICh7IC4uLmQsIHByb2R1Y3Q6IHsgLi4uZC5wcm9kdWN0LCBjdGFMYWJlbDogbmV4dFZhbHVlIH0gfSkgOiBkKSk7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkID09PSAnZGVzY3JpcHRpb24nIHx8IGZpZWxkID09PSAnbWV0YWRhdGFEZXNjcmlwdGlvbicgfHwgZmllbGQgPT09ICdkZXNjcmlwdGlvblAnIHx8IGZpZWxkID09PSAnZGVzY3JpcHRpb25VbCcpIHtcbiAgICAgICAgLy8gTWlycm9yIGRlc2NyaXB0aW9uIHVwZGF0ZXMgdG8gYWxsIHZhcmlhbnRzIGZvciBsaXZlIHN5bmNcbiAgICAgICAgc2V0QW5hbHl6ZURhdGEoKGQpID0+IHtcbiAgICAgICAgICBpZiAoIWQpIHJldHVybiBkO1xuICAgICAgICAgIGNvbnN0IHByb2Q6IGFueSA9IHsgLi4uZC5wcm9kdWN0IH07XG4gICAgICAgICAgY29uc3QgdiA9IG5leHRWYWx1ZTtcbiAgICAgICAgICBwcm9kLmRlc2NyaXB0aW9uID0gdjtcbiAgICAgICAgICBwcm9kLm1ldGFkYXRhRGVzY3JpcHRpb24gPSB2O1xuICAgICAgICAgIHByb2QuZGVzY3JpcHRpb25QID0gdjtcbiAgICAgICAgICBwcm9kLmRlc2NyaXB0aW9uVWwgPSB2O1xuICAgICAgICAgIHJldHVybiB7IC4uLmQsIHByb2R1Y3Q6IHByb2QgfTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGZpZWxkID09PSAnZGVzY1NvdXJjZScpIHtcbiAgICAgICAgc2V0QW5hbHl6ZURhdGEoKGQpID0+IHtcbiAgICAgICAgICBpZiAoIWQpIHJldHVybiBkO1xuICAgICAgICAgIGNvbnN0IHByb2Q6IGFueSA9IHsgLi4uZC5wcm9kdWN0LCBkZXNjU291cmNlOiB2YWx1ZSBhcyBhbnkgfTtcbiAgICAgICAgICBpZiAocHJvZC5kZXNjU291cmNlID09PSAnbWV0YWRhdGEnKSBwcm9kLmRlc2NyaXB0aW9uID0gcHJvZC5tZXRhZGF0YURlc2NyaXB0aW9uIHx8IHByb2Qub3JpZ2luYWxNZXRhZGF0YURlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICAgIGlmIChwcm9kLmRlc2NTb3VyY2UgPT09ICdwJykgcHJvZC5kZXNjcmlwdGlvbiA9IHByb2QuZGVzY3JpcHRpb25QIHx8ICcnO1xuICAgICAgICAgIGlmIChwcm9kLmRlc2NTb3VyY2UgPT09ICd1bCcpIHByb2QuZGVzY3JpcHRpb24gPSBwcm9kLmRlc2NyaXB0aW9uVWwgfHwgJyc7XG4gICAgICAgICAgcmV0dXJuIHsgLi4uZCwgcHJvZHVjdDogcHJvZCB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIEFkZGl0aW9uYWwgZmllbGRzIGNhbiBiZSBtaXJyb3JlZCBoZXJlIGlmIG5lZWRlZCBpbiB0aGUgZnV0dXJlXG4gICAgfVxuICAgIC8vIFRyaWdnZXIgdXBkYXRlIHB1bHNlIGFuaW1hdGlvbiAodGhyb3R0bGluZyBjb3VsZCBiZSBhZGRlZCBsYXRlciBpZiBuZWVkZWQpXG4gICAgc2V0UmVjZW50bHlVcGRhdGVkKHsgc2VjdGlvbklkLCBpbmRleCwgZmllbGQ6IGZpZWxkIGFzIHN0cmluZywgdHM6IERhdGUubm93KCkgfSk7XG4gIH07XG5cbiAgLy8gTm9ybWFsaXphdGlvbiBlZmZlY3Q6IG1pZ3JhdGUgYW55IGxlZ2FjeSBkZXNjQ2hvaWNlIGZpZWxkIHRvIGRlc2NTb3VyY2Ugb25jZVxuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldEJvZHlTZWN0aW9ucyhwcmV2ID0+IHByZXYubWFwKHNlY3Rpb24gPT4ge1xuICAgICAgbGV0IGNoYW5nZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHByb2R1Y3RzID0gc2VjdGlvbi5wcm9kdWN0cy5tYXAocCA9PiB7XG4gICAgICAgIGlmICgocCBhcyBhbnkpLmRlc2NDaG9pY2UgJiYgIShwIGFzIGFueSkuZGVzY1NvdXJjZSkge1xuICAgICAgICAgIGNvbnN0IG5wOiBhbnkgPSB7IC4uLnAsIGRlc2NTb3VyY2U6IChwIGFzIGFueSkuZGVzY0Nob2ljZSB9O1xuICAgICAgICAgIGRlbGV0ZSBucC5kZXNjQ2hvaWNlOyAvLyBvcHRpb25hbCBjbGVhbnVwXG4gICAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIG5wIGFzIFByb2R1Y3REYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gY2hhbmdlZCA/IHsgLi4uc2VjdGlvbiwgcHJvZHVjdHMgfSA6IHNlY3Rpb247XG4gICAgfSkpO1xuICAgIHNldEFuYWx5emVEYXRhKGQgPT4ge1xuICAgICAgaWYgKCFkKSByZXR1cm4gZDtcbiAgICAgIGNvbnN0IHByb2Q6IGFueSA9IGQucHJvZHVjdCBhcyBhbnk7XG4gICAgICBpZiAocHJvZCAmJiBwcm9kLmRlc2NDaG9pY2UgJiYgIXByb2QuZGVzY1NvdXJjZSkge1xuICAgICAgICBjb25zdCBucCA9IHsgLi4ucHJvZCwgZGVzY1NvdXJjZTogcHJvZC5kZXNjQ2hvaWNlIH07XG4gICAgICAgIGRlbGV0ZSBucC5kZXNjQ2hvaWNlO1xuICAgICAgICByZXR1cm4geyAuLi5kLCBwcm9kdWN0OiBucCB9IGFzIGFueTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkO1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgLyoqXG4gICAqIENvbXB1dGUgdGhlIEhUTUwgZm9yIGhlYWRlciwgYm9keSBhbmQgZm9vdGVyIHdoZW5ldmVyIHRoZSBkYXRhXG4gICAqIG9yIHNlbGVjdGVkIHRlbXBsYXRlcyBjaGFuZ2UuIENvbG91cnMgYXJlIGxpbWl0ZWQgdG8gdGhyZWUgYW5kXG4gICAqIGEgK24gaW5kaWNhdG9yIGlzIGFkZGVkIGlmIGFkZGl0aW9uYWwgY29sb3VycyBhcmUgYXZhaWxhYmxlLlxuICAgKi9cbi8vXG4vLyBUaGUgYm9keSwgaGVhZGVyIGFuZCBmb290ZXIgSFRNTCBpcyBub3cgY29tcHV0ZWQgaW4gYSBzaW5nbGVcbi8vIHVzZUVmZmVjdCBkZWZpbmVkIGVhcmxpZXIgKHNlZSBPcHRpb27CoEEgaW1wbGVtZW50YXRpb24pLiBUaGVcbi8vIGZvbGxvd2luZyBsZWdhY3kgZWZmZWN0IGhhcyBiZWVuIHJlbW92ZWQgdG8gcHJldmVudCBkdXBsaWNhdGVcbi8vIHVwZGF0ZXMgYW5kIGluY29uc2lzdGVudCBvdXRwdXQuXG5cbiAgLyoqXG4gICAqIENvcHkgYSBnaXZlbiBzdHJpbmcgdG8gdGhlIGNsaXBib2FyZC4gRmVlZGJhY2sgY291bGQgYmUgYWRkZWRcbiAgICogbGF0ZXIgKGUuZy4gdG9hc3Qgbm90aWZpY2F0aW9ucykgYnV0IGlzIG9taXR0ZWQgZm9yIGJyZXZpdHkuXG4gICAqL1xuICBjb25zdCBjb3B5VG9DbGlwYm9hcmQgPSAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5jbGlwYm9hcmQpIHtcbiAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBhZGROb3RpZmljYXRpb24oJ0NvZGUgY29waWVkIScpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNvcHkgdG8gY2xpcGJvYXJkJywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIERvd25sb2FkIGEgZ2l2ZW4gc3RyaW5nIGFzIGEgZmlsZSB3aXRoIHRoZSBwcm92aWRlZCBmaWxlbmFtZVxuICBjb25zdCBkb3dubG9hZEFzRmlsZSA9IChmaWxlbmFtZTogc3RyaW5nLCBjb250ZW50OiBzdHJpbmcsIHR5cGUgPSAndGV4dC9odG1sO2NoYXJzZXQ9dXRmLTgnKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbY29udGVudF0sIHsgdHlwZSB9KTtcbiAgICAgIGNvbnN0IHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgYS5ocmVmID0gdXJsO1xuICAgICAgYS5kb3dubG9hZCA9IGZpbGVuYW1lO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcbiAgICAgIGEuY2xpY2soKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYSk7XG4gICAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byBkb3dubG9hZCBmaWxlJywgZXJyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEhlbHBlciB0byBoaWdobGlnaHQgSFRNTCBmb3IgY29kZSBkaXNwbGF5LiBQcmlzbSByZXR1cm5zIGFuXG4gICAqIEhUTUwgc3RyaW5nIGNvbnRhaW5pbmcgPHNwYW4+IGVsZW1lbnRzIHdpdGggY2xhc3NlcyBmb3IgZWFjaFxuICAgKiB0b2tlbi4gV2Ugc2V0IHRoZSBsYW5ndWFnZSB0byBtYXJrdXAgc2luY2Ugb3VyIHRlbXBsYXRlcyBhcmVcbiAgICogSFRNTC5cbiAgICovXG4gIGNvbnN0IGhpZ2hsaWdodCA9IChjb2RlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBQcmlzbSA9IHByaXNtUmVmLmN1cnJlbnQ7XG4gICAgLy8gSWYgUHJpc20gaGFzIG5vdCBsb2FkZWQgeWV0LCByZXR1cm4gdGhlIHJhdyBjb2RlLiBUaGlzIGF2b2lkc1xuICAgIC8vIHJ1bnRpbWUgZXJyb3JzIGR1cmluZyBpbml0aWFsIHJlbmRlciBvciBzZXJ2ZXLigJFzaWRlIHJlbmRlcmluZy5cbiAgICBpZiAoIVByaXNtKSByZXR1cm4gY29kZTtcbiAgICByZXR1cm4gUHJpc20uaGlnaGxpZ2h0KGNvZGUsIFByaXNtLmxhbmd1YWdlcy5tYXJrdXAsICdtYXJrdXAnKTtcbiAgfTtcblxuICBjb25zdCBhdmFpbGFibGVTZWN0aW9uVHlwZXMgPSBbXG4gICAgLi4uKCFzaG93SGVhZGVyU2VjdGlvbiA/IFt7IGtleTogJ2hlYWRlcicsIGxhYmVsOiAnSGVhZGVyJyB9XSA6IFtdKSxcbiAgICAuLi4oIXNob3dIZXJvU2VjdGlvbiA/IFt7IGtleTogJ2hlcm8nLCBsYWJlbDogJ0hlcm8nIH1dIDogW10pLFxuICAgIHsga2V5OiAnYm9keScsIGxhYmVsOiAnQm9keScgfSxcbiAgICAuLi4oIXNob3dCYW5uZXJTZWN0aW9uID8gW3sga2V5OiAnYmFubmVyJywgbGFiZWw6ICdCYW5uZXInIH1dIDogW10pLFxuICAgIC4uLighc2hvd0Zvb3RlclNlY3Rpb24gPyBbeyBrZXk6ICdmb290ZXInLCBsYWJlbDogJ0Zvb3RlcicgfV0gOiBbXSksXG4gIF07XG5cbiAgLy8gVG9wIGhlYWRpbmcgbW92ZWQgaW50byBBcHBCYXIgdmlhIEFwcExheW91dFxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFicmFuZFdlYnNpdGUpIHtcbiAgICAgIGxhbmRpbmdJbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpO1xuICAgIH1cbiAgfSwgW2JyYW5kV2Vic2l0ZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFicmFuZFdlYnNpdGUpIHtcbiAgICAgIHNldFBsYXRmb3JtVmlzaWJsZShmYWxzZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgZnJhbWUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gc2V0UGxhdGZvcm1WaXNpYmxlKHRydWUpKTtcbiAgICByZXR1cm4gKCkgPT4gY2FuY2VsQW5pbWF0aW9uRnJhbWUoZnJhbWUpO1xuICB9LCBbYnJhbmRXZWJzaXRlXSk7XG5cbiAgaWYgKCFicmFuZFdlYnNpdGUpIHtcbiAgICAvLyBTaG93IGEgc2ltcGxlIGRpYWxvZyB0byBwcm9tcHQgZm9yIGEgcHJvZHVjdCBVUkxcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYW5kaW5nLXNoZWxsXCI+XG4gICAgICAgIDxmb3JtIG9uU3VibWl0PXtoYW5kbGVCcmFuZFVybFN1Ym1pdH0gY2xhc3NOYW1lPVwibGFuZGluZy1mb3JtXCIgYXJpYS1sYWJlbD1cIkdldCBzdGFydGVkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJsYW5kaW5nLWNvcHlcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJsYW5kaW5nLXRpdGxlXCI+RURNcyBNYWRlIEVmZm9ydGxlc3MuPC9oMT5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImxhbmRpbmctc3VidGl0bGVcIj5QYXN0ZSBhIFNob3BpZnkgcHJvZHVjdCBvciBjYXRhbG9ndWUgVVJMLiBXZSBkbyB0aGUgcmVzdC48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFN0YWNrIHNwYWNpbmc9ezN9IGNsYXNzTmFtZT1cImxhbmRpbmctaW5wdXQtc3RhY2tcIj5cbiAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgaW5wdXRSZWY9e2xhbmRpbmdJbnB1dFJlZn1cbiAgICAgICAgICAgICAgdmFsdWU9e2JyYW5kVXJsSW5wdXR9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QnJhbmRVcmxJbnB1dChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiaHR0cHM6Ly95b3Vyc3RvcmUuY29tL3Byb2R1Y3RzL2V4YW1wbGVcIlxuICAgICAgICAgICAgICB2YXJpYW50PVwic3RhbmRhcmRcIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJsYW5kaW5nLXRleHRmaWVsZFwiXG4gICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJ1cmxcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxCdXR0b24gdHlwZT1cInN1Ym1pdFwiIGNsYXNzTmFtZT1cImxhbmRpbmctY3RhbFwiIHNpemU9XCJsYXJnZVwiIHN4PXt7IGFsaWduU2VsZjogJ2NlbnRlcicgfX0+XG4gICAgICAgICAgICAgIEdlbmVyYXRlIE5vd1xuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPC9TdGFjaz5cbiAgICAgICAgPC9mb3JtPlxuICAgICAgICB7LyogV2l6YXJkIERpYWxvZyByZW1vdmVkOiBjb250ZW50IG1vdmVkIHRvIHBlcnNpc3RlbnQgcmlnaHQgc3VtbWFyeSBwYW5lbCAqL31cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPHRpdGxlPkVETSBFeHByZXNzbzwvdGl0bGU+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJCdWlsZCBtb2R1bGFyIEVETXMgZnJvbSBwcm9kdWN0IHBhZ2VzXCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgcGxhdGZvcm0tc2hlbGwke3BsYXRmb3JtVmlzaWJsZSA/ICcgcGxhdGZvcm0tc2hlbGwtLXZpc2libGUnIDogJyd9YH0+XG4gICAgICAgIDxBcHBMYXlvdXRcbiAgICAgICAgICB0aXRsZT1cIkVETSBFc3ByZXNzb1wiXG4gICAgICAgIGxlZnQ9ezxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9e2BhY2NvcmRpb24tbGlzdCR7b3BlblNlY3Rpb24gPyAnIGhhcy1vcGVuJyA6ICcnfWB9XG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsXG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgIHJvd0dhcDogJzVweCdcbiAgICAgICAgICB9fVxuICAgICAgICA+XG4gICAgICAgICAgICB7ZGVib3VuY2VkTG9hZGluZyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgZ2FwOiA4IH19PlxuICAgICAgICAgICAgICAgIHtbMCwxLDIsM10ubWFwKGkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7IGJvcmRlcjogJzFweCBzb2xpZCB2YXIoLS1tdWktcGFsZXR0ZS1kaXZpZGVyLCAjZTBlMGUwKScsIGJvcmRlclJhZGl1czogNSwgcGFkZGluZzogJzEwcHggMTJweCcsIGJhY2tncm91bmQ6ICd2YXIoLS1tdWktcGFsZXR0ZS1iYWNrZ3JvdW5kLXBhcGVyLCAjZmZmKScgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB2YXJpYW50PVwidGV4dFwiIGFuaW1hdGlvbj17c2tlbEFuaW19IHdpZHRoPXtpICUgMiA9PT0gMCA/ICc2MCUnIDogJzQwJSd9IGhlaWdodD17MjB9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB2YXJpYW50PVwidGV4dFwiIGFuaW1hdGlvbj17c2tlbEFuaW19IHdpZHRoPVwiODAlXCIgaGVpZ2h0PXsxNH0gLz5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAxMiB9fT5cbiAgICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB2YXJpYW50PVwicm91bmRlZFwiIGFuaW1hdGlvbj17c2tlbEFuaW19IHdpZHRoPVwiNjAlXCIgaGVpZ2h0PXszNn0gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgeyFkZWJvdW5jZWRMb2FkaW5nID8gKFxuICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgey8qIEJ1dHRvbiB0byBhZGQgYW5vdGhlciBib2R5IHNlY3Rpb24gKi99XG4gICAgICAgICAgICB7LyogVGhlIEFkZCBCb2R5IFNlY3Rpb24gYnV0dG9uIGhhcyBiZWVuIHJlbG9jYXRlZCB0byB0aGUgYm90dG9tIHJvd1xuICAgICAgICAgICAgICAgbmV4dCB0byB0aGUgR2VuZXJhdGUgRURNIGJ1dHRvbi4gVGhlIG9yaWdpbmFsIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgaGFzIGJlZW4gcmVtb3ZlZCB0byBhdm9pZCBkdXBsaWNhdGUgY29udHJvbHMuICovfVxuICAgICAgICAgICAgey8qIEhlYWRlciBzZWN0aW9uICovfVxuICAgICAgICAgICAge3Nob3dIZWFkZXJTZWN0aW9uICYmIChcbiAgICAgICAgICAgICAgPFNlY3Rpb25BY2NvcmRpb25cbiAgICAgICAgICAgICAgICBpZD1cImxlZnQtaGVhZGVyXCJcbiAgICAgICAgICAgICAgICB0aXRsZT1cIkhlYWRlclwiXG4gICAgICAgICAgICAgICAgZXhwYW5kZWQ9e29wZW5TZWN0aW9uID09PSAnaGVhZGVyJ31cbiAgICAgICAgICAgICAgICBvblRvZ2dsZT17KCkgPT4gaGFuZGxlQWNjb3JkaW9uVG9nZ2xlKCdoZWFkZXInKX1cbiAgICAgICAgICAgICAgICBhY3Rpb25zPXtcbiAgICAgICAgICAgICAgICAgIDxNb3JlQWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpdGVtcz17W1xuICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdNb3ZlIHVwJywgaWNvbjogPEFycm93VXB3YXJkSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz4sIGRpc2FibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ01vdmUgZG93bicsIGljb246IDxBcnJvd0Rvd253YXJkSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz4sIGRpc2FibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ0Nsb25lJywgaWNvbjogPENvbnRlbnRDb3B5SWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz4sIGRpc2FibGVkOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgeyBsYWJlbDogJ0RlbGV0ZScsIGljb246IDxEZWxldGVJY29uIGZvbnRTaXplPVwic21hbGxcIiAvPiwgb25DbGljazogKCkgPT4gcmVtb3ZlSGVhZGVyU2VjdGlvbigpIH0sXG4gICAgICAgICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZXRhaWxzU3g9e3sgcHQ6IDEuMjUgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7LyogUmVuZGVyIG9ubHkgdGhlIGFjdGl2ZSBoZWFkZXIgdGVtcGxhdGUgdGh1bWJuYWlsICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleFdyYXA6ICd3cmFwJywgYm9yZGVyUmFkaXVzOiAnNnB4Jywgb3ZlcmZsb3c6ICdoaWRkZW4nIH19PlxuICAgICAgICAgICAgICAgICAgICAgIDxCb3ggc3g9e3sgYm9yZGVyOiAnMXB4IHNvbGlkJywgYm9yZGVyQ29sb3I6ICdkaXZpZGVyJywgYm9yZGVyUmFkaXVzOiAxLCB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlVHBsID0gaGVhZGVyVGVtcGxhdGVzLmZpbmQodHBsID0+IHRwbC5pZCA9PT0gc2VsZWN0ZWRIZWFkZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFjdGl2ZVRwbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YWN0aXZlVHBsLmlkfSBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SHRtbFRodW1ibmFpbCBodG1sPXthY3RpdmVUcGwuaHRtbH0gd2lkdGg9ezYwMH0gZm9yY2VBdXRvSGVpZ2h0IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey8qIFRlbXBsYXRlIHNlbGVjdG9yIHJvdyAtIG1vdmVkIGJlbG93IHRodW1ibmFpbHMgKi99XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGVtcGxhdGUtcm93XCIgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBhbGlnbkl0ZW1zOiAnY2VudGVyJywgbWFyZ2luVG9wOiAnMS41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJUZW1wbGF0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cImhlYWRlci10ZW1wbGF0ZS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgSW5wdXRMYWJlbFByb3BzPXt7IGlkOiAnaGVhZGVyLXRlbXBsYXRlLWxhYmVsJyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgU2VsZWN0UHJvcHM9e3sgbGFiZWxJZDogJ2hlYWRlci10ZW1wbGF0ZS1sYWJlbCcsIGlkOiAnaGVhZGVyLXRlbXBsYXRlLXNlbGVjdCcgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJoZWFkZXItdGVtcGxhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlbGVjdGVkSGVhZGVySWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlbGVjdGVkSGVhZGVySWQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInN0YW5kYXJkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN4PXt7ICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YmVmb3JlJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ2dyZXkuNDAwJyB9LCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmFmdGVyJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9IH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge2hlYWRlclRlbXBsYXRlcy5tYXAoKHRwbCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0ga2V5PXt0cGwuaWR9IHZhbHVlPXt0cGwuaWR9Pnt0cGwubmFtZX08L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9UZXh0RmllbGQ+XG4gICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0SGVhZGVyRWRpdE1vZGUoKHYpID0+ICF2KX0gdGl0bGU9e2hlYWRlckVkaXRNb2RlID8gJ0Nsb3NlIGVkaXRvcicgOiAnRWRpdCB0ZW1wbGF0ZSd9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEVkaXRJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd05ld0hlYWRlcigodikgPT4gIXYpfSB0aXRsZT17c2hvd05ld0hlYWRlciA/ICdDYW5jZWwgbmV3IHRlbXBsYXRlJyA6ICdBZGQgbmV3IHRlbXBsYXRlJ30+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QWRkSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAge2hlYWRlckVkaXRNb2RlICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImhlYWRlci1kcmFmdC1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e2RyYWZ0SGVhZGVySHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXREcmFmdEhlYWRlckh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs4fSBmdWxsV2lkdGggbXVsdGlsaW5lIHZhcmlhbnQ9XCJzdGFuZGFyZFwiIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0SGVhZGVyRWRpdE1vZGUoZmFsc2UpfSB0aXRsZT1cIkNhbmNlbCBlZGl0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2F2ZUhlYWRlckVkaXRzKCk7IHNldEhlYWRlckVkaXRNb2RlKGZhbHNlKTsgfX0gdGl0bGU9XCJTYXZlIGVkaXRzXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIHtzaG93TmV3SGVhZGVyICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1mb3JtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiaGVhZGVyLW5ldy1uYW1lXCIgbGFiZWw9XCJUZW1wbGF0ZSBuYW1lXCIgdHlwZT1cInRleHRcIiB2YWx1ZT17bmV3SGVhZGVyTmFtZX0gb25DaGFuZ2U9eyhlKSA9PiBzZXROZXdIZWFkZXJOYW1lKGUudGFyZ2V0LnZhbHVlKX0gZnVsbFdpZHRoIHZhcmlhbnQ9XCJzdGFuZGFyZFwiIHN4PXt7IG1iOiAxLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImhlYWRlci1uZXctaHRtbFwiIGxhYmVsPVwiVGVtcGxhdGUgSFRNTFwiIHZhbHVlPXtuZXdIZWFkZXJIdG1sfSBvbkNoYW5nZT17KGUpID0+IHNldE5ld0hlYWRlckh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs2fSBmdWxsV2lkdGggbXVsdGlsaW5lIHZhcmlhbnQ9XCJzdGFuZGFyZFwiIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzZXRTaG93TmV3SGVhZGVyKGZhbHNlKTsgc2V0TmV3SGVhZGVyTmFtZSgnJyk7IHNldE5ld0hlYWRlckh0bWwoJycpOyB9fSB0aXRsZT1cIkNhbmNlbCBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Q2xvc2VJY29uMiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBhZGROZXdIZWFkZXJUZW1wbGF0ZSgpOyBzZXRTaG93TmV3SGVhZGVyKGZhbHNlKTsgfX0gdGl0bGU9XCJTYXZlIG5ldyB0ZW1wbGF0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTYXZlSWNvbiBmb250U2l6ZT1cIm1lZGl1bVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQWR2YW5jZWRUb2dnbGUoJ2hlYWRlcicpfVxuICAgICAgICAgICAgICAgICAgICAgIGVuZEljb249e1xuICAgICAgICAgICAgICAgICAgICAgICAgPEV4cGFuZE1vcmVJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBpc0FkdmFuY2VkT3BlbignaGVhZGVyJykgPyAncm90YXRlKDE4MGRlZyknIDogJ3JvdGF0ZSgwZGVnKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjJzIGVhc2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25TZWxmOiAnZmxleC1zdGFydCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndGV4dC5zZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgJyY6aG92ZXInOiB7IGJhY2tncm91bmRDb2xvcjogJ2FjdGlvbi5ob3ZlcicgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICBBZHZhbmNlZCBzZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPENvbGxhcHNlIGluPXtpc0FkdmFuY2VkT3BlbignaGVhZGVyJyl9IHRpbWVvdXQ9XCJhdXRvXCIgdW5tb3VudE9uRXhpdD5cbiAgICAgICAgICAgICAgICAgICAgICA8Qm94IHN4PXt7IG10OiAyIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPERpdmlkZXIgc3g9e3sgbWI6IDIgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxQYWRkaW5nQ29udHJvbHMgbGFiZWw9XCJTZWN0aW9uIHBhZGRpbmcgKHB4KVwiIHZhbHVlPXtoZWFkZXJQYWRkaW5nfSBvbkNoYW5nZT17c2V0SGVhZGVyUGFkZGluZ30gcGVyc2lzdEtleT1cImhlYWRlcjpwYWRkaW5nXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgPC9Db2xsYXBzZT5cbiAgICAgICAgICAgICAgPC9TZWN0aW9uQWNjb3JkaW9uPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgey8qIERyYWdnYWJsZSBzZWN0aW9ucyAoaGVybywgYm9keSwgYmFubmVyKSAqL31cbiAgICAgICAgICAgIDxEbmRDb250ZXh0XG4gICAgICAgICAgICAgIHNlbnNvcnM9e3NlbnNvcnN9XG4gICAgICAgICAgICAgIGNvbGxpc2lvbkRldGVjdGlvbj17Y2xvc2VzdENlbnRlcn1cbiAgICAgICAgICAgICAgbW9kaWZpZXJzPXtbcmVzdHJpY3RUb1ZlcnRpY2FsQXhpc119XG4gICAgICAgICAgICAgIG9uRHJhZ0VuZD17aGFuZGxlU2VjdGlvbkRyYWdFbmR9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxTb3J0YWJsZUNvbnRleHQgaXRlbXM9e3NlY3Rpb25PcmRlcn0gc3RyYXRlZ3k9e3ZlcnRpY2FsTGlzdFNvcnRpbmdTdHJhdGVneX0+XG4gICAgICAgICAgICAgICAge3NlY3Rpb25PcmRlci5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoaWQgPT09ICdoZXJvJyAmJiBzaG93SGVyb1NlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNPcGVuID0gb3BlblNlY3Rpb24gPT09ICdoZXJvJztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxNZW1vaXplZFNvcnRhYmxlSGVyb1NlY3Rpb24ga2V5PVwiaGVyb1wiIGlzT3Blbj17aXNPcGVufSAvPjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gJ2Jhbm5lcicgJiYgc2hvd0Jhbm5lclNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNPcGVuID0gb3BlblNlY3Rpb24gPT09ICdiYW5uZXInO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPE1lbW9pemVkU29ydGFibGVCYW5uZXJTZWN0aW9uIGtleT1cImJhbm5lclwiIGlzT3Blbj17aXNPcGVufSAvPjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmIChpZC5zdGFydHNXaXRoKCdib2R5LScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSBib2R5U2VjdGlvbnMuZmluZCgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWN0aW9uKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNPcGVuID0gb3BlblNlY3Rpb24gPT09IGlkO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gPE1lbW9pemVkU29ydGFibGVCb2R5U2VjdGlvbiBrZXk9e2Bib2R5LSR7c2VjdGlvbi5pZH1gfSBzZWN0aW9uPXtzZWN0aW9ufSBpc09wZW49e2lzT3Blbn0gLz47XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgPC9Tb3J0YWJsZUNvbnRleHQ+XG4gICAgICAgICAgICA8L0RuZENvbnRleHQ+XG5cbiAgICAgICAgICAgIHsvKiBGb290ZXIgc2VjdGlvbiAqL31cbiAgICAgICAgICAgIHtzaG93Rm9vdGVyU2VjdGlvbiAmJiAoXG4gICAgICAgICAgICAgIDxTZWN0aW9uQWNjb3JkaW9uXG4gICAgICAgICAgICAgICAgaWQ9XCJsZWZ0LWZvb3RlclwiXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJGb290ZXJcIlxuICAgICAgICAgICAgICAgIGV4cGFuZGVkPXtvcGVuU2VjdGlvbiA9PT0gJ2Zvb3Rlcid9XG4gICAgICAgICAgICAgICAgb25Ub2dnbGU9eygpID0+IGhhbmRsZUFjY29yZGlvblRvZ2dsZSgnZm9vdGVyJyl9XG4gICAgICAgICAgICAgICAgYWN0aW9ucz17XG4gICAgICAgICAgICAgICAgICA8TW9yZUFjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM9e1tcbiAgICAgICAgICAgICAgICAgICAgICB7IGxhYmVsOiAnTW92ZSB1cCcsIGljb246IDxBcnJvd1Vwd2FyZEljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+LCBkaXNhYmxlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdNb3ZlIGRvd24nLCBpY29uOiA8QXJyb3dEb3dud2FyZEljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+LCBkaXNhYmxlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdDbG9uZScsIGljb246IDxDb250ZW50Q29weUljb24gZm9udFNpemU9XCJzbWFsbFwiIC8+LCBkaXNhYmxlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICAgIHsgbGFiZWw6ICdEZWxldGUnLCBpY29uOiA8RGVsZXRlSWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz4sIG9uQ2xpY2s6ICgpID0+IHJlbW92ZUZvb3RlclNlY3Rpb24oKSB9LFxuICAgICAgICAgICAgICAgICAgICBdfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGV0YWlsc1N4PXt7IHB0OiAxLjI1IH19XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHsvKiBSZW5kZXIgb25seSB0aGUgYWN0aXZlIGZvb3RlciB0ZW1wbGF0ZSB0aHVtYm5haWwgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleFdyYXA6ICd3cmFwJywgYm9yZGVyUmFkaXVzOiAnNnB4Jywgb3ZlcmZsb3c6ICdoaWRkZW4nIH19PlxuICAgICAgICAgICAgICAgICAgICA8Qm94IHN4PXt7IGJvcmRlcjogJzFweCBzb2xpZCcsIGJvcmRlckNvbG9yOiAnZGl2aWRlcicsIGJvcmRlclJhZGl1czogMSwgd2lkdGg6ICcxMDAlJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWN0aXZlVHBsID0gZm9vdGVyVGVtcGxhdGVzLmZpbmQodHBsID0+IHRwbC5pZCA9PT0gc2VsZWN0ZWRGb290ZXJJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCFhY3RpdmVUcGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YWN0aXZlVHBsLmlkfSBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGZsZXhEaXJlY3Rpb246ICdjb2x1bW4nLCBhbGlnbkl0ZW1zOiAnY2VudGVyJ319PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SHRtbFRodW1ibmFpbCBodG1sPXthY3RpdmVUcGwuaHRtbH0gd2lkdGg9ezYwMH0gZm9yY2VBdXRvSGVpZ2h0IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgey8qIFRlbXBsYXRlIHNlbGVjdG9yIHJvdyAtIG1vdmVkIGJlbG93IHRodW1ibmFpbHMgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlbXBsYXRlLXJvd1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgYWxpZ25JdGVtczogJ2NlbnRlcicsIG1hcmdpblRvcDogJzEuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICBpZD1cImZvb3Rlci10ZW1wbGF0ZS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgIElucHV0TGFiZWxQcm9wcz17eyBpZDogJ2Zvb3Rlci10ZW1wbGF0ZS1sYWJlbCcgfX1cbiAgICAgICAgICAgICAgICAgICAgICBTZWxlY3RQcm9wcz17eyBsYWJlbElkOiAnZm9vdGVyLXRlbXBsYXRlLWxhYmVsJywgaWQ6ICdmb290ZXItdGVtcGxhdGUtc2VsZWN0JyB9fVxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJmb290ZXItdGVtcGxhdGVcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWxlY3RlZEZvb3RlcklkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VsZWN0ZWRGb290ZXJJZChlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInN0YW5kYXJkXCJcbiAgICAgICAgICAgICAgICAgICAgICBzeD17eyAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2Zvb3RlclRlbXBsYXRlcy5tYXAoKHRwbCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIGtleT17dHBsLmlkfSB2YWx1ZT17dHBsLmlkfT57dHBsLm5hbWV9PC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9UZXh0RmllbGQ+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldEZvb3RlckVkaXRNb2RlKCh2KSA9PiAhdil9IHRpdGxlPXtmb290ZXJFZGl0TW9kZSA/ICdDbG9zZSBlZGl0b3InIDogJ0VkaXQgdGVtcGxhdGUnfT5cbiAgICAgICAgICAgICAgICAgICAgICA8RWRpdEljb24gZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHNldFNob3dOZXdGb290ZXIoKHYpID0+ICF2KX0gdGl0bGU9e3Nob3dOZXdGb290ZXIgPyAnQ2FuY2VsIG5ldyB0ZW1wbGF0ZScgOiAnQWRkIG5ldyB0ZW1wbGF0ZSd9PlxuICAgICAgICAgICAgICAgICAgICAgIDxBZGRJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICB7Zm9vdGVyRWRpdE1vZGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImZvb3Rlci1kcmFmdC1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e2RyYWZ0Rm9vdGVySHRtbH0gb25DaGFuZ2U9eyhlKSA9PiBzZXREcmFmdEZvb3Rlckh0bWwoZS50YXJnZXQudmFsdWUpfSByb3dzPXs4fSBmdWxsV2lkdGggbXVsdGlsaW5lIHZhcmlhbnQ9XCJzdGFuZGFyZFwiIHN4PXt7IGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibmV3LXRlbXBsYXRlLWFjdGlvbnNcIiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogJ3ZhcigtLWdhcC0yKScsIG1hcmdpblRvcDogJzAuNXJlbScgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoKSA9PiBzZXRGb290ZXJFZGl0TW9kZShmYWxzZSl9IHRpdGxlPVwiQ2FuY2VsIGVkaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb3NlSWNvbjIgZm9udFNpemU9XCJtZWRpdW1cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBzYXZlRm9vdGVyRWRpdHMoKTsgc2V0Rm9vdGVyRWRpdE1vZGUoZmFsc2UpOyB9fSB0aXRsZT1cIlNhdmUgZWRpdHNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAge3Nob3dOZXdGb290ZXIgJiYgKFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm5ldy10ZW1wbGF0ZS1mb3JtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZCBpZD1cImZvb3Rlci1uZXctbmFtZVwiIGxhYmVsPVwiVGVtcGxhdGUgbmFtZVwiIHR5cGU9XCJ0ZXh0XCIgdmFsdWU9e25ld0Zvb3Rlck5hbWV9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3Rm9vdGVyTmFtZShlLnRhcmdldC52YWx1ZSl9IGZ1bGxXaWR0aCB2YXJpYW50PVwic3RhbmRhcmRcIiBzeD17eyBtYjogMSwgJyYgLk11aUlucHV0LXVuZGVybGluZTpiZWZvcmUnOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAnZ3JleS40MDAnIH0sICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YWZ0ZXInOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknIH0sfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkIGlkPVwiZm9vdGVyLW5ldy1odG1sXCIgbGFiZWw9XCJUZW1wbGF0ZSBIVE1MXCIgdmFsdWU9e25ld0Zvb3Rlckh0bWx9IG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3Rm9vdGVySHRtbChlLnRhcmdldC52YWx1ZSl9IHJvd3M9ezZ9IGZ1bGxXaWR0aCBtdWx0aWxpbmUgdmFyaWFudD1cInN0YW5kYXJkXCIgc3g9e3sgZm9udEZhbWlseTogJ21vbm9zcGFjZScsICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YmVmb3JlJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ2dyZXkuNDAwJyB9LCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmFmdGVyJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9LH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJuZXctdGVtcGxhdGUtYWN0aW9uc1wiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZ2FwOiAndmFyKC0tZ2FwLTIpJywgbWFyZ2luVG9wOiAnMC41cmVtJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgc2V0U2hvd05ld0Zvb3RlcihmYWxzZSk7IHNldE5ld0Zvb3Rlck5hbWUoJycpOyBzZXROZXdGb290ZXJIdG1sKCcnKTsgfX0gdGl0bGU9XCJDYW5jZWwgbmV3IHRlbXBsYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDbG9zZUljb24yIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eygpID0+IHsgYWRkTmV3Rm9vdGVyVGVtcGxhdGUoKTsgc2V0U2hvd05ld0Zvb3RlcihmYWxzZSk7IH19IHRpdGxlPVwiU2F2ZSBuZXcgdGVtcGxhdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFNhdmVJY29uIGZvbnRTaXplPVwibWVkaXVtXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIHNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUFkdmFuY2VkVG9nZ2xlKCdmb290ZXInKX1cbiAgICAgICAgICAgICAgICAgICAgZW5kSWNvbj17XG4gICAgICAgICAgICAgICAgICAgICAgPEV4cGFuZE1vcmVJY29uXG4gICAgICAgICAgICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGlzQWR2YW5jZWRPcGVuKCdmb290ZXInKSA/ICdyb3RhdGUoMTgwZGVnKScgOiAncm90YXRlKDBkZWcpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjJzIGVhc2UnXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICAgICAgICBhbGlnblNlbGY6ICdmbGV4LXN0YXJ0JyxcbiAgICAgICAgICAgICAgICAgICAgICBtdDogMixcbiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3RleHQuc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgJyY6aG92ZXInOiB7IGJhY2tncm91bmRDb2xvcjogJ2FjdGlvbi5ob3ZlcicgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBBZHZhbmNlZCBzZXR0aW5nc1xuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICA8Q29sbGFwc2UgaW49e2lzQWR2YW5jZWRPcGVuKCdmb290ZXInKX0gdGltZW91dD1cImF1dG9cIiB1bm1vdW50T25FeGl0PlxuICAgICAgICAgICAgICAgICAgICA8Qm94IHN4PXt7IG10OiAyIH19PlxuICAgICAgICAgICAgICAgICAgICAgIDxEaXZpZGVyIHN4PXt7IG1iOiAyIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPFBhZGRpbmdDb250cm9scyBsYWJlbD1cIlNlY3Rpb24gcGFkZGluZyAocHgpXCIgdmFsdWU9e2Zvb3RlclBhZGRpbmd9IG9uQ2hhbmdlPXtzZXRGb290ZXJQYWRkaW5nfSBwZXJzaXN0S2V5PVwiZm9vdGVyOnBhZGRpbmdcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgIDwvQ29sbGFwc2U+XG4gICAgICAgICAgICAgIDwvU2VjdGlvbkFjY29yZGlvbj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBVbml2ZXJzYWwgR2VuZXJhdGUgRURNIGJ1dHRvbiBhbmQgQWRkIFNlY3Rpb24gYnV0dG9uICovfVxuICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnLCBnYXA6ICd2YXIoLS1nYXAtMiknLCBtYXJnaW5Ub3A6ICcxcmVtJyB9fT5cbiAgICAgICAgICAgICAgPEJ1dHRvbiBvbkNsaWNrPXtnZW5lcmF0ZUFsbFNlY3Rpb25zfT5HZW5lcmF0ZSBFRE08L0J1dHRvbj5cbiAgICAgICAgICAgICAgPGRpdiByZWY9e2FkZFNlY3Rpb25SZWZ9IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnLCBtYXJnaW5MZWZ0OiAnMXJlbScgfX0+XG4gICAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gc2V0U2hvd0FkZFNlY3Rpb25NZW51KCh2KSA9PiAhdil9IHRpdGxlPVwiQWRkIHNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgIEFkZCBTZWN0aW9uIHtzaG93QWRkU2VjdGlvbk1lbnUgPyA8RXhwYW5kTGVzc0ljb24gc3g9e3sgbWw6IDAuNSB9fSAvPiA6IDxFeHBhbmRNb3JlSWNvbiBzeD17eyBtbDogMC41IH19IC8+fVxuICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIHtzaG93QWRkU2VjdGlvbk1lbnUgJiYgKFxuICAgICAgICAgICAgICAgICAgPFBhcGVyIGVsZXZhdGlvbj17M30gc3g9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIHRvcDogJzEwMCUnLCBsZWZ0OiAwLCBtdDogMC41LCB6SW5kZXg6IDEwLCBtaW5XaWR0aDogJzEycmVtJywgbWF4SGVpZ2h0OiAnMTJyZW0nLCBvdmVyZmxvd1k6ICdhdXRvJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgPFN0YWNrPlxuICAgICAgICAgICAgICAgICAgICAgIHthdmFpbGFibGVTZWN0aW9uVHlwZXMubWFwKChvcHQpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b24ga2V5PXtvcHQua2V5fSBvbkNsaWNrPXsoKSA9PiBhZGRTZWN0aW9uQnlUeXBlKG9wdC5rZXkpfSBzeD17eyBqdXN0aWZ5Q29udGVudDogJ2ZsZXgtc3RhcnQnLCBweDogMiB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge29wdC5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICA8L1N0YWNrPlxuICAgICAgICAgICAgICAgICAgPC9QYXBlcj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICkgOiBudWxsfVxuICAgIDwvZGl2Pn1cbiAgICAgICAgcmlnaHRPcGVuPXtzaG93QnJhbmRQYW5lbH1cbiAgICAgICAgb25SaWdodENsb3NlPXsoKSA9PiBzZXRTaG93QnJhbmRQYW5lbChmYWxzZSl9XG4gICAgICAgIG9uUmlnaHRUb2dnbGU9eygpID0+IHNldFNob3dCcmFuZFBhbmVsKCh2KT0+IXYpfVxuICAgICAgICBwcm9ncmVzcz17cHJvZ3Jlc3N9XG4gICAgICAgIGJ1ZmZlcj17YnVmZmVyfVxuICAgICAgICBsb2FkaW5nPXtsb2FkaW5nfVxuICAgICAgICByaWdodD17XG4gICAgICAgICAgPEJveCBjbGFzc05hbWU9XCJzdW1tYXJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPEJveCBzeD17eyBwOiAwIH19PlxuICAgICAgICAgICAgICB7ZGVib3VuY2VkTG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIHZhcmlhbnQ9XCJ0ZXh0XCIgYW5pbWF0aW9uPXtza2VsQW5pbX0gd2lkdGg9XCI3MCVcIiBoZWlnaHQ9ezMyfSAvPlxuICAgICAgICAgICAgICAgICAgPFNrZWxldG9uIHZhcmlhbnQ9XCJ0ZXh0XCIgYW5pbWF0aW9uPXtza2VsQW5pbX0gd2lkdGg9XCI1MCVcIiBoZWlnaHQ9ezIwfSAvPlxuICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBpbmZvID0gZGV0ZWN0UGFnZUluZm8oYnJhbmRVcmxJbnB1dCwgYW5hbHl6ZURhdGEpO1xuICAgICAgICAgICAgICAgICAgY29uc3QgdGl0bGUgPSBpbml0aWFsU3VtbWFyeT8udGl0bGUgPz8gaW5mby50aXRsZTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHN1YmxpbmUgPSBpbml0aWFsU3VtbWFyeT8uc3VibGluZSA/PyBpbmZvLnN1YmxpbmU7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJoNlwiIGNvbXBvbmVudD1cImgyXCI+e3RpdGxlfTwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgICAgICB7c3VibGluZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiYm9keTJcIiBzeD17eyBjb2xvcjogJ3RleHQuc2Vjb25kYXJ5JywgbXQ6IDAuNSB9fT57c3VibGluZX08L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pKClcbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgPERpdmlkZXIgc3g9e3sgbXk6IDIgfX0gLz5cbiAgICAgICAgICAgIHsvKiBUYWJzIGhlYWRlciBmb3IgU3VtbWFyeSBzZWN0aW9ucyB3aXRoIG9wdGlvbmFsIENvbGxlY3Rpb24gdGFiICovfVxuICAgICAgICAgICAge2RlYm91bmNlZExvYWRpbmcgPyAoXG4gICAgICAgICAgICAgIDxCb3ggc3g9e3sgZGlzcGxheTogJ2ZsZXgnLCBnYXA6IDIsIG1iOiAyIH19PlxuICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB2YXJpYW50PVwicm91bmRlZFwiIGFuaW1hdGlvbj17c2tlbEFuaW19IHdpZHRoPXs4MH0gaGVpZ2h0PXszNn0gLz5cbiAgICAgICAgICAgICAgICA8U2tlbGV0b24gdmFyaWFudD1cInJvdW5kZWRcIiBhbmltYXRpb249e3NrZWxBbmltfSB3aWR0aD17ODB9IGhlaWdodD17MzZ9IC8+XG4gICAgICAgICAgICAgICAgPFNrZWxldG9uIHZhcmlhbnQ9XCJyb3VuZGVkXCIgYW5pbWF0aW9uPXtza2VsQW5pbX0gd2lkdGg9ezgwfSBoZWlnaHQ9ezM2fSAvPlxuICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB2YXJpYW50PVwicm91bmRlZFwiIGFuaW1hdGlvbj17c2tlbEFuaW19IHdpZHRoPXs4MH0gaGVpZ2h0PXszNn0gLz5cbiAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8VGFicyB2YWx1ZT17c3VtbWFyeVRhYn0gb25DaGFuZ2U9eyhfLCB2KSA9PiBzZXRTdW1tYXJ5VGFiKHYpfSBhcmlhLWxhYmVsPVwic3VtbWFyeSB0YWJzXCIgc3g9e3sgbWI6IDIgfX0+XG4gICAgICAgICAgICAgICAge2RldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyAmJiA8VGFiIGxhYmVsPVwiQ29sbGVjdGlvblwiIHN4PXt7IG1pbldpZHRoOiA4MCwgcGFkZGluZzogJzEycHggMTJweCcgfX0gLz59XG4gICAgICAgICAgICAgICAgPFRhYiBsYWJlbD1cIlByb2R1Y3RcIiBzeD17eyBtaW5XaWR0aDogODAsIHBhZGRpbmc6ICcxMnB4IDEycHgnIH19IC8+XG4gICAgICAgICAgICAgICAgPFRhYiBsYWJlbD1cIkFzc2V0c1wiIHN4PXt7IG1pbldpZHRoOiA4MCwgcGFkZGluZzogJzEycHggMTJweCcgfX0gLz5cbiAgICAgICAgICAgICAgICA8VGFiIGxhYmVsPVwiQnJhbmRcIiBzeD17eyBtaW5XaWR0aDogODAsIHBhZGRpbmc6ICcxMnB4IDEycHgnIH19IC8+XG4gICAgICAgICAgICAgIDwvVGFicz5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBDb2xsZWN0aW9uIFRhYiBQYW5lbCAqL31cbiAgICAgICAgICAgIHtsb2FkaW5nICYmIGRldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyAmJiBzdW1tYXJ5VGFiID09PSAwICYmIChcbiAgICAgICAgICAgICAgPFN0YWNrIHNwYWNpbmc9ezF9IHN4PXt7IG1iOjIgfX0+XG4gICAgICAgICAgICAgICAgPFNrZWxldG9uIHZhcmlhbnQ9XCJ0ZXh0XCIgYW5pbWF0aW9uPXtza2VsQW5pbX0gd2lkdGg9XCI0MCVcIiBoZWlnaHQ9ezI0fSAvPlxuICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB2YXJpYW50PVwicm91bmRlZFwiIGFuaW1hdGlvbj17c2tlbEFuaW19IHdpZHRoPVwiMTAwJVwiIGhlaWdodD17Mzh9IC8+XG4gICAgICAgICAgICAgICAgPFNrZWxldG9uIHZhcmlhbnQ9XCJyb3VuZGVkXCIgYW5pbWF0aW9uPXtza2VsQW5pbX0gd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PXsyMjB9IC8+XG4gICAgICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgeyFkZWJvdW5jZWRMb2FkaW5nICYmIGRldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyAmJiBzdW1tYXJ5VGFiID09PSAwICYmIChcbiAgICAgICAgICAgICAgPEJveCBzeD17eyBtYjogMiB9fT5cbiAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwic3VidGl0bGUyXCIgc3g9e3sgY29sb3I6ICd0ZXh0LnNlY29uZGFyeScsIG1iOiAxIH19PkNvbGxlY3Rpb24gcHJvZHVjdHM8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgPEJveCBzeD17eyBkaXNwbGF5OiAnZmxleCcsIGdhcDogMSwgbWI6IDEgfX0+XG4gICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgIGlkPVwiY29sbGVjdGlvbi1zZWFyY2hcIlxuICAgICAgICAgICAgICAgICAgICBuYW1lPVwiY29sbGVjdGlvbi1zZWFyY2hcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlNlYXJjaCBwcm9kdWN0cy4uLlwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjb2xsZWN0aW9uUXVlcnl9XG4gICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q29sbGVjdGlvblF1ZXJ5KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZWRcIlxuICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc2VsZWN0aW9uIGFuZCBpbi1mbGlnaHQgd29ya1xuICAgICAgICAgICAgICAgICAgICAgIHNldENvbGxlY3Rpb25TZWxlY3Rpb24oW10pO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsZWN0aW9uRGVib3VuY2VSZWYuY3VycmVudCkgY2xlYXJUaW1lb3V0KGNvbGxlY3Rpb25EZWJvdW5jZVJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uQWJvcnRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgc2VsZWN0aW9uQWJvcnRSZWYuY3VycmVudC5hYm9ydCgpOyB9IGNhdGNoIHt9XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIHNldENvbGxlY3Rpb25FbnJpY2hpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEVtcHR5IHRoZSBDb2xsZWN0aW9uIHNlY3Rpb24gaWYgcHJlc2VudFxuICAgICAgICAgICAgICAgICAgICAgIHNldEJvZHlTZWN0aW9ucyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWN0aW9uID0gbmV4dC5maW5kKHMgPT4gcy5uYW1lID09PSAnQ29sbGVjdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24pIHsgc2VjdGlvbi51cmxzID0gW107IHNlY3Rpb24ucHJvZHVjdHMgPSBbXTsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIENsZWFyXG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIGhlaWdodDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgPERhdGFHcmlkXG4gICAgICAgICAgICAgICAgICByb3dIZWlnaHQ9ezY0fVxuXG4gICAgICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICAgICAgJyYgLk11aURhdGFHcmlkLWNlbGw6Zm9jdXMsJiAuTXVpRGF0YUdyaWQtY2VsbDpmb2N1cy13aXRoaW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAnJiAuTXVpRGF0YUdyaWQtcm93Lk11aS1zZWxlY3RlZCwgJiAuTXVpRGF0YUdyaWQtcm93Lk11aS1zZWxlY3RlZDpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICcmIC5NdWlEYXRhR3JpZC1jZWxsLk11aS1zZWxlY3RlZCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICcmIC5NdWlEYXRhR3JpZC1yb3c6Zm9jdXMsICYgLk11aURhdGFHcmlkLXJvdzpmb2N1cy13aXRoaW4nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICByb3dzPXtjb2xsZWN0aW9uSXRlbXMuZmlsdGVyKHIgPT4gIWNvbGxlY3Rpb25RdWVyeSB8fCByLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoY29sbGVjdGlvblF1ZXJ5LnRvTG93ZXJDYXNlKCkpKX1cbiAgICAgICAgICAgICAgICAgICAgY29sdW1ucz17KFtcbiAgICAgICAgICAgICAgICAgICAgICB7IGZpZWxkOiAnaW1hZ2UnLCBoZWFkZXJOYW1lOiAnSW1hZ2UnLCB3aWR0aDogODgsIHNvcnRhYmxlOiBmYWxzZSwgcmVuZGVyQ2VsbDogKHBhcmFtcykgPT4gcGFyYW1zLnZhbHVlID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBzeD17eyBwOiAwLjUgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggY29tcG9uZW50PVwiaW1nXCIgc3JjPXtwYXJhbXMudmFsdWUgYXMgc3RyaW5nfSBhbHQ9XCJ0aHVtYlwiIHN4PXt7IHdpZHRoOiA1NiwgaGVpZ2h0OiA1Niwgb2JqZWN0Rml0OiAnY292ZXInLCBib3JkZXJSYWRpdXM6IDEsIGRpc3BsYXk6ICdibG9jaycgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICAgICkgOiBudWxsIH0gYXMgR3JpZENvbERlZixcbiAgICAgICAgICAgICAgICAgICAgICB7IGZpZWxkOiAndGl0bGUnLCBoZWFkZXJOYW1lOiAnVGl0bGUnLCBmbGV4OiAxLCBtaW5XaWR0aDogMTYwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiAncHJpY2UnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlck5hbWU6ICdQcmljZScsIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyQ2VsbDogKHBhcmFtcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByYXcgPSAocGFyYW1zLnZhbHVlID8/ICcnKSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZCA9IGZvcm1hdENvbGxlY3Rpb25QcmljZShyYXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkaXNwbGF5ID0gZm9ybWF0dGVkIHx8IChyYXcgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gPHNwYW4gc3R5bGU9e3sgd2hpdGVTcGFjZTogJ25vd3JhcCcgfX0+e2Rpc3BsYXl9PC9zcGFuPjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIHsgZmllbGQ6ICd1cmwnLCBoZWFkZXJOYW1lOiAnVVJMJywgZmxleDogMSwgbWluV2lkdGg6IDIwMCB9XG4gICAgICAgICAgICAgICAgICAgIF0pfVxuICAgICAgICAgICAgICAgICAgICBjaGVja2JveFNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICBzbG90UHJvcHM9e3sgYmFzZUNoZWNrYm94OiB7IGNvbG9yOiAncHJpbWFyeScsIHNpemU6ICdzbWFsbCcgfSB9fVxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlUm93U2VsZWN0aW9uT25DbGlja1xuICAgICAgICAgICAgICAgICAgICBsb2FkaW5nPXtjb2xsZWN0aW9uTG9hZGluZ31cbiAgICAgICAgICAgICAgICAgICAgb25Sb3dTZWxlY3Rpb25Nb2RlbENoYW5nZT17KG1vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsID0gKG1vZGVsIGFzIEFycmF5PHN0cmluZyB8IG51bWJlcj4pLm1hcChTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZTZWwgPSBsYXN0Q29sbGVjdGlvblNlbGVjdGlvblJlZi5jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICAgIC8vIElkZW50aWZ5IG5ld2x5IGFkZGVkIGlkcyAoZmlyc3QgcGljayBzY2VuYXJpbyA9PiBhbGwgYXJlIG5ldywgdXNlIGxhc3QgZm9yIHN0YWJpbGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdseUFkZGVkID0gc2VsLmZpbHRlcihpZCA9PiAhcHJldlNlbC5pbmNsdWRlcyhpZCkpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZWQgPSBwcmV2U2VsLmZpbHRlcihpZCA9PiAhc2VsLmluY2x1ZGVzKGlkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0Q29sbGVjdGlvblNlbGVjdGlvbihzZWwpO1xuICAgICAgICAgICAgICAgICAgICAgIGxhc3RDb2xsZWN0aW9uU2VsZWN0aW9uUmVmLmN1cnJlbnQgPSBzZWw7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gRGVib3VuY2UgZW5yaWNobWVudCB0byBhdm9pZCBidXJzdHMgb24gcmFwaWQgc2VsZWN0aW9uIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sbGVjdGlvbkRlYm91bmNlUmVmLmN1cnJlbnQpIGNsZWFyVGltZW91dChjb2xsZWN0aW9uRGVib3VuY2VSZWYuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbkRlYm91bmNlUmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluY3JlbWVudCB2ZXJzaW9uIGFuZCBjYW5jZWwgYW55IGluLWZsaWdodCBmZXRjaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gKytzZWxlY3Rpb25WZXJzaW9uUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uQWJvcnRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyBzZWxlY3Rpb25BYm9ydFJlZi5jdXJyZW50LmFib3J0KCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uQWJvcnRSZWYuY3VycmVudCA9IGFjO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWxlY3RlZCA9IGNvbGxlY3Rpb25JdGVtcy5maWx0ZXIociA9PiBzZWwuaW5jbHVkZXMoci5pZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29sbGVjdGlvbkVucmljaGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1aWxkIHByb21pc2VzIGZvciBzZWxlY3RlZCBpdGVtcywgdXNpbmcgY2FjaGUgd2hlcmUgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gc2VsZWN0ZWQubWFwKGFzeW5jIChyb3cpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZWQgPSBwcm9kdWN0Q2FjaGVSZWYuY3VycmVudC5nZXQocm93LnVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlZCkgcmV0dXJuIHsgb2s6IHRydWUgYXMgY29uc3QsIHVybDogcm93LnVybCwgZGF0YTogY2FjaGVkIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGZldGNoKGAvYXBpL3Byb2R1Y3Q/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHJvdy51cmwpfWAsIHsgc2lnbmFsOiBhYy5zaWduYWwgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXNwLm9rKSB0aHJvdyBuZXcgRXJyb3IoYHByb2R1Y3QgZmV0Y2ggZmFpbGVkOiAke3Jlc3Auc3RhdHVzfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBkID0gYXdhaXQgcmVzcC5qc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHBkIGFzIFByb2R1Y3REYXRhO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBtZXRhZGF0YURlc2NyaXB0aW9uIGlzIHByZXNlbnQ7IGlmIG1pc3NpbmcgYnV0IGRlc2NyaXB0aW9uIGV4aXN0cywgY29weSBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCdtZXRhZGF0YURlc2NyaXB0aW9uJyBpbiBkYXRhKSB8fCB0eXBlb2YgKGRhdGEgYXMgYW55KS5tZXRhZGF0YURlc2NyaXB0aW9uID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGRhdGEgYXMgYW55KS5tZXRhZGF0YURlc2NyaXB0aW9uID0gKGRhdGEgYXMgYW55KS5kZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdENhY2hlUmVmLmN1cnJlbnQuc2V0KHJvdy51cmwsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IG9rOiB0cnVlIGFzIGNvbnN0LCB1cmw6IHJvdy51cmwsIGRhdGEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBhIG5ld2VyIHNlbGVjdGlvbiBzdGFydGVkLCBkcm9wIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZlcnNpb24gIT09IHNlbGVjdGlvblZlcnNpb25SZWYuY3VycmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kczogUHJvZHVjdERhdGFbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cmxzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLmZvckVhY2goKHJlcywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAnZnVsZmlsbGVkJyAmJiByZXMudmFsdWUub2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2RzLnB1c2gocmVzLnZhbHVlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJscy5wdXNoKHNlbGVjdGVkW2ldLnVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignU2VsZWN0aW9uIHByb2R1Y3QgZmV0Y2ggZmFpbGVkIGZvcicsIHNlbGVjdGVkW2ldPy51cmwsIHJlcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5ld0NvbGxlY3Rpb25TZWN0aW9uSWQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCb2R5U2VjdGlvbnMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VjdGlvbiA9IG5leHQuZmluZChzID0+IHMubmFtZSA9PT0gJ0NvbGxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kcy5sZW5ndGggPT09IDApIHJldHVybiBuZXh0OyAvLyBub3RoaW5nIHRvIGRpc3BsYXkgeWV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IChuZXh0W25leHQubGVuZ3RoIC0gMV0/LmlkIHx8IDApICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gPSB7IGlkLCBuYW1lOiAnQ29sbGVjdGlvbicsIHVybHMsIHByb2R1Y3RzOiBwcm9kcywgc2VsZWN0ZWRCb2R5SWQ6ICdwcm9kdWN0LWltYWdlLWxlZnQtY29weS1yaWdodCcsIGxvYWRpbmc6IGZhbHNlLCBhbHRlcm5hdGU6IHRydWUgfSBhcyBCb2R5U2VjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQucHVzaChzZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbGxlY3Rpb25TZWN0aW9uSWQgPSBpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi51cmxzID0gdXJscztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24ucHJvZHVjdHMgPSBwcm9kcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbGxlY3Rpb25TZWN0aW9uSWQgPSBzZWN0aW9uLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEltbWVkaWF0ZWx5IGNvbXB1dGUgc2VsZWN0aW9uIHVzaW5nIG5ld0NvbGxlY3Rpb25TZWN0aW9uSWQgYW5kIHByb2RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRQcm9kdWN0Q3R4KSBzZXRTZWxlY3RlZFByb2R1Y3RDdHgobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV3Q29sbGVjdGlvblNlY3Rpb25JZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRJbmRleCA9IHByb2RzLmxlbmd0aCAtIDE7IC8vIGRlZmF1bHQgdG8gbGFzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdseUFkZGVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENob29zZSB0aGUgbGFzdCBuZXdseSBhZGRlZCBpZDsgbWFwIHRvIGl0cyBVUkwgLT4gaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldElkID0gbmV3bHlBZGRlZFtuZXdseUFkZGVkLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Um93ID0gc2VsZWN0ZWQuZmluZChyID0+IHIuaWQgPT09IHRhcmdldElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXRSb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gdXJscy5pbmRleE9mKHRhcmdldFJvdy51cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID49IDApIG5leHRJbmRleCA9IGlkeDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhpcyBwcm9kdWN0IGZvciBzY3JvbGwvaGlnaGxpZ2h0IChzdGF5IG9uIENvbGxlY3Rpb24gdGFiIHVudGlsIHVzZXIgY2xpY2tzIGEgcHJvZHVjdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlY2VudGx5QWRkZWQoeyBzZWN0aW9uSWQ6IG5ld0NvbGxlY3Rpb25TZWN0aW9uSWQsIGluZGV4OiBuZXh0SW5kZXgsIHRzOiBEYXRlLm5vdygpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVtb3ZlZC5sZW5ndGggPiAwICYmIHNlbGVjdGVkUHJvZHVjdEN0eCAmJiBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkID09PSBuZXdDb2xsZWN0aW9uU2VjdGlvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdGVtcyB3ZXJlIHJlbW92ZWQsIGVuc3VyZSBzZWxlY3Rpb24gc3RpbGwgdmFsaWQ7IGlmIG5vdCwgbW92ZSB0byBsYXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4ID49IHByb2RzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSBwcm9kcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWNlbnRseUFkZGVkKHsgc2VjdGlvbklkOiBuZXdDb2xsZWN0aW9uU2VjdGlvbklkLCBpbmRleDogbmV4dEluZGV4LCB0czogRGF0ZS5ub3coKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJbmRleCA9IHNlbGVjdGVkUHJvZHVjdEN0eC5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkUHJvZHVjdEN0eCAmJiBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkID09PSBuZXdDb2xsZWN0aW9uU2VjdGlvbklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmVzZXJ2ZSBwcmV2aW91cyBzZWxlY3Rpb24gaWYgc3RpbGwgdmFsaWQgd2hlbiBubyBhZGRpdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldklkeCA9IHNlbGVjdGVkUHJvZHVjdEN0eC5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2SWR4ID49IDAgJiYgcHJldklkeCA8IHByb2RzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0SW5kZXggPSBwcmV2SWR4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VkID0gIXNlbGVjdGVkUHJvZHVjdEN0eCB8fCBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkICE9PSBuZXdDb2xsZWN0aW9uU2VjdGlvbklkIHx8IHNlbGVjdGVkUHJvZHVjdEN0eC5pbmRleCAhPT0gbmV4dEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkUHJvZHVjdEN0eCh7IHNlY3Rpb25JZDogbmV3Q29sbGVjdGlvblNlY3Rpb25JZCwgaW5kZXg6IG5leHRJbmRleCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZCkgYWRkTm90aWZpY2F0aW9uKCdQcm9kdWN0IGRldGFpbHMgdXBkYXRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE9wZW5TZWN0aW9uKGBib2R5LSR7bmV3Q29sbGVjdGlvblNlY3Rpb25JZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZTogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlPy5uYW1lID09PSAnQWJvcnRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTd2FsbG93IGFib3J0LCBhIG5ld2VyIHNlbGVjdGlvbiBpcyBpbi1mbGlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkTm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gZmV0Y2ggb25lIG9yIG1vcmUgc2VsZWN0ZWQgcHJvZHVjdHMuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvbiA9PT0gc2VsZWN0aW9uVmVyc2lvblJlZi5jdXJyZW50KSBzZXRDb2xsZWN0aW9uRW5yaWNoaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICByb3dTZWxlY3Rpb25Nb2RlbD17Y29sbGVjdGlvblNlbGVjdGlvbn1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIFByb2R1Y3QgVGFiIFBhbmVsICovfVxuICAgICAgICAgICAgey8qIFByb2R1Y3QgVGFiIFBhbmVsICovfVxuICAgICAgICAgICAge2xvYWRpbmcgJiYgc3VtbWFyeVRhYiA9PT0gKGRldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyA/IDEgOiAwKSAmJiAoXG4gICAgICAgICAgICAgIDxTdGFjayBzcGFjaW5nPXsxfT5cbiAgICAgICAgICAgICAgICA8U2tlbGV0b24gdmFyaWFudD1cInRleHRcIiBhbmltYXRpb249e3NrZWxBbmltfSB3aWR0aD1cIjU1JVwiIGhlaWdodD17MzB9IC8+XG4gICAgICAgICAgICAgICAgPFNrZWxldG9uIHZhcmlhbnQ9XCJyb3VuZGVkXCIgYW5pbWF0aW9uPXtza2VsQW5pbX0gd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PXs1MH0gLz5cbiAgICAgICAgICAgICAgICA8U2tlbGV0b24gdmFyaWFudD1cInJvdW5kZWRcIiBhbmltYXRpb249e3NrZWxBbmltfSB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9ezUwfSAvPlxuICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB2YXJpYW50PVwicm91bmRlZFwiIGFuaW1hdGlvbj17c2tlbEFuaW19IHdpZHRoPVwiMTAwJVwiIGhlaWdodD17MTYwfSAvPlxuICAgICAgICAgICAgICAgIDxTa2VsZXRvbiB2YXJpYW50PVwicm91bmRlZFwiIGFuaW1hdGlvbj17c2tlbEFuaW19IHdpZHRoPVwiMTAwJVwiIGhlaWdodD17NTB9IC8+XG4gICAgICAgICAgICAgICAgPFNrZWxldG9uIHZhcmlhbnQ9XCJ0ZXh0XCIgYW5pbWF0aW9uPXtza2VsQW5pbX0gd2lkdGg9XCIzNSVcIiBoZWlnaHQ9ezI0fSAvPlxuICAgICAgICAgICAgICA8L1N0YWNrPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshZGVib3VuY2VkTG9hZGluZyAmJiBzdW1tYXJ5VGFiID09PSAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nID8gMSA6IDApICYmIChcbiAgICAgICAgICAgICAgPFN0YWNrIHNwYWNpbmc9ezJ9PlxuICAgICAgICAgICAgICAgIHsoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nID8gISFzZWxlY3RlZFByb2R1Y3RDdHggOiAhIWFuYWx5emVEYXRhPy5wcm9kdWN0KSAmJiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICB7LyogVGl0bGUgKFJpY2ggdGV4dCkgKi99XG4gICAgICAgICAgICAgICAgICAgIDxCb3ggc3g9e3sgbWI6IDIgfX0gaWQ9e2RldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyAmJiBzZWxlY3RlZFByb2R1Y3RDdHggPyBgcHJvZHVjdC10aXRsZS0ke3NlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWR9LSR7c2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4fWAgOiAncHJvZHVjdC10aXRsZSd9PlxuICAgICAgICAgICAgICAgICAgICAgIDxSaWNoVGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlRpdGxlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1c3RvbUZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gKHNlbGVjdGVkUHJvZHVjdEN0eCA/ICgoYm9keVNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkKT8ucHJvZHVjdHM/LltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdPy50aXRsZSkgfHwgJycpIDogJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFuYWx5emVEYXRhPy5wcm9kdWN0Py50aXRsZSB8fCAnJykpIGFzIGFueX1cbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoaHRtbDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhbml0aXplIGlubGluZSB0byBhdm9pZCBpbmplY3RpbmcgYmxvY2sgdGFncyAoZS5nLiwgPHA+KSBpbnRvIHRoZSB0aXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhbmVkID0gc2FuaXRpemVJbmxpbmVIdG1sKGh0bWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFByb2R1Y3RDdHgpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCb2R5U2VjdGlvbnMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2kgPSBuZXh0LmZpbmRJbmRleChzID0+IHMuaWQgPT09IHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpID09PSAtMSkgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnIgPSBbLi4ubmV4dFtzaV0ucHJvZHVjdHNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyW3NlbGVjdGVkUHJvZHVjdEN0eC5pbmRleF0gPSB7IC4uLmFycltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdLCB0aXRsZTogY2xlYW5lZCB9IGFzIGFueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRbc2ldID0geyAuLi5uZXh0W3NpXSwgcHJvZHVjdHM6IGFyciB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVjZW50bHlVcGRhdGVkKHsgc2VjdGlvbklkOiBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkLCBpbmRleDogc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4LCBmaWVsZDogJ3RpdGxlJywgdHM6IERhdGUubm93KCkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QW5hbHl6ZURhdGEoZCA9PiBkID8gKHsgLi4uZCwgcHJvZHVjdDogeyAuLi5kLnByb2R1Y3QsIHRpdGxlOiBjbGVhbmVkIH0gfSkgOiBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCb2R5U2VjdGlvbnMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXYubGVuZ3RoIHx8ICFwcmV2WzBdLnByb2R1Y3RzPy5sZW5ndGgpIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2QgPSB7IC4uLm5leHRbMF0ucHJvZHVjdHNbMF0sIHRpdGxlOiBjbGVhbmVkIH0gYXMgUHJvZHVjdERhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0WzBdID0geyAuLi5uZXh0WzBdLCBwcm9kdWN0czogW3Byb2QsIC4uLm5leHRbMF0ucHJvZHVjdHMuc2xpY2UoMSldIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiUHJvZHVjdCB0aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5IZWlnaHQ9ezQwfVxuICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBQcmljZSAocGxhaW4gaW5wdXQpICovfVxuICAgICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9e2RldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyAmJiBzZWxlY3RlZFByb2R1Y3RDdHggPyBgcHJvZHVjdC1wcmljZS0ke3NlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWR9LSR7c2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4fWAgOiAncHJvZHVjdC1wcmljZSd9XG4gICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInByaWNlXCJcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIlByaWNlXCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17KGRldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAoc2VsZWN0ZWRQcm9kdWN0Q3R4ID8gKChib2R5U2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQpPy5wcm9kdWN0cz8uW3NlbGVjdGVkUHJvZHVjdEN0eC5pbmRleF0/LnByaWNlKSB8fCAnJykgOiAnJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKGFuYWx5emVEYXRhPy5wcm9kdWN0Py5wcmljZSB8fCAnJykpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWRQcm9kdWN0Q3R4KSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJvZHlTZWN0aW9ucyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpID0gbmV4dC5maW5kSW5kZXgocyA9PiBzLmlkID09PSBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2kgPT09IC0xKSByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnIgPSBbLi4ubmV4dFtzaV0ucHJvZHVjdHNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdID0geyAuLi5hcnJbc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XSwgcHJpY2U6IHZhbCB9IGFzIGFueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0W3NpXSA9IHsgLi4ubmV4dFtzaV0sIHByb2R1Y3RzOiBhcnIgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlY2VudGx5VXBkYXRlZCh7IHNlY3Rpb25JZDogc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCwgaW5kZXg6IHNlbGVjdGVkUHJvZHVjdEN0eC5pbmRleCwgZmllbGQ6ICdwcmljZScsIHRzOiBEYXRlLm5vdygpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QW5hbHl6ZURhdGEoZCA9PiBkID8gKHsgLi4uZCwgcHJvZHVjdDogeyAuLi5kLnByb2R1Y3QsIHByaWNlOiB2YWwgfSB9KSA6IGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCb2R5U2VjdGlvbnMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2Lmxlbmd0aCB8fCAhcHJldlswXS5wcm9kdWN0cz8ubGVuZ3RoKSByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2QgPSB7IC4uLm5leHRbMF0ucHJvZHVjdHNbMF0sIHByaWNlOiB2YWwgfSBhcyBQcm9kdWN0RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0WzBdID0geyAuLi5uZXh0WzBdLCBwcm9kdWN0czogW3Byb2QsIC4uLm5leHRbMF0ucHJvZHVjdHMuc2xpY2UoMSldIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInN0YW5kYXJkXCJcbiAgICAgICAgICAgICAgICAgICAgICBzeD17e21iOiAyLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBDVEEgTGFiZWwgKFJpY2ggdGV4dCkgKi99XG4gICAgICAgICAgICAgICAgICAgIDxCb3ggc3g9e3sgbWI6IDIgfX0gaWQ9e2RldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyAmJiBzZWxlY3RlZFByb2R1Y3RDdHggPyBgcHJvZHVjdC1jdGFMYWJlbC0ke3NlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWR9LSR7c2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4fWAgOiAncHJvZHVjdC1jdGFMYWJlbCd9PlxuICAgICAgICAgICAgICAgICAgICAgIDxSaWNoVGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkNUQSBMYWJlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjdXN0b21GaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17KGRldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/IChzZWxlY3RlZFByb2R1Y3RDdHggPyAoKChib2R5U2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQpPy5wcm9kdWN0cz8uW3NlbGVjdGVkUHJvZHVjdEN0eC5pbmRleF0/LmN0YUxhYmVsKSB8fCAnU0hPUCBOT1cnKSkgOiAnU0hPUCBOT1cnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICA6ICgoYW5hbHl6ZURhdGE/LnByb2R1Y3Q/LmN0YUxhYmVsKSB8fCAnU0hPUCBOT1cnKSkgYXMgYW55fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhodG1sOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IHNhbml0aXplSW5saW5lSHRtbChodG1sIHx8ICdTSE9QIE5PVycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFByb2R1Y3RDdHgpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCb2R5U2VjdGlvbnMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2kgPSBuZXh0LmZpbmRJbmRleChzID0+IHMuaWQgPT09IHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpID09PSAtMSkgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnIgPSBbLi4ubmV4dFtzaV0ucHJvZHVjdHNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyW3NlbGVjdGVkUHJvZHVjdEN0eC5pbmRleF0gPSB7IC4uLmFycltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdLCBjdGFMYWJlbDogY2xlYW5lZCB9IGFzIGFueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRbc2ldID0geyAuLi5uZXh0W3NpXSwgcHJvZHVjdHM6IGFyciB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVjZW50bHlVcGRhdGVkKHsgc2VjdGlvbklkOiBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkLCBpbmRleDogc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4LCBmaWVsZDogJ2N0YUxhYmVsJywgdHM6IERhdGUubm93KCkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QW5hbHl6ZURhdGEoZCA9PiBkID8gKHsgLi4uZCwgcHJvZHVjdDogeyAuLi5kLnByb2R1Y3QsIGN0YUxhYmVsOiBjbGVhbmVkIH0gfSkgOiBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCb2R5U2VjdGlvbnMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXYubGVuZ3RoIHx8ICFwcmV2WzBdLnByb2R1Y3RzPy5sZW5ndGgpIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2QgPSB7IC4uLm5leHRbMF0ucHJvZHVjdHNbMF0sIGN0YUxhYmVsOiBjbGVhbmVkIH0gYXMgUHJvZHVjdERhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0WzBdID0geyAuLi5uZXh0WzBdLCBwcm9kdWN0czogW3Byb2QsIC4uLm5leHRbMF0ucHJvZHVjdHMuc2xpY2UoMSldIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU0hPUCBOT1dcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWluSGVpZ2h0PXs0MH1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L0JveD5cblxuICAgICAgICAgICAgICAgICAgICB7LyogRGVzY3JpcHRpb24gKFJpY2ggdGV4dCkgKi99XG4gICAgICAgICAgICAgICAgICAgIHsoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHA6IGFueSB8IHVuZGVmaW5lZCA9IChkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKHNlbGVjdGVkUHJvZHVjdEN0eCA/ICgoYm9keVNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkKT8ucHJvZHVjdHM/LltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdKSBhcyBhbnkpIDogdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAoKGFuYWx5emVEYXRhPy5wcm9kdWN0IGFzIGFueSkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBNaXJyb3IgcHJldmlldyBsb2dpYzogY2hvb3NlIGRlc2NyaXB0aW9uIGJhc2VkIG9uIHBlci1wcm9kdWN0IGRlc2NTb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IChwPy5kZXNjcmlwdGlvbiB8fCAnJykgYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRzUmlnaHQgPSAocD8uZGVzY1NvdXJjZSBhcyBhbnkpIHx8ICdtZXRhZGF0YSc7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGRzUmlnaHQgPT09ICdwJyAmJiBwPy5kZXNjcmlwdGlvblApIGh0bWwgPSBwLmRlc2NyaXB0aW9uUCBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZHNSaWdodCA9PT0gJ3VsJyAmJiBwPy5kZXNjcmlwdGlvblVsKSBodG1sID0gcC5kZXNjcmlwdGlvblVsIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBzeD17eyBtYjogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPFJpY2hUZXh0RmllbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjdXN0b21GaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2h0bWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhuZXdIdG1sOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFByb2R1Y3RDdHgpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWlycm9yIHRvIGFsbCBkZXNjcmlwdGlvbiB2YXJpYW50cyBmb3Igc3ltbWV0cnkgd2l0aCBwcmV2aWV3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2R1Y3RJblNlY3Rpb24oc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCwgc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4LCAnZGVzY3JpcHRpb24nIGFzIGFueSwgbmV3SHRtbCBhcyBhbnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcm9kdWN0SW5TZWN0aW9uKHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQsIHNlbGVjdGVkUHJvZHVjdEN0eC5pbmRleCwgJ21ldGFkYXRhRGVzY3JpcHRpb24nIGFzIGFueSwgbmV3SHRtbCBhcyBhbnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcm9kdWN0SW5TZWN0aW9uKHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQsIHNlbGVjdGVkUHJvZHVjdEN0eC5pbmRleCwgJ2Rlc2NyaXB0aW9uUCcgYXMgYW55LCBuZXdIdG1sIGFzIGFueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2R1Y3RJblNlY3Rpb24oc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCwgc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4LCAnZGVzY3JpcHRpb25VbCcgYXMgYW55LCBuZXdIdG1sIGFzIGFueSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlY2VudGx5VXBkYXRlZCh7IHNlY3Rpb25JZDogc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCwgaW5kZXg6IHNlbGVjdGVkUHJvZHVjdEN0eC5pbmRleCwgZmllbGQ6ICdkZXNjcmlwdGlvbicsIHRzOiBEYXRlLm5vdygpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2luZ2xlIHByb2R1Y3QgY29udGV4dCAobm9uLWNvbGxlY3Rpb24gcGFnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QW5hbHl6ZURhdGEoZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkKSByZXR1cm4gZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kOiBhbnkgPSB7IC4uLmQucHJvZHVjdCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2QuZGVzY3JpcHRpb24gPSBuZXdIdG1sO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2QubWV0YWRhdGFEZXNjcmlwdGlvbiA9IG5ld0h0bWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZC5kZXNjcmlwdGlvblAgPSBuZXdIdG1sO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2QuZGVzY3JpcHRpb25VbCA9IG5ld0h0bWw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uZCwgcHJvZHVjdDogcHJvZCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Qm9keVNlY3Rpb25zKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcHJldi5sZW5ndGggfHwgIXByZXZbMF0ucHJvZHVjdHM/Lmxlbmd0aCkgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9kID0geyAuLi5uZXh0WzBdLnByb2R1Y3RzWzBdLCBkZXNjcmlwdGlvbjogbmV3SHRtbCwgbWV0YWRhdGFEZXNjcmlwdGlvbjogbmV3SHRtbCwgZGVzY3JpcHRpb25QOiBuZXdIdG1sLCBkZXNjcmlwdGlvblVsOiBuZXdIdG1sIH0gYXMgYW55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRbMF0gPSB7IC4uLm5leHRbMF0sIHByb2R1Y3RzOiBbcHJvZCwgLi4ubmV4dFswXS5wcm9kdWN0cy5zbGljZSgxKV0gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlByb2R1Y3QgZGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkhlaWdodD17ODB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KSgpfVxuXG4gICAgICAgICAgICAgICAgICAgIHsvKiBEZXNjcmlwdGlvbiBTb3VyY2Ugc2VsZWN0b3IgKi99XG4gICAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIkRlc2NyaXB0aW9uIFNvdXJjZVwiXG4gICAgICAgICAgICAgICAgICAgICAgaWQ9XCJkZXNjLXNvdXJjZS1zZWxlY3RcIlxuICAgICAgICAgICAgICAgICAgICAgIElucHV0TGFiZWxQcm9wcz17eyBpZDogJ2Rlc2Mtc291cmNlLWxhYmVsJyB9fVxuICAgICAgICAgICAgICAgICAgICAgIFNlbGVjdFByb3BzPXt7IGxhYmVsSWQ6ICdkZXNjLXNvdXJjZS1sYWJlbCcsIGlkOiAnZGVzYy1zb3VyY2Utc2VsZWN0JyB9fVxuICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJkZXNjcmlwdGlvbi1zb3VyY2VcIlxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXsoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChzZWxlY3RlZFByb2R1Y3RDdHggPyAoKCgoYm9keVNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkKT8ucHJvZHVjdHM/LltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdIGFzIGFueSk/LmRlc2NTb3VyY2UpIHx8ICdtZXRhZGF0YScpKSA6ICdtZXRhZGF0YScpXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICgoKGFuYWx5emVEYXRhPy5wcm9kdWN0IGFzIGFueSk/LmRlc2NTb3VyY2UpIHx8ICdtZXRhZGF0YScpKX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBlLnRhcmdldC52YWx1ZSBhcyAnbWV0YWRhdGEnfCdwJ3wndWwnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkUHJvZHVjdEN0eCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQcm9kdWN0SW5TZWN0aW9uKHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQsIHNlbGVjdGVkUHJvZHVjdEN0eC5pbmRleCwgJ2Rlc2NTb3VyY2UnIGFzIGFueSwgdiBhcyBhbnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQZXJzaXN0IGRlc2NTb3VyY2UgZm9yIHJpZ2h0IHBhbmVsIHZhbHVlIHJlbmRlcmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCb2R5U2VjdGlvbnMocHJldiA9PiBwcmV2Lm1hcChzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocy5pZCAhPT0gc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCkgcmV0dXJuIHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyID0gWy4uLnMucHJvZHVjdHNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2Q6IGFueSA9IHsgLi4uYXJyW3NlbGVjdGVkUHJvZHVjdEN0eC5pbmRleF0gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kLmRlc2NTb3VyY2UgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdID0gcHJvZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5zLCBwcm9kdWN0czogYXJyIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVjZW50bHlVcGRhdGVkKHsgc2VjdGlvbklkOiBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkLCBpbmRleDogc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4LCBmaWVsZDogJ2Rlc2NTb3VyY2UnLCB0czogRGF0ZS5ub3coKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vbi1jb2xsZWN0aW9uOiB1cGRhdGUgYW5hbHl6ZURhdGEgZm9yIHRoZSByaWdodCBwYW5lbCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBbmFseXplRGF0YShkID0+IGQgPyAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uKGQucHJvZHVjdCBhcyBhbnkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY1NvdXJjZTogdixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ID09PSAnbWV0YWRhdGEnID8gKCgoZC5wcm9kdWN0IGFzIGFueSkubWV0YWRhdGFEZXNjcmlwdGlvbiBhcyBzdHJpbmcpIHx8ICgoZC5wcm9kdWN0IGFzIGFueSkub3JpZ2luYWxNZXRhZGF0YURlc2NyaXB0aW9uIGFzIHN0cmluZykgfHwgJycpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdiA9PT0gJ3AnID8gKCgoZC5wcm9kdWN0IGFzIGFueSkuZGVzY3JpcHRpb25QIGFzIHN0cmluZykgfHwgJycpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCgoZC5wcm9kdWN0IGFzIGFueSkuZGVzY3JpcHRpb25VbCBhcyBzdHJpbmcpIHx8ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgOiBkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxzbyBtaXJyb3IgaW50byB0aGUgZmlyc3QgYm9keSBzZWN0aW9uIHByb2R1Y3Qgc28gdGhlIG1haW4gcHJldmlldyB1cGRhdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJvZHlTZWN0aW9ucyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXYubGVuZ3RoIHx8ICFwcmV2WzBdLnByb2R1Y3RzPy5sZW5ndGgpIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZDogYW55ID0geyAuLi5uZXh0WzBdLnByb2R1Y3RzWzBdIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZC5kZXNjU291cmNlID0gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodiA9PT0gJ21ldGFkYXRhJykgcHJvZC5kZXNjcmlwdGlvbiA9IHByb2QubWV0YWRhdGFEZXNjcmlwdGlvbiB8fCBwcm9kLm9yaWdpbmFsTWV0YWRhdGFEZXNjcmlwdGlvbiB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodiA9PT0gJ3AnKSBwcm9kLmRlc2NyaXB0aW9uID0gcHJvZC5kZXNjcmlwdGlvblAgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgPT09ICd1bCcpIHByb2QuZGVzY3JpcHRpb24gPSBwcm9kLmRlc2NyaXB0aW9uVWwgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFswXSA9IHsgLi4ubmV4dFswXSwgcHJvZHVjdHM6IFtwcm9kLCAuLi5uZXh0WzBdLnByb2R1Y3RzLnNsaWNlKDEpXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTnVkZ2UgdGhlIGNvbXBvc2VyIHNvIHRoZSBjb2RlIGFjY29yZGlvbiByZWNvbXB1dGVzIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlY2VudGx5VXBkYXRlZCh7IHNlY3Rpb25JZDogYm9keVNlY3Rpb25zWzBdPy5pZCA/PyAwLCBpbmRleDogMCwgZmllbGQ6ICdkZXNjU291cmNlJywgdHM6IERhdGUubm93KCkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwic3RhbmRhcmRcIlxuICAgICAgICAgICAgICAgICAgICAgIHN4PXt7IG1iOiAyLCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmJlZm9yZSc6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICdncmV5LjQwMCcgfSwgJyYgLk11aUlucHV0LXVuZGVybGluZTphZnRlcic6IHsgYm9yZGVyQm90dG9tQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgfSx9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIHZhbHVlPVwibWV0YWRhdGFcIj5QYWdlIG1ldGFkYXRhPC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9XCJwXCIgZGlzYWJsZWQ9e2RldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyA/ICEoc2VsZWN0ZWRQcm9kdWN0Q3R4ICYmICEhKCgoYm9keVNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkKT8ucHJvZHVjdHM/LltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdIGFzIGFueSk/LmRlc2NyaXB0aW9uUCkpKSA6ICEoKChhbmFseXplRGF0YT8ucHJvZHVjdCBhcyBhbnkpPy5kZXNjcmlwdGlvblApKX0+Rmlyc3QgcGFyYWdyYXBoPC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9XCJ1bFwiIGRpc2FibGVkPXtkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicgPyAhKHNlbGVjdGVkUHJvZHVjdEN0eCAmJiAhISgoKGJvZHlTZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCk/LnByb2R1Y3RzPy5bc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XSBhcyBhbnkpPy5kZXNjcmlwdGlvblVsKSkpIDogISgoKGFuYWx5emVEYXRhPy5wcm9kdWN0IGFzIGFueSk/LmRlc2NyaXB0aW9uVWwpKX0+QnVsbGV0IGxpc3Q8L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICA8L1RleHRGaWVsZD5cblxuICAgICAgICAgICAgICAgICAgICB7LyogRXhpdCBVUkwgKENUQSBsaW5rKSAqL31cbiAgICAgICAgICAgICAgICAgICAgPFRleHRGaWVsZFxuICAgICAgICAgICAgICAgICAgICAgIGlkPXtkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicgJiYgc2VsZWN0ZWRQcm9kdWN0Q3R4ID8gYHByb2R1Y3QtZXhpdC0ke3NlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWR9LSR7c2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4fWAgOiAncHJvZHVjdC1leGl0J31cbiAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwiZXhpdFVybFwiXG4gICAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJFeGl0IFVSTFwiXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWU9eygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWRQcm9kdWN0Q3R4KSByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlYyA9IGJvZHlTZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2QgPSBzZWM/LnByb2R1Y3RzPy5bc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocHJvZD8uY3RhIHx8IHByb2Q/LnVybCB8fCAnJykgYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhbmFseXplRGF0YT8ucHJvZHVjdD8uY3RhIHx8IGFuYWx5emVEYXRhPy5wcm9kdWN0Py51cmwgfHwgJycpIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VsZWN0ZWRQcm9kdWN0Q3R4KSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJvZHlTZWN0aW9ucyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpID0gbmV4dC5maW5kSW5kZXgocyA9PiBzLmlkID09PSBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2kgPT09IC0xKSByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhcnIgPSBbLi4ubmV4dFtzaV0ucHJvZHVjdHNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdID0geyAuLi5hcnJbc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XSwgY3RhOiB2YWwgfSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFtzaV0gPSB7IC4uLm5leHRbc2ldLCBwcm9kdWN0czogYXJyIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZWNlbnRseVVwZGF0ZWQoeyBzZWN0aW9uSWQ6IHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQsIGluZGV4OiBzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXgsIGZpZWxkOiAnY3RhJywgdHM6IERhdGUubm93KCkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5nbGUgcHJvZHVjdCBjb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFuYWx5emVEYXRhKGQgPT4gZCA/ICh7IC4uLmQsIHByb2R1Y3Q6IHsgLi4uZC5wcm9kdWN0LCBjdGE6IHZhbCB9IH0pIDogZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJvZHlTZWN0aW9ucyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXYubGVuZ3RoIHx8ICFwcmV2WzBdLnByb2R1Y3RzPy5sZW5ndGgpIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZCA9IHsgLi4ubmV4dFswXS5wcm9kdWN0c1swXSwgY3RhOiB2YWwgfSBhcyBQcm9kdWN0RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0WzBdID0geyAuLi5uZXh0WzBdLCBwcm9kdWN0czogW3Byb2QsIC4uLm5leHRbMF0ucHJvZHVjdHMuc2xpY2UoMSldIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgb25CbHVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmF3ID0gKGUudGFyZ2V0LnZhbHVlIHx8ICcnKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXJhdykgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xlYW5lZCA9IHNhbml0aXplVXJsKHJhdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSHR0cFVybChjbGVhbmVkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhZGROb3RpZmljYXRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5JbnZhbGlkIHByb2R1Y3QgVVJMOiA8c3BhbiBzdHlsZT17e2ZvbnRXZWlnaHQ6J2JvbGQnfX0+e2NsZWFuZWR9PC9zcGFuPiZuYnNwO3wmbmJzcDtQbGVhc2UgZW50ZXIgYSB2YWxpZCBodHRwKHMpIGxpbmsuPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFByb2R1Y3RDdHgpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Qm9keVNlY3Rpb25zKHByZXYgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2kgPSBuZXh0LmZpbmRJbmRleChzID0+IHMuaWQgPT09IHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaSA9PT0gLTEpIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFyciA9IFsuLi5uZXh0W3NpXS5wcm9kdWN0c107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IChhcnJbc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XSBhcyBhbnkpPy5jdGEgfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgIT09IGNsZWFuZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdID0geyAuLi5hcnJbc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XSwgY3RhOiBjbGVhbmVkIH0gYXMgYW55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFtzaV0gPSB7IC4uLm5leHRbc2ldLCBwcm9kdWN0czogYXJyIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVjZW50bHlVcGRhdGVkKHsgc2VjdGlvbklkOiBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkLCBpbmRleDogc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4LCBmaWVsZDogJ2N0YScsIHRzOiBEYXRlLm5vdygpIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QW5hbHl6ZURhdGEoZCA9PiBkID8gKHsgLi4uZCwgcHJvZHVjdDogeyAuLi5kLnByb2R1Y3QsIGN0YTogY2xlYW5lZCB9IH0pIDogZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJvZHlTZWN0aW9ucyhwcmV2ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXByZXYubGVuZ3RoIHx8ICFwcmV2WzBdLnByb2R1Y3RzPy5sZW5ndGgpIHJldHVybiBwcmV2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHQgPSBbLi4ucHJldl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudCA9IChuZXh0WzBdLnByb2R1Y3RzWzBdIGFzIGFueSk/LmN0YSB8fCAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudCAhPT0gY2xlYW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvZCA9IHsgLi4ubmV4dFswXS5wcm9kdWN0c1swXSwgY3RhOiBjbGVhbmVkIH0gYXMgUHJvZHVjdERhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0WzBdID0geyAuLi5uZXh0WzBdLCBwcm9kdWN0czogW3Byb2QsIC4uLm5leHRbMF0ucHJvZHVjdHMuc2xpY2UoMSldIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIElucHV0UHJvcHM9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZEFkb3JubWVudDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8SW5wdXRBZG9ybm1lbnQgcG9zaXRpb249XCJlbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZWxlY3RlZFByb2R1Y3RDdHgpIHJldHVybiAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzZWMgPSBib2R5U2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2QgPSBzZWM/LnByb2R1Y3RzPy5bc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcm9kPy5jdGEgfHwgcHJvZD8udXJsIHx8ICcnKSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhbmFseXplRGF0YT8ucHJvZHVjdD8uY3RhIHx8IGFuYWx5emVEYXRhPy5wcm9kdWN0Py51cmwgfHwgJycpIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGVhbmVkID0gc2FuaXRpemVVcmwoKGN1cnJlbnQgfHwgJycpLnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvayA9ICEhY2xlYW5lZCAmJiBpc0h0dHBVcmwoY2xlYW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VG9vbHRpcCB0aXRsZT17b2sgPyAnT3BlbiBpbiBuZXcgdGFiJyA6ICdFbnRlciBhIHZhbGlkIGh0dHAocykgVVJMJ30+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2spIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGNsZWFuZWQsICdfYmxhbmsnLCAnbm9vcGVuZXIsbm9yZWZlcnJlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFva31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWRnZT1cImVuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPXtvayA/ICdPcGVuIGluIG5ldyB0YWInIDogJ0VudGVyIGEgdmFsaWQgaHR0cChzKSBVUkwnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8T3BlbkluTmV3SWNvbiBmb250U2l6ZT1cInNtYWxsXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvVG9vbHRpcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JbnB1dEFkb3JubWVudD5cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzdGFuZGFyZFwiXG4gICAgICAgICAgICAgICAgICAgICAgc3g9e3ttYjogMiwgJyYgLk11aUlucHV0LXVuZGVybGluZTpiZWZvcmUnOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAnZ3JleS40MDAnIH0sICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YWZ0ZXInOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknIH0sfX1cbiAgICAgICAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICAgICAgICB7LyogTWFpbiBwcm9kdWN0IGltYWdlIC0gY2VudGVyZWQgKG5vIHpvb20gaGVyZSkgKi99XG4gICAgICAgICAgICAgICAgICAgIHsoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgPyAoc2VsZWN0ZWRQcm9kdWN0Q3R4ID8gKGJvZHlTZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCk/LnByb2R1Y3RzPy5bc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XT8uaW1hZ2UpIDogJycpXG4gICAgICAgICAgICAgICAgICAgICAgOiAoYW5hbHl6ZURhdGE/LnByb2R1Y3Q/LmltYWdlIHx8ICcnKSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxCb3ggc3g9e3sgbWI6IDEsIHRleHRBbGlnbjogJ2NlbnRlcicgfX0gZGF0YS1wcm9kdWN0LWNlbGw9e2RldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyA/IGAke3NlbGVjdGVkUHJvZHVjdEN0eD8uc2VjdGlvbklkfS0ke3NlbGVjdGVkUHJvZHVjdEN0eD8uaW5kZXh9YCA6ICcwLTAnfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJyAmJiBzdW1tYXJ5VGFiID09PSAwICYmIHNlbGVjdGVkUHJvZHVjdEN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN1bW1hcnlUYWIoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWwgPSBlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Byb2R1Y3QtY2xpY2stcmlwcGxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgZWwub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3Byb2R1Y3QtY2xpY2stcmlwcGxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChzZWxlY3RlZFByb2R1Y3RDdHggPyAoKGJvZHlTZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCk/LnByb2R1Y3RzPy5bc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XT8uaW1hZ2UpIHx8ICcnKSA6ICcnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGFuYWx5emVEYXRhPy5wcm9kdWN0Py5pbWFnZSB8fCAnJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17KGRldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gKHNlbGVjdGVkUHJvZHVjdEN0eCA/ICgoYm9keVNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkKT8ucHJvZHVjdHM/LltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdPy50aXRsZSkgfHwgJycpIDogJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoYW5hbHl6ZURhdGE/LnByb2R1Y3Q/LnRpdGxlIHx8ICcnKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJ2F1dG8nLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcwIGF1dG8nLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnYmxvY2snLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAnMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4yKSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgey8qIFByb2R1Y3QgSW1hZ2VzIGdyaWQgZGlyZWN0bHkgYmVsb3cgbWFpbiBpbWFnZSAqL31cbiAgICAgICAgICAgICAgICAgICAgeyhkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbidcbiAgICAgICAgICAgICAgICAgICAgICA/IChzZWxlY3RlZFByb2R1Y3RDdHggPyAoKGJvZHlTZWN0aW9ucy5maW5kKHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCk/LnByb2R1Y3RzPy5bc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XT8uaW1hZ2VzPy5sZW5ndGggfHwgMCkgPiAwKSA6IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgIDogKChhbmFseXplRGF0YT8ucHJvZHVjdD8uaW1hZ2VzPy5sZW5ndGggfHwgMCkgPiAwKVxuICAgICAgICAgICAgICAgICAgICApID8gKFxuICAgICAgICAgICAgICAgICAgICAgIDxCb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwic3VidGl0bGUyXCIgc3g9e3sgY29sb3I6ICd0ZXh0LnNlY29uZGFyeScsIG1iOiAxIH19PlByb2R1Y3QgaW1hZ2VzPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBjbGFzc05hbWU9XCJzdW1tYXJ5LXByb2R1Y3QtZ3JpZFwiIHN4PXt7IGRpc3BsYXk6ICdncmlkJywgZ2FwOiAxLCB3aWR0aDogJzEwMCUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7dW5pcXVlSW1hZ2VzKCgoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoc2VsZWN0ZWRQcm9kdWN0Q3R4ID8gKChib2R5U2VjdGlvbnMuZmluZChzID0+IHMuaWQgPT09IHNlbGVjdGVkUHJvZHVjdEN0eC5zZWN0aW9uSWQpPy5wcm9kdWN0cz8uW3NlbGVjdGVkUHJvZHVjdEN0eC5pbmRleF0/LmltYWdlcykgfHwgW10pIDogW10pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoKGFuYWx5emVEYXRhPy5wcm9kdWN0Py5pbWFnZXMgfHwgW10pKVxuICAgICAgICAgICAgICAgICAgICAgICAgICApIGFzIHN0cmluZ1tdKS5tYXAoKHM6IHN0cmluZykgPT4gcyB8fCAnJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoc3JjOiBzdHJpbmcpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Qm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e25vcm1hbGl6ZUltYWdlKHNyYykgfHwgc3JjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogKG5vcm1hbGl6ZUltYWdlKChkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicgPyAoc2VsZWN0ZWRQcm9kdWN0Q3R4ID8gKCgoYm9keVNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkKT8ucHJvZHVjdHM/LltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdPy5pbWFnZSkgfHwgJycpKSA6ICcnKSA6ICgoYW5hbHl6ZURhdGE/LnByb2R1Y3Q/LmltYWdlIHx8ICcnKSkpKSA9PT0gbm9ybWFsaXplSW1hZ2Uoc3JjKSkgPyAnMnB4IHNvbGlkIHZhcigtLWNvbG9yLXByaW1hcnkpJyA6ICcycHggc29saWQgI2UwZTBlMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogKG5vcm1hbGl6ZUltYWdlKChkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicgPyAoc2VsZWN0ZWRQcm9kdWN0Q3R4ID8gKCgoYm9keVNlY3Rpb25zLmZpbmQocyA9PiBzLmlkID09PSBzZWxlY3RlZFByb2R1Y3RDdHguc2VjdGlvbklkKT8ucHJvZHVjdHM/LltzZWxlY3RlZFByb2R1Y3RDdHguaW5kZXhdPy5pbWFnZSkgfHwgJycpKSA6ICcnKSA6ICgoYW5hbHl6ZURhdGE/LnByb2R1Y3Q/LmltYWdlIHx8ICcnKSkpKSA9PT0gbm9ybWFsaXplSW1hZ2Uoc3JjKSkgPyAxIDogMC45LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IC4xNXMgZWFzZSwgYm9yZGVyLWNvbG9yIC4xNXMgZWFzZSwgYm94LXNoYWRvdyAuMTVzIGVhc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJiBpbWcnOiB7IHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gLjRzIGVhc2UnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcmOmhvdmVyJzogeyBvcGFjaXR5OiAxLCBib3JkZXJDb2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJywgYm94U2hhZG93OiAnMCAwIDAgMXB4IHJnYmEoMCwwLDAsMC4wMiknIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcmOmhvdmVyIGltZyc6IHsgdHJhbnNmb3JtOiAnc2NhbGUoMS4wNzUpJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldGVjdGVkUGFnZVR5cGUgPT09ICdjb2xsZWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbGVjdGVkUHJvZHVjdEN0eCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCb2R5U2VjdGlvbnMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IFsuLi5wcmV2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzaSA9IG5leHQuZmluZEluZGV4KHMgPT4gcy5pZCA9PT0gc2VsZWN0ZWRQcm9kdWN0Q3R4LnNlY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNpID09PSAtMSkgcmV0dXJuIHByZXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXJyID0gWy4uLm5leHRbc2ldLnByb2R1Y3RzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJbc2VsZWN0ZWRQcm9kdWN0Q3R4LmluZGV4XSA9IHsgLi4uYXJyW3NlbGVjdGVkUHJvZHVjdEN0eC5pbmRleF0sIGltYWdlOiBzcmMgfSBhcyBhbnk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFtzaV0gPSB7IC4uLm5leHRbc2ldLCBwcm9kdWN0czogYXJyIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QW5hbHl6ZURhdGEoZCA9PiBkID8gKHsgLi4uZCwgcHJvZHVjdDogeyAuLi5kLnByb2R1Y3QsIGltYWdlOiBzcmMgfSB9KSA6IGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCb2R5U2VjdGlvbnMocHJldiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2Lmxlbmd0aCB8fCAhcHJldlswXS5wcm9kdWN0cz8ubGVuZ3RoKSByZXR1cm4gcHJldjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0ID0gWy4uLnByZXZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2QgPSB7IC4uLm5leHRbMF0ucHJvZHVjdHNbMF0sIGltYWdlOiBzcmMgfSBhcyBQcm9kdWN0RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0WzBdID0geyAuLi5uZXh0WzBdLCBwcm9kdWN0czogW3Byb2QsIC4uLm5leHRbMF0ucHJvZHVjdHMuc2xpY2UoMSldIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17c3JjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJwcm9kdWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdEZpdDogJ2NvdmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7LyogQXNzZXRzIFRhYiBQYW5lbCAqL31cbiAgICAgICAgICAgIHtzdW1tYXJ5VGFiID09PSAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nID8gMiA6IDEpICYmIChcbiAgICAgICAgICAgICAgPFN0YWNrIHNwYWNpbmc9ezJ9PlxuICAgICAgICAgICAgICAgIHsvKiBIZXJvIGltYWdlcyAqL31cbiAgICAgICAgICAgICAgICA8Qm94PlxuICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cInN1YnRpdGxlMlwiIHN4PXt7IGNvbG9yOiAndGV4dC5zZWNvbmRhcnknLCBtYjogMSB9fT5IZXJvIGltYWdlczwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgIDxCb3ggY2xhc3NOYW1lPVwic3VtbWFyeS1wcm9kdWN0LWdyaWRcIiBzeD17eyBkaXNwbGF5OiAnZ3JpZCcsIGdhcDogMSwgd2lkdGg6ICcxMDAlJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgeyh1bmlxdWVJbWFnZXMoKGhlcm9JbWFnZXMgJiYgaGVyb0ltYWdlcy5sZW5ndGggPyBoZXJvSW1hZ2VzIDogKGFuYWx5emVEYXRhPy5oZXJvSW1hZ2VzIHx8IFtdKSkpIGFzIHN0cmluZ1tdKS5tYXAoKHNyYzogc3RyaW5nKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPEJveFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtub3JtYWxpemVJbWFnZShzcmMpIHx8IHNyY31cbiAgICAgICAgICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IChub3JtYWxpemVJbWFnZShoZXJvSW1hZ2UgfHwgJycpID09PSBub3JtYWxpemVJbWFnZShzcmMpKSA/ICcycHggc29saWQgdmFyKC0tY29sb3ItcHJpbWFyeSknIDogJzJweCBzb2xpZCAjZTBlMGUwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAobm9ybWFsaXplSW1hZ2UoaGVyb0ltYWdlIHx8ICcnKSA9PT0gbm9ybWFsaXplSW1hZ2Uoc3JjKSkgPyAxIDogMC45LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5IC4xNXMgZWFzZSwgYm9yZGVyLWNvbG9yIC4xNXMgZWFzZSwgYm94LXNoYWRvdyAuMTVzIGVhc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcmIGltZyc6IHsgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAuNHMgZWFzZScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJjpob3Zlcic6IHsgb3BhY2l0eTogMSwgYm9yZGVyQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScsIGJveFNoYWRvdzogJzAgMCAwIDFweCByZ2JhKDAsMCwwLDAuMDIpJyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcmOmhvdmVyIGltZyc6IHsgdHJhbnNmb3JtOiAnc2NhbGUoMS4wNzUpJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4geyBzZXRIZXJvSW1hZ2Uoc3JjKTsgc2V0SGVyb0hyZWYoYnJhbmRXZWJzaXRlIHx8ICcnKTsgc2V0SGVyb0FsdChhbmFseXplRGF0YT8uc3RvcmVOYW1lIHx8ICcnKTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17c3JjfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9XCJoZXJvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdEZpdDogJ2NvdmVyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICA8L0JveD5cblxuICAgICAgICAgICAgICAgIHsvKiBCYW5uZXIgaW1hZ2VzICovfVxuICAgICAgICAgICAgICAgIHsoYW5hbHl6ZURhdGE/LmJhbm5lckltYWdlcz8ubGVuZ3RoIHx8IDApID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICA8Qm94PlxuICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwic3VidGl0bGUyXCIgc3g9e3sgY29sb3I6ICd0ZXh0LnNlY29uZGFyeScsIG1iOiAxIH19PkJhbm5lciBpbWFnZXM8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgIDxCb3ggY2xhc3NOYW1lPVwic3VtbWFyeS1wcm9kdWN0LWdyaWRcIiBzeD17eyBkaXNwbGF5OiAnZ3JpZCcsIGdhcDogMSwgd2lkdGg6ICcxMDAlJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7dW5pcXVlSW1hZ2VzKGFuYWx5emVEYXRhIS5iYW5uZXJJbWFnZXMgYXMgYW55KS5tYXAoKHNyYzogc3RyaW5nKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm94XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17bm9ybWFsaXplSW1hZ2Uoc3JjKSB8fCBzcmN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiAobm9ybWFsaXplSW1hZ2UoYmFubmVySW1hZ2UgfHwgJycpID09PSBub3JtYWxpemVJbWFnZShzcmMpKSA/ICcycHggc29saWQgdmFyKC0tY29sb3ItcHJpbWFyeSknIDogJzJweCBzb2xpZCAjZTBlMGUwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogKG5vcm1hbGl6ZUltYWdlKGJhbm5lckltYWdlIHx8ICcnKSA9PT0gbm9ybWFsaXplSW1hZ2Uoc3JjKSkgPyAxIDogMC45LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAuMTVzIGVhc2UsIGJvcmRlci1jb2xvciAuMTVzIGVhc2UsIGJveC1zaGFkb3cgLjE1cyBlYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJiBpbWcnOiB7IHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gLjRzIGVhc2UnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJyY6aG92ZXInOiB7IG9wYWNpdHk6IDEsIGJvcmRlckNvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknLCBib3hTaGFkb3c6ICcwIDAgMCAxcHggcmdiYSgwLDAsMCwwLjAyKScgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJjpob3ZlciBpbWcnOiB7IHRyYW5zZm9ybTogJ3NjYWxlKDEuMDc1KScgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHNldEJhbm5lckltYWdlKHNyYyk7IHNldEJhbm5lckhyZWYoYnJhbmRXZWJzaXRlIHx8ICcnKTsgc2V0QmFubmVyQWx0KGFuYWx5emVEYXRhPy5zdG9yZU5hbWUgfHwgJycpOyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtzcmN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiYmFubmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0Rml0OiAnY292ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9Cb3g+XG4gICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L1N0YWNrPlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIEJyYW5kIFRhYiBQYW5lbCAqL31cbiAgICAgICAgICAgIHtzdW1tYXJ5VGFiID09PSAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nID8gMyA6IDIpICYmIChcbiAgICAgICAgICAgICAgPFN0YWNrIHNwYWNpbmc9ezJ9PlxuICAgICAgICAgICAgICAgIHsvKiBMb2dvIHJvdyBmaXJzdDogcHJldmlldyBsZWZ0LCB1cGxvYWQgYnV0dG9uIHJpZ2h0ICovfVxuICAgICAgICAgICAgICAgIDxCb3g+XG4gICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwic3VidGl0bGUyXCIgc3g9e3sgY29sb3I6ICd0ZXh0LnNlY29uZGFyeScsIG1iOiAxIH19PkxvZ288L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICA8U3RhY2sgZGlyZWN0aW9uPVwicm93XCIgYWxpZ25JdGVtcz1cImNlbnRlclwiIGp1c3RpZnlDb250ZW50PVwic3BhY2UtYmV0d2VlblwiIHNwYWNpbmc9ezJ9PlxuICAgICAgICAgICAgICAgICAgICA8Qm94IHN4PXt7IGZsZXg6IDEgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgeyhicmFuZExvZ29EYXRhVXJsIHx8IGFuYWx5emVEYXRhPy5sb2dvIHx8IGFuYWx5emVEYXRhPy5sb2dvU3ZnKSA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyYW5kTG9nb0RhdGFVcmwgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPXticmFuZExvZ29EYXRhVXJsfSBhbHQ9XCJsb2dvXCIgc3R5bGU9e3sgaGVpZ2h0OiAyMiwgd2lkdGg6ICdhdXRvJywgZGlzcGxheTogJ2Jsb2NrJywgdGV4dEFsaWduOiAnbGVmdCcgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiBhbmFseXplRGF0YT8ubG9nbyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9e2FuYWx5emVEYXRhLmxvZ299IGFsdD1cImxvZ29cIiBzdHlsZT17eyBoZWlnaHQ6IDIyLCB3aWR0aDogJ2F1dG8nLCBkaXNwbGF5OiAnYmxvY2snLCB0ZXh0QWxpZ246ICdsZWZ0JyAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxCb3ggc3g9e3sgaGVpZ2h0OiAyMiwgJyYgc3ZnJzogeyBoZWlnaHQ6ICcxMDAlJyB9IH19IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogYW5hbHl6ZURhdGEhLmxvZ29TdmchIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5IHZhcmlhbnQ9XCJjYXB0aW9uXCIgc3g9e3sgY29sb3I6ICd0ZXh0LmRpc2FibGVkJyB9fT5ObyBsb2dvPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICA8Qm94PlxuICAgICAgICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudD1cImxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9e3VuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PXstMX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJjb250YWluZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I9XCJpbmhlcml0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0SWNvbj17XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxTdmdJY29uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZVdpZHRoPXsxLjV9IHN0cm9rZT1cImN1cnJlbnRDb2xvclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIGQ9XCJNMTIgMTYuNVY5Ljc1bTAgMGwzIDNtLTMtM2wtMyAzTTYuNzUgMTkuNWE0LjUgNC41IDAgMDEtMS40MS04Ljc3NSA1LjI1IDUuMjUgMCAwMTEwLjIzMy0yLjMzIDMgMyAwIDAxMy43NTggMy44NDhBMy43NTIgMy43NTIgMCAwMTE4IDE5LjVINi43NXpcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L1N2Z0ljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVXBsb2FkIGEgZmlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgPFZpc3VhbGx5SGlkZGVuSW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJicmFuZC1sb2dvLXVwbG9hZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJicmFuZC1sb2dvXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NlcHQ9XCJpbWFnZS8qXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlcyA/IGUudGFyZ2V0LmZpbGVzWzBdIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCcmFuZExvZ28oZmlsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgICAgICAgICAgICB7YnJhbmRMb2dvICYmIChcbiAgICAgICAgICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImNhcHRpb25cIiBzeD17eyBkaXNwbGF5OiAnYmxvY2snLCBtdDogMC41LCBjb2xvcjogJ3RleHQuc2Vjb25kYXJ5JyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICB7KGJyYW5kTG9nbyBhcyBGaWxlKS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvQm94PlxuXG4gICAgICAgICAgICAgICAgey8qIFdlYnNpdGUgVVJMICovfVxuICAgICAgICAgICAgICAgIDxCb3g+XG4gICAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICAgIGlkPVwic3VtbWFyeS13ZWJzaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cIndlYnNpdGVcIlxuICAgICAgICAgICAgICAgICAgICBsYWJlbD1cIldlYnNpdGUgVVJMXCJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2JyYW5kV2Vic2l0ZX1cbiAgICAgICAgICAgICAgICAgICAgZnVsbFdpZHRoXG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzdGFuZGFyZFwiXG4gICAgICAgICAgICAgICAgICAgIHN4PXt7JyYgLk11aUlucHV0LXVuZGVybGluZTpiZWZvcmUnOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAnZ3JleS40MDAnIH0sICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YWZ0ZXInOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknIH0sfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Cb3g+XG5cbiAgICAgICAgICAgICAgICB7LyogU3RvcmUgKi99XG4gICAgICAgICAgICAgICAgPEJveD5cbiAgICAgICAgICAgICAgICAgIDxUZXh0RmllbGRcbiAgICAgICAgICAgICAgICAgICAgaWQ9XCJzdW1tYXJ5LXN0b3JlXCJcbiAgICAgICAgICAgICAgICAgICAgbmFtZT1cInN0b3JlXCJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJTdG9yZVwiXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlPXthbmFseXplRGF0YT8uc3RvcmVOYW1lIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICBmdWxsV2lkdGhcbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKT0+IHNldEFuYWx5emVEYXRhKGQ9PmQ/KHsuLi5kLCBzdG9yZU5hbWU6IGUudGFyZ2V0LnZhbHVlfSk6ZCl9XG4gICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzdGFuZGFyZFwiXG4gICAgICAgICAgICAgICAgICAgIHN4PXt7JyYgLk11aUlucHV0LXVuZGVybGluZTpiZWZvcmUnOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAnZ3JleS40MDAnIH0sICcmIC5NdWlJbnB1dC11bmRlcmxpbmU6YWZ0ZXInOiB7IGJvcmRlckJvdHRvbUNvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknIH0sfX1cbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9Cb3g+XG5cbiAgICAgICAgICAgICAgICB7LyogQnJhbmQgY29sb3JzICovfVxuICAgICAgICAgICAgICAgIDxCb3g+XG4gICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwic3VidGl0bGUyXCIgc3g9e3sgY29sb3I6ICd0ZXh0LnNlY29uZGFyeScsIG1iOiAxIH19PkJyYW5kIGNvbG9yczwvVHlwb2dyYXBoeT5cbiAgICAgICAgICAgICAgICAgIDxTdGFjayBkaXJlY3Rpb249XCJyb3dcIiBzcGFjaW5nPXsxfT5cbiAgICAgICAgICAgICAgICAgICAgPE11aUNvbG9ySW5wdXQgaWQ9XCJicmFuZC1wcmltYXJ5XCIgbmFtZT1cImJyYW5kLXByaW1hcnlcIiBsYWJlbD1cIlByaW1hcnlcIiBmb3JtYXQ9XCJoZXhcIiB2YWx1ZT17YnJhbmRQcmltYXJ5fSBvbkNoYW5nZT17KHZhbHVlKSA9PiBzZXRCcmFuZFByaW1hcnkodmFsdWUgfHwgYnJhbmRQcmltYXJ5KX0gc2l6ZT1cInNtYWxsXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPE11aUNvbG9ySW5wdXQgaWQ9XCJicmFuZC1zZWNvbmRhcnlcIiBuYW1lPVwiYnJhbmQtc2Vjb25kYXJ5XCIgbGFiZWw9XCJTZWNvbmRhcnlcIiBmb3JtYXQ9XCJoZXhcIiB2YWx1ZT17YnJhbmRTZWNvbmRhcnl9IG9uQ2hhbmdlPXsodmFsdWUpID0+IHNldEJyYW5kU2Vjb25kYXJ5KHZhbHVlIHx8IGJyYW5kU2Vjb25kYXJ5KX0gc2l6ZT1cInNtYWxsXCIgLz5cbiAgICAgICAgICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgICAgICAgICAgPC9Cb3g+XG5cbiAgICAgICAgICAgICAgICB7LyogQnJhbmQgZm9udCAqL31cbiAgICAgICAgICAgICAgICA8VGV4dEZpZWxkXG4gICAgICAgICAgICAgICAgICBzZWxlY3RcbiAgICAgICAgICAgICAgICAgIGZ1bGxXaWR0aFxuICAgICAgICAgICAgICAgICAgbGFiZWw9XCJCcmFuZCBmb250XCJcbiAgICAgICAgICAgICAgICAgIGlkPVwiYnJhbmQtZm9udFwiXG4gICAgICAgICAgICAgICAgICBJbnB1dExhYmVsUHJvcHM9e3sgaWQ6ICdicmFuZC1mb250LWxhYmVsJyB9fVxuICAgICAgICAgICAgICAgICAgU2VsZWN0UHJvcHM9e3sgbGFiZWxJZDogJ2JyYW5kLWZvbnQtbGFiZWwnLCBpZDogJ2JyYW5kLWZvbnQnIH19XG4gICAgICAgICAgICAgICAgICBuYW1lPVwiYnJhbmQtZm9udFwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17YnJhbmRGb250fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRCcmFuZEZvbnQoZS50YXJnZXQudmFsdWUgYXMgc3RyaW5nKX1cbiAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzdGFuZGFyZFwiXG4gICAgICAgICAgICAgICAgICBzeD17eycmIC5NdWlJbnB1dC11bmRlcmxpbmU6YmVmb3JlJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ2dyZXkuNDAwJyB9LCAnJiAuTXVpSW5wdXQtdW5kZXJsaW5lOmFmdGVyJzogeyBib3JkZXJCb3R0b21Db2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyB9LH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgeyhBcnJheS5mcm9tKG5ldyBTZXQoYW5hbHl6ZURhdGE/LmZvbnRGYW1pbGllcyB8fCBbXSkpIGFzIHN0cmluZ1tdKS5tYXAoKGYpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmVlZHNRdW90ZSA9IC9bXmEtejAtOS1dL2kudGVzdChmKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3NzID0gYCR7bmVlZHNRdW90ZSA/IGAnJHtmfSdgIDogZn0sQXJpYWwsSGVsdmV0aWNhLHNhbnMtc2VyaWZgO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSBrZXk9e2BkZXQtJHtmfWB9IHZhbHVlPXtjc3N9PntmfTwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSB2YWx1ZT1cIidNb250c2VycmF0JyxBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZlwiPkRlZmF1bHQgKE1vbnRzZXJyYXQpPC9NZW51SXRlbT5cbiAgICAgICAgICAgICAgICAgIDxNZW51SXRlbSB2YWx1ZT1cIkFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWZcIj5BcmlhbDwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9XCJHZW9yZ2lhLCBzZXJpZlwiPkdlb3JnaWE8L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgPE1lbnVJdGVtIHZhbHVlPVwiVGltZXMgTmV3IFJvbWFuLCBzZXJpZlwiPlRpbWVzIE5ldyBSb21hbjwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICA8TWVudUl0ZW0gdmFsdWU9XCJDb3VyaWVyIE5ldywgbW9ub3NwYWNlXCI+Q291cmllciBOZXc8L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgIDwvVGV4dEZpZWxkPlxuXG4gICAgICAgICAgICAgICAgey8qIEFubm91bmNlbWVudCAocmljaCB0ZXh0KSAqL31cbiAgICAgICAgICAgICAgICA8Qm94PlxuICAgICAgICAgICAgICAgICAgPFJpY2hUZXh0RmllbGRcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBbm5vdW5jZW1lbnQgQmFyXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiY3VzdG9tRmllbGRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17YnJhbmRBbm5vdW5jZW1lbnQgYXMgYW55fVxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGh0bWw6IHN0cmluZykgPT4gc2V0QnJhbmRBbm5vdW5jZW1lbnQoaHRtbCl9XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRS5nLiwgRnJlZSBzaGlwcGluZyB0aGlzIHdlZWsg4oCiIDIwJSBvZmYgc2l0ZXdpZGUg4oCiIE5ldyBhcnJpdmFsc1wiXG4gICAgICAgICAgICAgICAgICAgIG1pbkhlaWdodD17NjB9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvQm94PlxuXG4gICAgICAgICAgICAgIDwvU3RhY2s+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvQm94PlxuICAgICAgICB9XG4gICAgICA+XG4gICAgICAgICAgICB7LyogR2xvYmFsIHRvcCBwcm9ncmVzcyB3aGVuIGFueSBzZWN0aW9uIGxvYWRpbmcgKi99XG4gICAgICAgICAgICB7LyogVG9wIHByb2dyZXNzIGlzIG5vdyBoYW5kbGVkIGJ5IEFwcExheW91dCdzIExpbmVhclByb2dyZXNzOyByZW1vdmUgcGFnZS1sZXZlbCBza2VsZXRvbiAqL31cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJywgaGVpZ2h0OiAnY2FsYygxMDB2aCAtIDY0cHgpJyB9fT5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwcmV2aWV3LWJhclwiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgYWxpZ25JdGVtczogJ2NlbnRlcicsIGdhcDogJ3ZhcigtLWdhcC0yKScsIHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxuICAgICAgICAgICAgICAgIDxUeXBvZ3JhcGh5XG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwiaDZcIlxuICAgICAgICAgICAgICAgICAgc3g9e3sgZmxleDogMSwgZm9udFNpemU6ICcwLjlyZW0nLCBmb250V2VpZ2h0OiA0MDAsIGNvbG9yOiAnaW5oZXJpdCcgfX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dmlld01vZGUgPT09ICdwcmV2aWV3JyA/ICdFbWFpbCBQcmV2aWV3JyA6ICdFbWFpbCBDb2RlJ31cbiAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgey8qIENlbnRlcmVkIERlc2t0b3AvTW9iaWxlIHRvZ2dsZSAqL31cbiAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICByb2xlPVwiZ3JvdXBcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIlByZXZpZXcgbW9kZVwiXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgbGVmdDogJzUwJScsIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVgoLTUwJSknLCBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6IDQsIGJhY2tncm91bmQ6ICdyZ2JhKDAsMCwwLDAuMDQpJywgYm9yZGVyUmFkaXVzOiA5OTksIHBhZGRpbmc6ICcycHgnIH19XG4gICAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0Fycm93TGVmdCcgfHwgZS5rZXkgPT09ICdBcnJvd1JpZ2h0Jykge1xuICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICBzZXRQcmV2aWV3TW9kZSgobSkgPT4gKG0gPT09ICdkZXNrdG9wJyA/ICdtb2JpbGUnIDogJ2Rlc2t0b3AnKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRlc2t0b3AgcHJldmlld1wiXG4gICAgICAgICAgICAgICAgICAgIGFyaWEtcHJlc3NlZD17cHJldmlld01vZGUgPT09ICdkZXNrdG9wJ31cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UHJldmlld01vZGUoJ2Rlc2t0b3AnKX1cbiAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJyAnIHx8IGUua2V5ID09PSAnRW50ZXInKSB7IGUucHJldmVudERlZmF1bHQoKTsgc2V0UHJldmlld01vZGUoJ2Rlc2t0b3AnKTsgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSB7IGUucHJldmVudERlZmF1bHQoKTsgc2V0UHJldmlld01vZGUoJ21vYmlsZScpOyB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnQXJyb3dMZWZ0JykgeyBlLnByZXZlbnREZWZhdWx0KCk7IHNldFByZXZpZXdNb2RlKCdtb2JpbGUnKTsgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6IDYsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzZweCAxMHB4JywgYm9yZGVyUmFkaXVzOiA5OTksIGJvcmRlcjogJzFweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcHJldmlld01vZGUgPT09ICdkZXNrdG9wJyA/ICd2YXIoLS1jb2xvci1wcmltYXJ5KScgOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBwcmV2aWV3TW9kZSA9PT0gJ2Rlc2t0b3AnID8gJyNmZmYnIDogJ2luaGVyaXQnLCBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7LyogTW9uaXRvciBpY29uICovfVxuICAgICAgICAgICAgICAgICAgICA8c3ZnIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwiY3VycmVudENvbG9yXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHBhdGggZD1cIk0zIDVoMTh2MTBIM3pNOCAxOWg4di0ySDh6XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGZvbnRTaXplOiAxMiwgZm9udFdlaWdodDogcHJldmlld01vZGUgPT09ICdkZXNrdG9wJyA/IDcwMCA6IDUwMCB9fT5EZXNrdG9wPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiTW9iaWxlIHByZXZpZXdcIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLXByZXNzZWQ9e3ByZXZpZXdNb2RlID09PSAnbW9iaWxlJ31cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0UHJldmlld01vZGUoJ21vYmlsZScpfVxuICAgICAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnICcgfHwgZS5rZXkgPT09ICdFbnRlcicpIHsgZS5wcmV2ZW50RGVmYXVsdCgpOyBzZXRQcmV2aWV3TW9kZSgnbW9iaWxlJyk7IH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdBcnJvd0xlZnQnKSB7IGUucHJldmVudERlZmF1bHQoKTsgc2V0UHJldmlld01vZGUoJ2Rlc2t0b3AnKTsgfVxuICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0Fycm93UmlnaHQnKSB7IGUucHJldmVudERlZmF1bHQoKTsgc2V0UHJldmlld01vZGUoJ2Rlc2t0b3AnKTsgfVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6IDYsXG4gICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzZweCAxMHB4JywgYm9yZGVyUmFkaXVzOiA5OTksIGJvcmRlcjogJzFweCBzb2xpZCB0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogcHJldmlld01vZGUgPT09ICdtb2JpbGUnID8gJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyA6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHByZXZpZXdNb2RlID09PSAnbW9iaWxlJyA/ICcjZmZmJyA6ICdpbmhlcml0JywgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgey8qIFBob25lIGljb24gKi99XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxMlwiIGhlaWdodD1cIjE2XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBhcmlhLWhpZGRlbj1cInRydWVcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTcgMmgxMGEyIDIgMCAwMTIgMnYxNmEyIDIgMCAwMS0yIDJIN2EyIDIgMCAwMS0yLTJWNGEyIDIgMCAwMTItMnptNSAxOGExLjUgMS41IDAgMTAwLTMgMS41IDEuNSAwIDAwMCAzelwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17eyBmb250U2l6ZTogMTIsIGZvbnRXZWlnaHQ6IHByZXZpZXdNb2RlID09PSAnbW9iaWxlJyA/IDcwMCA6IDUwMCB9fT5Nb2JpbGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInByZXZpZXctYWN0aW9uc1wiPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4gc2V0Vmlld01vZGUodmlld01vZGUgPT09ICdwcmV2aWV3JyA/ICdjb2RlJyA6ICdwcmV2aWV3Jyl9IHRpdGxlPXt2aWV3TW9kZSA9PT0gJ3ByZXZpZXcnID8gJ1Nob3cgY29kZScgOiAnU2hvdyBwcmV2aWV3J30+XG4gICAgICAgICAgICAgICAgICAgIHt2aWV3TW9kZSA9PT0gJ3ByZXZpZXcnID8gPENvZGVJY29uIC8+IDogPFZpc2liaWxpdHlJY29uIC8+fVxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b24gb25DbGljaz17KCkgPT4geyBjb3B5VG9DbGlwYm9hcmQoZmluYWxIdG1sKTsgYWRkTm90aWZpY2F0aW9uKCdDb2RlIGNvcGllZCEnKTsgfX0gdGl0bGU9XCJDb3B5IGZ1bGwgZW1haWwgSFRNTCB0byBjbGlwYm9hcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgPENvbnRlbnRDb3B5SWNvbiAvPlxuICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPEljb25CdXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZG93bmxvYWRBc0ZpbGUoJ2VkbV9lc3ByZXNzby5odG1sJywgZmluYWxIdG1sKX1cbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCJEb3dubG9hZCBmdWxsIGVtYWlsIEhUTUxcIlxuICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiRG93bmxvYWQgZnVsbCBlbWFpbCBIVE1MXCJcbiAgICAgICAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5KScsXG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICAgICAgICAnJiBzdmcgcGF0aCc6IHsgZmlsbDogJyNmZmYnIH0sXG4gICAgICAgICAgICAgICAgICAgICAgJyY6aG92ZXInOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAnJiBzdmcgcGF0aCc6IHsgZmlsbDogJyNmZmYnIH1cbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxTdmdJY29uPlxuICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNNSAyMGgxNGExIDEgMCAwMDEtMXYtNGgtMnYzSDZ2LTNINHY0YTEgMSAwIDAwMSAxem03LTNsNS01aC0zVjRoLTR2OEg3bDUgNXpcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L1N2Z0ljb24+XG4gICAgICAgICAgICAgICAgICA8L0ljb25CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGlkPVwicHJldmlld1wiIHN0eWxlPXt7IG92ZXJmbG93WTogJ2F1dG8nLCBvdmVyZmxvd1g6ICdoaWRkZW4nLCBwYWRkaW5nOiAnMXJlbScsIHBhZGRpbmdUb3A6ICcwJywgcG9zaXRpb246ICdyZWxhdGl2ZScsIHBhZGRpbmdCb3R0b206ICc4OHB4JyB9fT5cbiAgICAgICAgICAgICAgICB7Y29sbGVjdGlvbkVucmljaGluZyAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgdG9wOiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICByaWdodDogMCxcbiAgICAgICAgICAgICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICAgICAgICAgICAgbGVmdDogMCxcbiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnZmxleCcsXG4gICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAganVzdGlmeUNvbnRlbnQ6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMixcbiAgICAgICAgICAgICAgICAgICAgICBwb2ludGVyRXZlbnRzOiAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLDAsMCwwLjA0KScsXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogJzZweCAxMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FwOiA4LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAnMCAxcHggNHB4IHJnYmEoMCwwLDAsMC4xKSdcbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPENpcmN1bGFyUHJvZ3Jlc3Mgc2l6ZT17MTZ9IC8+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3sgZm9udFNpemU6IDEyLCBjb2xvcjogJ2luaGVyaXQnIH19PkxvYWRpbmcgc2VsZWN0aW9u4oCmPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAge3ZpZXdNb2RlID09PSAncHJldmlldycgPyAoXG4gICAgICAgICAgICAgICAgICA8Qm94IHJlZj17cHJldmlld1JlZn0gZGF0YS1wcmV2aWV3LWNvbnRhaW5lcj1cInRydWVcIiBzeD17e1xuICAgICAgICAgICAgICAgICAgICAvLyBDb25zdHJhaW4gdmlld3BvcnQgd2lkdGggYmFzZWQgb24gcHJldmlld01vZGU7IGNlbnRlciBpdCB3aXRoIG1hcmdpbiBhdXRvXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBwcmV2aWV3TW9kZSA9PT0gJ21vYmlsZScgPyAndmFyKC0tbW9iaWxlLXByZXZpZXctd2lkdGgsIDM5MHB4KScgOiAnbWluKHZhcigtLWRlc2t0b3AtcHJldmlldy1tYXgsIDEyODBweCksIDEwMCUpJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3dpZHRoIDIwMG1zIGVhc2UnLFxuICAgICAgICAgICAgICAgICAgICBteDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHRoaXMgd3JhcHBlciB0aGUgbmFtZWQgY29udGFpbmVyIGZvciBjb250YWluZXIgcXVlcmllc1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJUeXBlOiAnaW5saW5lLXNpemUnLFxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXJOYW1lOiAncHJldmlldycsXG4gICAgICAgICAgICAgICAgICAgICcmIGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdwcmltYXJ5Lm1haW4nLFxuICAgICAgICAgICAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiAndW5kZXJsaW5lJyxcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0VW5kZXJsaW5lT2Zmc2V0OiAnMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICB3b3JkQnJlYWs6ICdicmVhay13b3JkJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJyYgYTpob3Zlcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0RGVjb3JhdGlvblRoaWNrbmVzczogJzJweCcsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICcmIGE6Zm9jdXMtdmlzaWJsZSc6IHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiAnMnB4IHNvbGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lQ29sb3I6ICdwcmltYXJ5LmxpZ2h0JyxcbiAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lT2Zmc2V0OiAnMnB4JyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwicHJldmlldy1pbm5lclwiPlxuICAgICAgICAgICAgICAgICAgICB7LyogRmxvYXRpbmcgYW5ub3VuY2VtZW50IHRvb2xiYXIgcmVtb3ZlZDogcHJldmlldyBpcyBjb3B5LW9ubHkgKi99XG4gICAgICAgICAgICAgICAgICAgIHtzaG93SGVhZGVyU2VjdGlvbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgbG9hZGluZyA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwicmVjdGFuZ3VsYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3NrZWxBbmltfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1iOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDYwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcHJldmlld01vZGUgPT09ICdtb2JpbGUnID8gNjAgOiA4MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAndmFyKC0tc2hhZG93LWxpZ2h0KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1RvcDogYCR7aGVhZGVyUGFkZGluZy50b3AgPz8gMH1weGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogYCR7aGVhZGVyUGFkZGluZy5ib3R0b20gPz8gMH1weGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1zZWN0aW9uPVwiaGVhZGVyXCIgb25DbGljaz17KCkgPT4gc2V0T3BlblNlY3Rpb24oJ2hlYWRlcicpfSBzdHlsZT17eyBwb3NpdGlvbjogJ3JlbGF0aXZlJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIENvbnN0cmFpbiByaXBwbGUgYW5kIGNvbnRlbnQgaW5zaWRlIGEgY2VudGVyZWQgNjAwcHggd3JhcHBlciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogNjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzAgYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0ZXh0IGNvbG9yIHNvIFRvdWNoUmlwcGxlIHVzZXMgaXQgdmlhIGN1cnJlbnRDb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICd2YXIoLS1jb2xvci1hY2NlbnQpJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogUmlwcGxlIG92ZXJsYXkgY29uZmluZWQgdG8gdGhlIDYwMHB4IGhlYWRlciBib3ggKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgaW5zZXQ6IDAsIHBvaW50ZXJFdmVudHM6ICdub25lJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUb3VjaFJpcHBsZSByZWY9e2FublJpcHBsZVJlZn0gY2VudGVyPXtmYWxzZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaGVhZGVySHRtbCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAge3NlY3Rpb25PcmRlci5tYXAoKGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PT0gJ2hlcm8nICYmIHNob3dIZXJvU2VjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoZXJvSW1hZ2UgJiYgIWRlYm91bmNlZExvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT1cImhlcm9cIiBkYXRhLXNlY3Rpb249XCJoZXJvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxIZXJvVGFibGVNb2R1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXJvSW1hZ2U9e2hlcm9JbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXJvQWx0PXtoZXJvQWx0IHx8IGJyYW5kTmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXJvSHJlZj17aGVyb0hyZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVyb0ltYWdlcz17aGVyb0ltYWdlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVIZXJvPXt1cGRhdGVIZXJvfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlSWQ9e3NlbGVjdGVkSGVyb0lkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWN0aXZhdGU9eygpID0+IHNldE9wZW5TZWN0aW9uKCdoZXJvJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3JhcHBlclBhZGRpbmc9e2hlcm9QYWRkaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJoZXJvLXNrZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwicmVjdGFuZ3VsYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3NrZWxBbmltfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1iOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4V2lkdGg6IDYwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteDogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcHJldmlld01vZGUgPT09ICdtb2JpbGUnID8gMTQwIDogMTgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICd2YXIoLS1zaGFkb3ctbGlnaHQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiBgJHtoZXJvUGFkZGluZy50b3AgPz8gMH1weGAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogYCR7aGVyb1BhZGRpbmcuYm90dG9tID8/IDB9cHhgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQgPT09ICdiYW5uZXInICYmIHNob3dCYW5uZXJTZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmFubmVySW1hZ2UgJiYgIWRlYm91bmNlZExvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJiYW5uZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtc2VjdGlvbj1cImJhbm5lclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0T3BlblNlY3Rpb24oJ2Jhbm5lcicpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogUmVuZGVyIGEgcHJldmlldyB3cmFwcGVyIGxpa2UgaGVybzogdGFibGUgLT4gaW5uZXIgd3JhcHBlciAtPiBpbWcgKyBlZGl0IGljb24gc2libGluZ3MuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERvIG5vdCBpbmNsdWRlIGFueSBleHRlcm5hbCBsaW5rICg8YT4pIGFyb3VuZCB0aGUgaW1hZ2UgaW4gcHJldmlldy4gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlPVwicHJlc2VudGF0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPVwiMTAwJVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsUGFkZGluZz17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGxTcGFjaW5nPXswfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyPXswfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ249XCJjZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luOiAwLCBwYWRkaW5nOiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGFsaWduPVwiY2VudGVyXCIgc3R5bGU9e3sgbWFyZ2luOiAwLCBwYWRkaW5nOiAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJwcmVzZW50YXRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD1cIjEwMCVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxsUGFkZGluZz17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbFNwYWNpbmc9ezB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcj17MH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogJzYwMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW46ICcwIGF1dG8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IGAke2Jhbm5lclBhZGRpbmcudG9wID8/IDB9cHggJHtiYW5uZXJQYWRkaW5nLnJpZ2h0ID8/IDB9cHggJHtiYW5uZXJQYWRkaW5nLmJvdHRvbSA/PyAwfXB4ICR7YmFubmVyUGFkZGluZy5sZWZ0ID8/IDB9cHhgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjRkZGRkZGJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPXt7IHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BiYW5uZXItaW1hZ2Utd3JhcHBlciR7KGFuYWx5emVEYXRhPy5iYW5uZXJJbWFnZXM/Lmxlbmd0aCB8fCAwKSA+IDAgPyAnIHNlbGVjdGFibGUnIDogJyd9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6IChhbmFseXplRGF0YT8uYmFubmVySW1hZ2VzPy5sZW5ndGggfHwgMCkgPiAwID8gJ3BvaW50ZXInIDogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGFuYWx5emVEYXRhPy5iYW5uZXJJbWFnZXM/Lmxlbmd0aCB8fCAwKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0Jhbm5lclNlbGVjdG9yKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUVudGVyPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZS5jdXJyZW50VGFyZ2V0LnF1ZXJ5U2VsZWN0b3IoJ2ltZycpIGFzIEhUTUxJbWFnZUVsZW1lbnQgfCBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWRpdEljb24gPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLmVkaXQtaWNvbicpIGFzIEhUTUxEaXZFbGVtZW50IHwgbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbWcpIGltZy5zdHlsZS5vcGFjaXR5ID0gJzAuNyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdEljb24pIGVkaXRJY29uLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKC0zOHB4KSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignaW1nJykgYXMgSFRNTEltYWdlRWxlbWVudCB8IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlZGl0SWNvbiA9IGUuY3VycmVudFRhcmdldC5xdWVyeVNlbGVjdG9yKCcuZWRpdC1pY29uJykgYXMgSFRNTERpdkVsZW1lbnQgfCBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltZykgaW1nLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWRpdEljb24pIGVkaXRJY29uLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtiYW5uZXJJbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17YmFubmVyQWx0IHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dERlY29yYXRpb246ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycyBlYXNlLWluLW91dCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KGFuYWx5emVEYXRhPy5iYW5uZXJJbWFnZXM/Lmxlbmd0aCB8fCAwKSA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0LWljb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T3BlblNlY3Rpb24oJ2Jhbm5lcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFNob3dCYW5uZXJTZWxlY3Rvcih0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IC0zMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodDogOCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNTAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbkl0ZW1zOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjNzIGVhc2UtaW4tb3V0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiU2VsZWN0IGJhbm5lciBpbWFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPVwiU2VsZWN0IGJhbm5lciBpbWFnZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzdmcgdmlld0JveD1cIjAgMCAyNCAyNFwiIHdpZHRoPVwiMTZcIiBoZWlnaHQ9XCIxNlwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBkPVwiTTE0LjY5IDMuMWw2LjIgNi4yYy4yNy4yNy4yNy43IDAgLjk3bC04LjIgOC4yYy0uMTcuMTctLjM5LjI2LS42Mi4yNkg2LjVjLS41NSAwLTEtLjQ1LTEtMXYtNS41N2MwLS4yMy4wOS0uNDUuMjYtLjYybDguMi04LjJjLjI3LS4yNy43LS4yNy45NyAwek01IDIwaDE0djJINXYtMnpcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBCYW5uZXIgSW1hZ2VTZWxlY3RvciBvdmVybGF5IChwb3NpdGlvbmVkIG92ZXIgcHJldmlldyBwYW5lbCkgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3Nob3dCYW5uZXJTZWxlY3RvciAmJiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aWV3UGFuZWwgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJldmlldycpIGFzIEhUTUxFbGVtZW50KSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlY3QgPSBwcmV2aWV3UGFuZWw/LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGltZ3MgPSB1bmlxdWVJbWFnZXMoKGFuYWx5emVEYXRhPy5iYW5uZXJJbWFnZXMgfHwgW10pIGFzIHN0cmluZ1tdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VzPXtpbWdzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkPXtiYW5uZXJJbWFnZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXsoaW1nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRCYW5uZXJJbWFnZShpbWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QmFubmVySHJlZihicmFuZFdlYnNpdGUgfHwgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0QmFubmVyQWx0KGFuYWx5emVEYXRhPy5zdG9yZU5hbWUgfHwgYnJhbmROYW1lIHx8ICdCcmFuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0Jhbm5lclNlbGVjdG9yKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldFNob3dCYW5uZXJTZWxlY3RvcihmYWxzZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yUmVjdD17cmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9XCJiYW5uZXItc2tlbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInJlY3Rhbmd1bGFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3NrZWxBbmltfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogNjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXg6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcHJldmlld01vZGUgPT09ICdtb2JpbGUnID8gOTAgOiAxMjAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICd2YXIoLS1zaGFkb3ctbGlnaHQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmdUb3A6IGAke2Jhbm5lclBhZGRpbmcudG9wID8/IDB9cHhgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogYCR7YmFubmVyUGFkZGluZy5ib3R0b20gPz8gMH1weGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKGlkLnN0YXJ0c1dpdGgoJ2JvZHktJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlY3Rpb24gPSBib2R5U2VjdGlvbnMuZmluZCgocykgPT4gYGJvZHktJHtzLmlkfWAgPT09IGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VjdGlvbikgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXNlY3Rpb249e2Bib2R5LSR7c2VjdGlvbi5pZH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldE9wZW5TZWN0aW9uKGBib2R5LSR7c2VjdGlvbi5pZH1gKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLmxvYWRpbmcgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFkID0gZ2V0Qm9keVNlY3Rpb25QYWRkaW5nKHNlY3Rpb24uaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNrZWxldG9uU3ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogNjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXg6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm94U2hhZG93OiAndmFyKC0tc2hhZG93LWxpZ2h0KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiBgJHtwYWQudG9wID8/IDB9cHhgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbTogYCR7cGFkLmJvdHRvbSA/PyAwfXB4YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24udXJscy5maWx0ZXIodT0+dS50cmltKCkpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNrZWxldG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInJlY3Rhbmd1bGFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3NrZWxBbmltfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN4PXt7IC4uLnNrZWxldG9uU3gsIGhlaWdodDogcHJldmlld01vZGUgPT09ICdtb2JpbGUnID8gMTQwIDogc2tlbGV0b25TeC5oZWlnaHQgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWN0aW9uLnVybHMuZmlsdGVyKHU9PnUudHJpbSgpKS5tYXAoKF8saSk9PihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTa2VsZXRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2B1cmwtc2tlbC0ke3NlY3Rpb24uaWR9LSR7aX1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwicmVjdGFuZ3VsYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb249e3NrZWxBbmltfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeD17eyAuLi5za2VsZXRvblN4LCBoZWlnaHQ6IHByZXZpZXdNb2RlID09PSAnbW9iaWxlJyA/IDE0MCA6IHNrZWxldG9uU3guaGVpZ2h0IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbi5zZWxlY3RlZEJvZHlJZCA9PT0gJ2dyaWQnID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHBsID0gYm9keVRlbXBsYXRlcy5maW5kKCh0KSA9PiB0LmlkID09PSAnZ3JpZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRwbCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciBncmlkIHdpdGggY2xpY2thYmxlIGltYWdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIHNhbWUgdGFibGUgc3RydWN0dXJlIGFzIHRoZSBhY3R1YWwgZ3JpZCB0ZW1wbGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgcm9sZT1cInByZXNlbnRhdGlvblwiIHdpZHRoPVwiMTAwJVwiIGNlbGxQYWRkaW5nPXswfSBjZWxsU3BhY2luZz17MH0gYm9yZGVyPXswfSBhbGlnbj1cImNlbnRlclwiIHN0eWxlPXt7IG1hcmdpbjogMCwgcGFkZGluZzogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBhbGlnbj1cImNlbnRlclwiIHN0eWxlPXt7IG1hcmdpbjogMCwgcGFkZGluZzogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIHJvbGU9XCJwcmVzZW50YXRpb25cIiB3aWR0aD1cIjEwMCVcIiBjZWxsUGFkZGluZz17MH0gY2VsbFNwYWNpbmc9ezB9IGJvcmRlcj17MH0gc3R5bGU9e3sgbWF4V2lkdGg6IDYwMCwgbWFyZ2luOiAnMCBhdXRvJywgYmFja2dyb3VuZDogJyNGRkZGRkYnLCBwYWRkaW5nOiAoKCkgPT4geyBjb25zdCBwID0gZ2V0Qm9keVNlY3Rpb25QYWRkaW5nKHNlY3Rpb24uaWQpOyBjb25zdCBhbGxaZXJvID0gcC50b3A9PT0wJiZwLnJpZ2h0PT09MCYmcC5ib3R0b209PT0wJiZwLmxlZnQ9PT0wOyBjb25zdCBiYXNlID0gcHJldmlld01vZGU9PT0nbW9iaWxlJz8xMjoyNTsgcmV0dXJuIGFsbFplcm8/YCR7YmFzZX1weGA6YCR7cC50b3B9cHggJHtwLnJpZ2h0fXB4ICR7cC5ib3R0b219cHggJHtwLmxlZnR9cHhgOyB9KSgpIGFzIGFueSB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT17eyBwYWRkaW5nOiAwIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSByb2xlPVwicHJlc2VudGF0aW9uXCIgd2lkdGg9XCIxMDAlXCIgY2VsbFBhZGRpbmc9ezB9IGNlbGxTcGFjaW5nPXswfSBib3JkZXI9ezB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIG1hcmdpbjogMCwgcGFkZGluZzogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgcm93cyA9IGdyaWRSb3dDaHVua3Moc2VjdGlvbi5wcm9kdWN0cywgMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJhc2VJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd3MubWFwKChyb3c6IGFueVtdLCByb3dJZHg6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sQ291bnQgPSByb3cubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGVyY2VudCA9IGNvbENvdW50ID09PSAzID8gJzMzLjMzMyUnIDogKGNvbENvdW50ID09PSAyID8gJzUwJScgOiAnMTAwJScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbHMgPSByb3cubWFwKChwcm9kOiBhbnksIGlubmVySWR4OiBudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZ2xvYmFsSWR4ID0gYmFzZUluZGV4ICsgaW5uZXJJZHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2BncmlkLSR7c2VjdGlvbi5pZH0tJHtyb3dJZHh9LSR7aW5uZXJJZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtcHJvZHVjdC1jZWxsPXtgJHtzZWN0aW9uLmlkfS0ke2dsb2JhbElkeH1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ249XCJjZW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWduPVwidG9wXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHBhZGRpbmc6ICcwIDZweCAwIDZweCcsIHBvc2l0aW9uOiAncmVsYXRpdmUnLCBjdXJzb3I6ICdwb2ludGVyJywgb3ZlcmZsb3c6ICdoaWRkZW4nLCB3aWR0aDogcGVyY2VudCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SW1hZ2VTZWxlY3Rvcih7IHNlY3Rpb25JZDogc2VjdGlvbi5pZCwgcHJvZHVjdElkeDogZ2xvYmFsSWR4IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRQcm9kdWN0Q3R4KHsgc2VjdGlvbklkOiBzZWN0aW9uLmlkLCBpbmRleDogZ2xvYmFsSWR4IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFN1bW1hcnlUYWIoMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IGUuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9kdWN0LWNsaWNrLXJpcHBsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIGNlbGwub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NMaXN0LmFkZCgncHJvZHVjdC1jbGljay1yaXBwbGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGljb24gPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLmVkaXQtaWNvbicpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nKSAoaW1nIGFzIEhUTUxJbWFnZUVsZW1lbnQpLnN0eWxlLm9wYWNpdHkgPSAnMC43JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGljb24pIGljb24uc3R5bGUudHJhbnNmb3JtID0gJ3RyYW5zbGF0ZVkoLTM4cHgpJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWcgPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGljb24gPSBlLmN1cnJlbnRUYXJnZXQucXVlcnlTZWxlY3RvcignLmVkaXQtaWNvbicpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1nKSAoaW1nIGFzIEhUTUxJbWFnZUVsZW1lbnQpLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpY29uKSBpY29uLnN0eWxlLnRyYW5zZm9ybSA9ICd0cmFuc2xhdGVZKDApJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmM9e3Byb2QuaW1hZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17cHJvZC50aXRsZSB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJywgd2lkdGg6ICcxMDAlJywgaGVpZ2h0OiAnYXV0bycsIGJvcmRlcjogMCwgb3V0bGluZTogMCwgdGV4dERlY29yYXRpb246ICdub25lJywgdHJhbnNpdGlvbjogJ29wYWNpdHkgMC4ycyBlYXNlLWluLW91dCcgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cHJvZC5pbWFnZXMgJiYgcHJvZC5pbWFnZXMubGVuZ3RoID4gMSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJlZGl0LWljb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogLTMwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMCwwLDAuNSknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogJzUwJScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiA0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZVkoMCknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogJ3RyYW5zZm9ybSAwLjNzIGVhc2UtaW4tb3V0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17ZSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IHNldEltYWdlU2VsZWN0b3IoeyBzZWN0aW9uSWQ6IHNlY3Rpb24uaWQsIHByb2R1Y3RJZHg6IGdsb2JhbElkeCB9KTsgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFZGl0SWNvbiBzdHlsZT17eyBjb2xvcjogJyNmZmYnLCBmb250U2l6ZTogMTYgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VJbmRleCArPSByb3cubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFJlYWN0LkZyYWdtZW50IGtleT17YGdyaWQtd3JhcC0ke3NlY3Rpb24uaWR9LSR7cm93SWR4fWB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSByb2xlPVwicHJlc2VudGF0aW9uXCIgd2lkdGg9XCIxMDAlXCIgY2VsbFBhZGRpbmc9ezB9IGNlbGxTcGFjaW5nPXswfSBib3JkZXI9ezB9IHN0eWxlPXt7IHdpZHRoOiAnMTAwJScsIG1hcmdpbjogMCwgcGFkZGluZzogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPntjZWxsc308L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtyb3dJZHggPT09IHJvd3MubGVuZ3RoIC0gMSA/IG51bGwgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGFibGUgcm9sZT1cInByZXNlbnRhdGlvblwiIHdpZHRoPVwiMTAwJVwiIGNlbGxQYWRkaW5nPXswfSBjZWxsU3BhY2luZz17MH0gYm9yZGVyPXswfSBzdHlsZT17eyB3aWR0aDogJzEwMCUnLCBtYXJnaW46IDAsIHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRkIHN0eWxlPXt7IGhlaWdodDogMTIsIGZvbnRTaXplOiAwLCBsaW5lSGVpZ2h0OiAnMTJweCcgfX0+Jm5ic3A7PC90ZD48L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogVW5pdmVyc2FsIEltYWdlU2VsZWN0b3IgZm9yIGdyaWQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aW1hZ2VTZWxlY3RvciAmJiBpbWFnZVNlbGVjdG9yLnNlY3Rpb25JZCA9PT0gc2VjdGlvbi5pZCAmJiBzZWN0aW9uLnByb2R1Y3RzW2ltYWdlU2VsZWN0b3IucHJvZHVjdElkeF0gJiYgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTGltaXQgYmFja2Ryb3AgdG8gbWFpbiBhcmVhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1haW5QYW5lbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpIGFzIEhUTUxFbGVtZW50IDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVjdCA9IG1haW5QYW5lbD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVNlbGVjdG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWFnZXM9e3NlY3Rpb24ucHJvZHVjdHNbaW1hZ2VTZWxlY3Rvci5wcm9kdWN0SWR4XS5pbWFnZXMgfHwgW119XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD17c2VjdGlvbi5wcm9kdWN0c1tpbWFnZVNlbGVjdG9yLnByb2R1Y3RJZHhdLmltYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Blbj17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0PXsoaW1nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2R1Y3RJblNlY3Rpb24oc2VjdGlvbi5pZCwgaW1hZ2VTZWxlY3Rvci5wcm9kdWN0SWR4LCAnaW1hZ2UnLCBpbWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbWFnZVNlbGVjdG9yKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEltYWdlU2VsZWN0b3IobnVsbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3JSZWN0PXtyZWN0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3Igbm9uLWdyaWQsIHByZXZpZXcgbW9kdWxlcyBpbnNpZGUgYSBzaW5nbGUgNjAwcHggd3JhcHBlciB0byByZWZsZWN0IHNlY3Rpb24gcGFkZGluZyBvbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIHJvbGU9XCJwcmVzZW50YXRpb25cIiB3aWR0aD1cIjEwMCVcIiBjZWxsUGFkZGluZz17MH0gY2VsbFNwYWNpbmc9ezB9IGJvcmRlcj17MH0gYWxpZ249XCJjZW50ZXJcIiBzdHlsZT17eyBtYXJnaW46IDAsIHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgYWxpZ249XCJjZW50ZXJcIiBzdHlsZT17eyBtYXJnaW46IDAsIHBhZGRpbmc6IDAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRhYmxlIHJvbGU9XCJwcmVzZW50YXRpb25cIiB3aWR0aD1cIjEwMCVcIiBjZWxsUGFkZGluZz17MH0gY2VsbFNwYWNpbmc9ezB9IGJvcmRlcj17MH0gc3R5bGU9e3sgbWF4V2lkdGg6IDYwMCwgbWFyZ2luOiAnMCBhdXRvJywgYmFja2dyb3VuZDogJyNGRkZGRkYnLCBwYWRkaW5nOiAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IGdldEJvZHlTZWN0aW9uUGFkZGluZyhzZWN0aW9uLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsbFplcm8gPSBwLnRvcD09PTAmJnAucmlnaHQ9PT0wJiZwLmJvdHRvbT09PTAmJnAubGVmdD09PTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYXNlID0gcHJldmlld01vZGU9PT0nbW9iaWxlJz8xMjoyNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHVzZXIgc3VwcGxpZWQgYW55IG5vbi16ZXJvIHBhZGRpbmcsIGFsd2F5cyBob25vciBpdCBldmVuIGZvciBmZWF0dXJlIHRlbXBsYXRlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYWxsWmVybykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7cC50b3B9cHggJHtwLnJpZ2h0fXB4ICR7cC5ib3R0b219cHggJHtwLmxlZnR9cHhgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBmb3IgZmVhdHVyZSB0ZW1wbGF0ZXMgcHJlc2VydmUgcHJldmlvdXMgYmVoYXZpb3IgKG91dGVyIHdyYXBwZXIgcGFkZGluZyAwKSB0byBhdm9pZCBkb3VibGUgcGFkZGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWN0aW9uLnNlbGVjdGVkQm9keUlkID09PSAncHJvZHVjdC1pbWFnZS1sZWZ0LWNvcHktcmlnaHQnIHx8IHNlY3Rpb24uc2VsZWN0ZWRCb2R5SWQgPT09ICdwcm9kdWN0LWNvcHktbGVmdC1pbWFnZS1yaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYCR7YmFzZX1weGA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoKSBhcyBhbnkgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgcGFkZGluZzogMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtzZWN0aW9uLnByb2R1Y3RzLm1hcCgocHJvZCwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFsdGVybmF0ZSBvcmllbnRhdGlvbiBhY3Jvc3MgcHJvZHVjdHMgZm9yIGZlYXR1cmUgdGVtcGxhdGVzOyBzdGFydCB3aXRoIHRoZSB0ZW1wbGF0ZSdzIGJhc2Ugb3JpZW50YXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcmllbnRhdGlvbjogJ2xlZnQtaW1hZ2UnIHwgJ3JpZ2h0LWltYWdlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24uc2VsZWN0ZWRCb2R5SWQgPT09ICdwcm9kdWN0LWltYWdlLWxlZnQtY29weS1yaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VjdGlvbi5hbHRlcm5hdGUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9ICdsZWZ0LWltYWdlJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSAoaWR4ICUgMiA9PT0gMCkgPyAnbGVmdC1pbWFnZScgOiAncmlnaHQtaW1hZ2UnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWN0aW9uLnNlbGVjdGVkQm9keUlkID09PSAncHJvZHVjdC1jb3B5LWxlZnQtaW1hZ2UtcmlnaHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY3Rpb24uYWx0ZXJuYXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZW50YXRpb24gPSAncmlnaHQtaW1hZ2UnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbiA9IChpZHggJSAyID09PSAwKSA/ICdyaWdodC1pbWFnZScgOiAnbGVmdC1pbWFnZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyIHRlbXBsYXRlczoga2VlcCBwcmV2aW91cyBhbHRlcm5hdGluZyBmYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudGF0aW9uID0gaWR4ICUgMiA9PT0gMCA/ICdsZWZ0LWltYWdlJyA6ICdyaWdodC1pbWFnZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hvb3NlIGRlc2NyaXB0aW9uIHNvdXJjZSBmb3IgcHJldmlldyAocGVyLXByb2R1Y3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRzUHJldiA9IChwcm9kIGFzIGFueSkuZGVzY1NvdXJjZSB8fCAnbWV0YWRhdGEnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hvc2VuRGVzY3JpcHRpb24gPSAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uIHx8ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZHNQcmV2ID09PSAncCcgJiYgKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaG9zZW5EZXNjcmlwdGlvbiA9IChwcm9kIGFzIGFueSkuZGVzY3JpcHRpb25QIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkc1ByZXYgPT09ICd1bCcgJiYgKHByb2QgYXMgYW55KS5kZXNjcmlwdGlvblVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvc2VuRGVzY3JpcHRpb24gPSAocHJvZCBhcyBhbnkpLmRlc2NyaXB0aW9uVWwgYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRzUHJldiA9PT0gJ21ldGFkYXRhJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSAocHJvZCBhcyBhbnkpLm1ldGFkYXRhRGVzY3JpcHRpb24gfHwgKHByb2QgYXMgYW55KS5vcmlnaW5hbE1ldGFkYXRhRGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGEpIGNob3NlbkRlc2NyaXB0aW9uID0gbWV0YSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjaG9zZW5EZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1ldGEgPSAocHJvZCBhcyBhbnkpLm1ldGFkYXRhRGVzY3JpcHRpb24gfHwgKHByb2QgYXMgYW55KS5vcmlnaW5hbE1ldGFkYXRhRGVzY3JpcHRpb24gfHwgJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1ldGEpIGNob3NlbkRlc2NyaXB0aW9uID0gbWV0YSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17YG1vZC0ke3NlY3Rpb24uaWR9LSR7aWR4fWB9IGRhdGEtcHJvZHVjdC1jZWxsPXtgJHtzZWN0aW9uLmlkfS0ke2lkeH1gfSBjbGFzc05hbWU9XCJwcm9kdWN0LW1vZHVsZS13cmFwcGVyXCIgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRQcm9kdWN0Q3R4KHsgc2VjdGlvbklkOiBzZWN0aW9uLmlkLCBpbmRleDogaWR4IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdW1tYXJ5VGFiKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IChlLmN1cnJlbnRUYXJnZXQgYXMgSFRNTEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QucmVtb3ZlKCdwcm9kdWN0LWNsaWNrLXJpcHBsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCBjZWxsLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbC5jbGFzc0xpc3QuYWRkKCdwcm9kdWN0LWNsaWNrLXJpcHBsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxQcm9kdWN0VGFibGVNb2R1bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17YCR7c2VjdGlvbi5pZH0tJHtpZHh9YH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q9e3sgLi4ucHJvZCwgZGVzY3JpcHRpb246IGNob3NlbkRlc2NyaXB0aW9uIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleD17aWR4fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw9e3NlY3Rpb24ucHJvZHVjdHMubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmVhdHVyZVRlbXBsYXRlPXtzZWN0aW9uLnNlbGVjdGVkQm9keUlkID09PSAncHJvZHVjdC1pbWFnZS1sZWZ0LWNvcHktcmlnaHQnIHx8IHNlY3Rpb24uc2VsZWN0ZWRCb2R5SWQgPT09ICdwcm9kdWN0LWNvcHktbGVmdC1pbWFnZS1yaWdodCd9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbj17b3JpZW50YXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZUlkPXtzZWN0aW9uLnNlbGVjdGVkQm9keUlkIGFzIGFueX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVByb2R1Y3Q9eyhpOiBudW1iZXIsIGZpZWxkOiBhbnksIHZhbHVlOiBzdHJpbmcpID0+IHVwZGF0ZVByb2R1Y3RJblNlY3Rpb24oc2VjdGlvbi5pZCwgaSwgZmllbGQsIHZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQWN0aXZhdGU9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0T3BlblNlY3Rpb24oYGJvZHktJHtzZWN0aW9uLmlkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0ZWN0ZWRQYWdlVHlwZSA9PT0gJ2NvbGxlY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRQcm9kdWN0Q3R4KHsgc2VjdGlvbklkOiBzZWN0aW9uLmlkLCBpbmRleDogaWR4IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZWQgYXV0byBzd2l0Y2ggdG8gUHJvZHVjdCB0YWI7IHVzZXIgc3RheXMgb24gQ29sbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9kdWN0RmllbGRDbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTaG93QnJhbmRQYW5lbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3VtbWFyeVRhYihkZXRlY3RlZFBhZ2VUeXBlID09PSAnY29sbGVjdGlvbicgPyAxIDogMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RhQmc9e2JyYW5kUHJpbWFyeX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXlDb250YWluZXJSZWY9e3ByZXZpZXdSZWYgYXMgYW55fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJhbmROYW1lPXticmFuZE5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjU291cmNlPXsocHJvZCBhcyBhbnkpLmRlc2NTb3VyY2UgYXMgYW55fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2VEZXNjU291cmNlPXsoc3JjOiBhbnkpID0+IHVwZGF0ZVByb2R1Y3RJblNlY3Rpb24oc2VjdGlvbi5pZCwgaWR4LCAnZGVzY1NvdXJjZScgYXMgYW55LCBzcmMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICB7c2hvd0Zvb3RlclNlY3Rpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmcgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8U2tlbGV0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cInJlY3Rhbmd1bGFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uPXtza2VsQW5pbX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3g9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYjogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heFdpZHRoOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXg6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3hTaGFkb3c6ICd2YXIoLS1zaGFkb3ctbGlnaHQpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nVG9wOiBgJHtmb290ZXJQYWRkaW5nLnRvcCA/PyAwfXB4YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tOiBgJHtmb290ZXJQYWRkaW5nLmJvdHRvbSA/PyAwfXB4YFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBkYXRhLXNlY3Rpb249XCJmb290ZXJcIiBvbkNsaWNrPXsoKSA9PiBzZXRPcGVuU2VjdGlvbignZm9vdGVyJyl9IHN0eWxlPXt7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ29uc3RyYWluIHJpcHBsZSBhbmQgY29udGVudCB0byBjZW50ZXJlZCA2MDBweCB3cmFwcGVyICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZUZvb3RlclJpcHBsZU1vdXNlRG93bn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlVXA9e2hhbmRsZUZvb3RlclJpcHBsZU1vdXNlVXB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZUxlYXZlPXtoYW5kbGVGb290ZXJSaXBwbGVNb3VzZUxlYXZlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhXaWR0aDogNjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogJzAgYXV0bycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjRkZGRkZGJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAndmFyKC0tY29sb3ItYWNjZW50KSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17eyBwb3NpdGlvbjogJ2Fic29sdXRlJywgaW5zZXQ6IDAsIHBvaW50ZXJFdmVudHM6ICdub25lJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxUb3VjaFJpcHBsZSByZWY9e2Zvb3RlclJpcHBsZVJlZn0gY2VudGVyPXtmYWxzZX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogZm9vdGVySHRtbCB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2RlLWFjY29yZGlvblwiIHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicsIGdhcDogJ3ZhcigtLWdhcC0yKScgfX0+XG4gICAgICAgICAgICAgICAgICAgIHtjb2RlU2VjdGlvbnMubWFwKChzZWN0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNPcGVuID0gb3BlbkNvZGVTZWN0aW9uc1tzZWN0aW9uLmtleV0gIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8UGFwZXIga2V5PXtzZWN0aW9uLmtleX0gdmFyaWFudD1cIm91dGxpbmVkXCIgc3F1YXJlIHN4PXt7IGJnY29sb3I6ICdiYWNrZ3JvdW5kLnBhcGVyJywgYm9yZGVyQ29sb3I6ICdkaXZpZGVyJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImNvZGUtc2VjdGlvbi1oZWFkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRvZ2dsZUNvZGVTZWN0aW9uKHNlY3Rpb24ua2V5KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeD17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ2ZsZXgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25JdGVtczogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBweDogMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB5OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdjb2xvcjogJ2JhY2tncm91bmQucGFwZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOiAnMXB4IHNvbGlkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnZGl2aWRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJjpob3Zlcic6IHsgYmdjb2xvcjogJ2FjdGlvbi5ob3ZlcicgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8VHlwb2dyYXBoeSB2YXJpYW50PVwiYm9keTJcIiBzeD17eyBmb250V2VpZ2h0OiA2MDAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2VjdGlvbi50aXRsZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L1R5cG9ncmFwaHk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJveCBjbGFzc05hbWU9XCJjb2RlLWFjdGlvbnNcIiBzeD17eyBkaXNwbGF5OiAnZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInLCBnYXA6IDEgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvbkJ1dHRvbiBvbkNsaWNrPXsoZSkgPT4geyBlLnN0b3BQcm9wYWdhdGlvbigpOyB0b2dnbGVDb2RlU2VjdGlvbihzZWN0aW9uLmtleSk7IH19IHRpdGxlPXtpc09wZW4gPyAnQ29sbGFwc2Ugc2VjdGlvbicgOiAnRXhwYW5kIHNlY3Rpb24nfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2lzT3BlbiA/IDxFeHBhbmRMZXNzSWNvbiAvPiA6IDxFeHBhbmRNb3JlSWNvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvSWNvbkJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uQnV0dG9uIG9uQ2xpY2s9eyhlKSA9PiB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IGNvcHlUb0NsaXBib2FyZChzZWN0aW9uLmNvZGUpOyBhZGROb3RpZmljYXRpb24oJ0NvZGUgY29waWVkIScpOyB9fSB0aXRsZT1cIkNvcHkgY29kZSB0byBjbGlwYm9hcmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbnRlbnRDb3B5SWNvbiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9JY29uQnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2lzT3BlbiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJveFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50PVwicHJlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG06IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodDogMjAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dYOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmdjb2xvcjogJ2JhY2tncm91bmQucGFwZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ3RleHQucHJpbWFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB4OiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBweTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ01lbmxvLCBNb25hY28sIENvbnNvbGFzLCBcIkNvdXJpZXIgTmV3XCIsIG1vbm9zcGFjZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmRCcmVhazogJ2JyZWFrLXdvcmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1dyYXA6ICdhbnl3aGVyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6ICczcHggc29saWQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ2RpdmlkZXInXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjb2RlIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaGlnaGxpZ2h0KHNlY3Rpb24uY29kZSkgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0JveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvUGFwZXI+XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L0FwcExheW91dD5cblxuICAgICAgICB7LyogR2xvYmFsIHF1aWNrIGFjdGlvbnMgU3BlZWREaWFsIGZpeGVkIHRvIHZpZXdwb3J0IGJvdHRvbS1yaWdodCAqL31cbiAgICAgICAge3ZpZXdNb2RlID09PSAncHJldmlldycgJiYgKFxuICAgICAgICAgIDxCb3hcbiAgICAgICAgICAgIGFyaWEtaGlkZGVuPXtmYWxzZX1cbiAgICAgICAgICAgIHN4PXt7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgICAgICAgICB6SW5kZXg6ICh0aGVtZSkgPT4gdGhlbWUuekluZGV4LnRvb2x0aXAgKyAyLFxuICAgICAgICAgICAgICBib3R0b206IDE2LFxuICAgICAgICAgICAgICByaWdodDogYGNhbGModmFyKC0tcmlnaHQtcGFuZWwtb2Zmc2V0LCAwcHgpICsgMTZweClgXG4gICAgICAgICAgICB9fVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxTcGVlZERpYWxcbiAgICAgICAgICAgICAgYXJpYUxhYmVsPVwiUHJldmlldyBxdWljayBhY3Rpb25zXCJcbiAgICAgICAgICAgICAgb3Blbj17c3BlZWREaWFsT3Blbn1cbiAgICAgICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U3BlZWREaWFsT3BlbihmYWxzZSl9XG4gICAgICAgICAgICAgIGljb249e1xuICAgICAgICAgICAgICAgIDxTcGVlZERpYWxJY29uXG4gICAgICAgICAgICAgICAgICBpY29uPXtcbiAgICAgICAgICAgICAgICAgICAgPFN2Z0ljb24gc3g9e3sgZm9udFNpemU6IDI4LCB3aWR0aDogMjgsIGhlaWdodDogMjggfX0gdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTEgNWgydjE0aC0yek01IDExaDE0djJINXpcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L1N2Z0ljb24+XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBvcGVuSWNvbj17PENsb3NlSWNvbjIgc3g9e3sgZm9udFNpemU6IDI4LCB3aWR0aDogMjgsIGhlaWdodDogMjggfX0gLz59XG4gICAgICAgICAgICAgICAgICBzeD17eyAnJiAuTXVpU3BlZWREaWFsSWNvbi1vcGVuSWNvbic6IHsgZm9udFNpemU6IDI4LCB3aWR0aDogMjgsIGhlaWdodDogMjggfSB9fVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgRmFiUHJvcHM9e3tcbiAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBzZXRTcGVlZERpYWxPcGVuKG8gPT4gIW8pLFxuICAgICAgICAgICAgICAgIHN4OiB7XG4gICAgICAgICAgICAgICAgICBiZ2NvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeSknLFxuICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICAgICcmOmhvdmVyJzogeyBiZ2NvbG9yOiAndmFyKC0tY29sb3ItcHJpbWFyeS1kYXJrKScsIGNvbG9yOiAnI2ZmZicgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPFNwZWVkRGlhbEFjdGlvblxuICAgICAgICAgICAgICAgIGtleT1cIm5ldy1lZG1cIlxuICAgICAgICAgICAgICAgIGljb249ezxBZGRJY29uIHN4PXt7IGZvbnRTaXplOiAyOCwgd2lkdGg6IDI4LCBoZWlnaHQ6IDI4IH19IC8+fVxuICAgICAgICAgICAgICAgIHRvb2x0aXBUaXRsZT1cIkJ1aWxkIE5ldyBFRE1cIlxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJCdWlsZCBOZXcgRURNXCJcbiAgICAgICAgICAgICAgICBGYWJQcm9wcz17e1xuICAgICAgICAgICAgICAgICAgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgYmdjb2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICAgICAgJyY6aG92ZXInOiB7IGJnY29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspJywgY29sb3I6ICcjZmZmJyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IHNldENvbmZpcm1OZXdPcGVuKHRydWUpOyBzZXRTcGVlZERpYWxPcGVuKGZhbHNlKTsgfX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPFNwZWVkRGlhbEFjdGlvblxuICAgICAgICAgICAgICAgIGtleT1cImRvd25sb2FkLWVkbVwiXG4gICAgICAgICAgICAgICAgaWNvbj17PERvd25sb2FkSWNvbiAvPn1cbiAgICAgICAgICAgICAgICB0b29sdGlwVGl0bGU9XCJEb3dubG9hZFwiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkRvd25sb2FkIEVETSBIVE1MXCJcbiAgICAgICAgICAgICAgICBGYWJQcm9wcz17e1xuICAgICAgICAgICAgICAgICAgc3g6IHtcbiAgICAgICAgICAgICAgICAgICAgYmdjb2xvcjogJ3ZhcigtLWNvbG9yLXByaW1hcnkpJyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmJyxcbiAgICAgICAgICAgICAgICAgICAgJyY6aG92ZXInOiB7IGJnY29sb3I6ICd2YXIoLS1jb2xvci1wcmltYXJ5LWRhcmspJywgY29sb3I6ICcjZmZmJyB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7IGRvd25sb2FkQXNGaWxlKCdlZG1fZXNwcmVzc28uaHRtbCcsIGZpbmFsSHRtbCk7IHNldFNwZWVkRGlhbE9wZW4oZmFsc2UpOyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9TcGVlZERpYWw+XG4gICAgICAgICAgPC9Cb3g+XG4gICAgICAgICl9XG5cbiAgICAgICAgey8qIFdpemFyZCBEaWFsb2cgcmVtb3ZlZDogY29udGVudCBtb3ZlZCB0byBwZXJzaXN0ZW50IHJpZ2h0IHN1bW1hcnkgcGFuZWwgKi99XG5cbiAgICAgICAgPFNuYWNrYmFyXG4gICAgICAgICAgb3Blbj17c25hY2tiYXJPcGVufVxuICAgICAgICAgIGF1dG9IaWRlRHVyYXRpb249ezMwMDB9XG4gICAgICAgICAgb25DbG9zZT17KCkgPT4gc2V0U25hY2tiYXJPcGVuKGZhbHNlKX1cbiAgICAgICAgICBtZXNzYWdlPXtzbmFja2Jhck1zZyBhcyBhbnl9XG4gICAgICAgICAgYW5jaG9yT3JpZ2luPXt7IHZlcnRpY2FsOiAnYm90dG9tJywgaG9yaXpvbnRhbDogJ2xlZnQnIH19XG4gICAgICAgIC8+XG5cbiAgICAgICAgey8qIENvbmZpcm0gcmVzZXQgZGlhbG9nICovfVxuICA8RGlhbG9nIG9wZW49e2NvbmZpcm1OZXdPcGVufSBvbkNsb3NlPXsoKSA9PiBzZXRDb25maXJtTmV3T3BlbihmYWxzZSl9IGFyaWEtbGFiZWxsZWRieT1cImNvbmZpcm0tbmV3LWVkbS10aXRsZVwiPlxuICAgICAgICAgIDxEaWFsb2dUaXRsZSBpZD1cImNvbmZpcm0tbmV3LWVkbS10aXRsZVwiPlN0YXJ0IGEgbmV3IEVETT88L0RpYWxvZ1RpdGxlPlxuICAgICAgICAgIDxEaWFsb2dDb250ZW50PlxuICAgICAgICAgICAgPFR5cG9ncmFwaHkgdmFyaWFudD1cImJvZHkyXCIgY29sb3I9XCJ0ZXh0LnNlY29uZGFyeVwiPlxuICAgICAgICAgICAgICBUaGlzIHdpbGwgY2xlYXIgeW91ciBjdXJyZW50IGRyYWZ0LCBVUkxzLCBhbmQgZ2VuZXJhdGVkIHNlY3Rpb25zLiBZb3UgY2Fu4oCZdCB1bmRvIHRoaXMgYWN0aW9uLlxuICAgICAgICAgICAgPC9UeXBvZ3JhcGh5PlxuICAgICAgICAgIDwvRGlhbG9nQ29udGVudD5cbiAgICAgICAgICA8RGlhbG9nQWN0aW9ucz5cbiAgICAgICAgICAgIDxCdXR0b24gb25DbGljaz17KCkgPT4gc2V0Q29uZmlybU5ld09wZW4oZmFsc2UpfT5DYW5jZWw8L0J1dHRvbj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgdmFyaWFudD1cImNvbnRhaW5lZFwiXG4gICAgICAgICAgICAgIGNvbG9yPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRDb25maXJtTmV3T3BlbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmVzZXRBbGxTdGF0ZSgpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBDb25maXJtIHJlc2V0XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L0RpYWxvZ0FjdGlvbnM+XG4gICAgICAgIDwvRGlhbG9nPlxuICAgICAgPC9kaXY+XG4gICAgPC8+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZUNhbGxiYWNrIiwidXNlTGl2ZUVkaXRhYmxlIiwiSGVhZCIsIlNlY3Rpb25BY2NvcmRpb24iLCJBcHBMYXlvdXQiLCJMYWJlbGVkU2VsZWN0IiwiU2tlbGV0b24iLCJTd2l0Y2giLCJGb3JtQ29udHJvbExhYmVsIiwiU25hY2tiYXIiLCJUeXBvZ3JhcGh5IiwiQm94IiwiU3RhY2siLCJDb2xsYXBzZSIsIk1lbnVJdGVtIiwiTWVudSIsIkxpc3RJdGVtSWNvbiIsIkxpc3RJdGVtVGV4dCIsIlRleHRGaWVsZCIsIkJ1dHRvbiIsIkljb25CdXR0b24iLCJEaXZpZGVyIiwiVGFicyIsIkRhdGFHcmlkIiwiVGFiIiwiQ2lyY3VsYXJQcm9ncmVzcyIsIlBhcGVyIiwiVG9vbHRpcCIsIk11aUNvbG9ySW5wdXQiLCJJbnB1dEFkb3JubWVudCIsIlN2Z0ljb24iLCJzdHlsZWQiLCJkZWZhdWx0VGVtcGxhdGVzIiwiZGVmYXVsdEJvZHlUZW1wbGF0ZXMiLCJyZW5kZXJUZW1wbGF0ZSIsImdyaWRSb3dDaHVua3MiLCJidWlsZEdyaWRSb3dzSHRtbCIsImRlZmF1bHRIZWFkZXJUZW1wbGF0ZXMiLCJkZWZhdWx0Rm9vdGVyVGVtcGxhdGVzIiwiZGVmYXVsdEhlcm9UZW1wbGF0ZXMiLCJkZWZhdWx0QmFubmVyVGVtcGxhdGVzIiwiUHJvZHVjdFRhYmxlTW9kdWxlIiwiSW1hZ2VTZWxlY3RvciIsIlJpY2hUZXh0RmllbGQiLCJIZXJvVGFibGVNb2R1bGUiLCJQYWRkaW5nQ29udHJvbHMiLCJ1bmlxdWVJbWFnZXMiLCJub3JtYWxpemVJbWFnZSIsInNhbml0aXplRW1haWxIdG1sIiwic2FuaXRpemVJbmxpbmVIdG1sIiwibm9ybWFsaXplTGlzdEh0bWwiLCJub3JtYWxpemVGb250Q29sb3JIdG1sIiwiaW5saW5lSHRtbFRvUGFyYWdyYXBoSHRtbCIsIkNvbnRlbnRDb3B5SWNvbiIsIkNvZGVJY29uIiwiVmlzaWJpbGl0eUljb24iLCJBZGRJY29uIiwiQ2xvc2VJY29uMiIsIlNhdmVJY29uIiwiRWRpdEljb24iLCJEZWxldGVJY29uIiwiRXhwYW5kTGVzc0ljb24iLCJFeHBhbmRNb3JlSWNvbiIsIkRyYWdJbmRpY2F0b3JJY29uIiwiT3BlbkluTmV3SWNvbiIsIk1vcmVWZXJ0SWNvbiIsIkFycm93VXB3YXJkSWNvbiIsIkFycm93RG93bndhcmRJY29uIiwiU3BlZWREaWFsIiwiU3BlZWREaWFsQWN0aW9uIiwiU3BlZWREaWFsSWNvbiIsIkRpYWxvZyIsIkRpYWxvZ1RpdGxlIiwiRGlhbG9nQ29udGVudCIsIkRpYWxvZ0FjdGlvbnMiLCJEb3dubG9hZEljb24iLCJEbmRDb250ZXh0IiwiY2xvc2VzdENlbnRlciIsIlBvaW50ZXJTZW5zb3IiLCJ1c2VTZW5zb3IiLCJ1c2VTZW5zb3JzIiwiYXJyYXlNb3ZlIiwiU29ydGFibGVDb250ZXh0IiwidmVydGljYWxMaXN0U29ydGluZ1N0cmF0ZWd5IiwidXNlU29ydGFibGUiLCJyZXN0cmljdFRvVmVydGljYWxBeGlzIiwiQ1NTIiwiSHRtbFRodW1ibmFpbCIsIlRvdWNoUmlwcGxlIiwic2FuaXRpemVVcmwiLCJ1cmwiLCJzcGxpdCIsImlzSHR0cFVybCIsInUiLCJVUkwiLCJwcm90b2NvbCIsIlNvcnRhYmxlVXJsUm93Iiwicm93SWQiLCJzZWN0aW9uSWQiLCJpbmRleCIsInZhbHVlIiwiaXNMYXN0IiwiY2FuUmVtb3ZlIiwib25DaGFuZ2UiLCJvbkZvY3VzSW5kZXgiLCJvbkJsdXJJbmRleCIsIm9uUmVtb3ZlSW5kZXgiLCJvbkFkZEFmdGVySW5kZXgiLCJvblN5bmNUb1BhcmVudCIsImNhcmV0UmVmIiwiYXR0cmlidXRlcyIsImxpc3RlbmVycyIsInNldE5vZGVSZWYiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uIiwiaWQiLCJzdHlsZSIsIlRyYW5zZm9ybSIsInRvU3RyaW5nIiwicmVmIiwic3giLCJtYiIsInBvc2l0aW9uIiwid2lkdGgiLCJvdmVyZmxvdyIsInR5cGUiLCJsYWJlbCIsImZ1bGxXaWR0aCIsImUiLCJ0YXJnZXQiLCJvbkZvY3VzIiwib25CbHVyIiwiSW5wdXRQcm9wcyIsInN0YXJ0QWRvcm5tZW50IiwidGl0bGUiLCJzaXplIiwiZWRnZSIsInRhYkluZGV4IiwiY3Vyc29yIiwiYXJpYS1sYWJlbCIsImFyaWEtZGVzY3JpYmVkYnkiLCJ1bmRlZmluZWQiLCJmb250U2l6ZSIsImVuZEFkb3JubWVudCIsIm9uQ2xpY2siLCJpbnB1dFByb3BzIiwidCIsImN1cnJlbnRUYXJnZXQiLCJjdXJyZW50Iiwic3RhcnQiLCJzZWxlY3Rpb25TdGFydCIsImxlbmd0aCIsImVuZCIsInNlbGVjdGlvbkVuZCIsIm9uS2V5VXAiLCJvblNlbGVjdCIsIm9uS2V5RG93biIsImN1cnIiLCJ2YWwiLCJ0cmltIiwia2V5IiwicHJldmVudERlZmF1bHQiLCJzZXRUaW1lb3V0IiwibmV4dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJmb2N1cyIsImJsdXIiLCJjbGVhbmVkIiwiYnRuIiwiY2xpY2siLCJzaGlmdEtleSIsInZhcmlhbnQiLCJib3JkZXJCb3R0b21Db2xvciIsIlByb2R1Y3RVcmxGaWVsZHNJbXBsIiwidXJscyIsIm9uVXJsQ2hhbmdlIiwib25BZGRGaWVsZCIsIm9uUmVtb3ZlRmllbGQiLCJhZGROb3RpZmljYXRpb24iLCJvblJlb3JkZXIiLCJsb2NhbFZhbHVlcyIsInNldExvY2FsVmFsdWVzIiwicHJldlVybHNSZWYiLCJmb2N1c2VkSW5kZXgiLCJzZXRGb2N1c2VkSW5kZXgiLCJ1cmxzQ2hhbmdlZCIsInNvbWUiLCJpIiwidXNlTGF5b3V0RWZmZWN0IiwiZWwiLCJjIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJ1cGRhdGVMb2NhbFZhbHVlIiwicHJldiIsInN5bmNUb1BhcmVudCIsInJhd1ZhbHVlIiwic291cmNlIiwic3BhbiIsImZvbnRXZWlnaHQiLCJzZW5zb3JzIiwicm93SWRzIiwic2V0Um93SWRzIiwibWFwIiwiXyIsInB1c2giLCJkaXYiLCJwYWRkaW5nUmlnaHQiLCJtdCIsImNvbGxpc2lvbkRldGVjdGlvbiIsIm9uRHJhZ0VuZCIsImFjdGl2ZSIsIm92ZXIiLCJvbGRJbmRleCIsImluZGV4T2YiLCJTdHJpbmciLCJuZXdJbmRleCIsIml0ZW1zIiwic3RyYXRlZ3kiLCJhcmVQcm9kdWN0VXJsRmllbGRzRXF1YWwiLCJQcm9kdWN0VXJsRmllbGRzIiwibWVtbyIsImRpc3BsYXlOYW1lIiwiYWx0ZXJuYXRlTWFwIiwiSG9tZSIsImJvZHlTZWN0aW9ucyIsImFuYWx5emVEYXRhIiwiVmlzdWFsbHlIaWRkZW5JbnB1dCIsImF1dG9HZW5UcmllZFJlZiIsImxhbmRpbmdJbnB1dFJlZiIsInBsYXRmb3JtVmlzaWJsZSIsInNldFBsYXRmb3JtVmlzaWJsZSIsImFkdmFuY2VkU2V0dGluZ3NPcGVuIiwic2V0QWR2YW5jZWRTZXR0aW5nc09wZW4iLCJpbWFnZVNlbGVjdG9yIiwic2V0SW1hZ2VTZWxlY3RvciIsIm9wZW5TZWN0aW9uIiwic2V0T3BlblNlY3Rpb24iLCJlbWFpbFNhZmUiLCJzZXRFbWFpbFNhZmUiLCJoYW5kbGVBY2NvcmRpb25Ub2dnbGUiLCJoYW5kbGVBZHZhbmNlZFRvZ2dsZSIsImlzQWR2YW5jZWRPcGVuIiwiQm9vbGVhbiIsInZpZXdNb2RlIiwic2V0Vmlld01vZGUiLCJzZXRCb2R5U2VjdGlvbnMiLCJkcmFmdFVybHMiLCJzZXREcmFmdFVybHMiLCJzZWxlY3RlZFByb2R1Y3RDdHgiLCJzZXRTZWxlY3RlZFByb2R1Y3RDdHgiLCJnZXREcmFmdFVybHMiLCJleGlzdGluZyIsInNlY3Rpb24iLCJmaW5kIiwicyIsInNob3dIZWFkZXJTZWN0aW9uIiwic2V0U2hvd0hlYWRlclNlY3Rpb24iLCJzaG93SGVyb1NlY3Rpb24iLCJzZXRTaG93SGVyb1NlY3Rpb24iLCJzaG93QmFubmVyU2VjdGlvbiIsInNldFNob3dCYW5uZXJTZWN0aW9uIiwic2hvd0Zvb3RlclNlY3Rpb24iLCJzZXRTaG93Rm9vdGVyU2VjdGlvbiIsInNlY3Rpb25PcmRlciIsInNldFNlY3Rpb25PcmRlciIsImZpbHRlcmVkIiwiZmlsdGVyIiwic3RhcnRzV2l0aCIsImRlc2lyZWQiLCJmb3JFYWNoIiwiaW5jbHVkZXMiLCJzcGxpY2UiLCJoYW5kbGVTZWN0aW9uRHJhZ0VuZCIsImV2ZW50Iiwic25hY2tiYXJPcGVuIiwic2V0U25hY2tiYXJPcGVuIiwic25hY2tiYXJNc2ciLCJzZXRTbmFja2Jhck1zZyIsIm1lc3NhZ2UiLCJtb3ZlU2VjdGlvblVwIiwic2VjdGlvbnMiLCJieUlkIiwiTWFwIiwib3JkZXJlZElkcyIsImsiLCJOdW1iZXIiLCJyZXBsYWNlIiwiZ2V0IiwibW92ZVNlY3Rpb25Eb3duIiwiY2xvbmVCb2R5U2VjdGlvbiIsInNyYyIsIm5ld0lkIiwicmVkdWNlIiwibSIsIk1hdGgiLCJtYXgiLCJ1cmxzQ2xvbmUiLCJwcm9kdWN0c0Nsb25lIiwicHJvZHVjdHMiLCJwIiwiY2xvbmVkIiwibmFtZSIsInNlbGVjdGVkQm9keUlkIiwibG9hZGluZyIsImZpbmRJbmRleCIsInNldEJvZHlTZWN0aW9uUGFkZGluZ3MiLCJwYWQiLCJzZXQiLCJwb3MiLCJpZHgiLCJtaW4iLCJNb3JlQWN0aW9ucyIsImFuY2hvckVsIiwic2V0QW5jaG9yRWwiLCJvcGVuIiwiY29tcG9uZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwib25DbG9zZSIsIml0IiwiZGlzYWJsZWQiLCJpY29uIiwiU29ydGFibGVCb2R5U2VjdGlvbiIsImlzT3BlbiIsIl9hcmlhRGVzY3JpYmVkQnkiLCJzb3J0YWJsZUF0dHJpYnV0ZXMiLCJoYW5kbGVQYWRkaW5nQ2hhbmdlIiwic2V0Qm9keVNlY3Rpb25QYWRkaW5nIiwiYm9yZGVyUmFkaXVzIiwiZXhwYW5kZWQiLCJvblRvZ2dsZSIsImFjdGlvbnMiLCJyZW1vdmVCb2R5U2VjdGlvbiIsImRldGFpbHNTeCIsInB0IiwiY2xhc3NOYW1lIiwiZGlzcGxheSIsImdhcCIsImFsaWduSXRlbXMiLCJtYXJnaW5Ub3AiLCJpZEJhc2UiLCJzZXRTZWN0aW9uVGVtcGxhdGUiLCJib2R5VGVtcGxhdGVzIiwidHBsIiwic2V0Qm9keUVkaXRNb2RlIiwidiIsImJvZHlFZGl0TW9kZSIsInNldFNob3dOZXdCb2R5Iiwic2hvd05ld0JvZHkiLCJkcmFmdEJvZHlIdG1sIiwic2V0RHJhZnRCb2R5SHRtbCIsInJvd3MiLCJtdWx0aWxpbmUiLCJmb250RmFtaWx5Iiwic2F2ZUJvZHlFZGl0cyIsIm5ld0JvZHlOYW1lIiwic2V0TmV3Qm9keU5hbWUiLCJuZXdCb2R5SHRtbCIsInNldE5ld0JvZHlIdG1sIiwiYWRkTmV3Qm9keVRlbXBsYXRlIiwiaGFuZGxlVXJsQ2hhbmdlIiwiYWRkVXJsRmllbGQiLCJyZW1vdmVVcmxGaWVsZCIsImFjdGl2ZUVsZW1lbnQiLCJIVE1MRWxlbWVudCIsIm5vZGVMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsInNvcnRlZCIsIm1hdGNoIiwiUmVnRXhwIiwicGFyc2VJbnQiLCJNQVhfU0FGRV9JTlRFR0VSIiwic29ydCIsImEiLCJiIiwidmFsdWVzUmF3IiwidmFsdWVzIiwiZ2VuZXJhdGVTZWN0aW9uIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJuZXh0SW5kZXgiLCJtbCIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwianVzdGlmeUNvbnRlbnQiLCJsaW5lSGVpZ2h0IiwiaGVpZ2h0IiwicGFkZGluZyIsImZpbGwiLCJlbmRJY29uIiwiYWxpZ25TZWxmIiwiaW4iLCJ0aW1lb3V0IiwidW5tb3VudE9uRXhpdCIsImdldEJvZHlTZWN0aW9uUGFkZGluZyIsInBlcnNpc3RLZXkiLCJhbGxaZXJvIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiY29udHJvbCIsImNoZWNrZWQiLCJhbHRlcm5hdGUiLCJNZW1vaXplZFNvcnRhYmxlQm9keVNlY3Rpb24iLCJTb3J0YWJsZUhlcm9TZWN0aW9uIiwicmVtb3ZlSGVyb1NlY3Rpb24iLCJoZXJvSW1hZ2UiLCJtYXJnaW5Cb3R0b20iLCJpbWciLCJhbHQiLCJoZXJvQWx0IiwiYm9yZGVyIiwic2VsZWN0ZWRIZXJvSWQiLCJzZXRTZWxlY3RlZEhlcm9JZCIsImhlcm9UZW1wbGF0ZXMiLCJzZXRIZXJvRWRpdE1vZGUiLCJoZXJvRWRpdE1vZGUiLCJzZXRTaG93TmV3SGVybyIsInNob3dOZXdIZXJvIiwiZHJhZnRIZXJvSHRtbCIsInNldERyYWZ0SGVyb0h0bWwiLCJzYXZlSGVyb0VkaXRzIiwiZGVmYXVsdFZhbHVlIiwiaGVyb0hyZWYiLCJzZXRIZXJvSHJlZiIsInNldEhlcm9BbHQiLCJuZXdIZXJvTmFtZSIsInNldE5ld0hlcm9OYW1lIiwibmV3SGVyb0h0bWwiLCJzZXROZXdIZXJvSHRtbCIsImFkZE5ld0hlcm9UZW1wbGF0ZSIsImhlcm9QYWRkaW5nIiwib25IZXJvUGFkZGluZ0NoYW5nZSIsIlNvcnRhYmxlQmFubmVyU2VjdGlvbiIsInJlbW92ZUJhbm5lclNlY3Rpb24iLCJiYW5uZXJJbWFnZSIsImJhbm5lckFsdCIsInNlbGVjdGVkQmFubmVySWQiLCJzZXRTZWxlY3RlZEJhbm5lcklkIiwiYmFubmVyVGVtcGxhdGVzIiwic2V0QmFubmVyRWRpdE1vZGUiLCJiYW5uZXJFZGl0TW9kZSIsInNldFNob3dOZXdCYW5uZXIiLCJzaG93TmV3QmFubmVyIiwiZHJhZnRCYW5uZXJIdG1sIiwic2V0RHJhZnRCYW5uZXJIdG1sIiwic2F2ZUJhbm5lckVkaXRzIiwibmV3QmFubmVyTmFtZSIsInNldE5ld0Jhbm5lck5hbWUiLCJuZXdCYW5uZXJIdG1sIiwic2V0TmV3QmFubmVySHRtbCIsImFkZE5ld0Jhbm5lclRlbXBsYXRlIiwiYmFubmVySHJlZiIsInNldEJhbm5lckhyZWYiLCJzZXRCYW5uZXJBbHQiLCJiYW5uZXJQYWRkaW5nIiwib25CYW5uZXJQYWRkaW5nQ2hhbmdlIiwiTWVtb2l6ZWRTb3J0YWJsZUhlcm9TZWN0aW9uIiwiTWVtb2l6ZWRTb3J0YWJsZUJhbm5lclNlY3Rpb24iLCJzZXRCb2R5VGVtcGxhdGVzIiwic2V0U2VsZWN0ZWRCb2R5SWQiLCJoZWFkZXJUZW1wbGF0ZXMiLCJzZXRIZWFkZXJUZW1wbGF0ZXMiLCJzZWxlY3RlZEhlYWRlcklkIiwic2V0U2VsZWN0ZWRIZWFkZXJJZCIsImhlYWRlckVkaXRNb2RlIiwic2V0SGVhZGVyRWRpdE1vZGUiLCJkcmFmdEhlYWRlckh0bWwiLCJzZXREcmFmdEhlYWRlckh0bWwiLCJuZXdIZWFkZXJOYW1lIiwic2V0TmV3SGVhZGVyTmFtZSIsIm5ld0hlYWRlckh0bWwiLCJzZXROZXdIZWFkZXJIdG1sIiwiZm9vdGVyVGVtcGxhdGVzIiwic2V0Rm9vdGVyVGVtcGxhdGVzIiwic2VsZWN0ZWRGb290ZXJJZCIsInNldFNlbGVjdGVkRm9vdGVySWQiLCJmb290ZXJFZGl0TW9kZSIsInNldEZvb3RlckVkaXRNb2RlIiwiZHJhZnRGb290ZXJIdG1sIiwic2V0RHJhZnRGb290ZXJIdG1sIiwibmV3Rm9vdGVyTmFtZSIsInNldE5ld0Zvb3Rlck5hbWUiLCJuZXdGb290ZXJIdG1sIiwic2V0TmV3Rm9vdGVySHRtbCIsInNob3dOZXdIZWFkZXIiLCJzZXRTaG93TmV3SGVhZGVyIiwic2hvd05ld0Zvb3RlciIsInNldFNob3dOZXdGb290ZXIiLCJzdW1tYXJ5VGFiIiwic2V0U3VtbWFyeVRhYiIsImNvbGxlY3Rpb25JdGVtcyIsInNldENvbGxlY3Rpb25JdGVtcyIsImNvbGxlY3Rpb25Mb2FkaW5nIiwic2V0Q29sbGVjdGlvbkxvYWRpbmciLCJjb2xsZWN0aW9uU2VsZWN0aW9uIiwic2V0Q29sbGVjdGlvblNlbGVjdGlvbiIsImxhc3RDb2xsZWN0aW9uU2VsZWN0aW9uUmVmIiwiY29sbGVjdGlvblF1ZXJ5Iiwic2V0Q29sbGVjdGlvblF1ZXJ5IiwiY29sbGVjdGlvbkVucmljaGluZyIsInNldENvbGxlY3Rpb25FbnJpY2hpbmciLCJyZWNlbnRseUFkZGVkIiwic2V0UmVjZW50bHlBZGRlZCIsInJlY2VudGx5VXBkYXRlZCIsInNldFJlY2VudGx5VXBkYXRlZCIsImNvbGxlY3Rpb24iLCJvbmx5SW5kZXgiLCJjYW5jZWxsZWQiLCJhdHRlbXB0cyIsInRyeUxvY2F0ZSIsInF1ZXJ5U2VsZWN0b3IiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidmgiLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsImZ1bGx5VmlzaWJsZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsImRpc2Nvbm5lY3QiLCJ0aHJlc2hvbGQiLCJvYnNlcnZlIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwidGltZXIiLCJjbGVhclRpbWVvdXQiLCJjb2xsZWN0aW9uRGVib3VuY2VSZWYiLCJwcm9kdWN0Q2FjaGVSZWYiLCJzZWxlY3Rpb25WZXJzaW9uUmVmIiwic2VsZWN0aW9uQWJvcnRSZWYiLCJmb3JtYXRDb2xsZWN0aW9uUHJpY2UiLCJyYXciLCJjb2RlIiwidGVzdCIsInJhd051bWVyaWMiLCJkaWdpdHMiLCJoYWREb3QiLCJoYWRDb21tYSIsImxhc3RJbmRleE9mIiwiYW1vdW50IiwicGFyc2VGbG9hdCIsImlzRmluaXRlIiwiSW50bCIsIk51bWJlckZvcm1hdCIsImN1cnJlbmN5IiwiZm9ybWF0IiwiaGVhZGVySHRtbCIsInNldEhlYWRlckh0bWwiLCJib2R5SHRtbCIsInNldEJvZHlIdG1sIiwiZm9vdGVySHRtbCIsInNldEZvb3Rlckh0bWwiLCJmaW5hbEh0bWwiLCJzZXRGaW5hbEh0bWwiLCJzaG93QWRkU2VjdGlvbk1lbnUiLCJzZXRTaG93QWRkU2VjdGlvbk1lbnUiLCJhZGRTZWN0aW9uUmVmIiwicHJldmlld1JlZiIsImNvbmZpcm1OZXdPcGVuIiwic2V0Q29uZmlybU5ld09wZW4iLCJzcGVlZERpYWxPcGVuIiwic2V0U3BlZWREaWFsT3BlbiIsInByZXZpZXdNb2RlIiwic2V0UHJldmlld01vZGUiLCJzYXZlZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiY29udGFpbnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNob3dCcmFuZFBhbmVsIiwic2V0U2hvd0JyYW5kUGFuZWwiLCJza2VsQW5pbSIsImJyYW5kTmFtZSIsInNldEJyYW5kTmFtZSIsInByb2dyZXNzIiwic2V0UHJvZ3Jlc3MiLCJidWZmZXIiLCJzZXRCdWZmZXIiLCJzZXRMb2FkaW5nIiwiZGVib3VuY2VkTG9hZGluZyIsInNldERlYm91bmNlZExvYWRpbmciLCJicmFuZEZvbnQiLCJzZXRCcmFuZEZvbnQiLCJicmFuZFByaW1hcnkiLCJzZXRCcmFuZFByaW1hcnkiLCJicmFuZFNlY29uZGFyeSIsInNldEJyYW5kU2Vjb25kYXJ5IiwiYnJhbmRXZWJzaXRlIiwic2V0QnJhbmRXZWJzaXRlIiwiZGV0ZWN0ZWRQYWdlVHlwZSIsInNldERldGVjdGVkUGFnZVR5cGUiLCJoZWFkZXJQYWRkaW5nIiwic2V0SGVhZGVyUGFkZGluZyIsInNldEhlcm9QYWRkaW5nIiwic2V0QmFubmVyUGFkZGluZyIsImZvb3RlclBhZGRpbmciLCJzZXRGb290ZXJQYWRkaW5nIiwiYm9keVNlY3Rpb25QYWRkaW5ncyIsInNob3dCcmFuZFVybERpYWxvZyIsInNldFNob3dCcmFuZFVybERpYWxvZyIsImJyYW5kVXJsSW5wdXQiLCJzZXRCcmFuZFVybElucHV0IiwiZXh0cmFjdEJhc2VEb21haW4iLCJvcmlnaW4iLCJleHRyYWN0QnJhbmROYW1lIiwiaG9zdCIsImhvc3RuYW1lIiwicGFydHMiLCJkZXRlY3RQYWdlSW5mbyIsImRhdGEiLCJwYXRoIiwicGF0aG5hbWUiLCJ0b0xvd2VyQ2FzZSIsImRldGVjdG9ycyIsInByb2R1Y3QiLCJzdWJsaW5lIiwiZm4iLCJyZXMiLCJicmFuZExvZ28iLCJzZXRCcmFuZExvZ28iLCJzZXRBbmFseXplRGF0YSIsImluaXRpYWxTdW1tYXJ5Iiwic2V0SW5pdGlhbFN1bW1hcnkiLCJicmFuZEFubm91bmNlbWVudCIsInNldEJyYW5kQW5ub3VuY2VtZW50IiwiYnJhbmRUZXh0Q29sb3IiLCJzZXRCcmFuZFRleHRDb2xvciIsImluZm8iLCJmZXRjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9rIiwiRXJyb3IiLCJzdGF0dXMiLCJqc29uIiwicHJpY2UiLCJpbWFnZSIsImFib3J0Iiwib3BlbkNvZGVTZWN0aW9ucyIsInNldE9wZW5Db2RlU2VjdGlvbnMiLCJ0b2dnbGVDb2RlU2VjdGlvbiIsImhhbmRsZUJyYW5kVXJsU3VibWl0IiwiYmFzZSIsImVycm9yIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsInNldEJyYW5kTG9nb0RhdGFVcmwiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiY29udGFpbnNJblByZXZpZXciLCJub2RlIiwic2hvd0xpbmtOb3RpZmljYXRpb24iLCJldnQiLCJhbmNob3IiLCJocmVmIiwiZ2V0QXR0cmlidXRlIiwiX2xpbmtOb3RpZmllZCIsInJlbCIsInNlY3Rpb25FbCIsImNsb3Nlc3QiLCJvbkNsaWNrQ2FwdHVyZSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm9uQXV4Q2xpY2tDYXB0dXJlIiwib25LZXlEb3duQ2FwdHVyZSIsInRhZ05hbWUiLCJhcHBseUJyYW5kQ29sb3Vyc0FuZEZvbnQiLCJodG1sIiwib3V0IiwicmVnZXgiLCJhcHBseUJyYW5kTG9nbyIsImJyYW5kTG9nb0RhdGFVcmwiLCJhcHBseUFubm91bmNlbWVudENvcHkiLCJtYXJrZXIiLCJhZnRlciIsInNsaWNlIiwidGRTdGFydCIsInRkT3BlbkVuZCIsInRkQ2xvc2UiLCJ0ZE9wZW5UYWciLCJkZXNpcmVkSGV4IiwibmV3VGRPcGVuIiwiaGFzU3R5bGUiLCJzZXAiLCJlbmRzV2l0aCIsImJlZm9yZUhlYWQiLCJiZWZvcmVUZCIsImFmdGVyUGFydCIsImFubkh0bWwiLCJhcHBseVdyYXBwZXJQYWRkaW5nIiwicHIiLCJfbSIsInAxIiwic3R5bGVTdHIiLCJwMyIsIm5ld1N0eWxlIiwid3JhcFNlY3Rpb25XaXRoV3JhcHBlciIsImlubmVySHRtbCIsImlzUHJvZHVjdFNlY3Rpb24iLCJlZmZlY3RpdmVQYWRkaW5nIiwiY2xzIiwic3RyaXBNb2R1bGVXcmFwcGVyIiwicmUiLCJzZXRIZXJvVGVtcGxhdGVzIiwic2V0SGVyb0ltYWdlIiwiaGVyb0h0bWwiLCJzZXRIZXJvSHRtbCIsImhlcm9JbWFnZXMiLCJzZXRIZXJvSW1hZ2VzIiwic2V0QmFubmVyVGVtcGxhdGVzIiwic2V0QmFubmVySW1hZ2UiLCJzaG93QmFubmVyU2VsZWN0b3IiLCJzZXRTaG93QmFubmVyU2VsZWN0b3IiLCJiYW5uZXJIdG1sIiwic2V0QmFubmVySHRtbCIsImZldGNoSGVyb0ZvckJyYW5kIiwiaGVyb1JlcyIsImhlcm9EYXRhIiwiaW1hZ2VzIiwiaXNBcnJheSIsInN0b3JlTmFtZSIsImZldGNoQmFubmVyRm9yQnJhbmQiLCJ1cGRhdGVIZXJvIiwiZmllbGQiLCJkZXRlY3RlZCIsImZvbnRGYW1pbGllcyIsIm5lZWRzUXVvdGUiLCJjc3MiLCJhbm5vdW5jZW1lbnRDb3B5IiwibG9nbyIsInN0b3JlZCIsImRlYm91bmNlTXMiLCJjb250ZW50ZWRpdGFibGUiLCJzcGVsbGNoZWNrIiwiYW5uRWRpdGluZ1JlZiIsIm9uRm9jdXNJbiIsIm9uRm9jdXNPdXQiLCJhbm5SaXBwbGVSZWYiLCJzdGFydEFublJpcHBsZSIsInN0b3BBbm5SaXBwbGUiLCJzdG9wIiwiZm9vdGVyUmlwcGxlUmVmIiwiaGFuZGxlRm9vdGVyUmlwcGxlTW91c2VEb3duIiwiaGFuZGxlRm9vdGVyUmlwcGxlTW91c2VVcCIsImhhbmRsZUZvb3RlclJpcHBsZU1vdXNlTGVhdmUiLCJvbkRvd24iLCJvblVwIiwib25MZWF2ZSIsIm9uRW50ZXIiLCJvcGFjaXR5IiwiZmlyc3QiLCJiYW5uZXJJbWFnZXMiLCJhZGRCb2R5U2VjdGlvbiIsIm5leHRJZCIsIm5ld1NlY3Rpb24iLCJhcnIiLCJuZXdLZXkiLCJiYW5uZXJJZHgiLCJyZW1vdmVIZWFkZXJTZWN0aW9uIiwicmVtb3ZlRm9vdGVyU2VjdGlvbiIsInJlbW92ZWRTZWN0aW9uIiwiYWRkU2VjdGlvbkJ5VHlwZSIsInRlbXBsYXRlSWQiLCJsaXN0IiwiSlNPTiIsInBhcnNlIiwidXBkYXRlZCIsInN0cmluZ2lmeSIsIkRhdGUiLCJub3ciLCJuZXdUcGwiLCJzdG9yZWRIZXJvIiwicGFyc2VkIiwiaGVhZGVyU3RyIiwiaXNBbm5Gb2N1c2VkIiwiaGVhZGVyVGVtcGxhdGUiLCJoZXJvU3RyIiwiaGVyb1RlbXBsYXRlIiwiYm9keUh0bWxNYXAiLCJzZWN0aW9uSHRtbCIsInJvd3NIdG1sIiwiY2VsbFBhZCIsInBlclJvdyIsImVmZmVjdGl2ZVBhZCIsImdyaWRJbm5lciIsInByb2QiLCJ0ZW1wbGF0ZUlkVG9Vc2UiLCJyYXdTYWxlIiwicmF3T3JpZ2luYWwiLCJvcmlnaW5hbFByaWNlIiwid2l0aERvbGxhciIsInNhbGVQcmljZSIsInByaWNlSHRtbCIsInByb2REZXNjU291cmNlIiwiZGVzY1NvdXJjZSIsImNob3NlbkRlc2NyaXB0aW9uIiwiZGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvblAiLCJkZXNjcmlwdGlvblVsIiwibWV0YSIsIm1ldGFkYXRhRGVzY3JpcHRpb24iLCJvcmlnaW5hbE1ldGFkYXRhRGVzY3JpcHRpb24iLCJkcyIsImRlc2NGb3JUZW1wbGF0ZSIsInByb2R1Y3REYXRhIiwiY3RhTGFiZWwiLCJjdGFCZyIsImN0YVRleHQiLCJlZmZlY3RpdmVUcGwiLCJpc0Jhc2VMZWZ0IiwiYWx0SWQiLCJhbHRUcGwiLCJtb2R1bGVIdG1sUmF3IiwidG9wUGFkIiwibW9kdWxlSHRtbCIsInJhd1VsIiwicHJvY2Vzc2VkVWwiLCJ1bEh0bWwiLCJiYW5uZXJTdHIiLCJiYW5uZXJUZW1wbGF0ZSIsImZvb3RlclN0ciIsImZvb3RlclRlbXBsYXRlIiwib3JkZXJlZEh0bWwiLCJqb2luIiwiY29tYmluZWQiLCJwcmlzbVJlZiIsInByaXNtTG9hZGVkIiwic2V0UHJpc21Mb2FkZWQiLCJQcmlzbU1vZHVsZSIsImRlZmF1bHQiLCJjb2RlU2VjdGlvbnMiLCJjb21iaW5lZEh0bWwiLCJwcm9kRGVzY1NvdXJjZTIiLCJjaG9zZW5EZXNjMiIsIm1ldGEyIiwic3RvcmVkQm9keSIsInBhcnNlZEJvZHkiLCJzdG9yZWRIZWFkZXIiLCJwYXJzZWRIZWFkZXIiLCJzdG9yZWRGb290ZXIiLCJwYXJzZWRGb290ZXIiLCJhbGwiLCJzZWVuIiwiU2V0IiwiaGFzIiwic3RvcmVkQmFubmVyIiwicGFyc2VkQmFubmVyIiwiY3VycmVudEJvZHkiLCJjdXJyZW50SGVhZGVyIiwiY3VycmVudEJhbm5lciIsImN1cnJlbnRGb290ZXIiLCJjdXJyZW50SGVybyIsImZvY3VzSW5kZXgiLCJzYXZlSGVhZGVyRWRpdHMiLCJzYXZlRm9vdGVyRWRpdHMiLCJuZXdUZW1wbGF0ZSIsImFkZE5ld0hlYWRlclRlbXBsYXRlIiwiYWRkTmV3Rm9vdGVyVGVtcGxhdGUiLCJ1cmxzT3ZlcnJpZGUiLCJzb3VyY2VVcmxzIiwiYWxlcnQiLCJpbnZhbGlkIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJkZXRhaWxzIiwidGV4dCIsInByb2R1Y3RNYXAiLCJoYXNJbmZvIiwiT2JqZWN0Iiwia2V5cyIsImJhZFVybCIsIl9zb3VyY2VVcmwiLCJwcmltYXJ5SW1hZ2UiLCJhbGxJbWFnZXMiLCJ4IiwicHJldGl0bGUiLCJjdGEiLCJwcm9jZXNzZWQiLCJ1cmxSYXciLCJtaXNzaW5nVXJscyIsImxvZyIsInJlc2V0QWxsU3RhdGUiLCJnZW5lcmF0ZUFsbFNlY3Rpb25zIiwidXBkYXRlUHJvZHVjdEluU2VjdGlvbiIsIm5leHRWYWx1ZSIsInJlcXVpcmUiLCJuZXdQcm9kdWN0cyIsImQiLCJ0cyIsImNoYW5nZWQiLCJkZXNjQ2hvaWNlIiwibnAiLCJjb3B5VG9DbGlwYm9hcmQiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJ0aGVuIiwiY2F0Y2giLCJkb3dubG9hZEFzRmlsZSIsImZpbGVuYW1lIiwiY29udGVudCIsImJsb2IiLCJCbG9iIiwiY3JlYXRlT2JqZWN0VVJMIiwiY3JlYXRlRWxlbWVudCIsImRvd25sb2FkIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmVDaGlsZCIsInJldm9rZU9iamVjdFVSTCIsImhpZ2hsaWdodCIsIlByaXNtIiwibGFuZ3VhZ2VzIiwibWFya3VwIiwiYXZhaWxhYmxlU2VjdGlvblR5cGVzIiwiZnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImZvcm0iLCJvblN1Ym1pdCIsImgxIiwic3BhY2luZyIsImlucHV0UmVmIiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsImF1dG9Db21wbGV0ZSIsImZsZXhEaXJlY3Rpb24iLCJyb3dHYXAiLCJiYWNrZ3JvdW5kIiwiYW5pbWF0aW9uIiwiZmxleFdyYXAiLCJib3JkZXJDb2xvciIsImFjdGl2ZVRwbCIsImZvcmNlQXV0b0hlaWdodCIsInNlbGVjdCIsIklucHV0TGFiZWxQcm9wcyIsIlNlbGVjdFByb3BzIiwibGFiZWxJZCIsIm1vZGlmaWVycyIsIm1hcmdpbkxlZnQiLCJlbGV2YXRpb24iLCJ6SW5kZXgiLCJtaW5XaWR0aCIsIm1heEhlaWdodCIsIm92ZXJmbG93WSIsIm9wdCIsInB4IiwicmlnaHRPcGVuIiwib25SaWdodENsb3NlIiwib25SaWdodFRvZ2dsZSIsIm15Iiwicm93SGVpZ2h0Iiwib3V0bGluZSIsInIiLCJjb2x1bW5zIiwiaGVhZGVyTmFtZSIsInNvcnRhYmxlIiwicmVuZGVyQ2VsbCIsInBhcmFtcyIsIm9iamVjdEZpdCIsImZsZXgiLCJmb3JtYXR0ZWQiLCJ3aGl0ZVNwYWNlIiwiY2hlY2tib3hTZWxlY3Rpb24iLCJzbG90UHJvcHMiLCJiYXNlQ2hlY2tib3giLCJkaXNhYmxlUm93U2VsZWN0aW9uT25DbGljayIsIm9uUm93U2VsZWN0aW9uTW9kZWxDaGFuZ2UiLCJtb2RlbCIsInNlbCIsInByZXZTZWwiLCJuZXdseUFkZGVkIiwicmVtb3ZlZCIsInZlcnNpb24iLCJhYyIsIkFib3J0Q29udHJvbGxlciIsInNlbGVjdGVkIiwicHJvbWlzZXMiLCJyb3ciLCJjYWNoZWQiLCJyZXNwIiwic2lnbmFsIiwicGQiLCJyZXN1bHRzIiwiUHJvbWlzZSIsImFsbFNldHRsZWQiLCJwcm9kcyIsIm5ld0NvbGxlY3Rpb25TZWN0aW9uSWQiLCJ0YXJnZXRJZCIsInRhcmdldFJvdyIsInByZXZJZHgiLCJyb3dTZWxlY3Rpb25Nb2RlbCIsInNpIiwibWluSGVpZ2h0IiwiZHNSaWdodCIsIm5ld0h0bWwiLCJzZWMiLCJ0ZXh0QWxpZ24iLCJkYXRhLXByb2R1Y3QtY2VsbCIsIm9mZnNldFdpZHRoIiwibWFyZ2luIiwiYm94U2hhZG93IiwiZGlyZWN0aW9uIiwibG9nb1N2ZyIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwicm9sZSIsInN0YXJ0SWNvbiIsInN2ZyIsInhtbG5zIiwidmlld0JveCIsInN0cm9rZVdpZHRoIiwic3Ryb2tlIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwiYWNjZXB0IiwiZmlsZSIsImZpbGVzIiwiZiIsImJ1dHRvbiIsImFyaWEtcHJlc3NlZCIsImFyaWEtaGlkZGVuIiwib3ZlcmZsb3dYIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iLCJwb2ludGVyRXZlbnRzIiwiZGF0YS1wcmV2aWV3LWNvbnRhaW5lciIsIm14IiwiY29udGFpbmVyVHlwZSIsImNvbnRhaW5lck5hbWUiLCJ0ZXh0RGVjb3JhdGlvbiIsInRleHRVbmRlcmxpbmVPZmZzZXQiLCJ3b3JkQnJlYWsiLCJ0ZXh0RGVjb3JhdGlvblRoaWNrbmVzcyIsIm91dGxpbmVDb2xvciIsIm91dGxpbmVPZmZzZXQiLCJtYXhXaWR0aCIsImRhdGEtc2VjdGlvbiIsImluc2V0IiwiY2VudGVyIiwib25BY3RpdmF0ZSIsIndyYXBwZXJQYWRkaW5nIiwidGFibGUiLCJjZWxsUGFkZGluZyIsImNlbGxTcGFjaW5nIiwiYWxpZ24iLCJ0Ym9keSIsInRyIiwidGQiLCJvbk1vdXNlRW50ZXIiLCJlZGl0SWNvbiIsIm9uTW91c2VMZWF2ZSIsInByZXZpZXdQYW5lbCIsImltZ3MiLCJhbmNob3JSZWN0Iiwic2tlbGV0b25TeCIsImJhc2VJbmRleCIsInJvd0lkeCIsImNvbENvdW50IiwicGVyY2VudCIsImNlbGxzIiwiaW5uZXJJZHgiLCJnbG9iYWxJZHgiLCJ2YWxpZ24iLCJwcm9kdWN0SWR4IiwiY2VsbCIsIkZyYWdtZW50IiwibWFpblBhbmVsIiwib3JpZW50YXRpb24iLCJkc1ByZXYiLCJ0b3RhbCIsImZlYXR1cmVUZW1wbGF0ZSIsInVwZGF0ZVByb2R1Y3QiLCJvblByb2R1Y3RGaWVsZENsaWNrIiwib3ZlcmxheUNvbnRhaW5lclJlZiIsIm9uQ2hhbmdlRGVzY1NvdXJjZSIsIm9uTW91c2VEb3duIiwib25Nb3VzZVVwIiwic3F1YXJlIiwiYmdjb2xvciIsInB5IiwiYm9yZGVyQm90dG9tIiwib3ZlcmZsb3dXcmFwIiwiYm9yZGVyTGVmdCIsInRoZW1lIiwidG9vbHRpcCIsImFyaWFMYWJlbCIsIm9wZW5JY29uIiwiRmFiUHJvcHMiLCJvIiwidG9vbHRpcFRpdGxlIiwiYXV0b0hpZGVEdXJhdGlvbiIsImFuY2hvck9yaWdpbiIsInZlcnRpY2FsIiwiaG9yaXpvbnRhbCIsImFyaWEtbGFiZWxsZWRieSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/index.tsx\n"));

/***/ })

});